/*! For license information please see main.400da938.js.LICENSE.txt */
(()=>{var e={2409:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=2409,e.exports=t},7043:e=>{function t(){}e.exports=function(e,n,r){var i=!1;return r=r||t,o.count=e,0===e?n():o;function o(e,t){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,n(e),n=r):0!==o.count||i||n(null,t)}}},3871:e=>{function t(){}e.exports=t,e.exports.HttpsAgent=t},2546:e=>{e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},9439:e=>{function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},383:(e,t)=>{!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<64;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<l;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[c++]=r<<2|i>>4,d[c++]=(15&i)<<4|o>>2,d[c++]=(3&o)<<6|63&a;return u}}()},8557:(e,t,n)=>{"use strict";var r=n(2726);function i(){var e={},t=0,n=0,r=0;return{add:function(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++},process:function(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++){(0,i[o])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),o=r.getOption(e,"auto",!0);o&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=i(),l=!1;function c(){for(l=!0;s.size();){var e=s;s=i(),e.process()}l=!1}function u(){a=function(e){return t=e,setTimeout(t,0);var t}(c)}return{add:function(e,t){!l&&o&&n&&0===s.size()&&u(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?u():c())}}}},2726:e=>{"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if((void 0===r||null===r)&&void 0!==n)return n;return r}},966:e=>{var t="undefined"!==typeof t?t:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=t&&t.prototype.append&&t.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function a(e,n){n=n||{};var r=new t;return o(e).forEach((function(e){r.append(e)})),n.type?r.getBlob(n.type):r.getBlob()}function s(e,t){return new Blob(o(e),t||{})}"undefined"!==typeof Blob&&(a.prototype=Blob.prototype,s.prototype=Blob.prototype),e.exports=n?r?Blob:s:i?a:void 0},3587:e=>{var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=t.call(arguments,2);return function(){return n.apply(e,r.concat(t.call(arguments)))}}},4095:e=>{function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},6116:e=>{e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},3249:e=>{e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},3960:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(5484)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},5484:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,a=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!s.enabled)return;const o=s,a=Number(new Date),l=a-(n||a);o.diff=l,o.prev=n,o.curr=a,n=a,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,((e,n)=>{if("%%"===e)return"%";c++;const i=t.formatters[n];if("function"===typeof i){const t=r[c];e=i.call(o,t),r.splice(c,1),c--}return e})),t.formatArgs.call(o,r);(o.log||t.log).apply(o,r)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"===typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7113),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},2481:e=>{"use strict";var t=e.exports={};t.isIE=function(e){return!!function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}()&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:undefined}())},t.isLegacyOpera=function(){return!!window.opera}},2251:e=>{"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},8274:(e,t,n)=>{"use strict";var r=n(2481);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return i(e).object}return{makeDetectable:function(e,a,s){s||(s=a,a=e,e=null),(e=e||{}).debug,r.isIE(8)?s(a):function(a,s){var l=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),c=!1,u=window.getComputedStyle(a),d=a.offsetWidth,h=a.offsetHeight;function f(){function n(){if("static"===u.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,i){var o=r[i];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(t.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",n),n.style.setProperty(i,"0",e.important?"important":""))};n(t,a,u,"top"),n(t,a,u,"right"),n(t,a,u,"bottom"),n(t,a,u,"left")}}""!==u.position&&(n(),c=!0);var o=document.createElement("object");o.style.cssText=l,o.tabIndex=-1,o.type="text/html",o.setAttribute("aria-hidden","true"),o.onload=function(){c||n(),function e(t,n){if(!t.contentDocument){var r=i(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){s(a)}))},r.isIE()||(o.data="about:blank"),i(a)&&(a.appendChild(o),i(a).object=o,r.isIE()&&(o.data="about:blank"))}i(a).startSize={width:d,height:h},n?n.add(f):f()}(a,s)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))i(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=a(e);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(i(e)){var t=a(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),i(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(e).checkForObjectDocumentTimeoutId),delete i(e).object)}}}}},7840:(e,t,n)=>{"use strict";var r=n(2251).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,i=e.stateHandler.getState,o=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=500,t=500,n=document.createElement("div");n.style.cssText=c(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var r=document.createElement("div");r.style.cssText=c(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),r.appendChild(n),document.body.insertBefore(r,document.body.firstChild);var i=e-r.clientWidth,o=t-r.clientHeight;return document.body.removeChild(r),{width:i,height:o}}(),s="erd_scroll_detection_container";function l(e){!function(e,t,n){function r(n,r){r=r||function(t){e.head.appendChild(t)};var i=e.createElement("style");return i.innerHTML=n,i.id=t,r(i),i}if(!e.getElementById(t)){var i=n+"_animation",o=n+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+n+" > div::-webkit-scrollbar { "+c(["display: none"])+" }\n\n",a+="."+o+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+i,"animation-name: "+i])+" }\n",a+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",r(a+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style",s)}function c(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function u(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function d(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function h(e){return i(e).container.childNodes[0].childNodes[0].childNodes[0]}function f(e){return i(e).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(e,l,d){function p(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(o.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function m(e){var t=i(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function g(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function v(){if(p("storeStyle invoked."),i(l)){var e=g();i(l).style=e}else p("Aborting because element has been uninstalled")}function y(e,t,n){i(e).lastWidth=t,i(e).lastHeight=n}function b(){return 2*a.width+1}function E(){return 2*a.height+1}function w(e){return e+10+b()}function C(e){return e+10+E()}function S(e,t,n){var r=h(e),i=f(e),o=w(t),a=C(n),s=function(e){return 2*e+b()}(t),l=function(e){return 2*e+E()}(n);r.scrollLeft=o,r.scrollTop=a,i.scrollLeft=s,i.scrollTop=l}function T(){var e=i(l).container;if(!e){(e=document.createElement("div")).className=s,e.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(l).container=e,function(e){e.className+=" "+s+"_animation_active"}(e),l.appendChild(e);var t=function(){i(l).onRendered&&i(l).onRendered()};u(e,"animationstart",t),i(l).onAnimationStart=t}return e}function _(){if(p("Injecting elements"),i(l)){!function(){var n=i(l).style;if("static"===n.position){l.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var i=n[r];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(e.warn("An element that is positioned static has style."+r+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,l,n,"top"),r(t,l,n,"right"),r(t,l,n,"bottom"),r(t,l,n,"left")}}();var n=i(l).container;n||(n=T());var r,o,d,h,f=a.width,m=a.height,g=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),v=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+f))?r+"px":"0"),"top: "+(o=(o=-(1+m))?o+"px":"0"),"right: "+(h=(h=-f)?h+"px":"0"),"bottom: "+(d=(d=-m)?d+"px":"0")])),y=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),E=c(["position: absolute","left: 0","top: 0"]),w=c(["position: absolute","width: 200%","height: 200%"]),C=document.createElement("div"),S=document.createElement("div"),_=document.createElement("div"),k=document.createElement("div"),x=document.createElement("div"),A=document.createElement("div");C.dir="ltr",C.style.cssText=g,C.className=s,S.className=s,S.style.cssText=v,_.style.cssText=y,k.style.cssText=E,x.style.cssText=b,A.style.cssText=w,_.appendChild(k),x.appendChild(A),S.appendChild(_),S.appendChild(x),C.appendChild(S),n.appendChild(C),u(_,"scroll",I),u(x,"scroll",M),i(l).onExpandScroll=I,i(l).onShrinkScroll=M}else p("Aborting because element has been uninstalled");function I(){var e=i(l);e&&e.onExpand?e.onExpand():p("Aborting expand scroll handler: element has been uninstalled")}function M(){var e=i(l);e&&e.onShrink?e.onShrink():p("Aborting shrink scroll handler: element has been uninstalled")}}function k(){function a(t,n,r){var i=function(e){return h(e).childNodes[0]}(t),o=w(n),a=C(r);i.style.setProperty("width",o+"px",e.important?"important":""),i.style.setProperty("height",a+"px",e.important?"important":"")}function s(r){var s=l.offsetWidth,u=l.offsetHeight,d=s!==i(l).lastWidth||u!==i(l).lastHeight;p("Storing current size",s,u),y(l,s,u),n.add(0,(function(){if(d)if(i(l))if(c()){if(e.debug){var n=l.offsetWidth,r=l.offsetHeight;n===s&&r===u||t.warn(o.get(l),"Scroll: Size changed before updating detector elements.")}a(l,s,u)}else p("Aborting because element container has not been initialized");else p("Aborting because element has been uninstalled")})),n.add(1,(function(){i(l)?c()?S(l,s,u):p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")})),d&&r&&n.add(2,(function(){i(l)?c()?r():p("Aborting because element container has not been initialized"):p("Aborting because element has been uninstalled")}))}function c(){return!!i(l).container}function u(){p("notifyListenersIfNeeded invoked");var e=i(l);return void 0===i(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?p("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?p("Not notifying: Size already notified"):(p("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(i(l).listeners,(function(e){e(l)})))}function d(){p("Scroll detected."),m(l)?p("Scroll event fired while unrendered. Ignoring..."):s(u)}if(p("registerListenersAndPositionElements invoked."),i(l)){i(l).onRendered=function(){if(p("startanimation triggered."),m(l))p("Ignoring since element is still unrendered...");else{p("Element rendered.");var e=h(l),t=f(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(p("Scrollbars out of sync. Updating detector elements..."),s(u))}},i(l).onExpand=d,i(l).onShrink=d;var g=i(l).style;a(l,g.width,g.height)}else p("Aborting because element has been uninstalled")}function x(){if(p("finalizeDomMutation invoked."),i(l)){var e=i(l).style;y(l,e.width,e.height),S(l,e.width,e.height)}else p("Aborting because element has been uninstalled")}function A(){d(l)}function I(){p("Installing..."),i(l).listeners=[],function(){var e=g();i(l).startSize={width:e.width,height:e.height},p("Element start size",i(l).startSize)}(),n.add(0,v),n.add(1,_),n.add(2,k),n.add(3,x),n.add(4,A)}d||(d=l,l=e,e=null),e=e||{},p("Making detectable..."),!function(e){return!function(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}(e)||null===window.getComputedStyle(e)}(l)?I():(p("Element is detached"),T(),p("Waiting until element is attached..."),i(l).onRendered=function(){p("Element is now attached"),I()})},addListener:function(e,t){if(!i(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");i(e).listeners.push(t)},uninstall:function(e){var t=i(e);t&&(t.onExpandScroll&&d(h(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&d(f(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&d(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:l}}},8687:(e,t,n)=>{"use strict";var r=n(2251).forEach,i=n(4958),o=n(9464),a=n(787),s=n(3130),l=n(1098),c=n(2481),u=n(8557),d=n(8134),h=n(8274),f=n(7840);function p(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function g(e){return e&&1===e.nodeType}function v(e,t,n){var r=e[t];return void 0!==r&&null!==r||void 0===n?r:n}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),y=s({idGenerator:n,stateHandler:d});t=y}var b=e.reporter;b||(b=l(!1===b));var E=v(e,"batchProcessor",u({reporter:b})),w={};w.callOnAdd=!!v(e,"callOnAdd",!0),w.debug=!!v(e,"debug",!1);var C,S=o(t),T=i({stateHandler:d}),_=v(e,"strategy","object"),k=v(e,"important",!1),x={reporter:b,batchProcessor:E,stateHandler:d,idHandler:t,important:k};if("scroll"===_&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),_="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),_="object")),"scroll"===_)C=f(x);else{if("object"!==_)throw new Error("Invalid strategy name: "+_);C=h(x)}var A={};return{listenTo:function(e,n,i){function o(e){var t=S.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){S.add(t,n),e&&n(t)}if(i||(i=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!i)throw new Error("Listener required.");if(g(n))n=[n];else{if(!p(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var s=0,l=v(e,"callOnAdd",w.callOnAdd),c=v(e,"onReady",(function(){})),u=v(e,"debug",w.debug);r(n,(function(e){d.getState(e)||(d.initState(e),t.set(e));var h=t.get(e);if(u&&b.log("Attaching listener to element",h,e),!T.isDetectable(e))return u&&b.log(h,"Not detectable."),T.isBusy(e)?(u&&b.log(h,"System busy making it detectable"),a(l,e,i),A[h]=A[h]||[],void A[h].push((function(){++s===n.length&&c()}))):(u&&b.log(h,"Making detectable..."),T.markBusy(e,!0),C.makeDetectable({debug:u,important:k},e,(function(e){if(u&&b.log(h,"onElementDetectable"),d.getState(e)){T.markAsDetectable(e),T.markBusy(e,!1),C.addListener(e,o),a(l,e,i);var t=d.getState(e);if(t&&t.startSize){var f=e.offsetWidth,p=e.offsetHeight;t.startSize.width===f&&t.startSize.height===p||o(e)}A[h]&&r(A[h],(function(e){e()}))}else u&&b.log(h,"Element uninstalled before being detectable.");delete A[h],++s===n.length&&c()})));u&&b.log(h,"Already detecable, adding listener."),a(l,e,i),s++})),s===n.length&&c()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(g(e))e=[e];else{if(!p(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,(function(e){S.removeAllListeners(e),C.uninstall(e),d.cleanState(e)}))},initDocument:function(e){C.initDocument&&C.initDocument(e)}}}},4958:e=>{"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},787:e=>{"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},3130:e=>{"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}}}},9464:e=>{"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)},removeListener:function(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},1098:e=>{"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},8134:e=>{"use strict";var t="_erd";function n(e){return e[t]}e.exports={initState:function(e){return e[t]={},n(e)},getState:n,cleanState:function(e){delete e[t]}}},9243:(e,t,n)=>{e.exports=n(8186),e.exports.parser=n(1607)},8186:(e,t,n)=>{var r=n(6754),i=n(4095),o=n(9716)("engine.io-client:socket"),a=n(1575),s=n(1607),l=n(1442),c=n(4639);function u(e,t){if(!(this instanceof u))return new u(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=u,u.priorWebsocketSuccess=!1,i(u.prototype),u.protocol=s.protocol,u.Socket=u,u.Transport=n(4716),u.transports=n(6754),u.parser=n(1607),u.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},u.prototype.open=function(){var e;if(this.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},u.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},u.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;u.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),h(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,h(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function l(){s("transport closed")}function c(){s("socket closed")}function d(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function h(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",l),r.removeListener("close",c),r.removeListener("upgrading",d)}u.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",l),this.once("close",c),this.once("upgrading",d),t.open()},u.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},u.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},u.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},u.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},u.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},u.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},u.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},u.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},u.prototype.write=u.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},u.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},u.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},u.prototype.onError=function(e){o("socket error %j",e),u.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},u.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},u.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},4716:(e,t,n)=>{var r=n(1607),i=n(4095);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},6754:(e,t,n)=>{var r=n(8707),i=n(9888),o=n(3671),a=n(5595);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,l=location.port;l||(l=s?443:80),t=e.hostname!==location.hostname||l!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},3671:(e,t,n)=>{var r=n(2740),i=n(6116);e.exports=u;var o,a=/\n/g,s=/\\n/g;function l(){}function c(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}function u(e){if(r.call(this,e),this.query=this.query||{},!o){var t=c();o=t.___eio=t.___eio||[]}this.index=o.length;var n=this;o.push((function(e){n.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=l)}),!1)}i(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=l,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(s,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}},9888:(e,t,n)=>{var r=n(8707),i=n(2740),o=n(4095),a=n(6116),s=n(9716)("engine.io-client:polling-xhr");function l(){}function c(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=c,e.exports.Request=u,a(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},c.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError(t.status)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!==typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",h);else if("function"===typeof addEventListener){var d="onpagehide"in self?"pagehide":"unload";addEventListener(d,h,!1)}function h(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},2740:(e,t,n)=>{var r=n(4716),i=n(4639),o=n(1607),a=n(6116),s=n(8767),l=n(9716)("engine.io-client:polling");e.exports=u;var c=null!=new(n(8707))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){l("pre-pause polling complete"),--r||n()}))),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){l("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;l("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},5595:(e,t,n)=>{var r,i,o=n(4716),a=n(1607),s=n(4639),l=n(6116),c=n(8767),u=n(9716)("engine.io-client:websocket");if("undefined"!==typeof WebSocket)r=WebSocket;else if("undefined"!==typeof self)r=self.WebSocket||self.MozWebSocket;else try{i=n(1240)}catch(f){}var d=r||i;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),o.call(this,e)}e.exports=h,l(h,o),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){a.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),t.perMessageDeflate)("string"===typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(f){u("websocket closed before onclose event")}--n||o()}))}(e[r]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},h.prototype.onClose=function(){o.prototype.onClose.call(this)},h.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},h.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===h.prototype.name)}},8707:(e,t,n)=>{var r=n(1225);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!==typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},9716:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(4028)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},4028:(e,t,n)=>{function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var o=a[l];n=i.call(e,o),a.splice(l,1),l--}return n})),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7174),t.instances=[],t.names=[],t.skips=[],t.formatters={}},7174:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return s.long?a(l=e,i,"day")||a(l,r,"hour")||a(l,n,"minute")||a(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1607:(e,t,n)=>{var r,i=n(6880),o=n(6008),a=n(2546),s=n(7043),l=n(445);"undefined"!==typeof ArrayBuffer&&(r=n(383));var c="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=c||u;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=i(h),p={type:"error",data:"parser error"},m=n(966);function g(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(e,n,r,i){"function"===typeof n&&(i=n,n=!1),"function"===typeof r&&(i=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=h[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(e,n,i);if("undefined"!==typeof m&&o instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=h[e.type];var o=new m([i.buffer,e.data]);return r(o)}(e,n,i);if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var a=h[e.type];return void 0!==e.data&&(a+=r?l.encode(String(e.data),{strict:!1}):String(e.data)),i(""+a)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(c){for(var a=new Uint8Array(e.data),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a[l];r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return p;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=l.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return p;var i=e.charAt(0);return Number(i)==i&&f[i]?e.length>1?{type:f[i],data:e.substring(1)}:{type:f[i]}:p}i=new Uint8Array(e)[0];var o=a(e,1);return m&&"blob"===n&&(o=new m([o])),{type:f[i],data:o}},t.decodeBase64Packet=function(e,t){var n=f[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"===typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"===typeof n&&(r=n,n=null),""===e)return r(p,0,1);for(var o,a,s="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"===u){if(""===s||s!=(o=Number(s)))return r(p,0,1);if(s!=(a=e.substr(l+1,o)).length)return r(p,0,1);if(a.length){if(i=t.decodePacket(a,n,!1),p.type===i.type&&p.data===i.data)return r(p,0,1);if(!1===r(i,l+o,c))return}l+=o,s=""}else s+=u}return""!==s?r(p,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),l=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return r(p,0,1);c+=s[u]}i=a(i,2+c.length),c=parseInt(c);var d=a(i,0,c);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var h=new Uint8Array(d);d="";for(u=0;u<h.length;u++)d+=String.fromCharCode(h[u])}o.push(d),i=a(i,c)}var f=o.length;o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,f)}))}},6880:e=>{e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},445:e=>{var t,n,r,i=String.fromCharCode;function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function s(e,t){return i(e>>t&63|128)}function l(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=i(e>>12&15|224),n+=s(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=s(e,12),n+=s(e,6)),n+=i(63&e|128)}function c(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(e){var i,o;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(i=255&t[r],r++,0==(128&i))return i;if(192==(224&i)){if((o=(31&i)<<6|c())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&i)){if((o=(15&i)<<12|c()<<6|c())>=2048)return a(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&i)&&(o=(7&i)<<18|c()<<12|c()<<6|c())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=o(e),i=r.length,a=-1,s="";++a<i;)s+=l(r[a],n);return s},decode:function(e,a){var s=!1!==(a=a||{}).strict;t=o(e),n=t.length,r=0;for(var l,c=[];!1!==(l=u(s));)c.push(l);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(c)}}},6154:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t="array",n="bits",r="byte",i="bytes",o="",a="exponent",s="function",l="iec",c="Invalid number",u="Invalid rounding method",d="jedec",h="object",f=".",p="round",m="kbit",g="string",v={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function y(y){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=b.bits,w=void 0!==E&&E,C=b.pad,S=void 0!==C&&C,T=b.base,_=void 0===T?-1:T,k=b.round,x=void 0===k?2:k,A=b.locale,I=void 0===A?o:A,M=b.localeOptions,R=void 0===M?{}:M,L=b.separator,D=void 0===L?o:L,O=b.spacer,P=void 0===O?" ":O,N=b.symbols,F=void 0===N?{}:N,j=b.standard,B=void 0===j?o:j,U=b.output,z=void 0===U?g:U,H=b.fullform,V=void 0!==H&&H,q=b.fullforms,G=void 0===q?[]:q,W=b.exponent,K=void 0===W?-1:W,Y=b.roundingMethod,Q=void 0===Y?p:Y,Z=b.precision,$=void 0===Z?0:Z,X=K,J=Number(y),ee=[],te=0,ne=o;-1===_&&0===B.length?(_=10,B=d):-1===_&&B.length>0?_=(B=B===l?l:d)===l?2:10:B=10===(_=2===_?2:10)||B===d?d:l;var re=10===_?1e3:1024,ie=!0===V,oe=J<0,ae=Math[Q];if(isNaN(y))throw new TypeError(c);if(e(ae)!==s)throw new TypeError(u);if(oe&&(J=-J),(-1===X||isNaN(X))&&(X=Math.floor(Math.log(J)/Math.log(re)))<0&&(X=0),X>8&&($>0&&($+=8-X),X=8),z===a)return X;if(0===J)ee[0]=0,ne=ee[1]=v.symbol[B][w?n:i][X];else{te=J/(2===_?Math.pow(2,10*X):Math.pow(1e3,X)),w&&(te*=8)>=re&&X<8&&(te/=re,X++);var se=Math.pow(10,X>0?x:0);ee[0]=ae(te*se)/se,ee[0]===re&&X<8&&-1===K&&(ee[0]=1,X++),ne=ee[1]=10===_&&1===X?w?m:"kB":v.symbol[B][w?n:i][X]}if(oe&&(ee[0]=-ee[0]),$>0&&(ee[0]=ee[0].toPrecision($)),ee[1]=F[ee[1]]||ee[1],!0===I?ee[0]=ee[0].toLocaleString():I.length>0?ee[0]=ee[0].toLocaleString(I,R):D.length>0&&(ee[0]=ee[0].toString().replace(f,D)),S&&!1===Number.isInteger(ee[0])&&x>0){var le=D||f,ce=ee[0].toString().split(le),ue=ce[1]||o,de=ue.length,he=x-de;ee[0]="".concat(ce[0]).concat(le).concat(ue.padEnd(de+he,"0"))}return ie&&(ee[1]=G[X]?G[X]:v.fullform[B][X]+(w?"bit":r)+(1===ee[0]?o:"s")),z===t?ee:z===h?{value:ee[0],symbol:ee[1],exponent:X,unit:ne}:ee.join(P)}return y.partial=function(e){return function(t){return y(t,e)}},y}()},6008:(e,t,n)=>{var r=n(6085),i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(t){if(!t||"object"!==typeof t)return!1;if(r(t)){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if("function"===typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"===typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return!0;return!1}},6085:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},1225:e=>{try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},7325:(e,t,n)=>{"use strict";var r=n(158),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},1575:e=>{var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1}},4617:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},439:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},6879:(e,t,n)=>{var r=n(3249);e.exports=function(e){var t=r(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var i=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),n=parseFloat(t,10),i?e.style.lineHeight=i:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var o=e.nodeName,a=document.createElement(o);a.innerHTML="&nbsp;","TEXTAREA"===o.toUpperCase()&&a.setAttribute("rows","1");var s=r(e,"font-size");a.style.fontSize=s,a.style.padding="0px",a.style.border="0px";var l=document.body;l.appendChild(a),n=a.offsetHeight,l.removeChild(a)}return n}},2738:(e,t,n)=>{var r=n(7870)(n(4441),"DataView");e.exports=r},6722:(e,t,n)=>{var r=n(1402),i=n(3349),o=n(5549),a=n(5248),s=n(4267);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},1826:(e,t,n)=>{var r=n(4217),i=n(4282),o=n(5469),a=n(9531),s=n(5327);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},6217:(e,t,n)=>{var r=n(7870)(n(4441),"Map");e.exports=r},9854:(e,t,n)=>{var r=n(9486),i=n(1077),o=n(1934),a=n(6202),s=n(2760);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},1936:(e,t,n)=>{var r=n(7870)(n(4441),"Promise");e.exports=r},3938:(e,t,n)=>{var r=n(7870)(n(4441),"Set");e.exports=r},5994:(e,t,n)=>{var r=n(1826),i=n(8109),o=n(3505),a=n(1562),s=n(8575),l=n(9156);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},2276:(e,t,n)=>{var r=n(4441).Symbol;e.exports=r},4453:(e,t,n)=>{var r=n(4441).Uint8Array;e.exports=r},4274:(e,t,n)=>{var r=n(7870)(n(4441),"WeakMap");e.exports=r},2417:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(1534),i=n(5371),o=n(1052),a=n(6272),s=n(1365),l=n(1173),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3227:(e,t,n)=>{var r=n(7735),i=n(4915);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},7967:(e,t,n)=>{var r=n(7735),i=n(4915),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},4829:(e,t,n)=>{var r=n(4915);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7735:(e,t,n)=>{var r=n(5034);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},2132:(e,t,n)=>{var r=n(2079),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1383:(e,t,n)=>{var r=n(3600)();e.exports=r},5314:(e,t,n)=>{var r=n(2276),i=n(3413),o=n(4681),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},2461:(e,t,n)=>{var r=n(5314),i=n(722);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},7256:(e,t,n)=>{var r=n(2827),i=n(3995),o=n(2079),a=n(651),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},4904:(e,t,n)=>{var r=n(5314),i=n(209),o=n(722),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},8465:(e,t,n)=>{var r=n(7410),i=n(583),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},131:(e,t,n)=>{var r=n(2079),i=n(7410),o=n(8931),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},2518:(e,t,n)=>{var r=n(5994),i=n(3227),o=n(1383),a=n(6919),s=n(2079),l=n(364),c=n(7666);e.exports=function e(t,n,u,d,h){t!==n&&o(n,(function(o,l){if(h||(h=new r),s(o))a(t,n,l,u,e,d,h);else{var f=d?d(c(t,l),o,l+"",t,n,h):void 0;void 0===f&&(f=o),i(t,l,f)}}),l)}},6919:(e,t,n)=>{var r=n(3227),i=n(1556),o=n(8010),a=n(3753),s=n(584),l=n(5371),c=n(1052),u=n(2814),d=n(6272),h=n(2827),f=n(2079),p=n(6343),m=n(1173),g=n(7666),v=n(6720);e.exports=function(e,t,n,y,b,E,w){var C=g(e,n),S=g(t,n),T=w.get(S);if(T)r(e,n,T);else{var _=E?E(C,S,n+"",e,t,w):void 0,k=void 0===_;if(k){var x=c(S),A=!x&&d(S),I=!x&&!A&&m(S);_=S,x||A||I?c(C)?_=C:u(C)?_=a(C):A?(k=!1,_=i(S,!0)):I?(k=!1,_=o(S,!0)):_=[]:p(S)||l(S)?(_=C,l(C)?_=v(C):f(C)&&!h(C)||(_=s(S))):k=!1}k&&(w.set(S,_),b(_,S,y,E,w),w.delete(S)),r(e,n,_)}}},7333:(e,t,n)=>{var r=n(1775),i=n(7957),o=n(2511);e.exports=function(e,t){return o(i(e,t,r),e+"")}},3561:(e,t,n)=>{var r=n(1492),i=n(5034),o=n(1775),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},1534:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1399:e=>{e.exports=function(e){return function(t){return e(t)}}},7922:(e,t,n)=>{var r=n(4453);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1556:(e,t,n)=>{e=n.nmd(e);var r=n(4441),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},8010:(e,t,n)=>{var r=n(7922);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3753:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},6028:(e,t,n)=>{var r=n(7967),i=n(7735);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},772:(e,t,n)=>{var r=n(4441)["__core-js_shared__"];e.exports=r},7484:(e,t,n)=>{var r=n(7333),i=n(6128);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},3600:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5034:(e,t,n)=>{var r=n(7870),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},1709:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},226:(e,t,n)=>{var r=n(1047);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7870:(e,t,n)=>{var r=n(7256),i=n(343);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},5016:(e,t,n)=>{var r=n(6209)(Object.getPrototypeOf,Object);e.exports=r},3413:(e,t,n)=>{var r=n(2276),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},3417:(e,t,n)=>{var r=n(2738),i=n(6217),o=n(1936),a=n(3938),s=n(4274),l=n(5314),c=n(651),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),E=l;(r&&E(new r(new ArrayBuffer(1)))!=p||i&&E(new i)!=u||o&&E(o.resolve())!=d||a&&E(new a)!=h||s&&E(new s)!=f)&&(E=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return d;case y:return h;case b:return f}return t}),e.exports=E},343:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1402:(e,t,n)=>{var r=n(617);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3349:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5549:(e,t,n)=>{var r=n(617),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},5248:(e,t,n)=>{var r=n(617),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},4267:(e,t,n)=>{var r=n(617);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},584:(e,t,n)=>{var r=n(2132),i=n(5016),o=n(7410);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},1365:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6128:(e,t,n)=>{var r=n(4915),i=n(7004),o=n(1365),a=n(2079);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},1047:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},3995:(e,t,n)=>{var r=n(772),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7410:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},4217:e=>{e.exports=function(){this.__data__=[],this.size=0}},4282:(e,t,n)=>{var r=n(4829),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},5469:(e,t,n)=>{var r=n(4829);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},9531:(e,t,n)=>{var r=n(4829);e.exports=function(e){return r(this.__data__,e)>-1}},5327:(e,t,n)=>{var r=n(4829);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},9486:(e,t,n)=>{var r=n(6722),i=n(1826),o=n(6217);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1077:(e,t,n)=>{var r=n(226);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},1934:(e,t,n)=>{var r=n(226);e.exports=function(e){return r(this,e).get(e)}},6202:(e,t,n)=>{var r=n(226);e.exports=function(e){return r(this,e).has(e)}},2760:(e,t,n)=>{var r=n(226);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},617:(e,t,n)=>{var r=n(7870)(Object,"create");e.exports=r},583:(e,t,n)=>{var r=n(6209)(Object.keys,Object);e.exports=r},8931:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},282:(e,t,n)=>{e=n.nmd(e);var r=n(1709),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},4681:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6209:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},7957:(e,t,n)=>{var r=n(2417),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},4441:(e,t,n)=>{var r=n(1709),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},7666:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},2511:(e,t,n)=>{var r=n(3561),i=n(5916)(r);e.exports=i},5916:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},8109:(e,t,n)=>{var r=n(1826);e.exports=function(){this.__data__=new r,this.size=0}},3505:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1562:e=>{e.exports=function(e){return this.__data__.get(e)}},8575:e=>{e.exports=function(e){return this.__data__.has(e)}},9156:(e,t,n)=>{var r=n(1826),i=n(6217),o=n(9854);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},651:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},1492:e=>{e.exports=function(e){return function(){return e}}},4915:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},1775:e=>{e.exports=function(e){return e}},5371:(e,t,n)=>{var r=n(2461),i=n(722),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1052:e=>{var t=Array.isArray;e.exports=t},7004:(e,t,n)=>{var r=n(2827),i=n(209);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},2814:(e,t,n)=>{var r=n(7004),i=n(722);e.exports=function(e){return i(e)&&r(e)}},6272:(e,t,n)=>{e=n.nmd(e);var r=n(4441),i=n(4201),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},9738:(e,t,n)=>{var r=n(8465),i=n(3417),o=n(5371),a=n(1052),s=n(7004),l=n(6272),c=n(7410),u=n(1173),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},2827:(e,t,n)=>{var r=n(5314),i=n(2079);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},209:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},2079:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},722:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6343:(e,t,n)=>{var r=n(5314),i=n(5016),o=n(722),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},1173:(e,t,n)=>{var r=n(4904),i=n(1399),o=n(282),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},364:(e,t,n)=>{var r=n(1268),i=n(131),o=n(7004);e.exports=function(e){return o(e)?r(e,!0):i(e)}},7841:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",E="[object Boolean]",w="[object Date]",C="[object Error]",S="[object Function]",T="[object GeneratorFunction]",_="[object Map]",k="[object Number]",x="[object Object]",A="[object Promise]",I="[object RegExp]",M="[object Set]",R="[object String]",L="[object Symbol]",D="[object WeakMap]",O="[object ArrayBuffer]",P="[object DataView]",N="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",H="[object Uint8ClampedArray]",V="[object Uint16Array]",q="[object Uint32Array]",G=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,Z=RegExp(Y.source),$=RegExp(Q.source),X=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,Ee=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['\u2019]",Le="["+Te+"]",De="["+Me+"]",Oe="["+_e+"]",Pe="\\d+",Ne="["+ke+"]",Fe="["+xe+"]",je="[^"+Te+Me+Pe+ke+xe+Ae+"]",Be="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Te+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ae+"]",qe="\\u200d",Ge="(?:"+Fe+"|"+je+")",We="(?:"+Ve+"|"+je+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qe="(?:"+Oe+"|"+Be+")"+"?",Ze="["+Ie+"]?",$e=Ze+Qe+("(?:"+qe+"(?:"+[Ue,ze,He].join("|")+")"+Ze+Qe+")*"),Xe="(?:"+[Ne,ze,He].join("|")+")"+$e,Je="(?:"+[Ue+Oe+"?",Oe,ze,He,Le].join("|")+")",et=RegExp(Re,"g"),tt=RegExp(Oe,"g"),nt=RegExp(Be+"(?="+Be+")|"+Je+$e,"g"),rt=RegExp([Ve+"?"+Fe+"+"+Ke+"(?="+[De,Ve,"$"].join("|")+")",We+"+"+Ye+"(?="+[De,Ve+Ge,"$"].join("|")+")",Ve+"?"+Ge+"+"+Ke,Ve+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Xe].join("|"),"g"),it=RegExp("["+qe+Te+_e+Ie+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[N]=lt[F]=lt[j]=lt[B]=lt[U]=lt[z]=lt[H]=lt[V]=lt[q]=!0,lt[y]=lt[b]=lt[O]=lt[E]=lt[P]=lt[w]=lt[C]=lt[S]=lt[_]=lt[k]=lt[x]=lt[I]=lt[M]=lt[R]=lt[D]=!1;var ct={};ct[y]=ct[b]=ct[O]=ct[P]=ct[E]=ct[w]=ct[N]=ct[F]=ct[j]=ct[B]=ct[U]=ct[_]=ct[k]=ct[x]=ct[I]=ct[M]=ct[R]=ct[L]=ct[z]=ct[H]=ct[V]=ct[q]=!0,ct[C]=ct[S]=ct[D]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&ft.process,Et=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=Et&&Et.isArrayBuffer,Ct=Et&&Et.isDate,St=Et&&Et.isMap,Tt=Et&&Et.isRegExp,_t=Et&&Et.isSet,kt=Et&&Et.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Mt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Dt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function jt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Kt("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ht(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ht(e,Gt,n)}function qt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Gt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:m}function Kt(e){return function(t){return null==t?i:t[e]}}function Yt(e){return function(t){return null==e?i:e[t]}}function Qt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Zt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Pt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var on=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,at))).Array,r=t.Date,se=t.Error,Te=t.Function,_e=t.Math,ke=t.Object,xe=t.RegExp,Ae=t.String,Ie=t.TypeError,Me=n.prototype,Re=Te.prototype,Le=ke.prototype,De=t["__core-js_shared__"],Oe=Re.toString,Pe=Le.hasOwnProperty,Ne=0,Fe=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Le.toString,Be=Oe.call(ke),Ue=mt._,ze=xe("^"+Oe.call(Pe).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=yt?t.Buffer:i,Ve=t.Symbol,qe=t.Uint8Array,Ge=He?He.allocUnsafe:i,We=un(ke.getPrototypeOf,ke),Ke=ke.create,Ye=Le.propertyIsEnumerable,Qe=Me.splice,Ze=Ve?Ve.isConcatSpreadable:i,$e=Ve?Ve.iterator:i,Xe=Ve?Ve.toStringTag:i,Je=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,it=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=_e.ceil,pt=_e.floor,gt=ke.getOwnPropertySymbols,vt=He?He.isBuffer:i,bt=t.isFinite,Et=Me.join,Ut=un(ke.keys,ke),Yt=_e.max,bn=_e.min,En=r.now,wn=t.parseInt,Cn=_e.random,Sn=Me.reverse,Tn=ho(t,"DataView"),_n=ho(t,"Map"),kn=ho(t,"Promise"),xn=ho(t,"Set"),An=ho(t,"WeakMap"),In=ho(ke,"create"),Mn=An&&new An,Rn={},Ln=jo(Tn),Dn=jo(_n),On=jo(kn),Pn=jo(xn),Nn=jo(An),Fn=Ve?Ve.prototype:i,jn=Fn?Fn.valueOf:i,Bn=Fn?Fn.toString:i;function Un(e){if(ts(e)&&!qa(e)&&!(e instanceof qn)){if(e instanceof Vn)return e;if(Pe.call(e,"__wrapped__"))return Bo(e)}return new Vn(e)}var zn=function(){function e(){}return function(t){if(!es(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Hn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Zn(e,t){var n=qa(e),r=!n&&Va(e),i=!n&&!r&&Ya(e),o=!n&&!r&&!i&&cs(e),a=n||r||i||o,s=a?$t(e.length,Ae):[],l=s.length;for(var c in e)!t&&!Pe.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||s.push(c);return s}function $n(e){var t=e.length;return t?e[Yr(0,t-1)]:i}function Xn(e,t){return Po(Ii(e),sr(t,0,e.length))}function Jn(e){return Po(Ii(e))}function er(e,t,n){(n!==i&&!Ua(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Pe.call(e,t)&&Ua(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Mi(t,Rs(t),e)}function or(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:ks(e,t[r]);return a}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!es(e))return e;var d=qa(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Pe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ii(e,s)}else{var h=mo(e),f=h==S||h==T;if(Ya(e))return Si(e,l);if(h==x||h==y||f&&!o){if(s=c||f?{}:vo(e),!l)return c?function(e,t){return Mi(e,po(e),t)}(e,function(e,t){return e&&Mi(t,Ls(t),e)}(s,e)):function(e,t){return Mi(e,fo(e),t)}(e,ir(s,e))}else{if(!ct[h])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case O:return Ti(e);case E:case w:return new r(+e);case P:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case F:case j:case B:case U:case z:case H:case V:case q:return _i(e,n);case _:return new r;case k:case R:return new r(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new r;case L:return i=e,jn?ke(jn.call(i)):{}}var i}(e,h,l)}}a||(a=new Qn);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):ns(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var m=d?i:(u?c?io:ro:c?Ls:Rs)(e);return It(m||e,(function(r,i){m&&(r=e[i=r]),tr(s,i,lr(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ie(o);return Ro((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,o=Dt,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Pt(t,Jt(n))),r?(o=Ot,a=!1):t.length>=200&&(o=tn,a=!1,t=new Yn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}Un.templateSettings={escape:X,evaluate:J,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Hn.prototype,Un.prototype.constructor=Un,Vn.prototype=zn(Hn.prototype),Vn.prototype.constructor=Vn,qn.prototype=zn(Hn.prototype),qn.prototype.constructor=qn,Gn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===a?i:n}return Pe.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Pe.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?a:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return nr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(_n||Wn),string:new Gn}},Kn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return co(this,e).get(e)},Kn.prototype.has=function(e){return co(this,e).has(e)},Kn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,a),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!_n||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=Di(Er),fr=Di(wr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(l===i?s===s&&!ls(s):n(s,l)))var l=s,c=a}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):Nt(i,s):r||(i[i.length]=s)}return i}var yr=Oi(),br=Oi(!0);function Er(e,t){return e&&yr(e,t,Rs)}function wr(e,t){return e&&br(e,t,Rs)}function Cr(e,t){return Lt(t,(function(t){return $a(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Tr(e,t,n){var r=t(e);return qa(e)?r:Nt(r,n(e))}function _r(e){return null==e?e===i?"[object Undefined]":"[object Null]":Xe&&Xe in ke(e)?function(e){var t=Pe.call(e,Xe),n=e[Xe];try{e[Xe]=i;var r=!0}catch(a){}var o=je.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return o}(e):function(e){return je.call(e)}(e)}function kr(e,t){return e>t}function xr(e,t){return null!=e&&Pe.call(e,t)}function Ar(e,t){return null!=e&&t in ke(e)}function Ir(e,t,r){for(var o=r?Ot:Dt,a=e[0].length,s=e.length,l=s,c=n(s),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Pt(h,Jt(t))),u=bn(h.length,u),c[l]=!r&&(t||a>=120&&h.length>=120)?new Yn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<a&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):o(d,g,r))){for(l=s;--l;){var v=c[l];if(!(v?tn(v,g):o(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Mr(e,t,n){var r=null==(e=Ao(e,t=bi(t,e)))?e:e[Fo(Zo(t))];return null==r?i:xt(r,e,n)}function Rr(e){return ts(e)&&_r(e)==y}function Lr(e,t,n,r,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=qa(e),l=qa(t),c=s?b:mo(e),u=l?b:mo(t),d=(c=c==y?x:c)==x,h=(u=u==y?x:u)==x,f=c==u;if(f&&Ya(e)){if(!Ya(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new Qn),s||cs(e)?to(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case E:case w:case k:return Ua(+e,+t);case C:return e.name==t.name&&e.message==t.message;case I:case R:return e==t+"";case _:var s=cn;case M:var l=1&r;if(s||(s=hn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=to(s(e),s(t),r,i,o,a);return a.delete(e),u;case L:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var p=d&&Pe.call(e,"__wrapped__"),m=h&&Pe.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return a||(a=new Qn),o(g,v,n,r,a)}}if(!f)return!1;return a||(a=new Qn),function(e,t,n,r,o,a){var s=1&n,l=ro(e),c=l.length,u=ro(t),d=u.length;if(c!=d&&!s)return!1;var h=c;for(;h--;){var f=l[h];if(!(s?f in t:Pe.call(t,f)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var v=s;for(;++h<c;){var y=e[f=l[h]],b=t[f];if(r)var E=s?r(b,y,f,t,e,a):r(y,b,f,e,t,a);if(!(E===i?y===b||o(y,b,n,r,a):E)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=e.constructor,C=t.constructor;w==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,o,a)}(e,t,n,r,Lr,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=ke(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var c=(l=n[o])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Qn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Lr(d,u,3,r,h):f))return!1}}return!0}function Or(e){return!(!es(e)||(t=e,Fe&&Fe in t))&&($a(e)?ze:ye).test(jo(e));var t}function Pr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?qa(e)?zr(e[0],e[1]):Ur(e):hl(e)}function Nr(e){if(!To(e))return Ut(e);var t=[];for(var n in ke(e))Pe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=To(e),n=[];for(var r in e)("constructor"!=r||!t&&Pe.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Br(e,t){var r=-1,i=Wa(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Ur(e){var t=uo(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function zr(e,t){return wo(e)&&_o(t)?ko(Fo(e),t):function(n){var r=ks(n,e);return r===i&&r===t?xs(n,e):Lr(t,r,3)}}function Hr(e,t,n,r,o){e!==t&&yr(t,(function(a,s){if(o||(o=new Qn),es(a))!function(e,t,n,r,o,a,s){var l=Io(e,n),c=Io(t,n),u=s.get(c);if(u)return void er(e,n,u);var d=a?a(l,c,n+"",e,t,s):i,h=d===i;if(h){var f=qa(c),p=!f&&Ya(c),m=!f&&!p&&cs(c);d=c,f||p||m?qa(l)?d=l:Ka(l)?d=Ii(l):p?(h=!1,d=Si(c,!0)):m?(h=!1,d=_i(c,!0)):d=[]:is(c)||Va(c)?(d=l,Va(l)?d=vs(l):es(l)&&!$a(l)||(d=vo(c))):h=!1}h&&(s.set(c,d),o(d,c,r,a,s),s.delete(c));er(e,n,d)}(e,t,s,n,Hr,r,o);else{var l=r?r(Io(e,s),a,s+"",e,t,o):i;l===i&&(l=a),er(e,s,l)}}),Ls)}function Vr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function qr(e,t,n){t=t.length?Pt(t,(function(e){return qa(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Pt(t,Jt(lo()));var i=Br(e,(function(e,n,i){var o=Pt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var l=ki(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sr(e,a);n(s,a)&&Jr(o,bi(a,e),s)}return o}function Wr(e,t,n,r){var i=r?qt:Vt,o=-1,a=t.length,s=e;for(e===t&&(t=Ii(t)),n&&(s=Pt(e,Jt(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&Qe.call(s,l,1),Qe.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Qe.call(e,i,1):di(e,i)}}return e}function Yr(e,t){return e+pt(Cn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Lo(xo(e,t,rl),e+"")}function $r(e){return $n(Us(e))}function Xr(e,t){var n=Us(e);return Po(n,sr(t,0,n.length))}function Jr(e,t,n,r){if(!es(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var c=Fo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=es(d)?d:bo(t[o+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=Mn?function(e,t){return Mn.set(e,t),e}:rl,ti=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Po(Us(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,rl,n)}function ai(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,l=null===t,c=ls(t),u=t===i;o<a;){var d=pt((o+a)/2),h=n(e[d]),f=h!==i,p=null===h,m=h===h,g=ls(h);if(s)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?o=d+1:a=d}return bn(a,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ua(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:ls(e)?m:+e}function ci(e){if("string"==typeof e)return e;if(qa(e))return Pt(e,ci)+"";if(ls(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Dt,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Ot;else if(o>=200){var c=t?null:Qi(e);if(c)return hn(c);a=!1,i=tn,l=new Yn}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function di(e,t){return null==(e=Ao(e,t=bi(t,e)))||delete e[Fo(Zo(t))]}function hi(e,t,n,r){return Jr(e,t,n(Sr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof qn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=dr(a[o]||s,e[l],t,r));return ui(vr(a,1),t,r)}function gi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var l=r<a?t[r]:i;n(s,e[r],l)}return s}function vi(e){return Ka(e)?e:[]}function yi(e){return"function"==typeof e?e:rl}function bi(e,t){return qa(e)?e:wo(e,t)?[e]:No(ys(e))}var Ei=Zr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Ci=nt||function(e){return mt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function _i(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=ls(e),s=t!==i,l=null===t,c=t===t,u=ls(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!u&&e<t||u&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}function xi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,c=t.length,u=Yt(a-s,0),d=n(c+u),h=!i;++l<c;)d[l]=t[l];for(;++o<s;)(h||o<a)&&(d[r[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,c=-1,u=t.length,d=Yt(a-l,0),h=n(d+u),f=!i;++o<d;)h[o]=e[o];for(var p=o;++c<u;)h[p+c]=t[c];for(;++s<l;)(f||o<a)&&(h[p+r[s]]=e[o++]);return h}function Ii(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Mi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?or(n,l,c):tr(n,l,c)}return n}function Ri(e,t){return function(n,r){var i=qa(n)?At:rr,o=t?t():{};return i(n,e,lo(r,2),o)}}function Li(e){return Zr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&Eo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Wa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ke(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=ke(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Pi(e){return function(t){var n=ln(t=ys(t))?mn(t):i,r=n?n[0]:t.charAt(0),o=n?wi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ni(e){return function(t){return Ft($s(Vs(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function ji(e){return function(t,n,r){var o=ke(t);if(!Wa(t)){var a=lo(n,3);t=Rs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Bi(e){return no((function(t){var n=t.length,r=n,a=Vn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ie(o);if(a&&!l&&"wrapper"==ao(s))var l=new Vn([],!0)}for(r=l?r:n;++r<n;){var c=ao(s=t[r]),u="wrapper"==c?oo(s):i;l=u&&Co(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ao(u[0])].apply(l,u[3]):1==s.length&&Co(s)?l[c]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qa(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,r,o,a,s,l,c,u,h){var f=t&d,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Fi(e);return function d(){for(var b=arguments.length,E=n(b),w=b;w--;)E[w]=arguments[w];if(g)var C=so(d),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(E,C);if(o&&(E=xi(E,o,a,g)),s&&(E=Ai(E,s,l,g)),b-=S,g&&b<h){var T=dn(E,C);return Ki(e,t,Ui,d.placeholder,r,E,T,c,u,h-b)}var _=p?r:this,k=m?_[e]:e;return b=E.length,c?E=function(e,t){var n=e.length,r=bn(t.length,n),o=Ii(e);for(;r--;){var a=t[r];e[r]=bo(a,n)?o[a]:i}return e}(E,c):v&&b>1&&E.reverse(),f&&u<b&&(E.length=u),this&&this!==mt&&this instanceof d&&(k=y||Fi(k)),k.apply(_,E)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return Er(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Hi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Vi(e){return no((function(t){return t=Pt(t,Jt(lo())),Zr((function(n){var r=this;return e(t,(function(e){return xt(e,r,n)}))}))}))}function qi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,ft(e/pn(t)));return ln(t)?wi(mn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,o){return o&&"number"!=typeof o&&Eo(t,r,o)&&(r=o=i),t=fs(t),r===i?(r=t,t=0):r=fs(r),function(e,t,r,i){for(var o=-1,a=Yt(ft((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:fs(o),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Ki(e,t,n,r,o,a,s,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,o,f?a:i,f?s:i,f?i:a,f?i:s,l,d,h],m=n.apply(i,p);return Co(e)&&Mo(m,p),m.placeholder=r,Do(m,e,t)}function Yi(e){var t=_e[e];return function(e,n){if(e=gs(e),(n=null==n?0:bn(ps(n),292))&&bt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=xn&&1/hn(new xn([,-0]))[1]==f?function(e){return new xn(e)}:ll;function Zi(e){return function(t){var n=mo(t);return n==_?cn(t):n==M?fn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,r,a,f,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(o);var y=a?a.length:0;if(y||(t&=-97,a=f=i),m=m===i?m:Yt(ps(m),0),g=g===i?g:ps(g),y-=f?f.length:0,t&u){var b=a,E=f;a=f=i}var w=v?i:oo(e),C=[e,t,r,a,f,b,E,p,m,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?xi(c,l,t[4]):l,e[4]=c?dn(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ai(c,l,t[6]):l,e[6]=c?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(C,w),e=C[0],t=C[1],r=C[2],a=C[3],f=C[4],!(g=C[9]=C[9]===i?v?0:e.length:Yt(C[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==l?function(e,t,r){var o=Fi(e);return function a(){for(var s=arguments.length,l=n(s),c=s,u=so(a);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:dn(l,u);return(s-=d.length)<r?Ki(e,t,Ui,a.placeholder,i,l,d,i,i,r-s):xt(this&&this!==mt&&this instanceof a?o:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?Ui.apply(i,C):function(e,t,r,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=i.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?a:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++s];return xt(h,o?r:this,d)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Do((w?ei:Mo)(S,C),e,t)}function Xi(e,t,n,r){return e===i||Ua(e,Le[n])&&!Pe.call(r,n)?t:e}function Ji(e,t,n,r,o,a){return es(e)&&es(t)&&(a.set(t,e),Hr(e,t,i,Ji,a),a.delete(t)),e}function eo(e){return is(e)?i:e}function to(e,t,n,r,o,a){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new Yn:i;for(a.set(e,t),a.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=s?r(g,m,h,t,e,a):r(m,g,h,e,t,a);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Bt(t,(function(e,t){if(!tn(p,t)&&(m===e||o(m,e,n,r,a)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function no(e){return Lo(xo(e,i,Go),e+"")}function ro(e){return Tr(e,Rs,fo)}function io(e){return Tr(e,Ls,po)}var oo=Mn?function(e){return Mn.get(e)}:ll;function ao(e){for(var t=e.name+"",n=Rn[t],r=Pe.call(Rn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(Pe.call(Un,"placeholder")?Un:e).placeholder}function lo(){var e=Un.iteratee||il;return e=e===il?Pr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function uo(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_o(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Or(n)?n:i}var fo=gt?function(e){return null==e?[]:(e=ke(e),Lt(gt(e),(function(t){return Ye.call(e,t)})))}:ml,po=gt?function(e){for(var t=[];e;)Nt(t,fo(e)),e=We(e);return t}:ml,mo=_r;function go(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=Fo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ja(i)&&bo(a,i)&&(qa(e)||Va(e))}function vo(e){return"function"!=typeof e.constructor||To(e)?{}:zn(We(e))}function yo(e){return qa(e)||Va(e)||!!(Ze&&e&&e[Ze])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&Ee.test(e))&&e>-1&&e%1==0&&e<t}function Eo(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?Wa(n)&&bo(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function wo(e,t){if(qa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function Co(e){var t=ao(e),n=Un[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(Tn&&mo(new Tn(new ArrayBuffer(1)))!=P||_n&&mo(new _n)!=_||kn&&mo(kn.resolve())!=A||xn&&mo(new xn)!=M||An&&mo(new An)!=D)&&(mo=function(e){var t=_r(e),n=t==x?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case Ln:return P;case Dn:return _;case On:return A;case Pn:return M;case Nn:return D}return t});var So=De?$a:gl;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)}function _o(e){return e===e&&!es(e)}function ko(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in ke(n)))}}function xo(e,t,r){return t=Yt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Yt(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=i[o];return l[t]=r(s),xt(e,this,l)}}function Ao(e,t){return t.length<2?e:Sr(e,ri(t,0,-1))}function Io(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Mo=Oo(ei),Ro=ut||function(e,t){return mt.setTimeout(e,t)},Lo=Oo(ti);function Do(e,t,n){var r=t+"";return Lo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(v,(function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=En(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Po(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Yr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var No=function(e){var t=Oa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bo(e){if(e instanceof qn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uo=Zr((function(e,t){return Ka(e)?dr(e,vr(t,1,Ka,!0)):[]})),zo=Zr((function(e,t){var n=Zo(t);return Ka(n)&&(n=i),Ka(e)?dr(e,vr(t,1,Ka,!0),lo(n,2)):[]})),Ho=Zr((function(e,t){var n=Zo(t);return Ka(n)&&(n=i),Ka(e)?dr(e,vr(t,1,Ka,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=Yt(r+i,0)),Ht(e,lo(t,3),i)}function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ps(n),o=n<0?Yt(r+o,0):bn(o,r-1)),Ht(e,lo(t,3),o,!0)}function Go(e){return(null==e?0:e.length)?vr(e,1):[]}function Wo(e){return e&&e.length?e[0]:i}var Ko=Zr((function(e){var t=Pt(e,vi);return t.length&&t[0]===e[0]?Ir(t):[]})),Yo=Zr((function(e){var t=Zo(e),n=Pt(e,vi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,lo(t,2)):[]})),Qo=Zr((function(e){var t=Zo(e),n=Pt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Zr(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var Jo=no((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Kr(e,Pt(t,(function(e){return bo(e,n)?+e:e})).sort(ki)),r}));function ea(e){return null==e?e:Sn.call(e)}var ta=Zr((function(e){return ui(vr(e,1,Ka,!0))})),na=Zr((function(e){var t=Zo(e);return Ka(t)&&(t=i),ui(vr(e,1,Ka,!0),lo(t,2))})),ra=Zr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,ui(vr(e,1,Ka,!0),i,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Lt(e,(function(e){if(Ka(e))return t=Yt(e.length,t),!0})),$t(t,(function(t){return Pt(e,Kt(t))}))}function oa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Pt(n,(function(e){return xt(t,i,e)}))}var aa=Zr((function(e,t){return Ka(e)?dr(e,t):[]})),sa=Zr((function(e){return mi(Lt(e,Ka))})),la=Zr((function(e){var t=Zo(e);return Ka(t)&&(t=i),mi(Lt(e,Ka),lo(t,2))})),ca=Zr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,mi(Lt(e,Ka),i,t)})),ua=Zr(ia);var da=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oa(e,n)}));function ha(e){var t=Un(e);return t.__chain__=!0,t}function fa(e,t){return t(e)}var pa=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fa,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Ri((function(e,t,n){Pe.call(e,n)?++e[n]:or(e,n,1)}));var ga=ji(Vo),va=ji(qo);function ya(e,t){return(qa(e)?It:hr)(e,lo(t,3))}function ba(e,t){return(qa(e)?Mt:fr)(e,lo(t,3))}var Ea=Ri((function(e,t,n){Pe.call(e,n)?e[n].push(t):or(e,n,[t])}));var wa=Zr((function(e,t,r){var i=-1,o="function"==typeof t,a=Wa(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?xt(t,e,r):Mr(e,t,r)})),a})),Ca=Ri((function(e,t,n){or(e,n,t)}));function Sa(e,t){return(qa(e)?Pt:Br)(e,lo(t,3))}var Ta=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var _a=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Eo(e,t[0],t[1])?t=[]:n>2&&Eo(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,vr(t,1),[])})),ka=it||function(){return mt.Date.now()};function xa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,d,i,i,i,i,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ia=Zr((function(e,t,n){var r=1;if(n.length){var i=dn(n,so(Ia));r|=c}return $i(e,r,t,n,i)})),Ma=Zr((function(e,t,n){var r=3;if(n.length){var i=dn(n,so(Ma));r|=c}return $i(t,r,e,n,i)}));function Ra(e,t,n){var r,a,s,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ie(o);function m(t){var n=r,o=a;return r=a=i,d=t,l=e.apply(o,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=s}function v(){var e=ka();if(g(e))return y(e);c=Ro(v,function(e){var n=t-(e-u);return f?bn(n,s-(e-d)):n}(e))}function y(e){return c=i,p&&r?m(e):(r=a=i,l)}function b(){var e=ka(),n=g(e);if(r=arguments,a=this,u=e,n){if(c===i)return function(e){return d=e,c=Ro(v,t),h?m(e):l}(u);if(f)return Ci(c),c=Ro(v,t),m(u)}return c===i&&(c=Ro(v,t)),l}return t=gs(t)||0,es(n)&&(h=!!n.leading,s=(f="maxWait"in n)?Yt(gs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&Ci(c),d=0,r=u=a=c=i},b.flush=function(){return c===i?l:y(ka())},b}var La=Zr((function(e,t){return ur(e,1,t)})),Da=Zr((function(e,t,n){return ur(e,gs(t)||0,n)}));function Oa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Oa.Cache||Kn),n}function Pa(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Oa.Cache=Kn;var Na=Ei((function(e,t){var n=(t=1==t.length&&qa(t[0])?Pt(t[0],Jt(lo())):Pt(vr(t,1),Jt(lo()))).length;return Zr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return xt(e,this,r)}))})),Fa=Zr((function(e,t){var n=dn(t,so(Fa));return $i(e,c,i,t,n)})),ja=Zr((function(e,t){var n=dn(t,so(ja));return $i(e,u,i,t,n)})),Ba=no((function(e,t){return $i(e,h,i,i,i,t)}));function Ua(e,t){return e===t||e!==e&&t!==t}var za=Wi(kr),Ha=Wi((function(e,t){return e>=t})),Va=Rr(function(){return arguments}())?Rr:function(e){return ts(e)&&Pe.call(e,"callee")&&!Ye.call(e,"callee")},qa=n.isArray,Ga=wt?Jt(wt):function(e){return ts(e)&&_r(e)==O};function Wa(e){return null!=e&&Ja(e.length)&&!$a(e)}function Ka(e){return ts(e)&&Wa(e)}var Ya=vt||gl,Qa=Ct?Jt(Ct):function(e){return ts(e)&&_r(e)==w};function Za(e){if(!ts(e))return!1;var t=_r(e);return t==C||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function $a(e){if(!es(e))return!1;var t=_r(e);return t==S||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xa(e){return"number"==typeof e&&e==ps(e)}function Ja(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=St?Jt(St):function(e){return ts(e)&&mo(e)==_};function rs(e){return"number"==typeof e||ts(e)&&_r(e)==k}function is(e){if(!ts(e)||_r(e)!=x)return!1;var t=We(e);if(null===t)return!0;var n=Pe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Be}var os=Tt?Jt(Tt):function(e){return ts(e)&&_r(e)==I};var as=_t?Jt(_t):function(e){return ts(e)&&mo(e)==M};function ss(e){return"string"==typeof e||!qa(e)&&ts(e)&&_r(e)==R}function ls(e){return"symbol"==typeof e||ts(e)&&_r(e)==L}var cs=kt?Jt(kt):function(e){return ts(e)&&Ja(e.length)&&!!lt[_r(e)]};var us=Wi(jr),ds=Wi((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Wa(e))return ss(e)?mn(e):Ii(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=mo(e);return(t==_?cn:t==M?hn:Us)(e)}function fs(e){return e?(e=gs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=fs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?sr(ps(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(ls(e))return m;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function vs(e){return Mi(e,Ls(e))}function ys(e){return null==e?"":ci(e)}var bs=Li((function(e,t){if(To(t)||Wa(t))Mi(t,Rs(t),e);else for(var n in t)Pe.call(t,n)&&tr(e,n,t[n])})),Es=Li((function(e,t){Mi(t,Ls(t),e)})),ws=Li((function(e,t,n,r){Mi(t,Ls(t),e,r)})),Cs=Li((function(e,t,n,r){Mi(t,Rs(t),e,r)})),Ss=no(ar);var Ts=Zr((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&Eo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ls(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===i||Ua(d,Le[u])&&!Pe.call(e,u))&&(e[u]=a[u])}return e})),_s=Zr((function(e){return e.push(i,Ji),xt(Os,i,e)}));function ks(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function xs(e,t){return null!=e&&go(e,t,Ar)}var As=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),el(rl)),Is=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Pe.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ms=Zr(Mr);function Rs(e){return Wa(e)?Zn(e):Nr(e)}function Ls(e){return Wa(e)?Zn(e,!0):Fr(e)}var Ds=Li((function(e,t,n){Hr(e,t,n)})),Os=Li((function(e,t,n,r){Hr(e,t,n,r)})),Ps=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Mi(e,io(e),n),r&&(n=lr(n,7,eo));for(var i=t.length;i--;)di(n,t[i]);return n}));var Ns=no((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return xs(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=Pt(io(e),(function(e){return[e]}));return t=lo(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var js=Zi(Rs),Bs=Zi(Ls);function Us(e){return null==e?[]:en(e,Rs(e))}var zs=Ni((function(e,t,n){return t=t.toLowerCase(),e+(n?Hs(t):t)}));function Hs(e){return Zs(ys(e).toLowerCase())}function Vs(e){return(e=ys(e))&&e.replace(we,on).replace(tt,"")}var qs=Ni((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=Ni((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ws=Pi("toLowerCase");var Ks=Ni((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ys=Ni((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Qs=Ni((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Pi("toUpperCase");function $s(e,t,n){return e=ys(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Xs=Zr((function(e,t){try{return xt(e,i,t)}catch(n){return Za(n)?n:new se(n)}})),Js=no((function(e,t){return It(t,(function(t){t=Fo(t),or(e,t,Ia(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Bi(),nl=Bi(!0);function rl(e){return e}function il(e){return Pr("function"==typeof e?e:lr(e,1))}var ol=Zr((function(e,t){return function(n){return Mr(n,e,t)}})),al=Zr((function(e,t){return function(n){return Mr(e,n,t)}}));function sl(e,t,n){var r=Rs(t),i=Cr(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Cr(t,Rs(t)));var o=!(es(n)&&"chain"in n)||!!n.chain,a=$a(e);return It(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function ll(){}var cl=Vi(Pt),ul=Vi(Rt),dl=Vi(Bt);function hl(e){return wo(e)?Kt(Fo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var fl=Gi(),pl=Gi(!0);function ml(){return[]}function gl(){return!1}var vl=Hi((function(e,t){return e+t}),0),yl=Yi("ceil"),bl=Hi((function(e,t){return e/t}),1),El=Yi("floor");var wl=Hi((function(e,t){return e*t}),1),Cl=Yi("round"),Sl=Hi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=xa,Un.assign=bs,Un.assignIn=Es,Un.assignInWith=ws,Un.assignWith=Cs,Un.at=Ss,Un.before=Aa,Un.bind=Ia,Un.bindAll=Js,Un.bindKey=Ma,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qa(e)?e:[e]},Un.chain=ha,Un.chunk=function(e,t,r){t=(r?Eo(e,t,r):t===i)?1:Yt(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=n(ft(o/t));a<o;)l[s++]=ri(e,a,a+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Nt(qa(r)?Ii(r):[r],vr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(xt(i[0],this,n))return xt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Rs(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Un.constant=el,Un.countBy=ma,Un.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=$i(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=Ra,Un.defaults=Ts,Un.defaultsDeep=_s,Un.defer=La,Un.delay=Da,Un.difference=Uo,Un.differenceBy=zo,Un.differenceWith=Ho,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:ps(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:ps(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Eo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ps(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ps(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(qa(e)?Lt:gr)(e,lo(t,3))},Un.flatMap=function(e,t){return vr(Sa(e,t),1)},Un.flatMapDeep=function(e,t){return vr(Sa(e,t),f)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:ps(n),vr(Sa(e,t),n)},Un.flatten=Go,Un.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:ps(t)):[]},Un.flip=function(e){return $i(e,512)},Un.flow=tl,Un.flowRight=nl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Cr(e,Rs(e))},Un.functionsIn=function(e){return null==e?[]:Cr(e,Ls(e))},Un.groupBy=Ea,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=Ko,Un.intersectionBy=Yo,Un.intersectionWith=Qo,Un.invert=As,Un.invertBy=Is,Un.invokeMap=wa,Un.iteratee=il,Un.keyBy=Ca,Un.keys=Rs,Un.keysIn=Ls,Un.map=Sa,Un.mapKeys=function(e,t){var n={};return t=lo(t,3),Er(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=lo(t,3),Er(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(lr(e,1))},Un.matchesProperty=function(e,t){return zr(e,lr(t,1))},Un.memoize=Oa,Un.merge=Ds,Un.mergeWith=Os,Un.method=ol,Un.methodOf=al,Un.mixin=sl,Un.negate=Pa,Un.nthArg=function(e){return e=ps(e),Zr((function(t){return Vr(t,e)}))},Un.omit=Ps,Un.omitBy=function(e,t){return Fs(e,Pa(lo(t)))},Un.once=function(e){return Aa(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(qa(t)||(t=null==t?[]:[t]),qa(n=r?i:n)||(n=null==n?[]:[n]),qr(e,t,n))},Un.over=cl,Un.overArgs=Na,Un.overEvery=ul,Un.overSome=dl,Un.partial=Fa,Un.partialRight=ja,Un.partition=Ta,Un.pick=Ns,Un.pickBy=Fs,Un.property=hl,Un.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Un.pull=$o,Un.pullAll=Xo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,lo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,i,n):e},Un.pullAt=Jo,Un.range=fl,Un.rangeRight=pl,Un.rearg=Ba,Un.reject=function(e,t){return(qa(e)?Lt:gr)(e,Pa(lo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return Zr(e,t=t===i?t:ps(t))},Un.reverse=ea,Un.sampleSize=function(e,t,n){return t=(n?Eo(e,t,n):t===i)?1:ps(t),(qa(e)?Xn:Xr)(e,t)},Un.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Jr(e,t,n,r)},Un.shuffle=function(e){return(qa(e)?Jn:ni)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Eo(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===i?r:ps(n)),ri(e,t,n)):[]},Un.sortBy=_a,Un.sortedUniq=function(e){return e&&e.length?si(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?si(e,lo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&Eo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ci(t))&&ln(e)?wi(mn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:Yt(ps(t),0),Zr((function(n){var r=n[t],i=wi(n,0,t);return r&&Nt(i,r),xt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:ps(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:ps(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?fi(e,lo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ra(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=fa,Un.toArray=hs,Un.toPairs=js,Un.toPairsIn=Bs,Un.toPath=function(e){return qa(e)?Pt(e,Fo):ls(e)?[e]:Ii(No(ys(e)))},Un.toPlainObject=vs,Un.transform=function(e,t,n){var r=qa(e),i=r||Ya(e)||cs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:es(e)&&$a(o)?zn(We(e)):{}}return(i?It:Er)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return xa(e,1)},Un.union=ta,Un.unionBy=na,Un.unionWith=ra,Un.uniq=function(e){return e&&e.length?ui(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Un.unset=function(e,t){return null==e||di(e,t)},Un.unzip=ia,Un.unzipWith=oa,Un.update=function(e,t,n){return null==e?e:hi(e,t,yi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,yi(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,Ls(e))},Un.without=aa,Un.words=$s,Un.wrap=function(e,t){return Fa(yi(t),e)},Un.xor=sa,Un.xorBy=la,Un.xorWith=ca,Un.zip=ua,Un.zipObject=function(e,t){return gi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return gi(e||[],t||[],Jr)},Un.zipWith=da,Un.entries=js,Un.entriesIn=Bs,Un.extend=Es,Un.extendWith=ws,sl(Un,Un),Un.add=vl,Un.attempt=Xs,Un.camelCase=zs,Un.capitalize=Hs,Un.ceil=yl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gs(n))===n?n:0),t!==i&&(t=(t=gs(t))===t?t:0),sr(gs(e),t,n)},Un.clone=function(e){return lr(e,4)},Un.cloneDeep=function(e){return lr(e,5)},Un.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||cr(e,t,Rs(t))},Un.deburr=Vs,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=bl,Un.endsWith=function(e,t,n){e=ys(e),t=ci(t);var r=e.length,o=n=n===i?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Ua,Un.escape=function(e){return(e=ys(e))&&$.test(e)?e.replace(Q,an):e},Un.escapeRegExp=function(e){return(e=ys(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=qa(e)?Rt:pr;return n&&Eo(e,t,n)&&(t=i),r(e,lo(t,3))},Un.find=ga,Un.findIndex=Vo,Un.findKey=function(e,t){return zt(e,lo(t,3),Er)},Un.findLast=va,Un.findLastIndex=qo,Un.findLastKey=function(e,t){return zt(e,lo(t,3),wr)},Un.floor=El,Un.forEach=ya,Un.forEachRight=ba,Un.forIn=function(e,t){return null==e?e:yr(e,lo(t,3),Ls)},Un.forInRight=function(e,t){return null==e?e:br(e,lo(t,3),Ls)},Un.forOwn=function(e,t){return e&&Er(e,lo(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,lo(t,3))},Un.get=ks,Un.gt=za,Un.gte=Ha,Un.has=function(e,t){return null!=e&&go(e,t,xr)},Un.hasIn=xs,Un.head=Wo,Un.identity=rl,Un.includes=function(e,t,n,r){e=Wa(e)?e:Us(e),n=n&&!r?ps(n):0;var i=e.length;return n<0&&(n=Yt(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=Yt(r+i,0)),Vt(e,t,i)},Un.inRange=function(e,t,n){return t=fs(t),n===i?(n=t,t=0):n=fs(n),function(e,t,n){return e>=bn(t,n)&&e<Yt(t,n)}(e=gs(e),t,n)},Un.invoke=Ms,Un.isArguments=Va,Un.isArray=qa,Un.isArrayBuffer=Ga,Un.isArrayLike=Wa,Un.isArrayLikeObject=Ka,Un.isBoolean=function(e){return!0===e||!1===e||ts(e)&&_r(e)==E},Un.isBuffer=Ya,Un.isDate=Qa,Un.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Wa(e)&&(qa(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||cs(e)||Va(e)))return!e.length;var t=mo(e);if(t==_||t==M)return!e.size;if(To(e))return!Nr(e).length;for(var n in e)if(Pe.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Lr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Lr(e,t,i,n):!!r},Un.isError=Za,Un.isFinite=function(e){return"number"==typeof e&&bt(e)},Un.isFunction=$a,Un.isInteger=Xa,Un.isLength=Ja,Un.isMap=ns,Un.isMatch=function(e,t){return e===t||Dr(e,t,uo(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,uo(t),n)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=es,Un.isObjectLike=ts,Un.isPlainObject=is,Un.isRegExp=os,Un.isSafeInteger=function(e){return Xa(e)&&e>=-9007199254740991&&e<=p},Un.isSet=as,Un.isString=ss,Un.isSymbol=ls,Un.isTypedArray=cs,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ts(e)&&mo(e)==D},Un.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==_r(e)},Un.join=function(e,t){return null==e?"":Et.call(e,t)},Un.kebabCase=qs,Un.last=Zo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ps(n))<0?Yt(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ht(e,Gt,o,!0)},Un.lowerCase=Gs,Un.lowerFirst=Ws,Un.lt=us,Un.lte=ds,Un.max=function(e){return e&&e.length?mr(e,rl,kr):i},Un.maxBy=function(e,t){return e&&e.length?mr(e,lo(t,2),kr):i},Un.mean=function(e){return Wt(e,rl)},Un.meanBy=function(e,t){return Wt(e,lo(t,2))},Un.min=function(e){return e&&e.length?mr(e,rl,jr):i},Un.minBy=function(e,t){return e&&e.length?mr(e,lo(t,2),jr):i},Un.stubArray=ml,Un.stubFalse=gl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=wl,Un.nth=function(e,t){return e&&e.length?Vr(e,ps(t)):i},Un.noConflict=function(){return mt._===this&&(mt._=Ue),this},Un.noop=ll,Un.now=ka,Un.pad=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(pt(i),n)+e+qi(ft(i),n)},Un.padEnd=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+qi(t-r,n):e},Un.padStart=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?qi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(ys(e).replace(ae,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Eo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fs(e),t===i?(t=e,e=0):t=fs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Cn();return bn(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Yr(e,t)},Un.reduce=function(e,t,n){var r=qa(e)?Ft:Qt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Un.reduceRight=function(e,t,n){var r=qa(e)?jt:Qt,i=arguments.length<3;return r(e,lo(t,4),n,i,fr)},Un.repeat=function(e,t,n){return t=(n?Eo(e,t,n):t===i)?1:ps(t),Qr(ys(e),t)},Un.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Fo(t[r])];a===i&&(r=o,a=n),e=$a(a)?a.call(e):a}return e},Un.round=Cl,Un.runInContext=e,Un.sample=function(e){return(qa(e)?$n:$r)(e)},Un.size=function(e){if(null==e)return 0;if(Wa(e))return ss(e)?pn(e):e.length;var t=mo(e);return t==_||t==M?e.size:Nr(e).length},Un.snakeCase=Ks,Un.some=function(e,t,n){var r=qa(e)?Bt:ii;return n&&Eo(e,t,n)&&(t=i),r(e,lo(t,3))},Un.sortedIndex=function(e,t){return oi(e,t)},Un.sortedIndexBy=function(e,t,n){return ai(e,t,lo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Ua(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return oi(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ai(e,t,lo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Ua(e[n],t))return n}return-1},Un.startCase=Ys,Un.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:sr(ps(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Un.subtract=Sl,Un.sum=function(e){return e&&e.length?Zt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Zt(e,lo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&Eo(e,t,n)&&(t=i),e=ys(e),t=ws({},t,r,Xi);var o,a,s=ws({},t.imports,r.imports,Xi),l=Rs(s),c=en(s,l),u=0,d=t.interpolate||Ce,h="__p += '",f=xe((t.escape||Ce).source+"|"+d.source+"|"+(d===ee?pe:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g"),p="//# sourceURL="+(Pe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(f,(function(t,n,r,i,s,l){return r||(r=i),h+=e.slice(u,l).replace(Se,sn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Pe.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(G,""):h).replace(W,"$1").replace(K,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Xs((function(){return Te(l,p+"return "+h).apply(i,c)}));if(g.source=h,Za(g))throw g;return g},Un.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=g,r=bn(e,g);t=lo(t),e-=g;for(var i=$t(r,t);++n<e;)t(n);return i},Un.toFinite=fs,Un.toInteger=ps,Un.toLength=ms,Un.toLower=function(e){return ys(e).toLowerCase()},Un.toNumber=gs,Un.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Un.toString=ys,Un.toUpper=function(e){return ys(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ys(e))&&(n||t===i))return Xt(e);if(!e||!(t=ci(t)))return e;var r=mn(e),o=mn(t);return wi(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=mn(e);return wi(r,0,rn(r,mn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=mn(e);return wi(r,nn(r,mn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(es(t)){var o="separator"in t?t.separator:o;n="length"in t?ps(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=ys(e)).length;if(ln(e)){var s=mn(e);a=s.length}if(n>=a)return e;var l=n-pn(r);if(l<1)return r;var c=s?wi(s,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(s&&(l+=c.length-l),os(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=xe(o.source,ys(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ci(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},Un.unescape=function(e){return(e=ys(e))&&Z.test(e)?e.replace(Y,vn):e},Un.uniqueId=function(e){var t=++Ne;return ys(e)+t},Un.upperCase=Qs,Un.upperFirst=Zs,Un.each=ya,Un.eachRight=ba,Un.first=Wo,sl(Un,function(){var e={};return Er(Un,(function(t,n){Pe.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),It(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===i?1:Yt(ps(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(rl)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Mr(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Pa(lo(e)))},qn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(g)},Er(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof qn,c=s[0],u=l||qa(t),d=function(e){var t=o.apply(Un,Nt([e],s));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=a&&!h,m=l&&!f;if(!a&&u){t=m?t:new qn(this);var g=e.apply(t,s);return g.__actions__.push({func:fa,args:[d],thisArg:i}),new Vn(g,h)}return p&&m?e.apply(this,s):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qa(i)?i:[],e)}return this[n]((function(n){return t.apply(qa(n)?n:[],e)}))}})),Er(qn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Pe.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Ui(i,2).name]=[{name:"wrapper",func:i}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=Yt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,h=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,E=y(g);if(2==b)g=E;else if(!E){if(1==b)continue e;break e}}p[h++]=g}return p},Un.prototype.at=pa,Un.prototype.chain=function(){return ha(this)},Un.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=Bo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:fa,args:[ea],thisArg:i}),new Vn(t,this.__chain__)}return this.thru(ea)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,$e&&(Un.prototype[$e]=function(){return this}),Un}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},8834:(e,t,n)=>{var r=n(2518),i=n(7484)((function(e,t,n){r(e,t,n)}));e.exports=i},4201:e=>{e.exports=function(){return!1}},6720:(e,t,n)=>{var r=n(6028),i=n(364);e.exports=function(e){return r(e,i(e))}},7938:function(e,t,n){"use strict";const r=n(439),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),s=this,l={concatArrays:!1,ignoreUndefined:!1},c=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)o.call(e,r)&&t.push(r)}return t};function u(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return c(e).forEach((n=>{a(t,n,u(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach((n=>{a(t,n,u(e[n]))})),t}(e):e}const d=(e,t,n,r)=>(n.forEach((n=>{"undefined"===typeof t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?a(e,n,f(e[n],t[n],r)):a(e,n,u(t[n])))})),e),h=(e,t,n)=>{let r=e.slice(0,0),o=0;return[e,t].forEach((t=>{const s=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(s.push(String(n)),a(r,o++,t===e?t[n]:u(t[n])));r=d(r,t,c(t).filter((e=>!s.includes(e))),n)})),r};function f(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?h(e,t,n):r(t)&&r(e)?d(e,t,c(t),n):u(t)}e.exports=function(){const e=f(u(l),this!==s&&this||{},l);let t={_:{}};for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(const a of i)if(void 0!==a){if(!r(a))throw new TypeError("`"+a+"` is not an Option Object");t=f(t,{_:a},e)}return t._}},1932:(e,t,n)=>{"use strict";const r=n(7349),i=n(5226),o=1e3;function*a(e){let t=o;for(;;){const n=e/t;if(n<1)return;yield n,t*=o}}function s(e,t){var n,o;const s=t?{...r.defaultOptions,...t}:r.defaultOptions;if(!Array.isArray(s.units)||!s.units.length)throw new Error("Option `units` must be a non-empty array");let l;try{l=i.parseValue(e)}catch(g){return g instanceof Error&&console.warn("WARN: ".concat(g.message," (millify)")),String(e)}const c=l<0?"-":"";l=Math.abs(l);let u=0;for(const r of a(l))l=r,u+=1;if(u>=s.units.length)return e.toString();let d=i.roundTo(l,s.precision);for(const r of a(d))d=r,u+=1;const h=null!==(n=s.units[u])&&void 0!==n?n:"",f=s.lowercase?h.toLowerCase():h,p=s.space?" ":"",m=d.toLocaleString(null!==(o=s.locales)&&void 0!==o?o:i.getLocales(),{minimumFractionDigits:i.getFractionDigits(d)});return"".concat(c).concat(m).concat(p).concat(f)}t.ZP=s},7349:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=void 0,t.defaultOptions={lowercase:!1,precision:1,space:!1,units:["","K","M","B","T","P","E"]}},5226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocales=t.getFractionDigits=t.roundTo=t.parseValue=void 0,t.parseValue=function(e){const t=parseFloat(null===e||void 0===e?void 0:e.toString());if(isNaN(t))throw new Error("Input value is not a number");if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw new RangeError("Input value is outside of safe integer range");return t},t.roundTo=function(e,t){if(!Number.isFinite(e))throw new Error("Input value is not a finite number");if(!Number.isInteger(t)||t<0)throw new Error("Precision is not a positive integer");return Number.isInteger(e)?e:parseFloat(e.toFixed(t))},t.getFractionDigits=function(e){var t;if(Number.isInteger(e))return 0;const n=e.toString().split(".")[1];return null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0},t.getLocales=function(){var e;return"undefined"===typeof navigator?[]:Array.from(null!==(e=navigator.languages)&&void 0!==e?e:[])}},7113:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i,a=365.25*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,l){l=l||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var l=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===c&&isFinite(e))return l.long?function(e){var o=Math.abs(e);if(o>=i)return s(e,o,i,"day");if(o>=r)return s(e,o,r,"hour");if(o>=n)return s(e,o,n,"minute");if(o>=t)return s(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1785:e=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}s=n[a]={exports:{}},t[a][0].call(s.exports,(function(e){return i(t[a][1][e]||e)}),s,s.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r,i,o,a,s,l,c,u,d){"use strict";var h=e("crypto");function f(e,t){var n;return void 0===(n="passthrough"!==(t=g(e,t)).algorithm?h.createHash(t.algorithm):new b).write&&(n.write=n.update,n.end=n.update),y(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=f).sha1=function(e){return f(e)},n.keys=function(e){return f(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return f(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return f(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=h.getHashes?h.getHashes().slice():["sha1","md5"],m=(p.push("passthrough"),["buffer","hex","binary","base64"]);function g(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function v(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function y(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,a=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(a);if(s=(s=s?s[1]:"unknown:["+a+"]").toLowerCase(),0<=(a=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+a+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s||"asyncfunction"===s)return a=Object.keys(t),e.unorderedObjects&&(a=a.sort()),!1===e.respectType||v(t)||a.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(a=a.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+a.length+":"),i=this,a.forEach((function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")}));if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var a=[];return i=t.map((function(t){var r=new b,i=n.slice();return y(e,r,i).dispatch(t),a=a.concat(i.slice(n.length)),r.read().toString()})),n=n.concat(a),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),v(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function b(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),y(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,o,a,s,l,c){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0);function c(e){return(e=e.charCodeAt(0))===n||e===s?62:e===r||e===l?63:e<i?-1:e<i+10?e-i+26+26:e<a+26?e-a:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.length,o=(i="="===e.charAt(i-2)?2:"="===e.charAt(i-1)?1:0,new t(3*e.length/4-i)),a=0<i?e.length-4:e.length,s=0;function l(e){o[s++]=e}for(n=0;n<a;n+=4,0)l((16711680&(r=c(e.charAt(n))<<18|c(e.charAt(n+1))<<12|c(e.charAt(n+2))<<6|c(e.charAt(n+3))))>>16),l((65280&r)>>8),l(255&r);return 2==i?l(255&(r=c(e.charAt(n))<<2|c(e.charAt(n+1))>>4)):1==i&&(l((r=c(e.charAt(n))<<10|c(e.charAt(n+1))<<4|c(e.charAt(n+2))>>2)>>8&255),l(255&r)),o},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,a="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)a+=s((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(o){case 1:a=(a+=s((n=e[e.length-1])>>2))+s(n<<4&63)+"==";break;case 2:a=(a=(a+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+"="}return a}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,o,a,s,l,c,u){var d=e("base64-js"),h=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,a,s,l=typeof e;if("base64"===t&&"string"==l)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==l)r=M(e);else if("string"==l)r=i.byteLength(e,t);else{if("object"!=l)throw new Error("First argument needs to be a number, array or string.");r=M(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(R(s=e)||i.isBuffer(s)||s&&"object"==typeof s&&"number"==typeof s.length)for(a=0;a<r;a++)i.isBuffer(e)?o[a]=e.readUInt8(a):o[a]=e[a];else if("string"==l)o.write(e,0,t);else if("number"==l&&!i._useTypedArrays&&!n)for(a=0;a<r;a++)o[a]=0;return o}function f(e,t,n,r){return i._charsWritten=P(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function p(e,t,n,r){return i._charsWritten=P(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}function m(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function g(e,t,n,r){var i;if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function v(e,t,n,r){var i;if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function y(e,t,n,r){if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=g(e,t,n,!0))?-1*(65535-r+1):r}function b(e,t,n,r){if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=v(e,t,n,!0))?-1*(4294967295-r+1):r}function E(e,t,n,r){return r||(U("boolean"==typeof n,"missing or invalid endian"),U(t+3<e.length,"Trying to read beyond buffer length")),h.read(e,t,n,23,4)}function w(e,t,n,r){return r||(U("boolean"==typeof n,"missing or invalid endian"),U(t+7<e.length,"Trying to read beyond buffer length")),h.read(e,t,n,52,8)}function C(e,t,n,r,i){if(i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+1<e.length,"trying to write beyond buffer length"),F(t,65535)),!((i=e.length)<=n))for(var o=0,a=Math.min(i-n,2);o<a;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function S(e,t,n,r,i){if(i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+3<e.length,"trying to write beyond buffer length"),F(t,4294967295)),!((i=e.length)<=n))for(var o=0,a=Math.min(i-n,4);o<a;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function T(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+1<e.length,"Trying to write beyond buffer length"),j(t,32767,-32768)),e.length<=n||C(e,0<=t?t:65535+t+1,n,r,i)}function _(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+3<e.length,"Trying to write beyond buffer length"),j(t,2147483647,-2147483648)),e.length<=n||S(e,0<=t?t:4294967295+t+1,n,r,i)}function k(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+3<e.length,"Trying to write beyond buffer length"),B(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||h.write(e,t,n,r,23,4)}function x(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+7<e.length,"Trying to write beyond buffer length"),B(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||h.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=D(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=O(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(U(R(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var a=e[o];a.copy(n,r),r+=a.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(c=r,r=t,t=n,n=c),t=Number(t)||0;var o,a,s,l,c=this.length-t;switch((!n||c<(n=Number(n)))&&(n=c),r=String(r||"utf8").toLowerCase()){case"hex":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),U((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);U(!isNaN(s),"Invalid hex string"),e[n+a]=s}return i._charsWritten=2*a,a}(this,e,t,n);break;case"utf8":case"utf-8":a=this,s=t,l=n,o=i._charsWritten=P(D(e),a,s,l);break;case"ascii":case"binary":o=f(this,e,t,n);break;case"base64":a=this,s=t,l=n,o=i._charsWritten=P(O(e),a,s,l);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=p(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i,o,a,s=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):s.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=L(e[o]);return i}(s,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=N(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+N(i)}(s,t,n);break;case"ascii":case"binary":r=m(s,t,n);break;case"base64":i=s,a=n,r=0===(o=t)&&a===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(o,a));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(s,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){U(n<=r,"sourceEnd < sourceStart"),U(0<=t&&t<e.length,"targetStart out of bounds"),U(0<=n&&n<this.length,"sourceStart out of bounds"),U(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!i._useTypedArrays)for(var a=0;a<o;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=I(e,n,0),t=I(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;a<r;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(U(null!=e,"missing offset"),U(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return g(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return g(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return v(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return v(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(U(null!=e,"missing offset"),U(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return y(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return y(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return E(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return E(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return w(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return w(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(U(null!=e,"missing value"),U(null!=t,"missing offset"),U(t<this.length,"trying to write beyond buffer length"),F(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(U(null!=e,"missing value"),U(null!=t,"missing offset"),U(t<this.length,"Trying to write beyond buffer length"),j(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){T(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){T(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){k(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){k(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,U("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),U(t<=n,"end < start"),n!==t&&0!==this.length){U(0<=t&&t<this.length,"start out of bounds"),U(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=L(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var A=i.prototype;function I(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function M(e){return(e=~~Math.ceil(+e))<0?0:e}function R(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}return t}function O(e){return d.toByteArray(e)}function P(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function N(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function F(e,t){U("number"==typeof e,"cannot write a non-number as a number"),U(0<=e,"specified a negative value for writing an unsigned value"),U(e<=t,"value is larger than maximum value for type"),U(Math.floor(e)===e,"value has a fractional component")}function j(e,t,n){U("number"==typeof e,"cannot write a non-number as a number"),U(e<=t,"value larger than maximum allowed value"),U(n<=e,"value smaller than minimum allowed value"),U(Math.floor(e)===e,"value has a fractional component")}function B(e,t,n){U("number"==typeof e,"cannot write a non-number as a number"),U(e<=t,"value larger than maximum allowed value"),U(n<=e,"value smaller than minimum allowed value")}function U(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=A.get,e.set=A.set,e.write=A.write,e.toString=A.toString,e.toLocaleString=A.toString,e.toJSON=A.toJSON,e.copy=A.copy,e.slice=A.slice,e.readUInt8=A.readUInt8,e.readUInt16LE=A.readUInt16LE,e.readUInt16BE=A.readUInt16BE,e.readUInt32LE=A.readUInt32LE,e.readUInt32BE=A.readUInt32BE,e.readInt8=A.readInt8,e.readInt16LE=A.readInt16LE,e.readInt16BE=A.readInt16BE,e.readInt32LE=A.readInt32LE,e.readInt32BE=A.readInt32BE,e.readFloatLE=A.readFloatLE,e.readFloatBE=A.readFloatBE,e.readDoubleLE=A.readDoubleLE,e.readDoubleBE=A.readDoubleBE,e.writeUInt8=A.writeUInt8,e.writeUInt16LE=A.writeUInt16LE,e.writeUInt16BE=A.writeUInt16BE,e.writeUInt32LE=A.writeUInt32LE,e.writeUInt32BE=A.writeUInt32BE,e.writeInt8=A.writeInt8,e.writeInt16LE=A.writeInt16LE,e.writeInt16BE=A.writeInt16BE,e.writeInt32LE=A.writeInt32LE,e.writeInt32BE=A.writeInt32BE,e.writeFloatLE=A.writeFloatLE,e.writeFloatBE=A.writeFloatBE,e.writeDoubleLE=A.writeDoubleLE,e.writeDoubleBE=A.writeDoubleBE,e.fill=A.fill,e.inspect=A.inspect,e.toArrayBuffer=A.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){i=e("buffer").Buffer;var d=4,h=new i(d);h.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%d!=0&&(n=e.length+(d-e.length%d),e=i.concat([e,h],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=d)r.push(o.call(e,a));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),a=(t=r,new i(n)),s=t?a.writeInt32BE:a.writeInt32LE,l=0;l<o.length;l++)s.call(a,o[l],4*l,!0);return a}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,o,a,s,l,c,u){i=e("buffer").Buffer;var d=e("./sha"),h=e("./sha256"),f=e("./rng"),p={sha1:d,sha256:h,md5:e("./md5")},m=64,g=new i(m);function v(e,t){var n=p[e=e||"sha1"],r=[];return n||y("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r);return o=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>m?t=e(t):t.length<m&&(t=i.concat([t,g],m));for(var r=new i(m),o=new i(m),a=0;a<m;a++)r[a]=54^t[a],o[a]=92^t[a];return n=e(i.concat([r,n])),e(i.concat([o,n]))}(n,t,o):n(o),r=null,e?o.toString(e):o}}}function y(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}g.fill(0),n.createHash=function(e){return v(e)},n.createHmac=v,n.randomBytes=function(e,t){if(!t||!t.call)return new i(f(e));try{t.call(this,void 0,new i(f(e)))}catch(e){t(e)}};var b,E=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],w=function(e){n[e]=function(){y("sorry,",e,"is not implemented yet")}};for(b in E)w(E[b],b)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){var d=e("./helpers");function h(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=r,c=i,u=o;n=p(n,r,i,o,e[a+0],7,-680876936),o=p(o,n,r,i,e[a+1],12,-389564586),i=p(i,o,n,r,e[a+2],17,606105819),r=p(r,i,o,n,e[a+3],22,-1044525330),n=p(n,r,i,o,e[a+4],7,-176418897),o=p(o,n,r,i,e[a+5],12,1200080426),i=p(i,o,n,r,e[a+6],17,-1473231341),r=p(r,i,o,n,e[a+7],22,-45705983),n=p(n,r,i,o,e[a+8],7,1770035416),o=p(o,n,r,i,e[a+9],12,-1958414417),i=p(i,o,n,r,e[a+10],17,-42063),r=p(r,i,o,n,e[a+11],22,-1990404162),n=p(n,r,i,o,e[a+12],7,1804603682),o=p(o,n,r,i,e[a+13],12,-40341101),i=p(i,o,n,r,e[a+14],17,-1502002290),n=m(n,r=p(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=m(o,n,r,i,e[a+6],9,-1069501632),i=m(i,o,n,r,e[a+11],14,643717713),r=m(r,i,o,n,e[a+0],20,-373897302),n=m(n,r,i,o,e[a+5],5,-701558691),o=m(o,n,r,i,e[a+10],9,38016083),i=m(i,o,n,r,e[a+15],14,-660478335),r=m(r,i,o,n,e[a+4],20,-405537848),n=m(n,r,i,o,e[a+9],5,568446438),o=m(o,n,r,i,e[a+14],9,-1019803690),i=m(i,o,n,r,e[a+3],14,-187363961),r=m(r,i,o,n,e[a+8],20,1163531501),n=m(n,r,i,o,e[a+13],5,-1444681467),o=m(o,n,r,i,e[a+2],9,-51403784),i=m(i,o,n,r,e[a+7],14,1735328473),n=g(n,r=m(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=g(o,n,r,i,e[a+8],11,-2022574463),i=g(i,o,n,r,e[a+11],16,1839030562),r=g(r,i,o,n,e[a+14],23,-35309556),n=g(n,r,i,o,e[a+1],4,-1530992060),o=g(o,n,r,i,e[a+4],11,1272893353),i=g(i,o,n,r,e[a+7],16,-155497632),r=g(r,i,o,n,e[a+10],23,-1094730640),n=g(n,r,i,o,e[a+13],4,681279174),o=g(o,n,r,i,e[a+0],11,-358537222),i=g(i,o,n,r,e[a+3],16,-722521979),r=g(r,i,o,n,e[a+6],23,76029189),n=g(n,r,i,o,e[a+9],4,-640364487),o=g(o,n,r,i,e[a+12],11,-421815835),i=g(i,o,n,r,e[a+15],16,530742520),n=v(n,r=g(r,i,o,n,e[a+2],23,-995338651),i,o,e[a+0],6,-198630844),o=v(o,n,r,i,e[a+7],10,1126891415),i=v(i,o,n,r,e[a+14],15,-1416354905),r=v(r,i,o,n,e[a+5],21,-57434055),n=v(n,r,i,o,e[a+12],6,1700485571),o=v(o,n,r,i,e[a+3],10,-1894986606),i=v(i,o,n,r,e[a+10],15,-1051523),r=v(r,i,o,n,e[a+1],21,-2054922799),n=v(n,r,i,o,e[a+8],6,1873313359),o=v(o,n,r,i,e[a+15],10,-30611744),i=v(i,o,n,r,e[a+6],15,-1560198380),r=v(r,i,o,n,e[a+13],21,1309151649),n=v(n,r,i,o,e[a+4],6,-145523070),o=v(o,n,r,i,e[a+11],10,-1120210379),i=v(i,o,n,r,e[a+2],15,718787259),r=v(r,i,o,n,e[a+9],21,-343485551),n=y(n,s),r=y(r,l),i=y(i,c),o=y(o,u)}return Array(n,r,i,o)}function f(e,t,n,r,i,o){return y((t=y(y(t,e),y(r,o)))<<i|t>>>32-i,n)}function p(e,t,n,r,i,o,a){return f(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return f(t&r|n&~r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return f(t^n^r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return f(n^(t|~r),e,t,i,o,a)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,h,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,o,a,s,l,c){var u;t.exports=u||function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){var d=e("./helpers");function h(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o=Array(80),a=1732584193,s=-271733879,l=-1732584194,c=271733878,u=-1009589776,d=0;d<e.length;d+=16){for(var h=a,m=s,g=l,v=c,y=u,b=0;b<80;b++){o[b]=b<16?e[d+b]:p(o[b-3]^o[b-8]^o[b-14]^o[b-16],1);var E=f(f(p(a,5),(E=s,r=l,i=c,(n=b)<20?E&r|~E&i:!(n<40)&&n<60?E&r|E&i|r&i:E^r^i)),f(f(u,o[b]),(n=b)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));u=c,c=l,l=p(s,30),s=a,a=E}a=f(a,h),s=f(s,m),l=f(l,g),c=f(c,v),u=f(u,y)}return Array(a,s,l,c,u)}function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,h,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,o,a,s,l,c,u){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function h(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var a,s,l=0;l<e.length;l+=16){for(var c=i[0],u=i[1],h=i[2],f=i[3],g=i[4],v=i[5],y=i[6],b=i[7],E=0;E<64;E++)o[E]=E<16?e[E+l]:d(d(d((s=o[E-2],p(s,17)^p(s,19)^m(s,10)),o[E-7]),(s=o[E-15],p(s,7)^p(s,18)^m(s,3))),o[E-16]),n=d(d(d(d(b,p(s=g,6)^p(s,11)^p(s,25)),g&v^~g&y),r[E]),o[E]),a=d(p(a=c,2)^p(a,13)^p(a,22),c&u^c&h^u&h),b=y,y=v,v=g,g=d(f,n),f=h,h=u,u=c,c=d(n,a);i[0]=d(c,i[0]),i[1]=d(u,i[1]),i[2]=d(h,i[2]),i[3]=d(f,i[3]),i[4]=d(g,i[4]),i[5]=d(v,i[5]),i[6]=d(y,i[6]),i[7]=d(b,i[7])}return i}var f=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},m=function(e,t){return e>>>t};t.exports=function(e){return f.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,o,a,s,l,c){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1;for(i=e[t+d],d+=h,o=i&(1<<-u)-1,i>>=-u,u+=s;0<u;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;0<u;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=c}return(i?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l=8*o-i-1,c=(1<<l)-1,u=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+u?d/r:d*Math.pow(2,1-u))*r&&(a++,r/=2),c<=a+u?(s=0,a=c):1<=a+u?(s=(t*r-1)*Math.pow(2,i),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));8<=i;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,o,a,s,l,c){var u,d,h;function f(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,h="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:h?(u=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<u.length&&u.shift()())}),!0),function(e){u.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},4639:(e,t)=>{t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},1442:e=>{var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=t.exec(e||""),s={},l=14;l--;)s[n[l]]=a[l]||"";return-1!=i&&-1!=o&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},4948:(e,t,n)=>{"use strict";var r=n(9202);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5340:(e,t,n)=>{e.exports=n(4948)()},9202:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5769:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function C(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return C(e)||w(e)===u},t.isConcurrentMode=C,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===E||e.$$typeof===v)},t.typeOf=w},158:(e,t,n)=>{"use strict";e.exports=n(5769)},6826:(e,t,n)=>{"use strict";const r=n(9502),i=n(8790),o=n(9141),a=n(8159),s=n(5626),l=n(4175),c=n(3510),u=n(12);t.Z={parse:r.parse,unparse:i.unparse,validate:o.validate,version:a.version,v1:s.v1,v4:l.v4,v5:c.v5,NIL:u.NIL,DNS:u.DNS,URL:u.URL,OID:u.OID,X500:u.X500}},9502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const r=n(12);t.parse=(e,t,n)=>{let i=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(e=>(o<16&&t&&(t[i+o++]=r.hexToByte[e]),"")));o<16;)t[i+o++]=0;return t}},6668:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},7046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rng=void 0;t.rng=()=>{let e=new Array(16);for(let t=0;t<16;t++)e[t]=255&256*Math.random()+0;return e}},19:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.any_hmac_sha1=t.b64_hmac_sha1=t.hex_hmac_sha1=t.any_sha1=t.b64_sha1=t.hex_sha1=void 0;let n=0,r="";t.hex_sha1=e=>a(i(c(e))),t.default=t.hex_sha1;t.b64_sha1=e=>s(i(c(e)));t.any_sha1=(e,t)=>l(i(c(e)),t);t.hex_hmac_sha1=(e,t)=>a(o(c(e),c(t)));t.b64_hmac_sha1=(e,t)=>s(o(c(e),c(t)));t.any_hmac_sha1=(e,t,n)=>l(o(c(e),c(t)),n);const i=e=>d(h(u(e),8*e.length)),o=(e,t)=>{let n=u(e);n.length>16&&(n=h(n,8*e.length));let r=Array(16),i=Array(16);for(var o=0;o<16;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var a=h(r.concat(u(t)),512+8*t.length);return d(h(i.concat(a),672))},a=e=>{for(var t,r=n?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<e.length;o++)t=e.charCodeAt(o),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i},s=e=>{for(var t="",n=e.length,i=0;i<n;i+=3)for(var o=e.charCodeAt(i)<<16|(i+1<n?e.charCodeAt(i+1)<<8:0)|(i+2<n?e.charCodeAt(i+2):0),a=0;a<4;a++)8*i+6*a>8*e.length?t+=r:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>>6*(3-a)&63);return t},l=(e,t)=>{var n,r,i,o,a=t.length,s=[],l=Array(Math.ceil(e.length/2));for(n=0;n<l.length;n++)l[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);for(;l.length>0;){for(o=[],i=0,n=0;n<l.length;n++)i=(i<<16)+l[n],i-=(r=Math.floor(i/a))*a,(o.length>0||r>0)&&(o[o.length]=r);s[s.length]=i,l=o}var c="";for(n=s.length-1;n>=0;n--)c+=t.charAt(s[n]);var u=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2)));for(n=c.length;n<u;n++)c=t[0]+c;return c},c=e=>{for(var t,n,r="",i=-1;++i<e.length;)t=e.charCodeAt(i),n=i+1<e.length?e.charCodeAt(i+1):0,t>=55296&&t<=56319&&n>=56320&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),i++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r},u=e=>{for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t},d=e=>{for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t},h=(e,t)=>{e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,i=-271733879,o=-1732584194,a=271733878,s=-1009589776,l=0;l<e.length;l+=16){for(var c=r,u=i,d=o,h=a,v=s,y=0;y<80;y++){n[y]=y<16?e[l+y]:g(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);let t=m(m(g(r,5),f(y,i,o,a)),m(m(s,n[y]),p(y)));s=a,a=o,o=g(i,30),i=r,r=t}r=m(r,c),i=m(i,u),o=m(o,d),a=m(a,h),s=m(s,v)}return[r,i,o,a,s]},f=(e,t,n,r)=>e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r,p=e=>e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514,m=(e,t)=>{var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},g=(e,t)=>e<<t|e>>>32-t},8554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;const r=n(9141),i=[];for(let o=0;o<256;++o)i.push((o+256).toString(16).substr(1));t.stringify=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!r.validate(n))throw TypeError("Stringified UUID is invalid");return n}},8790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unparse=void 0;const r=n(12);t.unparse=(e,t)=>{let n=t||0,i=r.byteToHex;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}},12:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToString=t.stringToBytes=t.NIL=t.X500=t.OID=t.URL=t.DNS=t.hexToByte=t.byteToHex=void 0;let n=[],r={};for(var i=0;i<256;i++)n[i]=(i+256).toString(16).substr(1),r[n[i]]=i;t.byteToHex=n,t.hexToByte=r,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.OID="6ba7b812-9dad-11d1-80b4-00c04fd430c8",t.X500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",t.NIL="00000000-0000-0000-0000-000000000000";t.stringToBytes=e=>{e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t};t.bytesToString=e=>{const t=new Uint8Array(e,0,e.byteLength);return String.fromCharCode.apply(null,Array.from(t))}},5626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v1=void 0;const r=n(8554),i=n(7046);let o,a,s=0,l=0;t.v1=function(e,t){let n=t&&(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)||0;const c=t||new Uint8Array(16);let u=e&&e.node?e.node:o,d=e&&e.clockseq?e.clockseq:a;if(null==u||null==d){const t=e&&e.random?e.random:e&&e.rng?e.rng():i.rng();null==u&&(u=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=a=16383&(t[6]<<8|t[7]))}let h=e&&e.msecs?e.msecs:Date.now(),f=e&&e.nsecs?e.nsecs:l+1;const p=h-s+(f-l)/1e4;if(p<0&&e&&!e.clockseq&&(d=d+1&16383),(p<0||h>s)&&e&&!e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=f,a=d,h+=122192928e5;const m=(1e4*(268435455&h)+f)%4294967296;c[n++]=m>>>24&255,c[n++]=m>>>16&255,c[n++]=m>>>8&255,c[n++]=255&m;const g=h/4294967296*1e4&268435455;c[n++]=g>>>8&255,c[n++]=255&g,c[n++]=g>>>24&15|16,c[n++]=g>>>16&255,c[n++]=d>>>8|128,c[n++]=255&d;for(let r=0;r<6;++r)c[n+r]=u[r];return t||r.stringify(c)}},2558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v35=void 0;const r=n(8554),i=n(9502),o=n(12);t.v35=(e,t,n)=>function(e,a,s){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("string"===typeof e&&(e=o.stringToBytes(e)),"string"===typeof a&&(a=i.parse(a)),a&&16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(a),c.set(e,a.length),c=o.stringToBytes(n(o.bytesToString(c))),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s)for(let t=0;t<16;++t)s[l+t]=c[t];return s||r.stringify(c)}},4175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v4=void 0;const r=n(8790),i=n(7046);t.v4=(e,t,n)=>{let o=t&&n||0,a=i.rng();if(!e||e instanceof String||(e.random&&(a=e.random),e.rng&&(a=e.rng())),a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;s++)t[o+s]=a[s];return t||r.unparse(a)}},3510:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.v5=void 0;const i=n(2558),o=r(n(19));t.v5=i.v35("v5",80,o.default)},9141:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0;const i=r(n(6668));t.validate=e=>"string"===typeof e&&i.default.test(e)},8159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0;const r=n(9141);t.version=e=>{if(!r.validate(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},546:(e,t,n)=>{"use strict";var r=n(2791),i=n(4164),o=n(4617),a=n(8691),s=n(8687),l=n(2317);function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=c(r),d=c(i),h=c(o),f=c(s),p=c(l);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}var A={};var I=["explicitRef","className","style","size","disablePlaceholder","onSize"],M={monitorWidth:!0,monitorHeight:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function R(e){return e.displayName||e.name||"Component"}var L=function(e){C(n,e);var t=x(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"render",value:function(){return r.Children.only(this.props.children)}}]),n}(r.Component);function D(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},u.default.createElement("div",r)}E(L,"displayName","SizeMeReferenceWrapper"),D.displayName="SizeMePlaceholder";function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=e.monitorWidth,n=void 0===t?M.monitorWidth:t,r=e.monitorHeight,i=void 0===r?M.monitorHeight:r,o=e.refreshRate,s=void 0===o?M.refreshRate:o,l=e.refreshMode,c=void 0===l?M.refreshMode:l,p=e.noPlaceholder,m=void 0===p?M.noPlaceholder:p,y=e.resizeDetectorStrategy,S=void 0===y?M.resizeDetectorStrategy:y;h.default(n||i,'You have to monitor at least one of the width or height when using "sizeMe"'),h.default(s>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),h.default("throttle"===c||"debounce"===c,'The refreshMode should have a value of "throttle" or "debounce"');var T="throttle"===c?a.throttle:a.debounce;return function(e){var t=function(e){function t(t){var n=t.explicitRef,r=t.className,i=t.style,o=t.size,a=t.disablePlaceholder;t.onSize;var s=_(t,I),l=(null==o||null==o.width&&null==o.height)&&!a,c={className:r,style:i};null!=o&&(c.size=o);var d=l?u.default.createElement(D,{className:r,style:i}):u.default.createElement(e,w({},c,s));return u.default.createElement(L,{ref:n},d)}return t.displayName="SizeMeRenderer(".concat(R(e),")"),t}(e),r=function(e){C(o,e);var r=x(o);function o(){var e;v(this,o);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return E(k(e=r.call.apply(r,[this].concat(a))),"domEl",null),E(k(e),"state",{width:void 0,height:void 0}),E(k(e),"uninstall",(function(){if(e.domEl){try{e.detector.uninstall(e.domEl)}catch(t){console.warn("react-sizeme: an error occurred whilst stopping to listen to node size changes")}e.domEl=null}})),E(k(e),"determineStrategy",(function(t){t.onSize?(e.callbackState||(e.callbackState=g({},e.state)),e.strategy="callback"):e.strategy="render"})),E(k(e),"strategisedSetState",(function(t){"callback"===e.strategy&&(e.callbackState=t,e.props.onSize(t)),e.setState(t)})),E(k(e),"strategisedGetState",(function(){return"callback"===e.strategy?e.callbackState:e.state})),E(k(e),"refCallback",(function(t){e.element=t})),E(k(e),"hasSizeChanged",(function(e,t){var r=e,o=t;return n&&r.width!==o.width||i&&r.height!==o.height})),E(k(e),"checkIfSizeChanged",T(s,(function(t){var r=t.getBoundingClientRect(),o=r.width,a=r.height,s={width:n?o:null,height:i?a:null};e.hasSizeChanged(e.strategisedGetState(),s)&&e.strategisedSetState(s)}))),e}return b(o,[{key:"componentDidMount",value:function(){this.detector=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return A[e]||(A[e]=f.default({strategy:e})),A[e]}(S),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&d.default.findDOMNode(this.element);e?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=O.enableSSRBehaviour||O.noPlaceholders||m||"callback"===this.strategy,n=g({},this.state);return u.default.createElement(t,w({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),o}(u.default.Component);return E(r,"displayName","SizeMe(".concat(R(e),")")),r.WrappedComponent=e,r}}O.enableSSRBehaviour=!1,O.noPlaceholders=!1;var P=["children","render"],N=["children","render"],F=["children","render"],j=function(e){C(n,e);var t=x(n);function n(e){var r;v(this,n),E(k(r=t.call(this,e)),"createComponent",(function(e){r.SizeAware=O(e)((function(e){return e.children}))})),E(k(r),"onSize",(function(e){return r.setState({size:e})})),e.children,e.render;var i=_(e,P);return r.createComponent(i),r.state={size:{width:void 0,height:void 0}},r}return b(n,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.children,t.render;var n=_(t,N);e.children,e.render;var r=_(e,F);p.default(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return u.default.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),n}(r.Component);E(j,"defaultProps",{children:void 0,render:void 0}),O.SizeMe=j,O.withSize=O,e.exports=O},6780:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowContainer=void 0;var i=n(184),o=n(2791),a=n(6446);t.ArrowContainer=function(e){var t=e.childRect,n=e.popoverRect,s=e.position,l=e.arrowColor,c=e.arrowSize,u=e.arrowClassName,d=e.arrowStyle,h=e.className,f=e.children,p=e.style,m=a.useArrowContainer({childRect:t,popoverRect:n,position:s,arrowColor:l,arrowSize:c}),g=m.arrowContainerStyle,v=m.arrowStyle,y=o.useMemo((function(){return r(r({},g),p)}),[g,p]),b=o.useMemo((function(){return r(r({},v),d)}),[v,d]);return i.jsxs("div",r({className:h,style:y},{children:[i.jsx("div",{style:b,className:u},void 0),f]}),void 0)}},6966:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Popover=t.usePopover=t.ArrowContainer=t.useArrowContainer=void 0;var i=n(184),o=n(2791),a=n(2678),s=n(659),l=n(2516);Object.defineProperty(t,"usePopover",{enumerable:!0,get:function(){return l.usePopover}});var c=n(6184),u=n(6446);Object.defineProperty(t,"useArrowContainer",{enumerable:!0,get:function(){return u.useArrowContainer}});var d=n(6780);Object.defineProperty(t,"ArrowContainer",{enumerable:!0,get:function(){return d.ArrowContainer}});var h=["top","left","right","bottom"],f=o.forwardRef((function(e,t){var n=e.isOpen,u=e.children,d=e.content,f=e.positions,p=void 0===f?h:f,m=e.align,g=void 0===m?"center":m,v=e.padding,y=void 0===v?0:v,b=e.reposition,E=void 0===b||b,w=e.parentElement,C=void 0===w?window.document.body:w,S=e.boundaryElement,T=void 0===S?C:S,_=e.containerClassName,k=void 0===_?"react-tiny-popover-container":_,x=e.containerStyle,A=e.contentLocation,I=e.boundaryInset,M=void 0===I?0:I,R=e.onClickOutside,L=e.clickOutsideCapture,D=void 0!==L&&L,O=c.useMemoizedArray(p),P=o.useRef(!1),N=o.useRef(),F=o.useRef(),j=o.useRef(E),B=o.useRef(),U=o.useState({align:g,nudgedLeft:0,nudgedTop:0,position:O[0],padding:y,childRect:s.EMPTY_CLIENT_RECT,popoverRect:s.EMPTY_CLIENT_RECT,parentRect:s.EMPTY_CLIENT_RECT,boundaryRect:s.EMPTY_CLIENT_RECT,boundaryInset:M,violations:s.EMPTY_CLIENT_RECT,hasViolations:!1}),z=U[0],H=U[1],V=o.useCallback((function(e){return H(e)}),[]),q=l.usePopover({isOpen:n,childRef:B,containerClassName:k,parentElement:C,boundaryElement:T,contentLocation:A,positions:O,align:g,padding:y,boundaryInset:M,reposition:E,onPositionPopover:V}),G=q.positionPopover,W=q.popoverRef,K=q.scoutRef;o.useLayoutEffect((function(){var e=!0,t=function(){var r,i;if(n&&e){var o=null===(r=null===B||void 0===B?void 0:B.current)||void 0===r?void 0:r.getBoundingClientRect(),a=null===(i=null===W||void 0===W?void 0:W.current)||void 0===i?void 0:i.getBoundingClientRect();null==o||null==a||s.rectsAreEqual(o,{top:z.childRect.top,left:z.childRect.left,width:z.childRect.width,height:z.childRect.height,bottom:z.childRect.top+z.childRect.height,right:z.childRect.left+z.childRect.width})&&a.width===z.popoverRect.width&&a.height===z.popoverRect.height&&z.padding===y&&z.align===g&&O===N.current&&A===F.current&&E===j.current||G(),O!==N.current&&(N.current=O),A!==F.current&&(F.current=A),E!==j.current&&(j.current=E),e&&window.requestAnimationFrame(t)}P.current=n};return window.requestAnimationFrame(t),function(){e=!1}}),[g,A,n,y,W,z.align,z.childRect.height,z.childRect.left,z.childRect.top,z.childRect.width,z.padding,z.popoverRect.height,z.popoverRect.width,G,O,E]),o.useEffect((function(){var e=W.current;return Object.assign(e.style,x),function(){Object.keys(null!==x&&void 0!==x?x:{}).forEach((function(t){return delete e.style[t]}))}}),[x,n,W]);var Y=o.useCallback((function(e){var t,r;!n||(null===(t=W.current)||void 0===t?void 0:t.contains(e.target))||(null===(r=B.current)||void 0===r?void 0:r.contains(e.target))||null===R||void 0===R||R(e)}),[n,R,W]),Q=o.useCallback((function(){B.current&&window.requestAnimationFrame((function(){return G()}))}),[G]);o.useEffect((function(){var e=C.ownerDocument.body;return e.addEventListener("click",Y,D),e.addEventListener("contextmenu",Y,D),e.addEventListener("resize",Q),function(){e.removeEventListener("click",Y,D),e.removeEventListener("contextmenu",Y,D),e.removeEventListener("resize",Q)}}),[D,Y,Q,C]);var Z=o.useCallback((function(e){B.current=e,null!=t&&("object"===typeof t?t.current=e:"function"===typeof t&&t(e))}),[t]);return i.jsxs(i.Fragment,{children:[o.cloneElement(u,{ref:Z}),n?i.jsx(a.PopoverPortal,r({element:W.current,scoutElement:K.current,container:C},{children:"function"===typeof d?d(z):d}),void 0):null]},void 0)}));t.Popover=o.forwardRef((function(e,t){return"undefined"===typeof window?e.children:i.jsx(f,r({},e,{ref:t}),void 0)}))},2678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverPortal=void 0;var r=n(2791),i=n(4164);t.PopoverPortal=function(e){var t=e.container,n=e.element,o=e.scoutElement,a=e.children;return r.useLayoutEffect((function(){return t.appendChild(n),t.appendChild(o),function(){t.removeChild(n),t.removeChild(o)}}),[t,n,o]),i.createPortal(a,n)}},6446:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useArrowContainer=void 0;var i=n(2791);t.useArrowContainer=function(e){var t=e.childRect,n=e.popoverRect,o=e.position,a=e.arrowSize,s=e.arrowColor;return{arrowContainerStyle:i.useMemo((function(){return{padding:a}}),[a]),arrowStyle:i.useMemo((function(){return r({position:"absolute"},function(){var e=2*a,r=t.top-n.top+t.height/2-e/2,i=t.left-n.left+t.width/2-e/2,l=a,c=n.width-a,u=n.height-a;switch(i=(i=i<l?l:i)+e>c?c-e:i,r=(r=r<l?l:r)+e>u?u-e:r,r=Number.isNaN(r)?0:r,i=Number.isNaN(i)?0:i,o){case"right":return{borderTop:a+"px solid transparent",borderBottom:a+"px solid transparent",borderRight:a+"px solid "+s,left:0,top:r};case"left":return{borderTop:a+"px solid transparent",borderBottom:a+"px solid transparent",borderLeft:a+"px solid "+s,right:0,top:r};case"bottom":return{borderLeft:a+"px solid transparent",borderRight:a+"px solid transparent",borderBottom:a+"px solid "+s,top:0,left:i};case"top":return{borderLeft:a+"px solid transparent",borderRight:a+"px solid transparent",borderTop:a+"px solid "+s,bottom:0,left:i};default:return{display:"hidden"}}}())}),[s,a,t.height,t.left,t.top,t.width,n.height,n.left,n.top,n.width,o])}}},5118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useElementRef=void 0;var r=n(2791),i=n(659);t.useElementRef=function(e,t){var n=r.useRef(),o=r.useMemo((function(){return i.createContainer(t,e)}),[e,t]);return n.current=o,n}},6184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoizedArray=void 0;var r=n(2791);t.useMemoizedArray=function(e){var t=r.useRef(e);return r.useMemo((function(){if(t.current===e)return t.current;if(t.current.length!==e.length)return t.current=e,e;for(var n=0;n<e.length;n+=1)if(e[n]!==t.current[n])return t.current=e,e;return t.current}),[e])}},2516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePopover=void 0;var r=n(2791),i=n(659),o=n(5118),a={position:"fixed",overflow:"visible",top:"0px",left:"0px"},s={position:"fixed",top:"0px",left:"0px",width:"0px",height:"0px",visibility:"hidden"};t.usePopover=function(e){var t=e.isOpen,n=e.childRef,l=e.positions,c=e.containerClassName,u=e.parentElement,d=e.contentLocation,h=e.align,f=e.padding,p=e.reposition,m=e.boundaryInset,g=e.boundaryElement,v=e.onPositionPopover,y=o.useElementRef(c,a),b=o.useElementRef("react-tiny-popover-scout",s),E=r.useCallback((function(e){var r,o,a=void 0===e?{}:e,s=a.positionIndex,c=void 0===s?0:s,w=a.parentRect,C=void 0===w?u.getBoundingClientRect():w,S=a.childRect,T=void 0===S?null===(r=null===n||void 0===n?void 0:n.current)||void 0===r?void 0:r.getBoundingClientRect():S,_=a.scoutRect,k=void 0===_?null===(o=null===b||void 0===b?void 0:b.current)||void 0===o?void 0:o.getBoundingClientRect():_,x=a.popoverRect,A=void 0===x?y.current.getBoundingClientRect():x,I=a.boundaryRect,M=void 0===I?g===u?C:g.getBoundingClientRect():I;if(T&&C&&t){if(d){var R="function"===typeof d?d({childRect:T,popoverRect:A,parentRect:C,boundaryRect:M,padding:f,nudgedTop:0,nudgedLeft:0,boundaryInset:m,violations:i.EMPTY_CLIENT_RECT,hasViolations:!1}):d,L=R.top,D=R.left,O=Math.round(C.left+D-k.left),P=Math.round(C.top+L-k.top);return y.current.style.transform="translate("+O+"px, "+P+"px)",void v({childRect:T,popoverRect:A,parentRect:C,boundaryRect:M,padding:f,nudgedTop:0,nudgedLeft:0,boundaryInset:m,violations:i.EMPTY_CLIENT_RECT,hasViolations:!1})}var N=c===l.length,F=N?l[0]:l[c],j=i.getNewPopoverRect({childRect:T,popoverRect:A,boundaryRect:M,position:F,align:h,padding:f,reposition:p},m),B=j.rect;if(j.boundaryViolation&&p&&!N)E({positionIndex:c+1,childRect:T,popoverRect:A,parentRect:C,boundaryRect:M});else{var U=B.top,z=B.left,H=B.width,V=B.height,q=p&&!N,G=i.getNudgedPopoverRect(B,M,m),W=G.left,K=G.top,Y=U,Q=z;q&&(Y=K,Q=W),Y=Math.round(Y-k.top),Q=Math.round(Q-k.left),y.current.style.transform="translate("+Q+"px, "+Y+"px)";var Z={top:M.top+m-Y,left:M.left+m-Q,right:Q+H-M.right+m,bottom:Y+V-M.bottom+m};v({childRect:T,popoverRect:{top:Y,left:Q,width:H,height:V,right:Q+H,bottom:Y+V},parentRect:C,boundaryRect:M,position:F,align:h,padding:f,nudgedTop:K-U,nudgedLeft:W-z,boundaryInset:m,violations:{top:Z.top<=0?0:Z.top,left:Z.left<=0?0:Z.left,right:Z.right<=0?0:Z.right,bottom:Z.bottom<=0?0:Z.bottom},hasViolations:Z.top>0||Z.left>0||Z.right>0||Z.bottom>0})}}}),[u,n,b,y,g,t,d,l,h,f,p,m,v]);return{positionPopover:E,popoverRef:y,scoutRef:b}}},659:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNudgedPopoverRect=t.getNewPopoverRect=t.popoverRectForPosition=t.createContainer=t.rectsAreEqual=t.EMPTY_CLIENT_RECT=void 0,t.EMPTY_CLIENT_RECT={top:0,left:0,bottom:0,height:0,right:0,width:0};t.rectsAreEqual=function(e,t){return e===t||(null===e||void 0===e?void 0:e.bottom)===(null===t||void 0===t?void 0:t.bottom)&&(null===e||void 0===e?void 0:e.height)===(null===t||void 0===t?void 0:t.height)&&(null===e||void 0===e?void 0:e.left)===(null===t||void 0===t?void 0:t.left)&&(null===e||void 0===e?void 0:e.right)===(null===t||void 0===t?void 0:t.right)&&(null===e||void 0===e?void 0:e.top)===(null===t||void 0===t?void 0:t.top)&&(null===e||void 0===e?void 0:e.width)===(null===t||void 0===t?void 0:t.width)};t.createContainer=function(e,t){var n=window.document.createElement("div");return t&&(n.className=t),Object.assign(n.style,e),n};t.popoverRectForPosition=function(e,t,n,r,i){var o,a,s=t.left+t.width/2,l=t.top+t.height/2,c=n.width,u=n.height;switch(e){case"left":o=l-u/2,a=t.left-r-c,"start"===i&&(o=t.top),"end"===i&&(o=t.bottom-u);break;case"bottom":o=t.bottom+r,a=s-c/2,"start"===i&&(a=t.left),"end"===i&&(a=t.right-c);break;case"right":o=l-u/2,a=t.right+r,"start"===i&&(o=t.top),"end"===i&&(o=t.bottom-u);break;default:o=t.top-u-r,a=s-c/2,"start"===i&&(a=t.left),"end"===i&&(a=t.right-c)}return{top:o,left:a,width:c,height:u,right:a+c,bottom:o+u}};t.getNewPopoverRect=function(e,n){var r=e.position,i=e.align,o=e.childRect,a=e.popoverRect,s=e.boundaryRect,l=e.padding,c=e.reposition,u=t.popoverRectForPosition(r,o,a,l,i);return{rect:u,boundaryViolation:c&&("top"===r&&u.top<s.top+n||"left"===r&&u.left<s.left+n||"right"===r&&u.right>s.right-n||"bottom"===r&&u.bottom>s.bottom-n)}};t.getNudgedPopoverRect=function(e,t,n){var r=t.top+n,i=t.left+n,o=t.right-n,a=t.bottom-n,s=e.top<r?r:e.top;s=s+e.height>a?a-e.height:s;var l=e.left<i?i:e.left;return{top:s,left:l=l+e.width>o?o-e.width:l,width:e.width,height:e.height,right:l+e.width,bottom:s+e.height}}},9480:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNavigator=t.isBrowser=t.off=t.on=t.noop=void 0;t.noop=function(){},t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)},t.isBrowser="undefined"!==typeof window,t.isNavigator="undefined"!==typeof navigator},3348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2791);t.default=function(e){r.useEffect(e,[])}},6508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2791),i=n(9480).isBrowser?r.useLayoutEffect:r.useEffect;t.default=i},3965:(e,t,n)=>{"use strict";var r=n(1428),i=n(2791),o=r.__importDefault(n(6508)),a=n(9480),s={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};t.Z=a.isBrowser&&"undefined"!==typeof window.ResizeObserver?function(){var e=i.useState(null),t=e[0],n=e[1],r=i.useState(s),a=r[0],l=r[1],c=i.useMemo((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,i=t.width,o=t.height,a=t.top,s=t.left,c=t.bottom,u=t.right;l({x:n,y:r,width:i,height:o,top:a,left:s,bottom:c,right:u})}}))}),[]);return o.default((function(){if(t)return c.observe(t),function(){c.disconnect()}}),[t]),[n,a]}:function(){return[a.noop,s]}},9386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1428),i=n(2791),o=r.__importDefault(n(3029));t.default=function(e){var t=i.useRef(0),n=i.useState(e),r=n[0],a=n[1],s=i.useCallback((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){a(e)}))}),[]);return o.default((function(){cancelAnimationFrame(t.current)})),[r,s]}},5828:(e,t,n)=>{"use strict";var r=n(1428),i=n(2791),o=r.__importDefault(n(9386)),a=n(9480);t.Z=function(e){var t=o.default({x:0,y:0}),n=t[0],r=t[1];return i.useEffect((function(){var t=function(){e.current&&r({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&a.on(e.current,"scroll",t,{capture:!1,passive:!0}),function(){e.current&&a.off(e.current,"scroll",t)}}),[e]),n}},3029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1428),i=n(2791),o=r.__importDefault(n(3348));t.default=function(e){var t=i.useRef(e);t.current=e,o.default((function(){return function(){return t.current()}}))}},2317:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},4419:(e,t,n)=>{var r=n(2547),i=n(8184),o=n(1377),a=n(2171)("socket.io-client");e.exports=t=l;var s=t.managers={};function l(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),l=i.source,c=i.id,u=i.path,d=s[c]&&u in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",l),n=o(l,t)):(s[c]||(a("new io instance for %s",l),s[c]=o(l,t)),n=s[c]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=l,t.Manager=n(1377),t.Socket=n(8951)},1377:(e,t,n)=>{var r=n(9243),i=n(8951),o=n(4095),a=n(8184),s=n(5114),l=n(3587),c=n(2171)("socket.io-client:manager"),u=n(1575),d=n(9439),h=Object.prototype.hasOwnProperty;function f(e,t){if(!(this instanceof f))return new f(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=f,f.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},f.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},f.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(f.prototype),f.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},f.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},f.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){i.onopen(),e&&e()})),a=s(n,"error",(function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l);var u=setTimeout((function(){c("connect attempt timed out after %d",l),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",l)}),l);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(o),this.subs.push(a),this},f.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",l(this,"ondata"))),this.subs.push(s(e,"ping",l(this,"onping"))),this.subs.push(s(e,"pong",l(this,"onpong"))),this.subs.push(s(e,"error",l(this,"onerror"))),this.subs.push(s(e,"close",l(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",l(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(e){this.decoder.add(e)},f.prototype.ondecoded=function(e){this.emit("packet",e)},f.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},f.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&o()}function o(){~u(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},f.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},f.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},5114:e=>{e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},8951:(e,t,n)=>{var r=n(8184),i=n(4095),o=n(8094),a=n(5114),s=n(3587),l=n(2171)("socket.io-client:socket"),c=n(4639),u=n(6008);e.exports=f;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;function f(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(d.hasOwnProperty(e))return h.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?c.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);l("sending ack %j",i),t.packet({type:u(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},f.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags.compress=e,this},f.prototype.binary=function(e){return this.flags.binary=e,this}},2547:(e,t,n)=>{var r=n(1442),i=n(2171)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},2171:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(3635)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},3635:(e,t,n)=>{function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var o=a[l];n=i.call(e,o),a.splice(l,1),l--}return n})),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(3631),t.instances=[],t.names=[],t.skips=[],t.formatters={}},3631:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return s.long?a(l=e,i,"day")||a(l,r,"hour")||a(l,n,"minute")||a(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1152:(e,t,n)=>{var r=n(129),i=n(1203),o=Object.prototype.toString,a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);function l(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=l(e[a],t);return o}if("object"===typeof e&&!(e instanceof Date)){o={};for(var s in e)o[s]=l(e[s],t);return o}return e}function c(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(r(e))for(var n=0;n<e.length;n++)e[n]=c(e[n],t);else if("object"===typeof e)for(var i in e)e[i]=c(e[i],t);return e}t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=l(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=c(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(l,c,u){if(!l)return l;if(a&&l instanceof Blob||s&&l instanceof File){n++;var d=new FileReader;d.onload=function(){u?u[c]=this.result:o=this.result,--n||t(o)},d.readAsArrayBuffer(l)}else if(r(l))for(var h=0;h<l.length;h++)e(l[h],h,l);else if("object"===typeof l&&!i(l))for(var f in l)e(l[f],f,l)}(o),n||t(o)}},8184:(e,t,n)=>{var r=n(1839)("socket.io-parser"),i=n(1743),o=n(1152),a=n(129),s=n(1203);function l(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=l,t.Decoder=d;var c=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return c;n+=i}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function h(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:t.ERROR,data:"parser error: "+e}}l.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function n(e){var n=o.deconstructPacket(e),r=u(n.packet),i=n.buffers;i.unshift(r),t(i)}o.removeBlobs(e,n)}(e,n):n([u(e)])},i(d.prototype),d.prototype.add=function(e){var n;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return f("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var s=e.substring(o,n);if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(n+1)){for(o=n+1;++n;){if(","===(c=e.charAt(n)))break;if(n===e.length)break}i.nsp=e.substring(o,n)}else i.nsp="/";var l=e.charAt(n+1);if(""!==l&&Number(l)==l){for(o=n+1;++n;){var c;if(null==(c=e.charAt(n))||Number(c)!=c){--n;break}if(n===e.length)break}i.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!(!1!==u&&(i.type===t.ERROR||a(u))))return f("invalid payload");i.data=u}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)}else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},1203:e=>{e.exports=function(e){return t&&Buffer.isBuffer(e)||n&&(e instanceof ArrayBuffer||r(e))};var t="function"===typeof Buffer&&"function"===typeof Buffer.isBuffer,n="function"===typeof ArrayBuffer,r=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}},1743:e=>{function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},1839:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(2663)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},2663:(e,t,n)=>{function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"===typeof i){var o=a[l];n=i.call(e,o),a.splice(l,1),l--}return n})),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(5929),t.instances=[],t.names=[],t.skips=[],t.formatters={}},129:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},5929:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var l,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return s.long?a(l=e,i,"day")||a(l,r,"hour")||a(l,n,"minute")||a(l,t,"second")||l+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8094:e=>{e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},8767:e=>{"use strict";var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r=64,i={},o=0,a=0;function s(e){var t="";do{t=n[e%r]+t,e=Math.floor(e/r)}while(e>0);return t}function l(){var e=s(+new Date);return e!==t?(o=0,t=e):e+"."+s(o++)}for(;a<r;a++)i[n[a]]=a;l.encode=s,l.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=t*r+i[e.charAt(a)];return t},e.exports=l},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var N,F=Object.assign;function j(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case _:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,Te=null;function _e(e){if(e=bi(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ce(e.stateNode,e.type,t))}}function ke(e){Se?Te?Te.push(e):Te=[e]:Se=e}function xe(){if(Se){var e=Se,t=Te;if(Te=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ae(e,t){return e(t)}function Ie(){}var Me=!1;function Re(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ae(e,t,n)}finally{Me=!1,(null!==Se||null!==Te)&&(Ie(),xe())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Pe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ne=!1,Fe=null,je=!1,Be=null,Ue={onError:function(e){Ne=!0,Fe=e}};function ze(e,t,n,r,i,o,a,s,l){Ne=!1,Fe=null,Pe.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(He(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Ct,St,Tt,_t,kt=!1,xt=[],At=null,It=null,Mt=null,Rt=new Map,Lt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function Ut(){kt=!1,null!==At&&jt(At)&&(At=null),null!==It&&jt(It)&&(It=null),null!==Mt&&jt(Mt)&&(Mt=null),Rt.forEach(Bt),Lt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==It&&zt(It,e),null!==Mt&&zt(Mt,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Vt=E.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Nt(At,e,t,n,r,i),!0;case"dragenter":return It=Nt(It,e,t,n,r,i),!0;case"mouseover":return Mt=Nt(Mt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Nt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,Nt(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),En=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return Tn}var kn=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(kn),An=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Mn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Rn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Nn=u&&"TextEvent"in window&&!Pn,Fn=u&&(!On||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Yn(e){jr(e,0)}function Qn(e){if(K(Ei(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function _r(e){if(Sr[e])return Sr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var kr=_r("animationend"),xr=_r("animationiteration"),Ar=_r("animationstart"),Ir=_r("transitionend"),Mr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Mr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(kr,"onAnimationEnd"),Lr(xr,"onAnimationIteration"),Lr(Ar,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var u=Fe;Ne=!1,Fe=null,je||(je=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Zt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=we(n),a=[];e:{var s=Mr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case kr:case xr:case Ar:l=vn;break;case Ir:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Le(p,h))&&u.push(Gr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Ei(l),f=null==c?s:Ei(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?Ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(qn(s))if($n)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Ei(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Er(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Hn=!0)),0<(v=Wr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Jt=Xt=$t=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Le(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Le(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Le(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Zr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Ci=[],Si=-1;function Ti(e){return{current:e}}function _i(e){0>Si||(e.current=Ci[Si],Ci[Si]=null,Si--)}function ki(e,t){Si++,Ci[Si]=e.current,e.current=t}var xi={},Ai=Ti(xi),Ii=Ti(!1),Mi=xi;function Ri(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){_i(Ii),_i(Ai)}function Oi(e,t,n){if(Ai.current!==xi)throw Error(o(168));ki(Ai,t),ki(Ii,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Mi=Ai.current,ki(Ai,e),ki(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,_i(Ii),_i(Ai),ki(Ai,e)):_i(Ii),ki(Ii,n)}var ji=null,Bi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Hi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Je,Hi),i}finally{bt=t,Ui=!1}}return null}var Vi=[],qi=0,Gi=null,Wi=0,Ki=[],Yi=0,Qi=null,Zi=1,$i="";function Xi(e,t){Vi[qi++]=Wi,Vi[qi++]=Gi,Gi=e,Wi=t}function Ji(e,t,n){Ki[Yi++]=Zi,Ki[Yi++]=$i,Ki[Yi++]=Qi,Qi=e;var r=Zi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Zi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Gi;)Gi=Vi[--qi],Vi[qi]=null,Wi=Vi[--qi],Vi[qi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,$i=Ki[--Yi],Ki[Yi]=null,Zi=Ki[--Yi],Ki[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Zi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=E.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ti(null),bo=null,Eo=null,wo=null;function Co(){wo=Eo=bo=null}function So(e){var t=yo.current;_i(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){bo=e,wo=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Es=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===bo)throw Error(o(308));Eo=e,bo.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var xo=null;function Ao(e){null===xo?xo=[e]:xo.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function No(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(rc(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(rc(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Po(e,i,r))&&(rc(t,e,r,n),No(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Li(t)?Mi:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Li(t)?Mi:Ai.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Zo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===L&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case C:return(t=Bc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Nc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case L:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,s,l,c){var u=P(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ko(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Nc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=Ko(r,o,a),l.return=r,r=l)}return s(r);case C:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(a,r.mode,l)).return=r,r=o}return s(r);case L:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(P(a))return g(r,o,a,l);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var $o=Zo(!0),Xo=Zo(!1),Jo={},ea=Ti(Jo),ta=Ti(Jo),na=Ti(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(ki(na,t),ki(ta,e),ki(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(ea),ki(ea,t)}function oa(){_i(ea),_i(ta),_i(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(ki(ta,e),ki(ea,n))}function sa(e){ta.current===e&&(_i(ea),_i(ta))}var la=Ti(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=E.ReactCurrentDispatcher,fa=E.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,Ea=0,wa=0;function Ca(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,Ea=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function _a(){var e=0!==Ea;return Ea=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function xa(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Aa(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(Es=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ma(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Es=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function La(e,t){var n=ma,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,Es=!0),r=r.queue,qa(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ba(9,Oa.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Fa(e)}function Pa(e,t,n){return n((function(){Na(t)&&Fa(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Mo(e,1);null!==t&&rc(t,e,1,-1)}function ja(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return xa().memoizedState}function za(e,t,n,r){var i=ka();ma.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Ba(t,n,o,r))}ma.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function Va(e,t){return za(8390656,8,e,t)}function qa(e,t){return Ha(2048,8,e,t)}function Ga(e,t){return Ha(4,2,e,t)}function Wa(e,t){return Ha(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Za(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Es=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return xa().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Io(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Io(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:ko,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:ja,useDebugValue:Qa,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ja.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ml)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Ml.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=Ea++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ko,useCallback:Za,useContext:ko,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:$a,useReducer:Ia,useRef:Ua,useState:function(){return Ia(Aa)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(xa(),ga.memoizedState,e)},useTransition:function(){return[Ia(Aa)[0],xa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1},cs={readContext:ko,useCallback:Za,useContext:ko,useEffect:qa,useImperativeHandle:Ya,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:$a,useReducer:Ma,useRef:Ua,useState:function(){return Ma(Aa)},useDebugValue:Qa,useDeferredValue:function(e){var t=xa();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[Ma(Aa)[0],xa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Wl=r),hs(0,t)},n}function ms(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=E.ReactCurrentOwner,Es=!1;function ws(e,t,n,r){t.child=null===e?Xo(t,null,n,r):$o(t,e.child,n,r)}function Cs(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=Ta(e,t,n,r,o,i),n=_a(),null===e||Es?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(Es=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(Es=!0)}}return xs(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Ol,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Ol,Dl),Dl|=r;return ws(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=Li(n)?Mi:Ai.current;return o=Ri(t,o),_o(t,i),n=Ta(e,t,n,r,o,i),r=_a(),null===e||Es?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(Li(n)){var o=!0;Ni(t)}else o=!1;if(_o(t,i),null===t.stateNode)qs(e,t),qo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ko(c):c=Ri(t,c=Li(n)?Mi:Ai.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Go(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ii.current||Ro?("function"===typeof u&&(zo(t,n,u,r),l=t.memoizedState),(s=Ro||Vo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ko(l):l=Ri(t,l=Li(n)?Mi:Ai.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Go(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ii.current||Ro?("function"===typeof f&&(zo(t,n,f,r),p=t.memoizedState),(c=Ro||Vo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Rs(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ls,Ds,Os,Ps,Ns={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,i,0,null),e=Nc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ns,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Nc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),Es||l){if(null!==(r=Ml)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),rc(r,e,i,-1))}return gc(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Yi++]=Zi,Ki[Yi++]=$i,Ki[Yi++]=Qi,Zi=e.id,$i=e.overflow,Qi=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Nc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),$o(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Hs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Li(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,oa(),_i(Ii),_i(Ai),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ds(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Br(Pr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Z(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Br(Pr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Z(e,r),i=Q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(_i(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Pl&&(Pl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Ds(e,t),null===e&&Hr(t.stateNode.containerInfo),Ks(t),null;case 10:return So(t.type._context),Ks(t),null;case 19:if(_i(la),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Vl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*$e()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=la.current,ki(la,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Li(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),_i(Ii),_i(Ai),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(_i(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(la),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$s&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fl(e,t,n),$s=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){_c(e,e.return,g)}try{rl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){_c(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){_c(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=$e())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(u=$s)||d,gl(t,e),$s=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(h);continue}}null!==p?(p.return=f,Js=p):Cl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Zs;var c=$s;if(Zs=a,($s=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,El(o,t,n),o=o.sibling;Js=i,Zs=s,$s=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ol(t)}catch(f){_c(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Cl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var o=t.return;try{ol(t)}catch(l){_c(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Tl,_l=Math.ceil,kl=E.ReactCurrentDispatcher,xl=E.ReactCurrentOwner,Al=E.ReactCurrentBatchConfig,Il=0,Ml=null,Rl=null,Ll=0,Dl=0,Ol=Ti(0),Pl=0,Nl=null,Fl=0,jl=0,Bl=0,Ul=null,zl=null,Hl=0,Vl=1/0,ql=null,Gl=!1,Wl=null,Kl=null,Yl=!1,Ql=null,Zl=0,$l=0,Xl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Il)?$e():-1!==Jl?Jl:Jl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Ll?Ll&-Ll:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Ml||(e===Ml&&(0===(2&Il)&&(jl|=n),4===Pl&&lc(e,Ll)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Vl=$e()+500,Bi&&Hi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Ml?Ll:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai((function(){0===(6&Il)&&Hi()})),n=null;else{switch(Et(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ml?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var a=mc();for(Ml===e&&Ll===t||(ql=null,Vl=$e()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Co(),kl.current=a,Il=i,null!==Rl?t=0:(Ml=null,Ll=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Nl,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Nl,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Cc(e,zl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Hl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cc.bind(null,e,zl,ql),t);break}Cc(e,zl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ri(Cc.bind(null,e,zl,ql),r);break}Cc(e,zl,ql);break;default:throw Error(o(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Nl,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cc(e,zl,ql),ic(e,$e()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Vl=$e()+500,Bi&&Hi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Il)&&Sc();var t=Il;Il|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(Il=t))&&Hi()}}function hc(){Dl=Ol.current,_i(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),_i(Ii),_i(Ai),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:_i(la);break;case 10:So(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ml=e,Rl=e=Oc(e.current,null),Ll=Dl=t,Pl=0,Nl=null,Bl=jl=Fl=0,zl=Ul=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Co(),ha.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,ba=!1,Ea=0,xl.current=null,null===n||null===n.return){Pl=1,Nl=t,Rl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Pl&&(Pl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(E){t=E,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=as,null===e?as:e}function gc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Ml||0===(268435455&Fl)&&0===(268435455&jl)||lc(Ml,Ll)}function vc(e,t){var n=Il;Il|=2;var r=mc();for(Ml===e&&Ll===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Co(),Il=n,kl.current=r,null!==Rl)throw Error(o(261));return Ml=null,Ll=0,Pl}function yc(){for(;null!==Rl;)Ec(Rl)}function bc(){for(;null!==Rl&&!Qe();)Ec(Rl)}function Ec(e){var t=Tl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,xl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Pl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Pl&&(Pl=5)}function Cc(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ml&&(Rl=Ml=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Mc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var s=bt;bt=1;var l=Il;Il|=4,xl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;1===E.nodeType?E.textContent="":9===E.nodeType&&E.documentElement&&E.removeChild(E.documentElement);break;default:throw Error(o(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Il=l,bt=s,Al.transition=a}else e.current=n;if(Yl&&(Yl=!1,Ql=e,Zl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Wl,Wl=null,e;0!==(1&Zl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Xl?$l++:($l=0,Xl=e):$l=0,Hi()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=Et(Zl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Zl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var E=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==E)E.return=s,Js=E;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(C){_c(l,l.return,C)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Il=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function Tc(e,t,n){e=Po(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Po(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Ll&n)===n&&(4===Pl||3===Pl&&(130023424&Ll)===Ll&&500>$e()-Hl?fc(e,0):Bl|=n),ic(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Mo(e,t))&&(vt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xc(e,n)}function Mc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Nc(n.children,i,a,t);case T:s=8,i|=8;break;case _:return(e=Lc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case I:return(e=Lc(13,n,t,i)).elementType=I,e.lanes=a,e;case M:return(e=Lc(19,n,t,i)).elementType=M,e.lanes=a,e;case D:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case x:s=9;break e;case A:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Lc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Hc(e){if(!e)return xi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Li(n))return Pi(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Hc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(i,t,a))&&(rc(e,i,a,o),No(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)Es=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Es=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),po();break;case 5:aa(t);break;case 1:Li(t.type)&&Ni(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(ki(la,1&la.current),null!==(e=Gs(e,t,n))?e.sibling:null);ki(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Gs(e,t,n)}(e,t,n);Es=0!==(131072&e.flags)}else Es=!1,io&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ri(t,Ai.current);_o(t,n),i=Ta(null,t,r,e,i,n);var a=_a();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=vo(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ms(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=ko(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ss(e,t,r,i=vo(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),qs(e,t),t.tag=1,Li(r)?(e=!0,Ni(t)):e=!1,_o(t,n),qo(t,r,i),Wo(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return _s(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Hr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Zc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Zc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Il)&&(Vl=$e()+500,Hi()))}break;case 13:dc((function(){var t=Mo(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},Ct=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Mo(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Tt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ce=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uc,Ie=dc;var tu={usingClientEntryPoint:!1,Events:[bi,Ei,wi,ke,xe,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var E=b.prototype=new y;E.constructor=b,m(E,v.prototype),E.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+A(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+A(s=e[c],c);l+=I(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,u=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)C.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,E(e),!m)if(null!==r(c))m=!0,D(C);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function C(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var o=f;try{for(E(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),E(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,_=null,k=-1,x=5,A=-1;function I(){return!(t.unstable_now()-A<x)}function M(){if(null!==_){var e=t.unstable_now();A=e;var n=!0;try{n=_(!0,e)}finally{n?S():(T=!1,_=null)}}else T=!1}if("function"===typeof b)S=function(){b(M)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=M,S=function(){L.postMessage(null)}}else S=function(){v(M,0)};function D(e){_=e,T||(T=!0,S())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,O(w,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,D(C))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},1240:()=>{},8691:(e,t)=>{"use strict";function n(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function l(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=this,h=Date.now()-a;function f(){a=Date.now(),n.apply(d,c)}o||(r&&!i&&f(),s(),void 0===r&&h>e?f():!0!==t&&(i=setTimeout(r?function(){i=void 0}:f,void 0===r?e-h:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),o=!0},l}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,r){return void 0===r?n(e,t,!1):n(e,r,!1!==t)},t.throttle=n},1428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>O,__assign:()=>o,__asyncDelegator:()=>_,__asyncGenerator:()=>T,__asyncValues:()=>k,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>R,__classPrivateFieldIn:()=>D,__classPrivateFieldSet:()=>L,__createBinding:()=>g,__decorate:()=>s,__disposeResources:()=>N,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>i,__generator:()=>m,__importDefault:()=>M,__importStar:()=>I,__makeTemplateObject:()=>x,__metadata:()=>f,__param:()=>l,__propKey:()=>d,__read:()=>b,__rest:()=>a,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>E,__spreadArray:()=>C,__spreadArrays:()=>w,__values:()=>y,default:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var g=(0,n[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(s=a(g.get))&&(d.get=s),(s=a(g.set))&&(d.set=s),(s=a(g.init))&&i.unshift(s)}else(s=a(g))&&("field"===l?i.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function y(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function w(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function C(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof S?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(r){u(o[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&g(t,e,n);return A(t,e),t}function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function L(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function D(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function O(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var P="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function N(e){function t(t){e.error=e.hasError?new P(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(o){t(o)}}if(e.hasError)throw e.error}()}const F={__extends:i,__assign:o,__rest:a,__decorate:s,__param:l,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:v,__values:y,__read:b,__spread:E,__spreadArrays:w,__spreadArray:C,__await:S,__asyncGenerator:T,__asyncDelegator:_,__asyncValues:k,__makeTemplateObject:x,__importStar:I,__importDefault:M,__classPrivateFieldGet:R,__classPrivateFieldSet:L,__classPrivateFieldIn:D,__addDisposableResource:O,__disposeResources:N}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".3cf1aa37.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="amitywebwrapper:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkamitywebwrapper=self.webpackChunkamitywebwrapper||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ne,hasStandardBrowserEnv:()=>Fe,hasStandardBrowserWebWorkerEnv:()=>Be});var t=n(2791),r=n.t(t,2),i=n(1250);function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const a="function"===typeof atob,s="function"===typeof btoa,l="function"===typeof Buffer,c="function"===typeof TextDecoder?new TextDecoder:void 0,u="function"===typeof TextEncoder?new TextEncoder:void 0,d=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),h=(e=>{let t={};return e.forEach(((e,n)=>t[e]=n)),t})(d),f=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),m="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),g=e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_")),v=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),y=e=>{let t,n,r,i,o="";const a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=d[t>>18&63]+d[t>>12&63]+d[t>>6&63]+d[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},b=s?e=>btoa(e):l?e=>Buffer.from(e,"binary").toString("base64"):y,E=l?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(p.apply(null,e.subarray(n,n+4096)));return b(t.join(""))},w=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?p(192|t>>>6)+p(128|63&t):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|63&t)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=e=>e.replace(C,w),T=l?e=>Buffer.from(e,"utf8").toString("base64"):u?e=>E(u.encode(e)):e=>b(S(e)),_=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?g(T(e)):T(e)},k=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,x=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return p(55296+(t>>>10))+p(56320+(1023&t));case 3:return p((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return p((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},A=e=>e.replace(k,x),I=e=>{if(e=e.replace(/\s+/g,""),!f.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,i="";for(let o=0;o<e.length;)t=h[e.charAt(o++)]<<18|h[e.charAt(o++)]<<12|(n=h[e.charAt(o++)])<<6|(r=h[e.charAt(o++)]),i+=64===n?p(t>>16&255):64===r?p(t>>16&255,t>>8&255):p(t>>16&255,t>>8&255,255&t);return i},M=a?e=>atob(v(e)):l?e=>Buffer.from(e,"base64").toString("binary"):I,R=l?e=>m(Buffer.from(e,"base64")):e=>m(M(e).split("").map((e=>e.charCodeAt(0)))),L=l?e=>Buffer.from(e,"base64").toString("utf8"):c?e=>c.decode(R(e)):e=>A(M(e)),D=e=>v(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),O=e=>L(D(e));n(7938).bind({concatArrays:!0,ignoreUndefined:!0});var P=n(3960),N=n.n(P);function F(e,t){return function(){return e.apply(t,arguments)}}const{toString:j}=Object.prototype,{getPrototypeOf:B}=Object,U=(z=Object.create(null),e=>{const t=j.call(e);return z[t]||(z[t]=t.slice(8,-1).toLowerCase())});var z;const H=e=>(e=e.toLowerCase(),t=>U(t)===e),V=e=>t=>typeof t===e,{isArray:q}=Array,G=V("undefined");const W=H("ArrayBuffer");const K=V("string"),Y=V("function"),Q=V("number"),Z=e=>null!==e&&"object"===typeof e,$=e=>{if("object"!==U(e))return!1;const t=B(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},X=H("Date"),J=H("File"),ee=H("Blob"),te=H("FileList"),ne=H("URLSearchParams");function re(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),q(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function ie(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ae=e=>!G(e)&&e!==oe;const se=(le="undefined"!==typeof Uint8Array&&B(Uint8Array),e=>le&&e instanceof le);var le;const ce=H("HTMLFormElement"),ue=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),de=H("RegExp"),he=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};re(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},fe="abcdefghijklmnopqrstuvwxyz",pe="0123456789",me={DIGIT:pe,ALPHA:fe,ALPHA_DIGIT:fe+fe.toUpperCase()+pe};const ge=H("AsyncFunction"),ve={isArray:q,isArrayBuffer:W,isBuffer:function(e){return null!==e&&!G(e)&&null!==e.constructor&&!G(e.constructor)&&Y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Y(e.append)&&("formdata"===(t=U(e))||"object"===t&&Y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&W(e.buffer),t},isString:K,isNumber:Q,isBoolean:e=>!0===e||!1===e,isObject:Z,isPlainObject:$,isUndefined:G,isDate:X,isFile:J,isBlob:ee,isRegExp:de,isFunction:Y,isStream:e=>Z(e)&&Y(e.pipe),isURLSearchParams:ne,isTypedArray:se,isFileList:te,forEach:re,merge:function e(){const{caseless:t}=ae(this)&&this||{},n={},r=(r,i)=>{const o=t&&ie(n,i)||i;$(n[o])&&$(r)?n[o]=e(n[o],r):$(r)?n[o]=e({},r):q(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&re(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return re(t,((t,r)=>{n&&Y(t)?e[r]=F(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&B(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:U,kindOfTest:H,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(q(e))return e;let t=e.length;if(!Q(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ce,hasOwnProperty:ue,hasOwnProp:ue,reduceDescriptors:he,freezeMethods:e=>{he(e,((t,n)=>{if(Y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Y(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return q(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:ie,global:oe,isContextDefined:ae,ALPHABET:me,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Z(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=q(e)?[]:{};return re(e,((e,t)=>{const o=n(e,r+1);!G(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:ge,isThenable:e=>e&&(Z(e)||Y(e))&&Y(e.then)&&Y(e.catch)};function ye(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ve.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const be=ye.prototype,Ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ee[e]={value:e}})),Object.defineProperties(ye,Ee),Object.defineProperty(be,"isAxiosError",{value:!0}),ye.from=(e,t,n,r,i,o)=>{const a=Object.create(be);return ve.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ye.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const we=ye;function Ce(e){return ve.isPlainObject(e)||ve.isArray(e)}function Se(e){return ve.endsWith(e,"[]")?e.slice(0,-2):e}function Te(e,t,n){return e?e.concat(t).map((function(e,t){return e=Se(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const _e=ve.toFlatObject(ve,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ke=function(e,t,n){if(!ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ve.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ve.isSpecCompliantForm(t);if(!ve.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ve.isDate(e))return e.toISOString();if(!s&&ve.isBlob(e))throw new we("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(e)||ve.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(ve.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ve.isArray(e)&&function(e){return ve.isArray(e)&&!e.some(Ce)}(e)||(ve.isFileList(e)||ve.endsWith(n,"[]"))&&(s=ve.toArray(e)))return n=Se(n),s.forEach((function(e,r){!ve.isUndefined(e)&&null!==e&&t.append(!0===a?Te([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!Ce(e)||(t.append(Te(i,n,o),l(e)),!1)}const u=[],d=Object.assign(_e,{defaultVisitor:c,convertValue:l,isVisitable:Ce});if(!ve.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ve.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ve.forEach(n,(function(n,o){!0===(!(ve.isUndefined(n)||null===n)&&i.call(t,n,ve.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function xe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ae(e,t){this._pairs=[],e&&ke(e,this,t)}const Ie=Ae.prototype;Ie.append=function(e,t){this._pairs.push([e,t])},Ie.toString=function(e){const t=e?function(t){return e.call(this,t,xe)}:xe;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Me=Ae;function Re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Le(e,t,n){if(!t)return e;const r=n&&n.encode||Re,i=n&&n.serialize;let o;if(o=i?i(t,n):ve.isURLSearchParams(t)?t.toString():new Me(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const De=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Me,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ne="undefined"!==typeof window&&"undefined"!==typeof document,Fe=(je="undefined"!==typeof navigator&&navigator.product,Ne&&["ReactNative","NativeScript","NS"].indexOf(je)<0);var je;const Be="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ue={...e,...Pe};const ze=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&ve.isArray(r)?r.length:o,s)return ve.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&ve.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&ve.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(ve.isFormData(e)&&ve.isFunction(e.entries)){const n={};return ve.forEachEntry(e,((e,r)=>{t(function(e){return ve.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const He={transitional:Oe,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=ve.isObject(e);i&&ve.isHTMLForm(e)&&(e=new FormData(e));if(ve.isFormData(e))return r?JSON.stringify(ze(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ke(e,new Ue.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ue.isNode&&ve.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=ve.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ke(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(ve.isString(e))try{return(t||JSON.parse)(e),ve.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||He.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&ve.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw we.from(i,we.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],(e=>{He.headers[e]={}}));const Ve=He,qe=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ge=Symbol("internals");function We(e){return e&&String(e).trim().toLowerCase()}function Ke(e){return!1===e||null==e?e:ve.isArray(e)?e.map(Ke):String(e)}function Ye(e,t,n,r,i){return ve.isFunction(r)?r.call(this,t,n):(i&&(t=n),ve.isString(t)?ve.isString(r)?-1!==t.indexOf(r):ve.isRegExp(r)?r.test(t):void 0:void 0)}class Qe{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=We(t);if(!i)throw new Error("header name must be a non-empty string");const o=ve.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ke(e))}const o=(e,t)=>ve.forEach(e,((e,n)=>i(e,n,t)));return ve.isPlainObject(e)||e instanceof this.constructor?o(e,t):ve.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&qe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=We(e)){const n=ve.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ve.isFunction(t))return t.call(this,e,n);if(ve.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=We(e)){const n=ve.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ye(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=We(e)){const i=ve.findKey(n,e);!i||t&&!Ye(0,n[i],i,t)||(delete n[i],r=!0)}}return ve.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Ye(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return ve.forEach(this,((r,i)=>{const o=ve.findKey(n,i);if(o)return t[o]=Ke(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Ke(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ve.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ve.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ge]=this[Ge]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=We(e);t[r]||(!function(e,t){const n=ve.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return ve.isArray(e)?e.forEach(r):r(e),this}}Qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ve.reduceDescriptors(Qe.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),ve.freezeMethods(Qe);const Ze=Qe;function $e(e,t){const n=this||Ve,r=t||n,i=Ze.from(r.headers);let o=r.data;return ve.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Xe(e){return!(!e||!e.__CANCEL__)}function Je(e,t,n){we.call(this,null==e?"canceled":e,we.ERR_CANCELED,t,n),this.name="CanceledError"}ve.inherits(Je,we,{__CANCEL__:!0});const et=Je;const tt=Ue.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];ve.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ve.isString(r)&&a.push("path="+r),ve.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function nt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const rt=Ue.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=ve.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const it=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function ot(e,t){let n=0;const r=it(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,l=r(s);n=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const at="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Ze.from(e.headers).normalize();let o,a,{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(ve.isFormData(r))if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=nt(e.baseURL,e.url);function h(){if(!u)return;const r=Ze.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Le(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new we("Request aborted",we.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new we("Network Error",we.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Oe;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new we(t,r.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,u)),u=null},Ue.hasStandardBrowserEnv&&(l&&ve.isFunction(l)&&(l=l(e)),l||!1!==l&&rt(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&tt.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&ve.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),ve.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",ot(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ot(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new et(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Ue.protocols.indexOf(f)?n(new we("Unsupported protocol "+f+":",we.ERR_BAD_REQUEST,e)):u.send(r||null)}))},st={http:null,xhr:at};ve.forEach(st,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const lt=e=>"- ".concat(e),ct=e=>ve.isFunction(e)||null===e||!1===e,ut=e=>{e=ve.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!ct(n)&&(r=st[(t=String(n)).toLowerCase()],void 0===r))throw new we("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(lt).join("\n"):" "+lt(e[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function dt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new et(null,e)}function ht(e){dt(e),e.headers=Ze.from(e.headers),e.data=$e.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ut(e.adapter||Ve.adapter)(e).then((function(t){return dt(e),t.data=$e.call(e,e.transformResponse,t),t.headers=Ze.from(t.headers),t}),(function(t){return Xe(t)||(dt(e),t&&t.response&&(t.response.data=$e.call(e,e.transformResponse,t.response),t.response.headers=Ze.from(t.response.headers))),Promise.reject(t)}))}const ft=e=>e instanceof Ze?e.toJSON():e;function pt(e,t){t=t||{};const n={};function r(e,t,n){return ve.isPlainObject(e)&&ve.isPlainObject(t)?ve.merge.call({caseless:n},e,t):ve.isPlainObject(t)?ve.merge({},t):ve.isArray(t)?t.slice():t}function i(e,t,n){return ve.isUndefined(t)?ve.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!ve.isUndefined(t))return r(void 0,t)}function a(e,t){return ve.isUndefined(t)?ve.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(ft(e),ft(t),!0)};return ve.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);ve.isUndefined(a)&&o!==s||(n[r]=a)})),n}const mt="1.6.7",gt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{gt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const vt={};gt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new we(r(i," has been removed"+(t?" in "+t:"")),we.ERR_DEPRECATED);return t&&!vt[i]&&(vt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const yt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new we("option "+o+" must be "+n,we.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new we("Unknown option "+o,we.ERR_BAD_OPTION)}},validators:gt},bt=yt.validators;class Et{constructor(e){this.defaults=e,this.interceptors={request:new De,response:new De}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=pt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&yt.assertOptions(n,{silentJSONParsing:bt.transitional(bt.boolean),forcedJSONParsing:bt.transitional(bt.boolean),clarifyTimeoutError:bt.transitional(bt.boolean)},!1),null!=r&&(ve.isFunction(r)?t.paramsSerializer={serialize:r}:yt.assertOptions(r,{encode:bt.function,serialize:bt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&ve.merge(i.common,i[t.method]);i&&ve.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ze.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[ht.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=ht.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Le(nt((e=pt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],(function(e){Et.prototype[e]=function(t,n){return this.request(pt(n||{},{method:e,url:t,data:(n||{}).data}))}})),ve.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(pt(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Et.prototype[e]=t(),Et.prototype[e+"Form"]=t(!0)}));const wt=Et;class Ct{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new et(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ct((function(t){e=t})),cancel:e}}}const St=Ct;const Tt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tt).forEach((e=>{let[t,n]=e;Tt[n]=t}));const _t=Tt;const kt=function e(t){const n=new wt(t),r=F(wt.prototype.request,n);return ve.extend(r,wt.prototype,n,{allOwnKeys:!0}),ve.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(pt(t,n))},r}(Ve);kt.Axios=wt,kt.CanceledError=et,kt.CancelToken=St,kt.isCancel=Xe,kt.VERSION=mt,kt.toFormData=ke,kt.AxiosError=we,kt.Cancel=kt.CanceledError,kt.all=function(e){return Promise.all(e)},kt.spread=function(e){return function(t){return e.apply(null,t)}},kt.isAxiosError=function(e){return ve.isObject(e)&&!0===e.isAxiosError},kt.mergeConfig=pt,kt.AxiosHeaders=Ze,kt.formToJSON=e=>ze(ve.isHTMLForm(e)?new FormData(e):e),kt.getAdapter=ut,kt.HttpStatusCode=_t,kt.default=kt;const xt=kt;var At=n(3871),It=n.n(At),Mt=n(4419),Rt=n.n(Mt),Lt=n(6826);n(1785);function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ot,Pt={exports:{}};Ot=Pt,function(e){var t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(d)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};Ot.exports=o}();var Nt=Pt.exports;function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Ut(e,t,n){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}const Ht=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},Vt=Number.isSafeInteger||function(e){return"number"===typeof e&&Math.abs(e)<=qt},qt=Number.MAX_SAFE_INTEGER||9007199254740991;let Gt=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e}({}),Wt=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),Kt=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({});const Yt=function(){},Qt={trace:Yt,debug:Yt,log:Yt,warn:Yt,info:Yt,error:Yt};let Zt=Qt;function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){Zt[t]=e[t]?e[t].bind(e):function(e){const t=self.console[e];return t?t.bind(self.console,"[".concat(e,"] >")):Yt}(t)}))}const Xt=Zt,Jt=/^(\d+)x(\d+)$/,en=/(.+?)=(".*?"|.*?)(?:,|$)/g;class tn{constructor(e){"string"===typeof e&&(e=tn.parseAttrList(e)),zt(this,e)}get clientAttrs(){return Object.keys(this).filter((e=>"X-"===e.substring(0,2)))}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;const n=new Uint8Array(t.length/2);for(let e=0;e<t.length/2;e++)n[e]=parseInt(t.slice(2*e,2*e+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const n=this[e];return n?parseFloat(n):t}enumeratedString(e){return this[e]}bool(e){return"YES"===this[e]}decimalResolution(e){const t=Jt.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t;const n={};for(en.lastIndex=0;null!==(t=en.exec(e));){let e=t[2];0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1&&(e=e.slice(1,-1));n[t[1].trim()]=e}return n}}function nn(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}class rn{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const n=t.attr;for(const t in n)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==n[t]){Xt.warn('DATERANGE tag attribute: "'.concat(t,'" does not match for tags with ID: "').concat(e.ID,'"')),this._badValueForSameId=t;break}e=zt(new tn({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const e=new Date(this.attr["END-DATE"]);Ht(e.getTime())&&(this._endDate=e)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Ht(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Ht(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class on{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var an="audio",sn="video",ln="audiovideo";class cn{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[an]:null,[sn]:null,[ln]:null},this.baseurl=e}setByteRange(e,t){const n=e.split("@",2);let r;r=1===n.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Nt.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class un extends cn{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new on,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!Ht(this.programDateTime))return null;const e=Ht(this.duration)?this.duration:0;return this.programDateTime+1e3*e}get encrypted(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),t=e.length;if(t>1||1===t&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{elementaryStreams:a}=this,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:o}}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[an]=null,e[sn]=null,e[ln]=null}}class dn extends cn{constructor(e,t,n,r,i){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new on,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=r;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}class hn{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&Ht(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const e=this.driftEndTime-this.driftStartTime;if(e>0){return 1e3*(this.driftEnd-this.driftStart)/e}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function fn(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}function pn(e){const t=e.split(":");let n=null;if("data"===t[0]&&2===t.length){const e=t[1].split(";"),r=e[e.length-1].split(",");if(2===r.length){const t="base64"===r[0],i=r[1];t?(e.splice(-1,1),n=fn(i)):n=function(e){const t=mn(e).subarray(0,16),n=new Uint8Array(16);return n.set(t,16-t.length),n}(i)}}return n}function mn(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(e=>e.charCodeAt(0)))}const gn="undefined"!==typeof self?self:void 0;var vn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},yn="org.w3.clearkey",bn="com.apple.streamingkeydelivery",En="com.microsoft.playready",wn="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function Cn(e){switch(e){case bn:return vn.FAIRPLAY;case En:return vn.PLAYREADY;case wn:return vn.WIDEVINE;case yn:return vn.CLEARKEY}}var Sn="edef8ba979d64acea3c827dcd51d21ed";function Tn(e){switch(e){case vn.FAIRPLAY:return bn;case vn.PLAYREADY:return En;case vn.WIDEVINE:return wn;case vn.CLEARKEY:return yn}}function _n(e){const{drmSystems:t,widevineLicenseUrl:n}=e,r=t?[vn.FAIRPLAY,vn.WIDEVINE,vn.PLAYREADY,vn.CLEARKEY].filter((e=>!!t[e])):[];return!r[vn.WIDEVINE]&&n&&r.push(vn.WIDEVINE),r}const kn=null!=gn&&null!=(xn=gn.navigator)&&xn.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var xn;function An(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}const In=(e,t)=>t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,Mn=(e,t)=>t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,Rn=(e,t)=>{const n=t;let r=0;for(;In(e,t);){r+=10;r+=Ln(e,t+6),Mn(e,t+10)&&(r+=10),t+=r}if(r>0)return e.subarray(n,n+r)},Ln=(e,t)=>{let n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3],n},Dn=(e,t)=>In(e,t)&&Ln(e,t+6)+10<=e.length-t,On=e=>{const t=Fn(e);for(let n=0;n<t.length;n++){const e=t[n];if(Pn(e))return Hn(e)}},Pn=e=>e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info,Nn=e=>{const t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=Ln(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},Fn=e=>{let t=0;const n=[];for(;In(e,t);){const r=Ln(e,t+6);t+=10;const i=t+r;for(;t+8<i;){const r=Nn(e.subarray(t)),i=jn(r);i&&n.push(i),t+=r.size+10}Mn(e,t)&&(t+=10)}return n},jn=e=>"PRIV"===e.type?Bn(e):"W"===e.type[0]?zn(e):Un(e),Bn=e=>{if(e.size<2)return;const t=Vn(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}},Un=e=>{if(e.size<2)return;if("TXXX"===e.type){let t=1;const n=Vn(e.data.subarray(t),!0);t+=n.length+1;const r=Vn(e.data.subarray(t));return{key:e.type,info:n,data:r}}const t=Vn(e.data.subarray(1));return{key:e.type,data:t}},zn=e=>{if("WXXX"===e.type){if(e.size<2)return;let t=1;const n=Vn(e.data.subarray(t),!0);t+=n.length+1;const r=Vn(e.data.subarray(t));return{key:e.type,info:n,data:r}}const t=Vn(e.data);return{key:e.type,data:t}},Hn=e=>{if(8===e.data.byteLength){const t=new Uint8Array(e.data),n=1&t[3];let r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},Vn=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Gn();if(n){const r=n.decode(e);if(t){const e=r.indexOf("\0");return-1!==e?r.substring(0,e):r}return r.replace(/\0/g,"")}const r=e.length;let i,o,a,s="",l=0;for(;l<r;){if(i=e[l++],0===i&&t)return s;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(i);break;case 12:case 13:o=e[l++],s+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=e[l++],a=e[l++],s+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}}return s};let qn;function Gn(){if(!navigator.userAgent.includes("PlayStation 4"))return qn||"undefined"===typeof self.TextDecoder||(qn=new self.TextDecoder("utf-8")),qn}const Wn=function(e){let t="";for(let n=0;n<e.length;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+=r}return t},Kn=Math.pow(2,32)-1,Yn=[].push,Qn={video:1,audio:2,id3:3,text:4};function Zn(e){return String.fromCharCode.apply(null,e)}function $n(e,t){const n=e[t]<<8|e[t+1];return n<0?65536+n:n}function Xn(e,t){const n=Jn(e,t);return n<0?4294967296+n:n}function Jn(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function er(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function tr(e,t){const n=[];if(!t.length)return n;const r=e.byteLength;for(let i=0;i<r;){const o=Xn(e,i),a=o>1?i+o:r;if(Zn(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,a));else{const r=tr(e.subarray(i+8,a),t.slice(1));r.length&&Yn.apply(n,r)}i=a}return n}function nr(e){const t=[],n=e[0];let r=8;const i=Xn(e,r);r+=4;r+=0===n?8:16,r+=2;let o=e.length+0;const a=$n(e,r);r+=2;for(let s=0;s<a;s++){let n=r;const a=Xn(e,n);n+=4;const s=2147483647&a;if(1===(2147483648&a)>>>31)return Xt.warn("SIDX has hierarchical references (not supported)"),null;const l=Xn(e,n);n+=4,t.push({referenceSize:s,subsegmentDuration:l,info:{duration:l/i,start:o,end:o+s-1}}),o+=s,n+=4,r=n}return{earliestPresentationTime:0,timescale:i,version:n,referencesCount:a,references:t}}function rr(e){const t=[],n=tr(e,["moov","trak"]);for(let r=0;r<n.length;r++){const e=n[r],i=tr(e,["tkhd"])[0];if(i){let n=i[0];const r=Xn(i,0===n?12:20),o=tr(e,["mdia","mdhd"])[0];if(o){n=o[0];const i=Xn(o,0===n?12:20),a=tr(e,["mdia","hdlr"])[0];if(a){const n=Zn(a.subarray(8,12)),o={soun:an,vide:sn}[n];if(o){const n=ir(tr(e,["mdia","minf","stbl","stsd"])[0]);t[r]={timescale:i,type:o},t[o]=jt({timescale:i,id:r},n)}}}}}return tr(e,["moov","mvex","trex"]).forEach((e=>{const n=Xn(e,4),r=t[n];r&&(r.default={duration:Xn(e,12),flags:Xn(e,20)})})),t}function ir(e){const t=e.subarray(8),n=t.subarray(86),r=Zn(t.subarray(4,8));let i=r;const o="enca"===r||"encv"===r;if(o){const e=tr(t,[r])[0];tr(e.subarray("enca"===r?28:78),["sinf"]).forEach((e=>{const t=tr(e,["schm"])[0];if(t){const n=Zn(t.subarray(4,8));if("cbcs"===n||"cenc"===n){const t=tr(e,["frma"])[0];t&&(i=Zn(t))}}}))}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const e=tr(n,["avcC"])[0];i+="."+ar(e[1])+ar(e[2])+ar(e[3]);break}case"mp4a":{const e=tr(t,[r])[0],n=tr(e.subarray(28),["esds"])[0];if(n&&n.length>12){let e=4;if(3!==n[e++])break;e=or(n,e),e+=2;const t=n[e++];if(128&t&&(e+=2),64&t&&(e+=n[e++]),4!==n[e++])break;e=or(n,e);const r=n[e++];if(64!==r)break;if(i+="."+ar(r),e+=12,5!==n[e++])break;e=or(n,e);const o=n[e++];let a=(248&o)>>3;31===a&&(a+=1+((7&o)<<3)+((224&n[e])>>5)),i+="."+a}break}case"hvc1":case"hev1":{const e=tr(n,["hvcC"])[0],t=e[1],r=["","A","B","C"][t>>6],o=31&t,a=Xn(e,2),s=(32&t)>>5?"H":"L",l=e[12],c=e.subarray(6,12);i+="."+r+o,i+="."+a.toString(16).toUpperCase(),i+="."+s+l;let u="";for(let n=c.length;n--;){const e=c[n];if(e||u){u="."+e.toString(16).toUpperCase()+u}}i+=u;break}case"dvh1":case"dvhe":{const e=tr(n,["dvcC"])[0],t=e[2]>>1&127,r=e[2]<<5&32|e[3]>>3&31;i+="."+sr(t)+"."+sr(r);break}case"vp09":{const e=tr(n,["vpcC"])[0],t=e[4],r=e[5],o=e[6]>>4&15;i+="."+sr(t)+"."+sr(r)+"."+sr(o);break}case"av01":{const e=tr(n,["av1C"])[0],t=e[1]>>>5,r=31&e[1],o=e[2]>>>7?"H":"M",a=(64&e[2])>>6,s=(32&e[2])>>5,l=2===t&&a?s?12:10:a?10:8,c=(16&e[2])>>4,u=(8&e[2])>>3,d=(4&e[2])>>2,h=3&e[2],f=1,p=1,m=1,g=0;i+="."+t+"."+sr(r)+o+"."+sr(l)+"."+c+"."+u+d+h+"."+sr(f)+"."+sr(p)+"."+sr(m)+"."+g;break}}return{codec:i,encrypted:o}}function or(e,t){const n=t+5;for(;128&e[t++]&&t<n;);return t}function ar(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function sr(e){return(e<10?"0":"")+e}function lr(e){const t=tr(e,["schm"])[0];if(t){const n=Zn(t.subarray(4,8));if("cbcs"===n||"cenc"===n)return tr(e,["schi","tenc"])[0]}return Xt.error("[eme] missing 'schm' box"),null}function cr(e){const t=Xn(e,0);let n=8;1&t&&(n+=4),4&t&&(n+=4);let r=0;const i=Xn(e,4);for(let o=0;o<i;o++){if(256&t){r+=Xn(e,n),n+=4}512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4)}return r}function ur(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function dr(e,t){const n=[],r=t.samples,i=t.timescale,o=t.id;let a=!1;return tr(r,["moof"]).map((s=>{const l=s.byteOffset-8;tr(s,["traf"]).map((s=>{const c=tr(s,["tfdt"]).map((e=>{const t=e[0];let n=Xn(e,4);return 1===t&&(n*=Math.pow(2,32),n+=Xn(e,8)),n/i}))[0];return void 0!==c&&(e=c),tr(s,["tfhd"]).map((c=>{const u=Xn(c,4),d=16777215&Xn(c,0);let h=0;const f=0!==(16&d);let p=0;const m=0!==(32&d);let g=8;u===o&&(0!==(1&d)&&(g+=8),0!==(2&d)&&(g+=4),0!==(8&d)&&(h=Xn(c,g),g+=4),f&&(p=Xn(c,g),g+=4),m&&(g+=4),"video"===t.type&&(a=function(e){if(!e)return!1;const t=e.indexOf("."),n=t<0?e:e.substring(0,t);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(t.codec)),tr(s,["trun"]).map((o=>{const s=o[0],c=16777215&Xn(o,0),u=0!==(1&c);let d=0;const f=0!==(4&c),m=0!==(256&c);let g=0;const v=0!==(512&c);let y=0;const b=0!==(1024&c),E=0!==(2048&c);let w=0;const C=Xn(o,4);let S=8;u&&(d=Xn(o,S),S+=4),f&&(S+=4);let T=d+l;for(let l=0;l<C;l++){if(m?(g=Xn(o,S),S+=4):g=h,v?(y=Xn(o,S),S+=4):y=p,b&&(S+=4),E&&(w=0===s?Xn(o,S):Jn(o,S),S+=4),t.type===sn){let t=0;for(;t<y;){const o=Xn(r,T);if(T+=4,hr(a,r[T])){fr(r.subarray(T,T+o),a?2:1,e+w/i,n)}T+=o,t+=o+4}}e+=g/i}})))}))}))})),n}function hr(e,t){if(e){const e=t>>1&63;return 39===e||40===e}return 6===(31&t)}function fr(e,t,n,r){const i=pr(e);let o=0;o+=t;let a=0,s=0,l=0;for(;o<i.length;){a=0;do{if(o>=i.length)break;l=i[o++],a+=l}while(255===l);s=0;do{if(o>=i.length)break;l=i[o++],s+=l}while(255===l);const e=i.length-o;let t=o;if(s<e)o+=s;else if(s>e){Xt.error("Malformed SEI payload. ".concat(s," is too small, only ").concat(e," bytes left to parse."));break}if(4===a){if(181===i[t++]){const e=$n(i,t);if(t+=2,49===e){const e=Xn(i,t);if(t+=4,1195456820===e){const e=i[t++];if(3===e){const o=i[t++],s=64&o,l=s?2+3*(31&o):0,c=new Uint8Array(l);if(s){c[0]=o;for(let e=1;e<l;e++)c[e]=i[t++]}r.push({type:e,payloadType:a,pts:n,bytes:c})}}}}}else if(5===a&&s>16){const e=[];for(let n=0;n<16;n++){const r=i[t++].toString(16);e.push(1==r.length?"0"+r:r),3!==n&&5!==n&&7!==n&&9!==n||e.push("-")}const o=s-16,l=new Uint8Array(o);for(let n=0;n<o;n++)l[n]=i[t++];r.push({payloadType:a,pts:n,uuid:e.join(""),userData:Vn(l),userDataBytes:l})}}}function pr(e){const t=e.byteLength,n=[];let r=1;for(;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;const i=t-n.length,o=new Uint8Array(i);let a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o}function mr(e,t,n){if(16!==e.byteLength)throw new RangeError("Invalid system id");let r,i,o;if(t){r=1,i=new Uint8Array(16*t.length);for(let e=0;e<t.length;e++){const n=t[e];if(16!==n.byteLength)throw new RangeError("Invalid key");i.set(n,16*e)}}else r=0,i=new Uint8Array;r>0?(o=new Uint8Array(4),t.length>0&&new DataView(o.buffer).setUint32(0,t.length,!1)):o=new Uint8Array;const a=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.length;let o=8,a=i;for(;a--;)o+=n[a].byteLength;const s=new Uint8Array(o);for(s[0]=o>>24&255,s[1]=o>>16&255,s[2]=o>>8&255,s[3]=255&o,s.set(e,4),a=0,o=8;a<i;a++)s.set(n[a],o),o+=n[a].byteLength;return s}([112,115,115,104],new Uint8Array([r,0,0,0]),e,o,i,a,n||new Uint8Array)}let gr={};class vr{static clearKeyUriToKeyIdMap(){gr={}}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=n,this.keyFormatVersions=r,this.iv=i,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case bn:case wn:case En:case yn:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof e&&("AES-128"!==this.method||this.iv||Xt.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),e=0);const t=function(e){const t=new Uint8Array(16);for(let n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}(e);return new vr(this.method,this.uri,"identity",this.keyFormatVersions,t)}const t=pn(this.uri);if(t)switch(this.keyFormat){case wn:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case En:{const e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=mr(e,null,t);const n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(n)),i=r.substring(r.indexOf("<"),r.length),o=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(o){const e=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(e){const t=fn(e).subarray(0,16);!function(e){const t=function(e,t,n){const r=e[t];e[t]=e[n],e[n]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(t),this.keyId=t}}break}default:{let e=t.subarray(0,16);if(16!==e.length){const t=new Uint8Array(16);t.set(e,16-e.length),e=t}this.keyId=e;break}}if(!this.keyId||16!==this.keyId.byteLength){let e=gr[this.uri];if(!e){const t=Object.keys(gr).length%Number.MAX_SAFE_INTEGER;e=new Uint8Array(16);new DataView(e.buffer,12,4).setUint32(0,t),gr[this.uri]=e}this.keyId=e}return this}}const yr=/\{\$([a-zA-Z0-9-_]+)\}/g;function br(e){return yr.test(e)}function Er(e,t,n){if(null!==e.variableList||e.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],o=t[i];o&&(t[i]=wr(e,o))}}function wr(e,t){if(null!==e.variableList||e.hasVariableRefs){const n=e.variableList;return t.replace(yr,(t=>{const r=t.substring(2,t.length-1),i=null==n?void 0:n[r];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(r,'"'))),t):i}))}return t}function Cr(e,t,n){let r,i,o=e.variableList;if(o||(e.variableList=o={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{const e=new self.URL(n).searchParams;if(!e.has(r))throw new Error('"'.concat(r,'" does not match any query parameter in URI: "').concat(n,'"'));i=e.get(r)}catch(a){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(a.message)))}}else r=t.NAME,i=t.VALUE;r in o?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(r,'"'))):o[r]=i||""}function Sr(e,t,n){const r=t.IMPORT;if(n&&r in n){let t=e.variableList;t||(e.variableList=t={}),t[r]=n[r]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(r,'"')))}function Tr(){if("undefined"===typeof self)return;return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const _r={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function kr(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!e.split(",").some((e=>!xr(e,t,n)))}function xr(e,t){var n;const r=Tr(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return null!=(n=null==r?void 0:r.isTypeSupported(Ar(e,t)))&&n}function Ar(e,t){return"".concat(t,'/mp4;codecs="').concat(e,'"')}function Ir(e){if(e){const t=e.substring(0,4);return _r.video[t]}return 2}function Mr(e){return e.split(",").reduce(((e,t)=>{const n=_r.video[t];return n?(2*n+e)/(e?3:2):(_r.audio[t]+e)/(e?2:1)}),0)}const Rr={};const Lr=/flac|opus/i;function Dr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.replace(Lr,(e=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Rr[e])return Rr[e];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[e];for(let r=0;r<n.length;r++)if(xr(n[r],"audio",t))return Rr[e]=n[r],n[r];return e}(e.toLowerCase(),t)))}function Or(e,t){return e&&"mp4a"!==e?e:t}const Pr=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Nr=/#EXT-X-MEDIA:(.*)/g,Fr=/^#EXT(?:INF|-X-TARGETDURATION):/m,jr=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Br=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ur{static findGroup(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.id===t)return r}}static resolve(e,t){return Nt.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Fr.test(e)}static parseMasterPlaylist(e,t){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:br(e)},r=[];let i;for(Pr.lastIndex=0;null!=(i=Pr.exec(e));)if(i[1]){var o;const e=new tn(i[1]);Er(n,e,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const a=wr(n,i[2]),s={attrs:e,bitrate:e.decimalInteger("BANDWIDTH")||e.decimalInteger("AVERAGE-BANDWIDTH"),name:e.NAME,url:Ur.resolve(a,t)},l=e.decimalResolution("RESOLUTION");l&&(s.width=l.width,s.height=l.height),Vr(e.CODECS,s),null!=(o=s.unknownCodecs)&&o.length||r.push(s),n.levels.push(s)}else if(i[3]){const e=i[3],r=i[4];switch(e){case"SESSION-DATA":{const e=new tn(r);Er(n,e,["DATA-ID","LANGUAGE","VALUE","URI"]);const t=e["DATA-ID"];t&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[t]=e);break}case"SESSION-KEY":{const e=zr(r,t,n);e.encrypted&&e.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(e)):Xt.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(r,'"'));break}case"DEFINE":{const e=new tn(r);Er(n,e,["NAME","VALUE","QUERYPARAM"]),Cr(n,e,t)}break;case"CONTENT-STEERING":{const e=new tn(r);Er(n,e,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:Ur.resolve(e["SERVER-URI"],t),pathwayId:e["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=Hr(r)}}const a=r.length>0&&r.length<n.levels.length;return n.levels=a?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(e,t,n){let r;const i={},o=n.levels,a={AUDIO:o.map((e=>({id:e.attrs.AUDIO,audioCodec:e.audioCodec}))),SUBTITLES:o.map((e=>({id:e.attrs.SUBTITLES,textCodec:e.textCodec}))),"CLOSED-CAPTIONS":[]};let s=0;for(Nr.lastIndex=0;null!==(r=Nr.exec(e));){const e=new tn(r[1]),o=e.TYPE;if(o){const r=a[o],l=i[o]||[];i[o]=l,Er(n,e,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const c=e.LANGUAGE,u=e["ASSOC-LANGUAGE"],d=e.CHANNELS,h=e.CHARACTERISTICS,f=e["INSTREAM-ID"],p={attrs:e,bitrate:0,id:s++,groupId:e["GROUP-ID"]||"",name:e.NAME||c||"",type:o,default:e.bool("DEFAULT"),autoselect:e.bool("AUTOSELECT"),forced:e.bool("FORCED"),lang:c,url:e.URI?Ur.resolve(e.URI,t):""};if(u&&(p.assocLang=u),d&&(p.channels=d),h&&(p.characteristics=h),f&&(p.instreamId=f),null!=r&&r.length){const e=Ur.findGroup(r,p.groupId)||r[0];qr(p,e,"audioCodec"),qr(p,e,"textCodec")}l.push(p)}}return i}static parseLevelPlaylist(e,t,n,r,i,o){const a=new hn(t),s=a.fragments;let l,c,u,d=null,h=0,f=0,p=0,m=0,g=null,v=new un(r,t),y=-1,b=!1,E=null;for(jr.lastIndex=0,a.m3u8=e,a.hasVariableRefs=br(e);null!==(l=jr.exec(e));){b&&(b=!1,v=new un(r,t),v.start=p,v.sn=h,v.cc=m,v.level=n,d&&(v.initSegment=d,v.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null,E&&(v.setByteRange(E),E=null)));const e=l[1];if(e){v.duration=parseFloat(e);const t=(" "+l[2]).slice(1);v.title=t||null,v.tagList.push(t?["INF",e,t]:["INF",e])}else if(l[3]){if(Ht(v.duration)){v.start=p,u&&Kr(v,u,a),v.sn=h,v.level=n,v.cc=m,s.push(v);const e=(" "+l[3]).slice(1);v.relurl=wr(a,e),Gr(v,g),g=v,p+=v.duration,h++,f=0,b=!0}}else if(l[4]){const e=(" "+l[4]).slice(1);g?v.setByteRange(e,g):v.setByteRange(e)}else if(l[5])v.rawProgramDateTime=(" "+l[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),-1===y&&(y=s.length);else{if(l=l[0].match(Br),!l){Xt.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<l.length&&"undefined"===typeof l[c];c++);const e=(" "+l[c]).slice(1),i=(" "+l[c+1]).slice(1),p=l[c+2]?(" "+l[c+2]).slice(1):"";switch(e){case"PLAYLIST-TYPE":a.type=i.toUpperCase();break;case"MEDIA-SEQUENCE":h=a.startSN=parseInt(i);break;case"SKIP":{const e=new tn(i);Er(a,e,["RECENTLY-REMOVED-DATERANGES"]);const t=e.decimalInteger("SKIPPED-SEGMENTS");if(Ht(t)){a.skippedSegments=t;for(let e=t;e--;)s.unshift(null);h+=t}const n=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");n&&(a.recentlyRemovedDateranges=n.split("\t"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(i),1);break;case"VERSION":a.version=parseInt(i);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(i||p)&&v.tagList.push(p?[i,p]:[i]);break;case"DISCONTINUITY":m++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([e]);break;case"BITRATE":v.tagList.push([e,i]);break;case"DATERANGE":{const e=new tn(i);Er(a,e,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Er(a,e,e.clientAttrs);const t=new rn(e,a.dateRanges[e.ID]);t.isValid||a.skippedSegments?a.dateRanges[t.id]=t:Xt.warn('Ignoring invalid DATERANGE tag: "'.concat(i,'"')),v.tagList.push(["EXT-X-DATERANGE",i]);break}case"DEFINE":{const e=new tn(i);Er(a,e,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in e?Sr(a,e,o):Cr(a,e,t)}break;case"DISCONTINUITY-SEQUENCE":m=parseInt(i);break;case"KEY":{const e=zr(i,t,a);if(e.isSupported()){if("NONE"===e.method){u=void 0;break}u||(u={}),u[e.keyFormat]&&(u=zt({},u)),u[e.keyFormat]=e}else Xt.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(i,'"'));break}case"START":a.startTimeOffset=Hr(i);break;case"MAP":{const e=new tn(i);if(Er(a,e,["BYTERANGE","URI"]),v.duration){const i=new un(r,t);Wr(i,e,n,u),d=i,v.initSegment=d,d.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=d.rawProgramDateTime)}else{const t=v.byteRangeEndOffset;if(t){const e=v.byteRangeStartOffset;E="".concat(t-e,"@").concat(e)}else E=null;Wr(v,e,n,u),d=v,b=!0}break}case"SERVER-CONTROL":{const e=new tn(i);a.canBlockReload=e.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=e.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&e.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=e.optionalFloat("PART-HOLD-BACK",0),a.holdBack=e.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const e=new tn(i);a.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let e=a.partList;e||(e=a.partList=[]);const n=f>0?e[e.length-1]:void 0,r=f++,o=new tn(i);Er(a,o,["BYTERANGE","URI"]);const s=new dn(o,v,t,r,n);e.push(s),v.duration+=s.duration;break}case"PRELOAD-HINT":{const e=new tn(i);Er(a,e,["URI"]),a.preloadHint=e;break}case"RENDITION-REPORT":{const e=new tn(i);Er(a,e,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(e);break}default:Xt.warn("line parsed but not handled: ".concat(l))}}}g&&!g.relurl?(s.pop(),p-=g.duration,a.partList&&(a.fragmentHint=g)):a.partList&&(Gr(v,g),v.cc=m,a.fragmentHint=v,u&&Kr(v,u,a));const w=s.length,C=s[0],S=s[w-1];if(p+=a.skippedSegments*a.targetduration,p>0&&w&&S){a.averagetargetduration=p/w;const e=S.sn;a.endSN="initSegment"!==e?e:0,a.live||(S.endList=!0),C&&(a.startCC=C.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(p+=a.fragmentHint.duration),a.totalduration=p,a.endCC=m,y>0&&function(e,t){let n=e[t];for(let r=t;r--;){const t=e[r];if(!t)return;t.programDateTime=n.programDateTime-1e3*t.duration,n=t}}(s,y),a}}function zr(e,t,n){var r,i;const o=new tn(e);Er(n,o,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=null!=(r=o.METHOD)?r:"",s=o.URI,l=o.hexadecimalInteger("IV"),c=o.KEYFORMATVERSIONS,u=null!=(i=o.KEYFORMAT)?i:"identity";s&&o.IV&&!l&&Xt.error("Invalid IV: ".concat(o.IV));const d=s?Ur.resolve(s,t):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new vr(a,d,u,h,l)}function Hr(e){const t=new tn(e).decimalFloatingPoint("TIME-OFFSET");return Ht(t)?t:null}function Vr(e,t){let n=(e||"").split(/[ ,]+/).filter((e=>e));["video","audio","text"].forEach((e=>{const r=n.filter((t=>function(e,t){const n=_r[t];return!!n&&!!n[e.slice(0,4)]}(t,e)));r.length&&(t["".concat(e,"Codec")]=r.join(","),n=n.filter((e=>-1===r.indexOf(e))))})),t.unknownCodecs=n}function qr(e,t,n){const r=t[n];r&&(e[n]=r)}function Gr(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Ht(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function Wr(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function Kr(e,t,n){e.levelkeys=t;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((e=>t[e].isCommonEncryption))||r.push(e)}var Yr="manifest",Qr="level",Zr="audioTrack",$r="subtitleTrack",Xr="main",Jr="audio",ei="subtitle";function ti(e){const{type:t}=e;switch(t){case Zr:return Jr;case $r:return ei;default:return Xr}}function ni(e,t){let n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}class ri{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.on(Gt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Gt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.off(Gt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Gt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return this.loaders[e.type]=i,i}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:n}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Yr,url:n,deliveryDirectives:null})}onLevelLoading(e,t){const{id:n,level:r,pathwayId:i,url:o,deliveryDirectives:a}=t;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:Qr,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,t){const{id:n,groupId:r,url:i,deliveryDirectives:o}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:Zr,url:i,deliveryDirectives:o})}onSubtitleTrackLoading(e,t){const{id:n,groupId:r,url:i,deliveryDirectives:o}=t;this.load({id:n,groupId:r,level:null,responseType:"text",type:$r,url:i,deliveryDirectives:o})}load(e){var t;const n=this.hls.config;let r,i=this.getInternalLoader(e);if(i){const t=i.context;if(t&&t.url===e.url&&t.level===e.level)return void Xt.trace("[playlist-loader]: playlist request ongoing");Xt.log("[playlist-loader]: aborting previous loader for type: ".concat(e.type)),i.abort()}if(r=e.type===Yr?n.manifestLoadPolicy.default:zt({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Ht(null==(t=e.deliveryDirectives)?void 0:t.part)){let t;if(e.type===Qr&&null!==e.level?t=this.hls.levels[e.level].details:e.type===Zr&&null!==e.id?t=this.hls.audioTracks[e.id].details:e.type===$r&&null!==e.id&&(t=this.hls.subtitleTracks[e.id].details),t){const e=t.partTarget,n=t.targetduration;if(e&&n){const t=1e3*Math.max(3*e,.8*n);r=zt({},r,{maxTimeToFirstByteMs:Math.min(t,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(t,r.maxTimeToFirstByteMs)})}}}const o=r.errorRetry||r.timeoutRetry||{},a={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},s={onSuccess:(e,t,n,r)=>{const i=this.getInternalLoader(n);this.resetInternalLoader(n.type);const o=e.data;0===o.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),Ur.isMediaPlaylist(o)?this.handleTrackOrLevelPlaylist(e,t,n,r||null,i):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,new Error("no EXTM3U delimiter"),r||null,t)},onError:(e,t,n,r)=>{this.handleNetworkError(t,n,!1,e,r)},onTimeout:(e,t,n)=>{this.handleNetworkError(t,n,!0,void 0,e)}};i.load(e,a,s)}handleMasterPlaylist(e,t,n,r){const i=this.hls,o=e.data,a=ni(e,n),s=Ur.parseMasterPlaylist(o,a);if(s.playlistParsingError)return void this.handleManifestParsingError(e,n,s.playlistParsingError,r,t);const{contentSteering:l,levels:c,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f}=s;this.variableList=f;const{AUDIO:p=[],SUBTITLES:m,"CLOSED-CAPTIONS":g}=Ur.parseMasterPlaylistMedia(o,a,s);if(p.length){p.some((e=>!e.url))||!c[0].audioCodec||c[0].attrs.AUDIO||(Xt.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new tn({}),bitrate:0,url:""}))}i.trigger(Gt.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:m,captions:g,contentSteering:l,url:a,stats:t,networkDetails:r,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f})}handleTrackOrLevelPlaylist(e,t,n,r,i){const o=this.hls,{id:a,level:s,type:l}=n,c=ni(e,n),u=Ht(s)?s:Ht(a)?a:0,d=ti(n),h=Ur.parseLevelPlaylist(e.data,c,u,d,0,this.variableList);if(l===Yr){const e={attrs:new tn({}),bitrate:0,details:h,name:"",url:c};o.trigger(Gt.MANIFEST_LOADED,{levels:[e],audioTracks:[],url:c,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,e,t,n,r,i)}handleManifestParsingError(e,t,n,r,i){this.hls.trigger(Gt.ERROR,{type:Wt.NETWORK_ERROR,details:Kt.MANIFEST_PARSING_ERROR,fatal:t.type===Yr,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:i})}handleNetworkError(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="A network ".concat(n?"timeout":"error"+(r?" (status "+r.code+")":"")," occurred while loading ").concat(e.type);e.type===Qr?o+=": ".concat(e.level," id: ").concat(e.id):e.type!==Zr&&e.type!==$r||(o+=" id: ".concat(e.id,' group-id: "').concat(e.groupId,'"'));const a=new Error(o);Xt.warn("[playlist-loader]: ".concat(o));let s=Kt.UNKNOWN,l=!1;const c=this.getInternalLoader(e);switch(e.type){case Yr:s=n?Kt.MANIFEST_LOAD_TIMEOUT:Kt.MANIFEST_LOAD_ERROR,l=!0;break;case Qr:s=n?Kt.LEVEL_LOAD_TIMEOUT:Kt.LEVEL_LOAD_ERROR,l=!1;break;case Zr:s=n?Kt.AUDIO_TRACK_LOAD_TIMEOUT:Kt.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case $r:s=n?Kt.SUBTITLE_TRACK_LOAD_TIMEOUT:Kt.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(e.type);const u={type:Wt.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:c,context:e,error:a,networkDetails:t,stats:i};if(r){const n=(null==t?void 0:t.url)||e.url;u.response=jt({url:n,data:void 0},r)}this.hls.trigger(Gt.ERROR,u)}handlePlaylistLoaded(e,t,n,r,i,o){const a=this.hls,{type:s,level:l,id:c,groupId:u,deliveryDirectives:d}=r,h=ni(t,r),f=ti(r),p="number"===typeof r.level&&f===Xr?l:void 0;if(!e.fragments.length){const e=new Error("No Segments found in Playlist");return void a.trigger(Gt.ERROR,{type:Wt.NETWORK_ERROR,details:Kt.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:e,reason:e.message,response:t,context:r,level:p,parent:f,networkDetails:i,stats:n})}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const m=e.playlistParsingError;if(m)a.trigger(Gt.ERROR,{type:Wt.NETWORK_ERROR,details:Kt.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:m,reason:m.message,response:t,context:r,level:p,parent:f,networkDetails:i,stats:n});else switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),s){case Yr:case Qr:a.trigger(Gt.LEVEL_LOADED,{details:e,level:p||0,id:c||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case Zr:a.trigger(Gt.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case $r:a.trigger(Gt.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d})}}}function ii(e,t){let n;try{n=new Event("addtrack")}catch(r){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function oi(e,t){const n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: ".concat(t))}catch(r){Xt.debug("[texttrack-utils]: ".concat(r));try{const n=new self.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,e.addCue(n)}catch(i){Xt.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: ".concat(i))}}"disabled"===n&&(e.mode=n)}function ai(e){const t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(let n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function si(e,t,n,r){const i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0){const i=function(e,t,n){const r=[],i=function(e,t){if(t<e[0].startTime)return 0;const n=e.length-1;if(t>e[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const o=Math.floor((i+r)/2);if(t<e[o].startTime)i=o-1;else{if(!(t>e[o].startTime&&r<n))return o;r=o+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(let o=i,a=e.length;o<a;o++){const i=e[o];if(i.startTime>=t&&i.endTime<=n)r.push(i);else if(i.startTime>n)return r}return r}(e.cues,t,n);for(let t=0;t<i.length;t++)r&&!r(i[t])||e.removeCue(i[t])}"disabled"===i&&(e.mode=i)}function li(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[n])}return t}var ci="org.id3",ui="com.apple.quicktime.HLS",di="https://aomedia.org/emsg/ID3";function hi(){if("undefined"!==typeof self)return self.VTTCue||self.TextTrackCue}function fi(e,t,n,r,i){let o=new e(t,n,"");try{o.value=r,i&&(o.type=i)}catch(a){o=new e(t,n,JSON.stringify(i?jt({type:i},r):r))}return o}const pi=(()=>{const e=hi();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function mi(e,t){return e.getTime()/1e3-t}class gi{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Gt.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Gt.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(ai(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const n=e[t];if("metadata"===n.kind&&"id3"===n.label)return ii(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:i}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=hi();if(o)for(let a=0;a<i.length;a++){const e=i[a].type;if(e===di&&!n||!r)continue;const t=Fn(i[a].data);if(t){const n=i[a].pts;let r=n+i[a].duration;r>pi&&(r=pi);r-n<=0&&(r=n+.25);for(let i=0;i<t.length;i++){const a=t[i];if(!Pn(a)){this.updateId3CueEnds(n,e);const t=fi(o,n,r,a,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(e,t){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let i=r.length;i--;){const n=r[i];n.type===t&&n.startTime<e&&n.endTime===pi&&(n.endTime=e)}}onBufferFlushing(e,t){let{startOffset:n,endOffset:r,type:i}=t;const{id3Track:o,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:s,enableID3MetadataCues:l}}=a;if(o&&(s||l)){let e;e="audio"===i?e=>e.type===ci&&l:"video"===i?e=>e.type===di&&s:e=>e.type===ci&&l||e.type===di&&s,si(o,n,r,e)}}onLevelUpdated(e,t){let{details:n}=t;if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:o}=n,a=Object.keys(o);if(i){const e=Object.keys(r).filter((e=>!a.includes(e)));for(let t=e.length;t--;){const n=e[t];Object.keys(r[n].cues).forEach((e=>{i.removeCue(r[n].cues[e])})),delete r[n]}}const s=n.fragments[n.fragments.length-1];if(0===a.length||!Ht(null==s?void 0:s.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=s.programDateTime/1e3-s.start,c=hi();for(let h=0;h<a.length;h++){const e=a[h],t=o[e],n=mi(t.startDate,l),i=r[e],s=(null==i?void 0:i.cues)||{};let f=(null==i?void 0:i.durationKnown)||!1,p=pi;const m=t.endDate;if(m)p=mi(m,l),f=!0;else if(t.endOnNext&&!f){const e=a.reduce(((e,n)=>{if(n!==t.id){const r=o[n];if(r.class===t.class&&r.startDate>t.startDate&&(!e||t.startDate<e.startDate))return r}return e}),null);e&&(p=mi(e.startDate,l),f=!0)}const g=Object.keys(t.attr);for(let r=0;r<g.length;r++){const o=g[r];if("ID"===(d=o)||"CLASS"===d||"START-DATE"===d||"DURATION"===d||"END-DATE"===d||"END-ON-NEXT"===d)continue;const a=s[o];if(a)f&&!i.durationKnown&&(a.endTime=p);else if(c){let r=t.attr[o];nn(o)&&(u=r,r=Uint8Array.from(u.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const i=fi(c,n,p,{key:o,data:r},ui);i&&(i.id=e,this.id3Track.addCue(i),s[o]=i)}}r[e]={cues:s,dateRange:t,durationKnown:f}}var u,d}}class vi{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:t}=this;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(null===e)return null;const{holdBack:t,partHoldBack:n,targetduration:r}=e,{liveSyncDuration:i,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,s=this.hls.userConfig;let l=a&&n||t;(s.liveSyncDuration||s.liveSyncDurationCount||0===l)&&(l=void 0!==i?i:o*r);const c=r;return l+Math.min(1*this.stallCount,c)}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;const r=n.edge,i=e-t-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}get drift(){const{levelDetails:e}=this;return null===e?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(null===e)return 0;const t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e,levelDetails:t}=this;if(!e||!t)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Gt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Gt.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Gt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Gt.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,t){let{details:n}=t;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var n;t.details===Kt.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&Xt.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:i}=this.config;if(!r||1===i||!t.live)return;const o=this.targetLatency;if(null===o)return;const a=n-o;if(a<Math.min(this.maxLatency,o+t.targetduration)&&a>.05&&this.forwardBufferLength>1){const t=Math.min(2,Math.max(1,i)),n=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(t,Math.max(1,n))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return null===e?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}const yi=["NONE","TYPE-0","TYPE-1",null];const bi=["SDR","PQ","HLG"];var Ei="",wi="YES",Ci="v2";class Si{constructor(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}addDirectives(e){const t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Ti{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter((e=>!!e)).map((e=>e.substring(0,4))).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return _i(this._audioGroups,e)}hasSubtitleGroup(e){return _i(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t)if("audio"===e){let e=this._audioGroups;e||(e=this._audioGroups=[]),-1===e.indexOf(t)&&e.push(t)}else if("text"===e){let e=this._subtitleGroups;e||(e=this._subtitleGroups=[]),-1===e.indexOf(t)&&e.push(t)}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return null==(e=this.audioGroups)?void 0:e[0]}get textGroupId(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}addFallback(){}}function _i(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function ki(e,t){const n=t.startPTS;if(Ht(n)){let r,i=0;t.sn>e.sn?(i=n-e.start,r=e):(i=e.start-n,r=t),r.duration!==i&&(r.duration=i)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function xi(e,t,n,r,i,o){r-n<=0&&(Xt.warn("Fragment should have a positive duration",t),r=n+t.duration,o=i+t.duration);let a=n,s=r;const l=t.startPTS,c=t.endPTS;if(Ht(l)){const e=Math.abs(l-n);Ht(t.deltaPTS)?t.deltaPTS=Math.max(e,t.deltaPTS):t.deltaPTS=e,a=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,t.startDTS),s=Math.min(r,c),r=Math.max(r,c),o=Math.max(o,t.endDTS)}const u=n-t.start;0!==t.start&&(t.start=n),t.duration=r-t.start,t.startPTS=n,t.maxStartPTS=a,t.startDTS=i,t.endPTS=r,t.minEndPTS=s,t.endDTS=o;const d=t.sn;if(!e||d<e.startSN||d>e.endSN)return 0;let h;const f=d-e.startSN,p=e.fragments;for(p[f]=t,h=f;h>0;h--)ki(p[h],p[h-1]);for(h=f;h<p.length-1;h++)ki(p[h],p[h+1]);return e.fragmentHint&&ki(p[p.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,u}function Ai(e,t){let n=null;const r=e.fragments;for(let l=r.length-1;l>=0;l--){const e=r[l].initSegment;if(e){n=e;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;let i,o=0;if(function(e,t,n){const r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments;for(let c=i;c<=o;c++){const e=l[a+c];let i=s[c];r&&!i&&c<r&&(i=t.fragments[c]=e),e&&i&&n(e,i)}}(e,t,((e,r)=>{e.relurl&&(o=e.cc-r.cc),Ht(e.startPTS)&&Ht(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(i=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,e.initSegment&&(r.initSegment=e.initSegment,n=e.initSegment)})),n){(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((e=>{var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=n)?void 0:t.relurl)||(e.initSegment=n)}))}if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((e=>!e)),t.deltaUpdateFailed){Xt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let e=t.skippedSegments;e--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,n){const r=zt({},e);n&&n.forEach((e=>{delete r[e]}));return Object.keys(t).forEach((e=>{const n=new rn(t[e].attr,r[e]);n.isValid?r[e]=n:Xt.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(t[e].attr),'"'))})),r}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));const a=t.fragments;if(o){Xt.warn("discontinuity sliding from playlist, take drift into account");for(let e=0;e<a.length;e++)a[e].cc+=o}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,n){if(e&&t){let r=0;for(let i=0,o=e.length;i<=o;i++){const o=e[i],a=t[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}(e.partList,t.partList,((e,t)=>{t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),i?xi(t,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):Ii(e,t),a.length&&(t.totalduration=t.edge-a[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;const s=t.advancedDateTime;if(t.advanced&&s){const e=t.edge;t.driftStart||(t.driftStartTime=s,t.driftStart=e),t.driftEndTime=s,t.driftEnd=e}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function Ii(e,t){const n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||Mi(t,r[n].start)}function Mi(e,t){if(t){const n=e.fragments;for(let r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function Ri(e,t,n){var r;return null!=e&&e.details?Li(null==(r=e.details)?void 0:r.partList,t,n):null}function Li(e,t,n){if(e)for(let r=e.length;r--;){const i=e[r];if(i.index===n&&i.fragment.sn===t)return i}return null}function Di(e){e.forEach(((e,t)=>{const{details:n}=e;null!=n&&n.fragments&&n.fragments.forEach((e=>{e.level=t}))}))}function Oi(e){switch(e.details){case Kt.FRAG_LOAD_TIMEOUT:case Kt.KEY_LOAD_TIMEOUT:case Kt.LEVEL_LOAD_TIMEOUT:case Kt.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Pi(e,t){const n=Oi(t);return e.default["".concat(n?"timeout":"error","Retry")]}function Ni(e,t){const n="linear"===e.backoff?1:Math.pow(2,t);return Math.min(n*e.retryDelayMs,e.maxRetryDelayMs)}function Fi(e){return jt(jt({},e),{errorRetry:null,timeoutRetry:null})}function ji(e,t,n,r){if(!e)return!1;const i=null==r?void 0:r.code,o=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(i)||!!n);return e.shouldRetry?e.shouldRetry(e,t,n,r,o):o}const Bi=function(e,t){let n=0,r=e.length-1,i=null,o=null;for(;n<=r;){i=(n+r)/2|0,o=e[i];const a=t(o);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null};function Ui(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=null;if(e){i=t[e.sn-t[0].sn+1]||null;const r=e.endDTS-n;r>0&&r<15e-7&&(n+=15e-7)}else 0===n&&0===t[0].start&&(i=t[0]);if(i&&(!e||e.level===i.level)&&0===zi(n,r,i))return i;const o=Bi(t,zi.bind(null,n,r));return!o||o===e&&i?i:o}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(n.start<=e&&n.start+n.duration>e)return 0;const r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function Hi(e,t,n){const r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}var Vi=0,qi=2,Gi=3,Wi=5,Ki=0,Yi=1,Qi=2;class Zi{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Xt.log.bind(Xt,"".concat(t,":")),this.warn=Xt.warn.bind(Xt,"".concat(t,":")),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t){const n=null==t?void 0:t.renditionReports;if(n){let i=-1;for(let o=0;o<n.length;o++){const a=n[o];let s;try{s=new self.URL(a.URI,t.url).href}catch(r){Xt.warn("Could not construct new URL for Rendition Report: ".concat(r)),s=a.URI||""}if(s===e){i=o;break}s===e.substring(0,s.length)&&(i=o)}if(-1!==i){const e=n[i],r=parseInt(e["LAST-MSN"])||(null==t?void 0:t.lastPartSn);let o=parseInt(e["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const e=Math.min(t.age-t.partTarget,t.targetduration);o>=0&&e>t.partTarget&&(o+=1)}return new Si(r,o>=0?o:void 0,Ei)}}}loadPlaylist(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,n){const{details:r,stats:i}=t,o=self.performance.now(),a=i.loading.first?Math.max(0,o-i.loading.first):0;if(r.advancedDateTime=Date.now()-a,r.live||null!=n&&n.live){if(r.reloaded(n),n&&this.log("live playlist ".concat(e," ").concat(r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED")),n&&r.fragments.length>0&&Ai(n,r),!this.canLoad||!r.live)return;let a,s,l;if(r.canBlockReload&&r.endSN&&r.advanced){const e=this.hls.config.lowLatencyMode,i=r.lastPartSn,o=r.endSN,c=r.lastPartIndex,u=i===o;-1!==c?(s=u?o+1:i,l=u?e?0:c:c+1):s=o+1;const d=r.age,h=d+r.ageHeader;let f=Math.min(h-r.partTarget,1.5*r.targetduration);if(f>0){if(n&&f>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(n.tuneInGoal," to: ").concat(f," with playlist age: ").concat(r.age)),f=0;else{const e=Math.floor(f/r.targetduration);if(s+=e,void 0!==l){l+=Math.round(f%r.targetduration/r.partTarget)}this.log("CDN Tune-in age: ".concat(r.ageHeader,"s last advanced ").concat(d.toFixed(2),"s goal: ").concat(f," skip sn ").concat(e," to part ").concat(l))}r.tuneInGoal=f}if(a=this.getDeliveryDirectives(r,t.deliveryDirectives,s,l),e||!u)return void this.loadPlaylist(a)}else(r.canBlockReload||r.canSkipUntil)&&(a=this.getDeliveryDirectives(r,t.deliveryDirectives,s,l));const c=this.hls.mainForwardBufferInfo,u=c?c.end-c.len:0,d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=1e3*e.targetduration;if(e.updated){const r=e.fragments,i=4;if(r.length&&n*i>t){const e=1e3*r[r.length-1].duration;e<n&&(n=e)}}else n/=2;return Math.round(n)}(r,1e3*(r.edge-u));r.updated&&o>this.requestScheduled+d&&(this.requestScheduled=i.loading.start),void 0!==s&&r.canBlockReload?this.requestScheduled=i.loading.first+d-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+d<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=d);let h=this.requestScheduled-o;h=Math.max(0,h),this.log("reload live playlist ".concat(e," in ").concat(Math.round(h)," ms")),this.timer=self.setTimeout((()=>this.loadPlaylist(a)),h)}else this.clearTimer()}getDeliveryDirectives(e,t,n,r){let i=function(e,t){const{canSkipUntil:n,canSkipDateRanges:r,endSN:i}=e;return n&&(void 0!==t?t-i:0)<n?r?Ci:wi:Ei}(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=Ei),new Si(n,r,i)}checkRetry(e){const t=e.details,n=Oi(e),r=e.errorAction,{action:i,retryCount:o=0,retryConfig:a}=r||{},s=!!r&&!!a&&(i===Wi||!r.resolved&&i===qi);if(s){var l;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(n&&null!=(l=e.context)&&l.deliveryDirectives)this.warn("Retrying playlist loading ".concat(o+1,"/").concat(a.maxNumRetry,' after "').concat(t,'" without delivery-directives')),this.loadPlaylist();else{const e=Ni(a,o);this.timer=self.setTimeout((()=>this.loadPlaylist()),e),this.warn("Retrying playlist loading ".concat(o+1,"/").concat(a.maxNumRetry,' after "').concat(t,'" in ').concat(e,"ms"))}e.levelRetry=!0,r.resolved=!0}return s}}class $i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}sample(e,t){const n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Xi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new $i(e),this.fast_=new $i(t),this.defaultTTFB_=r,this.ttfb_=new $i(e)}update(e,t){const{slow_:n,fast_:r,ttfb_:i}=this;n.halfLife!==e&&(this.slow_=new $i(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.fast_=new $i(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new $i(e,i.getEstimate(),i.getTotalWeight()))}sample(e,t){const n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(e){const t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Ji={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},eo={};function to(e,t,n,r,i,o){const a=e.audioCodec?e.audioGroups:null,s=null==o?void 0:o.audioCodec,l=null==o?void 0:o.channels,c=l?parseInt(l):s?1/0:2;let u=null;if(null!=a&&a.length)try{u=1===a.length&&a[0]?t.groups[a[0]].channels:a.reduce(((e,n)=>{if(n){const r=t.groups[n];if(!r)throw new Error("Audio track group ".concat(n," not found"));Object.keys(r.channels).forEach((t=>{e[t]=(e[t]||0)+r.channels[t]}))}return e}),{2:0})}catch(d){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(r,30)||"SDR"!==e.videoRange&&e.videoRange!==n||e.bitrate>Math.max(i,8e6))||!!u&&Ht(c)&&Object.keys(u).some((e=>parseInt(e)>c))}function no(e,t,n){const r=e.videoCodec,i=e.audioCodec;if(!r||!i||!n)return Promise.resolve(Ji);const o={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},a=e.videoRange;"SDR"!==a&&(o.transferFunction=a.toLowerCase());const s=r.split(",").map((e=>({type:"media-source",video:jt(jt({},o),{},{contentType:Ar(e,"video")})})));return i&&e.audioGroups&&e.audioGroups.forEach((e=>{var n;e&&(null==(n=t.groups[e])||n.tracks.forEach((t=>{if(t.groupId===e){const e=t.channels||"",n=parseFloat(e);Ht(n)&&n>2&&s.push.apply(s,i.split(",").map((e=>({type:"media-source",audio:{contentType:Ar(e,"audio"),channels:""+n}}))))}})))})),Promise.all(s.map((e=>{const t=function(e){const{audio:t,video:n}=e,r=n||t;if(r){const e=r.contentType.split('"')[1];if(n)return"r".concat(n.height,"x").concat(n.width,"f").concat(Math.ceil(n.framerate)).concat(n.transferFunction||"sd","_").concat(e,"_").concat(Math.ceil(n.bitrate/1e5));if(t)return"c".concat(t.channels).concat(t.spatialRendering?"s":"n","_").concat(e)}return""}(e);return eo[t]||(eo[t]=n.decodingInfo(e))}))).then((e=>({supported:!e.some((e=>!e.supported)),configurations:s,decodingInfoResults:e}))).catch((e=>({supported:!1,configurations:s,decodingInfoResults:[],error:e})))}function ro(e,t){let n=!1,r=[];return e&&(n="SDR"!==e,r=[e]),t&&(r=t.allowedVideoRanges||bi.slice(0),n=void 0!==t.preferHDR?t.preferHDR:function(){if("function"===typeof matchMedia){const e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}(),r=n?r.filter((e=>"SDR"!==e)):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function io(e,t){Xt.log('[abr] start candidates with "'.concat(e,'" ignored because ').concat(t))}function oo(e,t,n){if("attrs"in e){const n=t.indexOf(e);if(-1!==n)return n}for(let r=0;r<t.length;r++){if(ao(e,t[r],n))return r}return-1}function ao(e,t,n){const{groupId:r,name:i,lang:o,assocLang:a,characteristics:s,default:l}=e,c=e.forced;return(void 0===r||t.groupId===r)&&(void 0===i||t.name===i)&&(void 0===o||t.lang===o)&&(void 0===o||t.assocLang===a)&&(void 0===l||t.default===l)&&(void 0===c||t.forced===c)&&(void 0===s||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split(","),r=t.split(",");return n.length===r.length&&!n.some((e=>-1===r.indexOf(e)))}(s,t.characteristics))&&(void 0===n||n(e,t))}function so(e,t){const{audioCodec:n,channels:r}=e;return(void 0===n||(t.audioCodec||"").substring(0,4)===n.substring(0,4))&&(void 0===r||r===(t.channels||"2"))}function lo(e,t,n){for(let r=t;r;r--)if(n(e[r]))return r;for(let r=t+1;r<e.length;r++)if(n(e[r]))return r;return-1}class co{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var uo="NOT_LOADED",ho="APPENDING",fo="PARTIAL",po="OK";class mo{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Gt.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Gt.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Gt.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(Gt.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Gt.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Gt.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const n=this.activePartLists[t];if(n)for(let r=n.length;r--;){const t=n[r];if(!t)break;const i=t.end;if(t.start<=e&&null!==i&&e<=i)return t}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){const{fragments:n}=this,r=Object.keys(n);for(let i=r.length;i--;){const o=n[r[i]];if((null==o?void 0:o.body.type)===t&&o.buffered){const t=o.body;if(t.start<=e&&e<=t.end)return t}}return null}detectEvictedFragments(e,t,n,r){this.timeRanges&&(this.timeRanges[e]=t);const i=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((r=>{const o=this.fragments[r];if(!o)return;if(i>=o.body.sn)return;if(!o.buffered&&!o.loaded)return void(o.body.type===n&&this.removeFragment(o.body));const a=o.range[e];a&&a.time.some((e=>{const n=!this.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&this.removeFragment(o.body),n}))}))}detectPartialFragments(e){const t=this.timeRanges,{frag:n,part:r}=e;if(!t||"initSegment"===n.sn)return;const i=vo(n),o=this.fragments[i];if(!o||o.buffered&&n.gap)return;const a=!n.relurl;if(Object.keys(t).forEach((e=>{const i=n.elementaryStreams[e];if(!i)return;const s=t[e],l=a||!0===i.partial;o.range[e]=this.getBufferedTimes(n,r,l,s)})),o.loaded=null,Object.keys(o.range).length){o.buffered=!0;(o.body.endList=n.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),go(o)||this.removeParts(n.sn-1,n.type)}else this.removeFragment(o.body)}removeParts(e,t){const n=this.activePartLists[t];n&&(this.activePartLists[t]=n.filter((t=>t.fragment.sn>=e)))}fragBuffered(e,t){const n=vo(e);let r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(e,t,n,r){const i={time:[],partial:n},o=e.start,a=e.end,s=e.minEndPTS||a,l=e.maxStartPTS||o;for(let c=0;c<r.length;c++){const e=r.start(c)-this.bufferPadding,t=r.end(c)+this.bufferPadding;if(l>=e&&s<=t){i.time.push({startPTS:Math.max(o,r.start(c)),endPTS:Math.min(a,r.end(c))});break}if(o<t&&a>e){const e=Math.max(o,r.start(c)),t=Math.min(a,r.end(c));t>e&&(i.partial=!0,i.time.push({startPTS:e,endPTS:t}))}else if(a<=e)break}return i}getPartialFragment(e){let t,n,r,i=null,o=0;const{bufferPadding:a,fragments:s}=this;return Object.keys(s).forEach((l=>{const c=s[l];c&&go(c)&&(n=c.body.start-a,r=c.body.end+a,e>=n&&e<=r&&(t=Math.min(e-n,r-e),o<=t&&(i=c.body,o=t)))})),i}isEndListAppended(e){const t=this.endListFragments[e];return void 0!==t&&(t.buffered||go(t))}getState(e){const t=vo(e),n=this.fragments[t];return n?n.buffered?go(n)?fo:po:ho:uo}isTimeBuffered(e,t,n){let r,i;for(let o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1}onFragLoaded(e,t){const{frag:n,part:r}=t;if("initSegment"===n.sn||n.bitrateTest)return;const i=r?null:t,o=vo(n);this.fragments[o]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:n,part:r,timeRanges:i}=t;if("initSegment"===n.sn)return;const o=n.type;if(r){let e=this.activePartLists[o];e||(this.activePartLists[o]=e=[]),e.push(r)}this.timeRanges=i,Object.keys(i).forEach((e=>{const t=i[e];this.detectEvictedFragments(e,t,o,r)}))}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=vo(e);return!!this.fragments[t]}hasParts(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}removeFragmentsInRange(e,t,n,r,i){r&&!this.hasGaps||Object.keys(this.fragments).forEach((o=>{const a=this.fragments[o];if(!a)return;const s=a.body;s.type!==n||r&&!s.gap||s.start<t&&s.end>e&&(a.buffered||i)&&this.removeFragment(s)}))}removeFragment(e){const t=vo(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const t=e.sn;this.activePartLists[e.type]=n.filter((e=>e.fragment.sn!==t))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function go(e){var t,n,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(n=e.range.audio)?void 0:n.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function vo(e){return"".concat(e.type,"_").concat(e.level,"_").concat(e.sn)}const yo={length:0,start:()=>0,end:()=>0};class bo{static isBuffered(e,t){try{if(e){const n=bo.getBuffered(e);for(let e=0;e<n.length;e++)if(t>=n.start(e)&&t<=n.end(e))return!0}}catch(n){}return!1}static bufferInfo(e,t,n){try{if(e){const r=bo.getBuffered(e),i=[];let o;for(o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,t,n)}}catch(r){}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,n){t=Math.max(0,t),e.sort((function(e,t){const n=e.start-t.start;return n||t.end-e.end}));let r=[];if(n)for(let l=0;l<e.length;l++){const t=r.length;if(t){const i=r[t-1].end;e[l].start-i<n?e[l].end>i&&(r[t-1].end=e[l].end):r.push(e[l])}else r.push(e[l])}else r=e;let i,o=0,a=t,s=t;for(let l=0;l<r.length;l++){const e=r[l].start,c=r[l].end;if(t+n>=e&&t<c)a=e,s=c,o=s-t;else if(t+n<e){i=e;break}}return{len:o,start:a||0,end:s||0,nextStart:i}}static getBuffered(e){try{return e.buffered}catch(t){return Xt.log("failed to get media.buffered",t),yo}}}class Eo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=o}}function wo(e,t){for(let r=0,i=e.length;r<i;r++){var n;if((null==(n=e[r])?void 0:n.cc)===t)return e[r]}return null}function Co(e,t){if(e){const n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function So(e,t){const n=t.fragments;for(let r=0,i=n.length;r<i;r++)Co(n[r],e);t.fragmentHint&&Co(t.fragmentHint,e),t.alignedSliding=!0}function To(e,t,n){t&&(!function(e,t,n){if(function(e,t,n){return!(!t||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}(e,n,t)){const e=function(e,t){const n=e.fragments,r=t.fragments;if(!r.length||!n.length)return void Xt.log("No fragments to align");const i=wo(n,r[0].cc);if(i&&(!i||i.startPTS))return i;Xt.log("No frag in previous level to align on")}(n,t);e&&Ht(e.start)&&(Xt.log("Adjusting PTS using last level due to CC increase within current level ".concat(t.url)),So(e.start,t))}}(e,n,t),!n.alignedSliding&&t&&_o(n,t),n.alignedSliding||!t||n.skippedSegments||Ii(t,n))}function _o(e,t){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;const n=e.fragments,r=t.fragments;if(!n.length||!r.length)return;let i,o;const a=Math.min(t.endCC,e.endCC);t.startCC<a&&e.startCC<a&&(i=wo(r,a),o=wo(n,a)),i&&o||(i=r[Math.floor(r.length/2)],o=wo(n,i.cc)||n[Math.floor(n.length/2)]);const s=i.programDateTime,l=o.programDateTime;if(!s||!l)return;So((l-s)/1e3-(o.start-i.start),e)}const ko=Math.pow(2,17);class xo{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const n=e.url;if(!n)return Promise.reject(new Mo({type:Wt.NETWORK_ERROR,details:Kt.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a ".concat(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise(((a,s)=>{if(this.loader&&this.loader.destroy(),e.gap){if(e.tagList.some((e=>"GAP"===e[0])))return void s(Io(e));e.gap=!1}const l=this.loader=e.loader=i?new i(r):new o(r),c=Ao(e),u=Fi(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:ko};e.stats=l.stats,l.load(c,d,{onSuccess:(t,n,r,i)=>{this.resetLoader(e,l);let o=t.data;r.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),a({frag:e,part:null,payload:o,networkDetails:i})},onError:(t,r,i,o)=>{this.resetLoader(e,l),s(new Mo({type:Wt.NETWORK_ERROR,details:Kt.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:jt({url:n,data:void 0},t),error:new Error("HTTP Error ".concat(t.code," ").concat(t.text)),networkDetails:i,stats:o}))},onAbort:(t,n,r)=>{this.resetLoader(e,l),s(new Mo({type:Wt.NETWORK_ERROR,details:Kt.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:r,stats:t}))},onTimeout:(t,n,r)=>{this.resetLoader(e,l),s(new Mo({type:Wt.NETWORK_ERROR,details:Kt.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after ".concat(d.timeout,"ms")),networkDetails:r,stats:t}))},onProgress:(n,r,i,o)=>{t&&t({frag:e,part:null,payload:i,networkDetails:o})}})}))}loadPart(e,t,n){this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise(((a,s)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap)return void s(Io(e,t));const l=this.loader=e.loader=i?new i(r):new o(r),c=Ao(e,t),u=Fi(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:ko};t.stats=l.stats,l.load(c,d,{onSuccess:(r,i,o,s)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,t);const c={frag:e,part:t,payload:r.data,networkDetails:s};n(c),a(c)},onError:(n,r,i,o)=>{this.resetLoader(e,l),s(new Mo({type:Wt.NETWORK_ERROR,details:Kt.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:jt({url:c.url,data:void 0},n),error:new Error("HTTP Error ".concat(n.code," ").concat(n.text)),networkDetails:i,stats:o}))},onAbort:(n,r,i)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,l),s(new Mo({type:Wt.NETWORK_ERROR,details:Kt.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:i,stats:n}))},onTimeout:(n,r,i)=>{this.resetLoader(e,l),s(new Mo({type:Wt.NETWORK_ERROR,details:Kt.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after ".concat(d.timeout,"ms")),networkDetails:i,stats:n}))}})}))}updateStatsFromPart(e,t){const n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){const r=Math.round(e.duration/t.duration),o=Math.min(Math.round(n.loaded/i),r),a=(r-o)*Math.round(n.loaded/o);n.total=n.loaded+a}else n.total=Math.max(n.loaded,n.total);const o=n.loading,a=r.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function Ao(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(Ht(i)&&Ht(o)){var a;let t=i,n=o;if("initSegment"===e.sn&&"AES-128"===(null==(a=e.decryptdata)?void 0:a.method)){const e=o-i;e%16&&(n=o+(16-e%16)),0!==i&&(r.resetIV=!0,t=i-16)}r.rangeStart=t,r.rangeEnd=n}return r}function Io(e,t){const n=new Error("GAP ".concat(e.gap?"tag":"attribute"," found")),r={type:Wt.MEDIA_ERROR,details:Kt.FRAG_GAP,fatal:!1,frag:e,error:n,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new Mo(r)}class Mo extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Ro{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}class Lo{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Do{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),n=new Uint32Array(4);for(let r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}initTable(){const e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],h=new Uint32Array(256);let f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){let n=p^p<<1^p<<2^p<<3^p<<4;n=n>>>8^255&n^99,e[f]=n,t[n]=f;const s=h[f],m=h[s],g=h[m];let v=257*h[n]^16843008*n;r[f]=v<<24|v>>>8,i[f]=v<<16|v>>>16,o[f]=v<<8|v>>>24,a[f]=v,v=16843009*g^65537*m^257*s^16843008*f,l[n]=v<<24|v>>>8,c[n]=v<<16|v>>>16,u[n]=v<<8|v>>>24,d[n]=v,f?(f=s^h[h[h[g^s]]],p^=h[h[p]]):f=p=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let n=!0,r=0;for(;r<t.length&&n;)n=t[r]===this.key[r],r++;if(n)return;this.key=t;const i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);const o=this.ksRows=4*(i+6+1);let a,s;const l=this.keySchedule=new Uint32Array(o),c=this.invKeySchedule=new Uint32Array(o),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],m=h[2],g=h[3];let v,y;for(a=0;a<o;a++)a<i?v=l[a]=t[a]:(y=v,a%i===0?(y=y<<8|y>>>24,y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[a/i|0]<<24):i>6&&a%i===4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[a]=v=(l[a-i]^y)>>>0);for(s=0;s<o;s++)a=o-s,y=3&s?l[a]:l[a-4],c[s]=s<4||a<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^m[u[y>>>8&255]]^g[u[255&y]],c[s]=c[s]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,n){const r=this.keySize+6,i=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,s=a[0],l=a[1],c=a[2],u=a[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],f=d[1],p=d[2],m=d[3];const g=new Int32Array(e),v=new Int32Array(g.length);let y,b,E,w,C,S,T,_,k,x,A,I,M,R;const L=this.networkToHostOrderSwap;for(;t<g.length;){for(k=L(g[t]),x=L(g[t+1]),A=L(g[t+2]),I=L(g[t+3]),C=k^i[0],S=I^i[1],T=A^i[2],_=x^i[3],M=4,R=1;R<r;R++)y=s[C>>>24]^l[S>>16&255]^c[T>>8&255]^u[255&_]^i[M],b=s[S>>>24]^l[T>>16&255]^c[_>>8&255]^u[255&C]^i[M+1],E=s[T>>>24]^l[_>>16&255]^c[C>>8&255]^u[255&S]^i[M+2],w=s[_>>>24]^l[C>>16&255]^c[S>>8&255]^u[255&T]^i[M+3],C=y,S=b,T=E,_=w,M+=4;y=o[C>>>24]<<24^o[S>>16&255]<<16^o[T>>8&255]<<8^o[255&_]^i[M],b=o[S>>>24]<<24^o[T>>16&255]<<16^o[_>>8&255]<<8^o[255&C]^i[M+1],E=o[T>>>24]<<24^o[_>>16&255]<<16^o[C>>8&255]<<8^o[255&S]^i[M+2],w=o[_>>>24]<<24^o[C>>16&255]<<16^o[S>>8&255]<<8^o[255&T]^i[M+3],v[t]=L(y^h),v[t+1]=L(w^f),v[t+2]=L(E^p),v[t+3]=L(b^m),h=k,f=x,p=A,m=I,t+=4}return v.buffer}}class Oo{constructor(e){let{removePKCS7Padding:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const e=self.crypto;e&&(this.subtle=e.subtle||e.webkitSubtle)}catch(n){}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){const t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?An(e,0,t-n):e}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,n){return this.useSoftware?new Promise(((r,i)=>{this.softwareDecrypt(new Uint8Array(e),t,n);const o=this.flush();o?r(o.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,n)}softwareDecrypt(e,t,n){const{currentIV:r,currentResult:i,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=ur(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;r&&(n=r);let s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new Do),s.expandKey(t);const l=i;return this.currentResult=s.decrypt(a.buffer,0,n),this.currentIV=An(a,-16).buffer,l||null}webCryptoDecrypt(e,t,n){const r=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new Lo(r,t)),this.fastAesKey.expandKey().then((t=>{if(!r)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new Ro(r,new Uint8Array(n)).decrypt(e.buffer,t)})).catch((r=>(Xt.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(r.name,": ").concat(r.message)),this.onWebCryptoError(e,t,n))))}onWebCryptoError(e,t,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e;const n=e.length-e.length%16;return n!==e.length&&(t=An(e,0,n),this.remainderData=An(e,n)),t}logOnce(e){this.logEnabled&&(Xt.log("[decrypter]: ".concat(e)),this.logEnabled=!1)}}const Po=function(e){let t="";const n=e.length;for(let r=0;r<n;r++)t+="[".concat(e.start(r).toFixed(3),"-").concat(e.end(r).toFixed(3),"]");return t},No="STOPPED",Fo="IDLE",jo="KEY_LOADING",Bo="FRAG_LOADING",Uo="FRAG_LOADING_WAITING_RETRY",zo="WAITING_TRACK",Ho="PARSING",Vo="PARSED",qo="ENDED",Go="ERROR",Wo="WAITING_INIT_PTS",Ko="WAITING_LEVEL";class Yo extends co{constructor(e,t,n,r,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=No,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=r,this.log=Xt.log.bind(Xt,"".concat(r,":")),this.warn=Xt.warn.bind(Xt,"".concat(r,":")),this.hls=e,this.fragmentLoader=new xo(e.config),this.keyLoader=n,this.fragmentTracker=t,this.config=e.config,this.decrypter=new Oo(e.config),e.on(Gt.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=No}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;const n=t.partList;if(null!=n&&n.length){const e=n[n.length-1];return bo.isBuffered(this.media,e.start+e.duration/2)}const r=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details}onMediaAttached(e,t){const n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===No&&this.startLoad(r.startPosition)}onMediaDetaching(){const e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:t,media:n,mediaBuffer:r,state:i}=this,o=n?n.currentTime:0,a=bo.bufferInfo(r||n,o,e.maxBufferHole);if(this.log("media seeking to ".concat(Ht(o)?o.toFixed(3):o,", state: ").concat(i)),this.state===qo)this.resetLoadingState();else if(t){const n=e.maxFragLookUpTolerance,r=t.start-n,i=t.start+t.duration+n;if(!a.len||i<a.start||r>a.end){const e=o>i;(o<r||e)&&(e&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=No,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,n){this._loadFragForPlayback(e,t,n)}_loadFragForPlayback(e,t,n){this._doFragLoad(e,t,n,(t=>{if(this.fragContextChanged(e))return this.warn("Fragment ".concat(e.sn).concat(t.part?" p: "+t.part.index:""," of level ").concat(e.level," was dropped during download.")),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const n=this.state;this.fragContextChanged(e)?(n===Bo||!this.fragCurrent&&n===Ho)&&(this.fragmentTracker.removeFragment(e),this.state=Fo):("payload"in t&&(this.log("Loaded fragment ".concat(e.sn," of level ").concat(e.level)),this.hls.trigger(Gt.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((t=>{this.state!==No&&this.state!==Go&&(this.warn(t),this.resetFragmentLoading(e))}))}clearTrackerIfNeeded(e){var t;const{fragmentTracker:n}=this;if(n.getState(e)===ho){const t=e.type,r=this.getFwdBufferInfo(this.mediaBuffer,t),i=Math.max(e.duration,r?r.len:this.config.maxBufferLength);this.reduceMaxBufferLength(i)&&n.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===fo&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t){if(!(e-t))return;const n={startOffset:e,endOffset:t,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};this.hls.trigger(Gt.BUFFER_FLUSHING,n)}_loadInitSegment(e,t){this._doFragLoad(e,t).then((t=>{if(!t||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:n}=this,{payload:r}=t,i=e.decryptdata;if(r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&"AES-128"===i.method){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((t=>{throw n.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((r=>{const i=self.performance.now();return n.trigger(Gt.FRAG_DECRYPTED,{frag:e,payload:r,stats:{tstart:o,tdecrypt:i}}),t.payload=r,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((t=>{this.state!==No&&this.state!==Go&&(this.warn(t),this.resetFragmentLoading(e))}))}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state=Fo,e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var n,r,i,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.playlistType===Xr?"level":"track"," ").concat(e.level," (frag:[").concat((null!=(n=e.startPTS)?n:NaN).toFixed(3),"-").concat((null!=(r=e.endPTS)?r:NaN).toFixed(3),"] > buffer:").concat(a?Po(bo.getBuffered(a)):"(detached)",")")),"initSegment"!==e.sn){var s;if(e.type!==ei){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return void(this.state=Fo)}const t=null==(s=this.levels)?void 0:s[e.level];null!=t&&t.fragmentError&&(this.log("Resetting level fragment error count of ".concat(t.fragmentError," on frag buffered")),t.fragmentError=0)}this.state=Fo,a&&(!this.loadedmetadata&&e.type==Xr&&a.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(o=this.fragPrevious)?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:n,part:r,partsLoaded:i}=e,o=!i||0===i.length||i.some((e=>!e)),a=new Eo(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;var i;const o=null==t?void 0:t.details;if(!this.levels||!o)throw new Error("frag load aborted, missing level".concat(o?"":" detail","s"));let a=null;if(!e.encrypted||null!=(i=e.decryptdata)&&i.key?!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments):(this.log("Loading key for ".concat(e.sn," of [").concat(o.startSN,"-").concat(o.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(e.level)),this.state=jo,this.fragCurrent=e,a=this.keyLoader.load(e).then((e=>{if(!this.fragContextChanged(e.frag))return this.hls.trigger(Gt.KEY_LOADED,e),this.state===jo&&(this.state=Fo),e})),this.hls.trigger(Gt.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){const i=o.partList;if(i&&r){n>e.end&&o.fragmentHint&&(e=o.fragmentHint);const s=this.getNextPart(i,e,n);if(s>-1){const l=i[s];let c;return this.log("Loading part sn: ".concat(e.sn," p: ").concat(l.index," cc: ").concat(e.cc," of playlist [").concat(o.startSN,"-").concat(o.endSN,"] parts [0-").concat(s,"-").concat(i.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(n.toFixed(3)))),this.nextLoadPosition=l.start+l.duration,this.state=Bo,c=a?a.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(e,l,t,r))).catch((e=>this.handleFragLoadError(e))):this.doFragPartsLoad(e,l,t,r).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(Gt.FRAG_LOADING,{frag:e,part:l,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(i,n))return Promise.resolve(null)}}this.log("Loading fragment ".concat(e.sn," cc: ").concat(e.cc," ").concat(o?"of ["+o.startSN+"-"+o.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(n.toFixed(3)))),Ht(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Bo;const s=this.config.progressive;let l;return l=s&&a?a.then((t=>!t||this.fragContextChanged(null==t?void 0:t.frag)?null:this.fragmentLoader.load(e,r))).catch((e=>this.handleFragLoadError(e))):Promise.all([this.fragmentLoader.load(e,s?r:void 0),a]).then((e=>{let[t]=e;return!s&&t&&r&&r(t),t})).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(Gt.FRAG_LOADING,{frag:e,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(e,t,n,r){return new Promise(((i,o)=>{var a;const s=[],l=null==(a=n.details)?void 0:a.partList,c=t=>{this.fragmentLoader.loadPart(e,t,r).then((r=>{s[t.index]=r;const o=r.part;this.hls.trigger(Gt.FRAG_LOADED,r);const a=Ri(n,e.sn,t.index+1)||Li(l,e.sn,t.index+1);if(!a)return i({frag:e,part:o,partsLoaded:s});c(a)})).catch(o)};c(t)}))}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===Kt.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(Gt.ERROR,t)}else this.hls.trigger(Gt.ERROR,{type:Wt.OTHER_ERROR,details:Kt.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==Ho)return void(this.fragCurrent||this.state===No||this.state===Go||(this.state=Fo));const{frag:n,part:r,level:i}=t,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,e.partial)}getCurrentContext(e){const{levels:t,fragCurrent:n}=this,{level:r,sn:i,part:o}=e;if(null==t||!t[r])return this.warn("Levels object was unset while buffering fragment ".concat(i," of level ").concat(r,". The current chunk will not be buffered.")),null;const a=t[r],s=o>-1?Ri(a,i,o):null,l=s?s.fragment:function(e,t,n){if(null==e||!e.details)return null;const r=e.details;let i=r.fragments[t-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}(a,i,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:s,level:a}):null}bufferFragmentData(e,t,n,r,i){var o;if(!e||this.state!==Ho)return;const{data1:a,data2:s}=e;let l=a;if(a&&s&&(l=ur(a,s)),null==(o=l)||!o.length)return;const c={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:l};if(this.hls.trigger(Gt.BUFFER_APPENDING,c),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!bo.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,e.start);const n=t.currentTime,r=bo.bufferInfo(t,n,0),i=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),a=Math.max(Math.min(e.start-o,r.end-o),n+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,t){const n=this.getLoadPosition();return Ht(n)?this.getFwdBufferInfoAtPos(e,n,t):null}getFwdBufferInfoAtPos(e,t,n){const{config:{maxBufferHole:r}}=this,i=bo.bufferInfo(e,t,r);if(0===i.len&&void 0!==i.nextStart){const o=this.fragmentTracker.getBufferedFrag(t,n);if(o&&i.nextStart<o.end)return bo.bufferInfo(e,t,Math.max(i.nextStart,r))}return i}getMaxBufferLength(e){const{config:t}=this;let n;return n=e?Math.max(8*t.maxBufferSize/e,t.maxBufferLength):t.maxBufferLength,Math.min(n,t.maxMaxBufferLength)}reduceMaxBufferLength(e){const t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(t.maxMaxBufferLength,"s")),!0)}getAppendedFrag(e){const t=this.fragmentTracker.getAppendedFrag(e,Xr);return t&&"fragment"in t?t.fragment:t}getNextFragment(e,t){const n=t.fragments,r=n.length;if(!r)return null;const{config:i}=this,o=n[0].start;let a;if(t.live){const s=i.initialLiveManifestSize;if(r<s)return this.warn("Not enough fragments to start playback (have: ".concat(r,", need: ").concat(s,")")),null;(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<o)&&(a=this.getInitialLiveFragment(t,n),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=n[0]);if(!a){const n=i.lowLatencyMode?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,n,t)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,t){const n=this.fragmentTracker.getState(e);return(n===po||n===fo&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,n,r,i){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,t);if(null===a)return a;if(e=a,o&&e&&!e.gap&&n.nextStart){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==t&&n.len+t.len>=i)return this.log('buffer full after gaps in "'.concat(r,'" playlist starting at sn: ').concat(e.sn)),null}return e}mapToInitFragWhenRequired(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}getNextPart(e,t,n){let r=-1,i=!1,o=!0;for(let a=0,s=e.length;a<s;a++){const s=e[a];if(o=o&&!s.independent,r>-1&&n<s.start)break;const l=s.loaded;l?r=-1:(i||s.independent||o)&&s.fragment===t&&(r=a),i=l}return r}loadedEndOfParts(e,t){const n=e[e.length-1];return n&&t>n.start&&n.loaded}getInitialLiveFragment(e,t){const n=this.fragPrevious;let r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(n.programDateTime)),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Ht(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<e.length;++r){const i=e[r];if(Hi(t,n,i))return i}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){const o=t[i-e.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(r.sn)))}r||(r=function(e,t){return Bi(e,(e=>e.cc<t?1:e.cc>t?-1:0))}(t,n.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(r.sn)))}}else{const t=this.hls.liveSyncPosition;null!==t&&(r=this.getFragmentAtPosition(t,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}getFragmentAtPosition(e,t,n){const{config:r}=this;let{fragPrevious:i}=this,{fragments:o,endSN:a}=n;const{fragmentHint:s}=n,l=r.maxFragLookUpTolerance,c=n.partList,u=!!(r.lowLatencyMode&&null!=c&&c.length&&s);let d;if(u&&s&&!this.bitrateTest&&(o=o.concat(s),a=s.sn),e<t){d=Ui(i,o,e,e>t-l?0:l)}else d=o[o.length-1];if(d){const e=d.sn-n.startSN,t=this.fragmentTracker.getState(d);if((t===po||t===fo&&d.gap)&&(i=d),i&&d.sn===i.sn&&(!u||c[0].fragment.sn>d.sn)){if(i&&d.level===i.level){const t=o[e+1];d=d.sn<a&&this.fragmentTracker.getState(t)!==po?t:null}}}return d}synchronizeToLiveEdge(e){const{config:t,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,i=n.currentTime,o=e.fragments[0].start,a=e.edge,s=i>=o-t.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){const o=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<a-o)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: ".concat(i.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(a,", reset currentTime to : ").concat(r.toFixed(3))),n.currentTime=r))}}alignPlaylists(e,t,n){const r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const i=e.fragments[0].start,o=!t,a=e.alignedSliding&&Ht(i);if(o||!a&&!i){const{fragPrevious:i}=this;To(i,n,e);const o=e.fragments[0].start;return this.log("Live playlist sliding: ".concat(o.toFixed(2)," start-sn: ").concat(t?t.startSN:"na","->").concat(e.startSN," prev-sn: ").concat(i?i.sn:"na"," fragments: ").concat(r)),o}return i}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}setStartPosition(e,t){let n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){const r=null!==this.startTimeOffset,i=r?this.startTimeOffset:e.startTimeOffset;null!==i&&Ht(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset ".concat(i," found in ").concat(r?"multivariant":"media"," playlist, adjust startPosition to ").concat(n)),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:e}=this;let t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," was aborted")),this.resetFragmentLoading(e))}resetFragmentLoading(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===Uo)||(this.state=Fo)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const e=this.getCurrentContext(t.chunkMeta);e&&(t.frag=e.frag)}const n=t.frag;if(!n||n.type!==e||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn("Frag load error must match current frag to retry ".concat(n.url," > ").concat(null==(r=this.fragCurrent)?void 0:r.url));const i=t.details===Kt.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(n,!0);const o=t.errorAction,{action:a,retryCount:s=0,retryConfig:l}=o||{};if(o&&a===Wi&&l){this.resetStartWhenNotLoaded(this.levelLastLoaded);const r=Ni(l,s);this.warn("Fragment ".concat(n.sn," of ").concat(e," ").concat(n.level," errored with ").concat(t.details,", retrying loading ").concat(s+1,"/").concat(l.maxNumRetry," in ").concat(r,"ms")),o.resolved=!0,this.retryDate=self.performance.now()+r,this.state=Uo}else if(l&&o){if(this.resetFragmentErrors(e),!(s<l.maxNumRetry))return void Xt.warn("".concat(t.details," reached or exceeded max retry (").concat(s,")"));i||a===Gi||(o.resolved=!0)}else(null==o?void 0:o.action)===qi?this.state=Ko:this.state=Go;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===Ho||this.state===Vo){const t=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,t),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);const i=!r;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(t," buffer")),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),i}return!1}resetFragmentErrors(e){e===Jr&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==No&&(this.state=Fo)}afterBufferFlushed(e,t,n){if(!e)return;const r=bo.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===qo&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Fo}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const t=e?e.details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn("The loading context changed while buffering fragment ".concat(e.sn," of level ").concat(e.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,n,r){var i;const o=n.details;if(!o)return void this.warn("level.details undefined");if(!Object.keys(e.elementaryStreams).reduce(((t,i)=>{const a=e.elementaryStreams[i];if(a){const s=a.endPTS-a.startPTS;if(s<=0)return this.warn("Could not parse fragment ".concat(e.sn," ").concat(i," duration reliably (").concat(s,")")),t||!1;const l=r?0:xi(o,e,a.startPTS,a.endPTS,a.startDTS,a.endDTS);return this.hls.trigger(Gt.LEVEL_PTS_UPDATED,{details:o,level:n,drift:l,type:i,frag:e,start:a.startPTS,end:a.endPTS}),!0}return t}),!1)&&null===(null==(i=this.transmuxer)?void 0:i.error)){const t=new Error("Found no media in fragment ".concat(e.sn," of level ").concat(e.level," resetting transmuxer to fallback to playlist timing"));if(0===n.fragmentError&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(t.message),this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_PARSING_ERROR,fatal:!1,error:t,frag:e,reason:"Found no media in msn ".concat(e.sn,' of level "').concat(n.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=Vo,this.hls.trigger(Gt.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log("".concat(t,"->").concat(e)))}get state(){return this._state}}class Qo{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let n;return e.length?(n=1===e.length?e[0]:function(e,t){const n=new Uint8Array(t);let r=0;for(let i=0;i<e.length;i++){const t=e[i];n.set(t,r),r+=t.length}return n}(e,t),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function Zo(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",id:-1,pid:-1,inputTimeScale:arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4,sequenceNumber:-1,samples:[],dropped:0}}class $o{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,n){}demux(e,t){this.cachedData&&(e=ur(this.cachedData,e),this.cachedData=null);let n,r=Rn(e,0),i=r?r.length:0;const o=this._audioTrack,a=this._id3Track,s=r?On(r):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&Ht(s))&&(this.basePTS=Xo(s,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:ci,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const t=this.appendFrame(o,e,i);t?(this.frameIndex++,this.lastPTS=t.sample.pts,i+=t.length,n=i):i=l}else Dn(e,i)?(r=Rn(e,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:ci,duration:Number.POSITIVE_INFINITY}),i+=r.length,n=i):i++;if(i===l&&n!==l){const t=An(e,n);this.cachedData?this.cachedData=ur(this.cachedData,t):this.cachedData=t}}return{audioTrack:o,videoTrack:Zo(),id3Track:a,textTrack:Zo()}}demuxSampleAes(e,t,n){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Zo(),id3Track:this._id3Track,textTrack:Zo()}}destroy(){}}const Xo=(e,t,n)=>{if(Ht(e))return 90*e;return 9e4*t+(n?9e4*n.baseTime/n.timescale:0)};function Jo(e,t){return 255===e[t]&&240===(246&e[t+1])}function ea(e,t){return 1&e[t+1]?7:9}function ta(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function na(e,t){return t+1<e.length&&Jo(e,t)}function ra(e,t){if(na(e,t)){const n=ea(e,t);if(t+n>=e.length)return!1;const r=ta(e,t);if(r<=n)return!1;const i=t+r;return i===e.length||na(e,i)}return!1}function ia(e,t,n,r,i){if(!e.samplerate){const o=function(e,t,n,r){let i,o,a,s;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[n+2])>>>6);const d=(60&t[n+2])>>>2;if(!(d>u.length-1))return a=(1&t[n+2])<<2,a|=(192&t[n+3])>>>6,Xt.log("manifest codec:".concat(r,", ADTS type:").concat(i,", samplingIndex:").concat(d)),/firefox/i.test(l)?d>=6?(i=5,s=new Array(4),o=d-3):(i=2,s=new Array(2),o=d):-1!==l.indexOf("android")?(i=2,s=new Array(2),o=d):(i=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?o=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===a||/vivaldi/i.test(l))||!r&&1===a)&&(i=2,s=new Array(2)),o=d)),s[0]=i<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=a<<3,5===i&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:u[d],channelCount:a,codec:"mp4a.40."+i,manifestCodec:c};{const t=new Error("invalid ADTS sampling index:".concat(d));e.emit(Gt.ERROR,Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_PARSING_ERROR,fatal:!0,error:t,reason:t.message})}}(t,n,r,i);if(!o)return;e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,Xt.log("parsed codec:".concat(e.codec,", rate:").concat(o.samplerate,", channels:").concat(o.channelCount))}}function oa(e){return 9216e4/e}function aa(e,t,n,r,i){const o=r+i*oa(e.samplerate),a=function(e,t){const n=ea(e,t);if(t+n<=e.length){const r=ta(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}(t,n);let s;if(a){const{frameLength:r,headerLength:i}=a,l=i+r,c=Math.max(0,n+l-t.length);c?(s=new Uint8Array(l-i),s.set(t.subarray(n+i,t.length),0)):s=t.subarray(n+i,n+l);const u={unit:s,pts:o};return c||e.samples.push(u),{sample:u,length:l,missing:c}}const l=t.length-n;s=new Uint8Array(l),s.set(t.subarray(n,t.length),0);return{sample:{unit:s,pts:o},length:l,missing:-1}}let sa=null;const la=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ca=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],ua=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],da=[0,1,1,4];function ha(e,t,n,r,i){if(n+24>t.length)return;const o=fa(t,n);if(o&&n+o.frameLength<=t.length){const a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:t.subarray(n,n+o.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}function fa(e,t){const n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){const a=e[t+2]>>1&1,s=e[t+3]>>6,l=1e3*la[14*(3===n?3-r:3===r?3:4)+i-1],c=ca[3*(3===n?0:2===n?1:2)+o],u=3===s?1:2,d=ua[n][r],h=da[r],f=8*d*h,p=Math.floor(d*l/c+a)*h;if(null===sa){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);sa=e?parseInt(e[1]):0}return!!sa&&sa<=87&&2===r&&l>=224e3&&0===s&&(e[t+3]=128|e[t+3]),{sampleRate:c,channelCount:u,frameLength:p,samplesPerFrame:f}}}function pa(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function ma(e,t){return t+1<e.length&&pa(e,t)}function ga(e,t){if(t+1<e.length&&pa(e,t)){const n=4,r=fa(e,t);let i=n;null!=r&&r.frameLength&&(i=r.frameLength);const o=t+i;return o===e.length||ma(e,o)}return!1}const va=/\/emsg[-/]ID3/i;const ya=(e,t)=>{let n=0,r=5;t+=r;const i=new Uint32Array(1),o=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=e[t];const s=Math.min(r,8),l=8-s;o[0]=4278190080>>>24+l<<l,i[0]=(a[0]&o[0])>>l,n=n?n<<s|i[0]:i[0],t+=1,r-=s}return n};class ba extends $o{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,n){const r=Ea(e,t,n,this.basePTS,this.frameIndex);if(-1!==r){return{sample:e.samples[e.samples.length-1],length:r,missing:0}}}static probe(e){if(!e)return!1;const t=Rn(e,0);if(!t)return!1;const n=t.length;return 11===e[n]&&119===e[n+1]&&void 0!==On(t)&&ya(e,n)<16}}function Ea(e,t,n,r,i){if(n+8>t.length)return-1;if(11!==t[n]||119!==t[n+1])return-1;const o=t[n+4]>>6;if(o>=3)return-1;const a=[48e3,44100,32e3][o],s=63&t[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*s+o];if(n+l>t.length)return-1;const c=t[n+6]>>5;let u=0;2===c?u+=2:(1&c&&1!==c&&(u+=2),4&c&&(u+=2));const d=(t[n+6]<<8|t[n+7])>>12-u&1,h=[2,1,2,3,3,4,4,5][c]+d,f=t[n+5]>>3,p=7&t[n+5],m=new Uint8Array([o<<6|f<<1|p>>2,(3&p)<<6|c<<3|d<<2|s>>4,s<<4&224]),g=r+i*(1536/a*9e4),v=t.subarray(n,n+l);return e.config=m,e.channelCount=h,e.samplerate=a,e.samples.push({unit:v,pts:g}),l}class wa{constructor(){this.VideoSample=null}createVideoSample(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}getLastNalUnit(e){var t;let n,r=this.VideoSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){const e=r.units;n=e[e.length-1]}return n}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){const n=t.samples,r=n.length;if(!r)return void t.dropped++;{const t=n[r-1];e.pts=t.pts,e.dts=t.dts}}t.samples.push(e)}e.debug.length&&Xt.log(e.pts+"/"+e.dts+":"+e.debug)}}class Ca{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}skipBits(e){let t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(t=(e-=this.bitsAvailable)>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const n=this.word>>>32-t;if(e>32&&Xt.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t,n=8,r=8;for(let i=0;i<e;i++)0!==r&&(t=this.readEG(),r=(n+t+256)%256),n=0===r?n:r}readSPS(){let e,t,n,r=0,i=0,o=0,a=0;const s=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();const m=s();if(l(5),d(3),s(),f(),100===m||110===m||122===m||244===m||44===m||83===m||86===m||118===m||128===m){const e=c();if(3===e&&d(1),f(),f(),d(1),u())for(t=3!==e?8:12,n=0;n<t;n++)u()&&p(n<6?16:64)}f();const g=c();if(0===g)c();else if(1===g)for(d(1),h(),h(),e=c(),n=0;n<e;n++)h();f(),d(1);const v=c(),y=c(),b=l(1);0===b&&d(1),d(1),u()&&(r=c(),i=c(),o=c(),a=c());let E=[1,1];if(u()&&u()){switch(s()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[s()<<8|s(),s()<<8|s()]}}return{width:Math.ceil(16*(v+1)-2*r-2*i),height:(2-b)*(y+1)*16-(b?2:4)*(o+a),pixelRatio:E}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class Sa extends wa{parseAVCPES(e,t,n,r,i){const o=this.parseAVCNALu(e,n.data);let a,s=this.VideoSample,l=!1;n.data=null,s&&o.length&&!e.audFound&&(this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),o.forEach((r=>{var o;switch(r.type){case 1:{let t=!1;a=!0;const i=r.data;if(l&&i.length>4){const e=new Ca(i).readSliceType();2!==e&&4!==e&&7!==e&&9!==e||(t=!0)}var c;if(t)null!=(c=s)&&c.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null);s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),s.frame=!0,s.key=t;break}case 5:a=!0,null!=(o=s)&&o.frame&&!s.key&&(this.pushAccessUnit(s,e),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:a=!0,fr(r.data,1,n.pts,t.samples);break;case 7:{var u,d;a=!0,l=!0;const t=r.data,n=new Ca(t).readSPS();if(!e.sps||e.width!==n.width||e.height!==n.height||(null==(u=e.pixelRatio)?void 0:u[0])!==n.pixelRatio[0]||(null==(d=e.pixelRatio)?void 0:d[1])!==n.pixelRatio[1]){e.width=n.width,e.height=n.height,e.pixelRatio=n.pixelRatio,e.sps=[t],e.duration=i;const r=t.subarray(1,4);let o="avc1.";for(let e=0;e<3;e++){let t=r[e].toString(16);t.length<2&&(t="0"+t),o+=t}e.codec=o}break}case 8:a=!0,e.pps=[r.data];break;case 9:a=!0,e.audFound=!0,s&&this.pushAccessUnit(s,e),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:a=!0;break;default:a=!1,s&&(s.debug+="unknown NAL "+r.type+" ")}if(s&&a){s.units.push(r)}})),r&&s&&(this.pushAccessUnit(s,e),this.VideoSample=null)}parseAVCNALu(e,t){const n=t.byteLength;let r=e.naluState||0;const i=r,o=[];let a,s,l,c=0,u=-1,d=0;for(-1===r&&(u=0,d=31&t[0],r=0,c=1);c<n;)if(a=t[c++],r)if(1!==r)if(a)if(1===a){if(s=c-r-1,u>=0){const e={data:t.subarray(u,s),type:d};o.push(e)}else{const n=this.getLastNalUnit(e.samples);n&&(i&&c<=4-i&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-i)),s>0&&(n.data=ur(n.data,t.subarray(0,s)),n.state=0))}c<n?(l=31&t[c],u=c,d=l,r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(u>=0&&r>=0){const e={data:t.subarray(u,n),type:d,state:r};o.push(e)}if(0===o.length){const n=this.getLastNalUnit(e.samples);n&&(n.data=ur(n.data,t))}return e.naluState=r,o}}class Ta{constructor(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new Oo(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,n){const r=e[t].unit;if(r.length<=16)return;const i=r.subarray(16,r.length-r.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(o).then((i=>{const o=new Uint8Array(i);r.set(o,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,n)}))}decryptAacSamples(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t);let r=0;for(let i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}getAvcDecryptedUnit(e,t){const n=new Uint8Array(t);let r=0;for(let i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e}decryptAvcSample(e,t,n,r,i){const o=pr(i.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then((a=>{i.data=this.getAvcDecryptedUnit(o,a),this.decrypter.isSync()||this.decryptAvcSamples(e,t,n+1,r)}))}decryptAvcSamples(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();const i=e[t].units;for(;!(n>=i.length);n++){const o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)&&(this.decryptAvcSample(e,t,n,r,o),!this.decrypter.isSync()))return}}}}const _a=188;class ka{constructor(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.videoParser=new Sa}static probe(e){const t=ka.syncOffset(e);return t>0&&Xt.warn("MPEG2-TS detected but first sync word found @ offset ".concat(t)),-1!==t}static syncOffset(e){const t=e.length;let n=Math.min(940,t-_a)+1,r=0;for(;r<n;){let i=!1,o=-1,a=0;for(let s=r;s<t;s+=_a){if(71!==e[s]||t-s!==_a&&71!==e[s+_a]){if(a)return-1;break}if(a++,-1===o&&(o=s,0!==o&&(n=Math.min(o+18612,e.length-_a)+1)),i||(i=0===xa(e,s)),i&&a>1&&(0===o&&a>2||s+_a>n))return o}r++}return-1}static createTrack(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:Qn[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}resetInitSegment(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=ka.createTrack("video"),this._audioTrack=ka.createTrack("audio",r),this._id3Track=ka.createTrack("id3"),this._txtTrack=ka.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=n,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:n}=this;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r||(this.sampleAes=null);const o=this._videoTrack,a=this._audioTrack,s=this._id3Track,l=this._txtTrack;let c=o.pid,u=o.pesData,d=a.pid,h=s.pid,f=a.pesData,p=s.pesData,m=null,g=this.pmtParsed,v=this._pmtId,y=e.length;if(this.remainderData&&(y=(e=ur(this.remainderData,e)).length,this.remainderData=null),y<_a&&!i)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:s,textTrack:l};const b=Math.max(0,ka.syncOffset(e));y-=(y-b)%_a,y<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,y,e.buffer.byteLength-y));let E=0;for(let C=b;C<y;C+=_a)if(71===e[C]){const t=!!(64&e[C+1]),i=xa(e,C);let y;if((48&e[C+3])>>4>1){if(y=C+5+e[C+4],y===C+_a)continue}else y=C+4;switch(i){case c:t&&(u&&(n=Ra(u))&&this.videoParser.parseAVCPES(o,l,n,!1,this._duration),u={data:[],size:0}),u&&(u.data.push(e.subarray(y,C+_a)),u.size+=C+_a-y);break;case d:if(t){if(f&&(n=Ra(f)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,n);break;case"mp3":this.parseMPEGPES(a,n);break;case"ac3":this.parseAC3PES(a,n)}f={data:[],size:0}}f&&(f.data.push(e.subarray(y,C+_a)),f.size+=C+_a-y);break;case h:t&&(p&&(n=Ra(p))&&this.parseID3PES(s,n),p={data:[],size:0}),p&&(p.data.push(e.subarray(y,C+_a)),p.size+=C+_a-y);break;case 0:t&&(y+=e[y]+1),v=this._pmtId=Aa(e,y);break;case v:{t&&(y+=e[y]+1);const n=Ia(e,y,this.typeSupported,r);c=n.videoPid,c>0&&(o.pid=c,o.segmentCodec=n.segmentVideoCodec),d=n.audioPid,d>0&&(a.pid=d,a.segmentCodec=n.segmentAudioCodec),h=n.id3Pid,h>0&&(s.pid=h),null===m||g||(Xt.warn("MPEG-TS PMT found at ".concat(C," after unknown PID '").concat(m,"'. Backtracking to sync byte @").concat(b," to parse all TS packets.")),m=null,C=b-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=i}}else E++;if(E>0){const e=new Error("Found ".concat(E," TS packet/s that do not start with 0x47"));this.observer.emit(Gt.ERROR,Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_PARSING_ERROR,fatal:!1,error:e,reason:e.message})}o.pesData=u,a.pesData=f,s.pesData=p;const w={audioTrack:a,videoTrack:o,id3Track:s,textTrack:l};return i&&this.extractRemainingSamples(w),w}flush(){const{remainderData:e}=this;let t;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:n,id3Track:r,textTrack:i}=e,o=n.pesData,a=t.pesData,s=r.pesData;let l;if(o&&(l=Ra(o))?(this.videoParser.parseAVCPES(n,i,l,!0,this._duration),n.pesData=null):n.pesData=o,a&&(l=Ra(a))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,l);break;case"mp3":this.parseMPEGPES(t,l);break;case"ac3":this.parseAC3PES(t,l)}t.pesData=null}else null!=a&&a.size&&Xt.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=a;s&&(l=Ra(s))?(this.parseID3PES(r,l),r.pesData=null):r.pesData=s}demuxSampleAes(e,t,n){const r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new Ta(this.observer,this.config,t);return this.decrypt(r,i)}decrypt(e,t){return new Promise((n=>{const{audioTrack:r,videoTrack:i}=e;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(()=>{i.samples?t.decryptAvcSamples(i.samples,0,0,(()=>{n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(()=>{n(e)}))}))}destroy(){this._duration=0}parseAACPES(e,t){let n=0;const r=this.aacOverFlow;let i,o,a,s=t.data;if(r){this.aacOverFlow=null;const t=r.missing,i=r.sample.unit.byteLength;if(-1===t)s=ur(r.sample.unit,s);else{const o=i-t;r.sample.unit.set(s.subarray(0,t),o),e.samples.push(r.sample),n=r.missing}}for(i=n,o=s.length;i<o-1&&!na(s,i);i++);if(i!==n){let e;const t=i<o-1;e=t?"AAC PES did not start with ADTS header,offset:".concat(i):"No ADTS header found in AAC PES";const n=new Error(e);if(Xt.warn("parsing error: ".concat(e)),this.observer.emit(Gt.ERROR,Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:n,reason:e}),!t)return}if(ia(e,this.observer,s,i,this.audioCodec),void 0!==t.pts)a=t.pts;else{if(!r)return void Xt.warn("[tsdemuxer]: AAC PES unknown PTS");{const t=oa(e.samplerate);a=r.sample.pts+t}}let l,c=0;for(;i<o;){if(l=aa(e,s,i,a,c),i+=l.length,l.missing){this.aacOverFlow=l;break}for(c++;i<o-1&&!na(s,i);i++);}}parseMPEGPES(e,t){const n=t.data,r=n.length;let i=0,o=0;const a=t.pts;if(void 0!==a)for(;o<r;)if(ma(n,o)){const t=ha(e,n,o,a,i);if(!t)break;o+=t.length,i++}else o++;else Xt.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(e,t){{const n=t.data,r=t.pts;if(void 0===r)return void Xt.warn("[tsdemuxer]: AC3 PES unknown PTS");const i=n.length;let o,a=0,s=0;for(;s<i&&(o=Ea(e,n,s,r,a++))>0;)s+=o}}parseID3PES(e,t){if(void 0===t.pts)return void Xt.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=zt({},t,{type:this._videoTrack?di:ci,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function xa(e,t){return((31&e[t+1])<<8)+e[t+2]}function Aa(e,t){return(31&e[t+10])<<8|e[t+11]}function Ia(e,t,n,r){const i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){const o=xa(e,t),a=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!r){Ma("ADTS AAC");break}case 15:-1===i.audioPid&&(i.audioPid=o);break;case 21:-1===i.id3Pid&&(i.id3Pid=o);break;case 219:if(!r){Ma("H.264");break}case 27:-1===i.videoPid&&(i.videoPid=o,i.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="mp3"):Xt.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){Ma("AC-3");break}case 129:n.ac3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="ac3"):Xt.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===i.audioPid&&a>0){let r=t+5,s=a;for(;s>2;){if(106===e[r])!0!==n.ac3?Xt.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=o,i.segmentAudioCodec="ac3");const t=e[r+1]+2;r+=t,s-=t}}break;case 194:case 135:Xt.warn("Unsupported EC-3 in M2TS found");break;case 36:Xt.warn("Unsupported HEVC in M2TS found")}t+=a+5}return i}function Ma(e){Xt.log("".concat(e," with AES-128-CBC encryption found in unencrypted stream"))}function Ra(e){let t,n,r,i,o,a=0;const s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;)s[0]=ur(s[0],s[1]),s.splice(1,1);t=s[0];if(1===(t[0]<<16)+(t[1]<<8)+t[2]){if(n=(t[4]<<8)+t[5],n&&n>e.size-6)return null;const l=t[7];192&l&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&l?(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,i-o>54e5&&(Xt.warn("".concat(Math.round((i-o)/9e4),"s delta between PTS and DTS, align them")),i=o)):o=i),r=t[8];let c=r+9;if(e.size<=c)return null;e.size-=c;const u=new Uint8Array(e.size);for(let e=0,n=s.length;e<n;e++){t=s[e];let n=t.byteLength;if(c){if(c>n){c-=n;continue}t=t.subarray(c),n-=c,c=0}u.set(t,a),a+=n}return n&&(n-=r+3),{data:u,pts:i,dts:o,len:n}}return null}class La{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Da=Math.pow(2,32)-1;class Oa{static init(){let e;for(e in Oa.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Oa.types)Oa.types.hasOwnProperty(e)&&(Oa.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Oa.HDLR_TYPES={video:t,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);Oa.STTS=Oa.STSC=Oa.STCO=i,Oa.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Oa.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Oa.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Oa.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);Oa.FTYP=Oa.box(Oa.types.ftyp,o,s,o,a),Oa.DINF=Oa.box(Oa.types.dinf,Oa.box(Oa.types.dref,r))}static box(e){let t=8;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let o=r.length;const a=o;for(;o--;)t+=r[o].byteLength;const s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(r[o],t),t+=r[o].byteLength;return s}static hdlr(e){return Oa.box(Oa.types.hdlr,Oa.HDLR_TYPES[e])}static mdat(e){return Oa.box(Oa.types.mdat,e)}static mdhd(e,t){t*=e;const n=Math.floor(t/(Da+1)),r=Math.floor(t%(Da+1));return Oa.box(Oa.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(e){return Oa.box(Oa.types.mdia,Oa.mdhd(e.timescale,e.duration),Oa.hdlr(e.type),Oa.minf(e))}static mfhd(e){return Oa.box(Oa.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return"audio"===e.type?Oa.box(Oa.types.minf,Oa.box(Oa.types.smhd,Oa.SMHD),Oa.DINF,Oa.stbl(e)):Oa.box(Oa.types.minf,Oa.box(Oa.types.vmhd,Oa.VMHD),Oa.DINF,Oa.stbl(e))}static moof(e,t,n){return Oa.box(Oa.types.moof,Oa.mfhd(e),Oa.traf(n,t))}static moov(e){let t=e.length;const n=[];for(;t--;)n[t]=Oa.trak(e[t]);return Oa.box.apply(null,[Oa.types.moov,Oa.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(Oa.mvex(e)))}static mvex(e){let t=e.length;const n=[];for(;t--;)n[t]=Oa.trex(e[t]);return Oa.box.apply(null,[Oa.types.mvex,...n])}static mvhd(e,t){t*=e;const n=Math.floor(t/(Da+1)),r=Math.floor(t%(Da+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Oa.box(Oa.types.mvhd,i)}static sdtp(e){const t=e.samples||[],n=new Uint8Array(4+t.length);let r,i;for(r=0;r<t.length;r++)i=t[r].flags,n[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return Oa.box(Oa.types.sdtp,n)}static stbl(e){return Oa.box(Oa.types.stbl,Oa.stsd(e),Oa.box(Oa.types.stts,Oa.STTS),Oa.box(Oa.types.stsc,Oa.STSC),Oa.box(Oa.types.stsz,Oa.STSZ),Oa.box(Oa.types.stco,Oa.STCO))}static avc1(e){let t,n,r,i=[],o=[];for(t=0;t<e.sps.length;t++)n=e.sps[t],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(t=0;t<e.pps.length;t++)n=e.pps[t],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));const a=Oa.box(Oa.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(o))),s=e.width,l=e.height,c=e.pixelRatio[0],u=e.pixelRatio[1];return Oa.box(Oa.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,Oa.box(Oa.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Oa.box(Oa.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))}static esds(e){const t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0])}static mp4a(e){return Oa.box(Oa.types.mp4a,Oa.audioStsd(e),Oa.box(Oa.types.esds,Oa.esds(e)))}static mp3(e){return Oa.box(Oa.types[".mp3"],Oa.audioStsd(e))}static ac3(e){return Oa.box(Oa.types["ac-3"],Oa.audioStsd(e),Oa.box(Oa.types.dac3,e.config))}static stsd(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?Oa.box(Oa.types.stsd,Oa.STSD,Oa.mp3(e)):"ac3"===e.segmentCodec?Oa.box(Oa.types.stsd,Oa.STSD,Oa.ac3(e)):Oa.box(Oa.types.stsd,Oa.STSD,Oa.mp4a(e)):Oa.box(Oa.types.stsd,Oa.STSD,Oa.avc1(e))}static tkhd(e){const t=e.id,n=e.duration*e.timescale,r=e.width,i=e.height,o=Math.floor(n/(Da+1)),a=Math.floor(n%(Da+1));return Oa.box(Oa.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))}static traf(e,t){const n=Oa.sdtp(e),r=e.id,i=Math.floor(t/(Da+1)),o=Math.floor(t%(Da+1));return Oa.box(Oa.types.traf,Oa.box(Oa.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),Oa.box(Oa.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o])),Oa.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,Oa.box(Oa.types.trak,Oa.tkhd(e),Oa.mdia(e))}static trex(e){const t=e.id;return Oa.box(Oa.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const n=e.samples||[],r=n.length,i=12+16*r,o=new Uint8Array(i);let a,s,l,c,u,d;for(t+=8+i,o.set(["video"===e.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),a=0;a<r;a++)s=n[a],l=s.duration,c=s.size,u=s.flags,d=s.cts,o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*a);return Oa.box(Oa.types.trun,o)}static initSegment(e){Oa.types||Oa.init();const t=Oa.moov(e);return ur(Oa.FTYP,t)}}Oa.types=void 0,Oa.HDLR_TYPES=void 0,Oa.STTS=void 0,Oa.STSC=void 0,Oa.STCO=void 0,Oa.STSZ=void 0,Oa.VMHD=void 0,Oa.SMHD=void 0,Oa.STSD=void 0,Oa.FTYP=void 0,Oa.DINF=void 0;const Pa=9e4;function Na(e,t){const n=e*t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?Math.round(n):n}function Fa(e){return Na(e,1e3,1/Pa,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}let ja,Ba=null,Ua=null;class za{constructor(e,t,n){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===Ba){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ba=e?parseInt(e[1]):0}if(null===Ua){const e=navigator.userAgent.match(/Safari\/(\d+)/i);Ua=e?parseInt(e[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){Xt.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){Xt.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Xt.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const n=e.reduce(((e,n)=>{const r=n.pts-e;return r<-4294967296?(t=!0,Ha(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&Xt.debug("PTS rollover detected"),n}remux(e,t,n,r,i,o,a,s){let l,c,u,d,h,f,p=i,m=i;const g=e.pid>-1,v=t.pid>-1,y=t.samples.length,b=e.samples.length>0,E=a&&y>0||y>1;if((!g||b)&&(!v||E)||this.ISGenerated||a){if(this.ISGenerated){var w,C,S,T;const e=this.videoTrackConfig;!e||t.width===e.width&&t.height===e.height&&(null==(w=t.pixelRatio)?void 0:w[0])===(null==(C=e.pixelRatio)?void 0:C[0])&&(null==(S=t.pixelRatio)?void 0:S[1])===(null==(T=e.pixelRatio)?void 0:T[1])||this.resetInitSegment()}else u=this.generateIS(e,t,i,o);const n=this.isVideoContiguous;let r,a=-1;if(E&&(a=function(e){for(let t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,a>0){Xt.warn("[mp4-remuxer]: Dropped ".concat(a," out of ").concat(y," video samples due to a missing keyframe"));const e=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(a),t.dropped+=a,m+=(t.samples[0].pts-e)/t.inputTimeScale,r=m}else-1===a&&(Xt.warn("[mp4-remuxer]: No keyframe found out of ".concat(y," video samples")),f=!1);if(this.ISGenerated){if(b&&E){const n=this.getVideoStartPts(t.samples),r=(Ha(e.samples[0].pts,n)-n)/t.inputTimeScale;p+=Math.max(0,r),m+=Math.max(0,-r)}if(b){if(e.samplerate||(Xt.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(e,t,i,o)),c=this.remuxAudio(e,p,this.isAudioContiguous,o,v||E||s===Jr?m:void 0),E){const r=c?c.endPTS-c.startPTS:0;t.inputTimeScale||(Xt.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(e,t,i,o)),l=this.remuxVideo(t,m,n,r)}}else E&&(l=this.remuxVideo(t,m,n,0));l&&(l.firstKeyFrame=a,l.independent=-1!==a,l.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=Va(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=qa(r,i,this._initPTS))),{audio:c,video:l,initSegment:u,independent:f,text:d,id3:h}}generateIS(e,t,n,r){const i=e.samples,o=t.samples,a=this.typeSupported,s={},l=this._initPTS;let c,u,d,h=!l||r,f="audio/mp4";if(h&&(c=u=1/0),e.config&&i.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(f="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}s.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&a.mpeg?new Uint8Array(0):Oa.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(d=e.inputTimeScale,l&&d===l.timescale?h=!1:c=u=i[0].pts-Math.round(d*n))}if(t.sps&&t.pps&&o.length){if(t.timescale=t.inputTimeScale,s.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Oa.initSegment([t]),metadata:{width:t.width,height:t.height}},h)if(d=t.inputTimeScale,l&&d===l.timescale)h=!1;else{const e=this.getVideoStartPts(o),t=Math.round(d*n);u=Math.min(u,Ha(o[0].dts,e)-t),c=Math.min(c,e-t)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(s).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:c,timescale:d},this._initDTS={baseTime:u,timescale:d}):c=d=void 0,{tracks:s,initPTS:c,timescale:d}}remuxVideo(e,t,n,r){const i=e.inputTimeScale,o=e.samples,a=[],s=o.length,l=this._initPTS;let c,u,d=this.nextAvcDts,h=8,f=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=!1;if(!n||null===d){const e=t*i,r=o[0].pts-Ha(o[0].dts,o[0].pts);Ba&&null!==d&&Math.abs(e-r-d)<15e3?n=!0:d=e-r}const v=l.baseTime*i/l.timescale;for(let D=0;D<s;D++){const e=o[D];e.pts=Ha(e.pts-v,d),e.dts=Ha(e.dts-v,d),e.dts<o[D>0?D-1:D].dts&&(g=!0)}g&&o.sort((function(e,t){const n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),c=o[0].dts,u=o[o.length-1].dts;const y=u-c,b=y?Math.round(y/(s-1)):f||e.inputTimeScale/30;if(n){const e=c-d,n=e>b,r=e<-1;if((n||r)&&(n?Xt.warn("AVC: ".concat(Fa(e,!0)," ms (").concat(e,"dts) hole between fragments detected at ").concat(t.toFixed(3))):Xt.warn("AVC: ".concat(Fa(-e,!0)," ms (").concat(e,"dts) overlapping between fragments detected at ").concat(t.toFixed(3))),!r||d>=o[0].pts||Ba)){c=d;const t=o[0].pts-e;if(n)o[0].dts=c,o[0].pts=t;else for(let n=0;n<o.length&&!(o[n].dts>t);n++)o[n].dts-=e,o[n].pts-=e;Xt.log("Video: Initial PTS/DTS adjusted: ".concat(Fa(t,!0),"/").concat(Fa(c,!0),", delta: ").concat(Fa(e,!0)," ms"))}}c=Math.max(0,c);let E=0,w=0,C=c;for(let D=0;D<s;D++){const e=o[D],t=e.units,n=t.length;let r=0;for(let i=0;i<n;i++)r+=t[i].data.length;w+=r,E+=n,e.length=r,e.dts<C?(e.dts=C,C+=b/4|0||1):C=e.dts,p=Math.min(e.pts,p),m=Math.max(e.pts,m)}u=o[s-1].dts;const S=w+4*E+8;let T;try{T=new Uint8Array(S)}catch(L){return void this.observer.emit(Gt.ERROR,Gt.ERROR,{type:Wt.MUX_ERROR,details:Kt.REMUX_ALLOC_ERROR,fatal:!1,error:L,bytes:S,reason:"fail allocating video mdat ".concat(S)})}const _=new DataView(T.buffer);_.setUint32(0,S),T.set(Oa.types.mdat,4);let k=!1,x=Number.POSITIVE_INFINITY,A=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,M=Number.NEGATIVE_INFINITY;for(let D=0;D<s;D++){const e=o[D],t=e.units;let n,l=0;for(let r=0,i=t.length;r<i;r++){const e=t[r],n=e.data,i=e.data.byteLength;_.setUint32(h,i),h+=4,T.set(n,h),h+=i,l+=4+i}if(D<s-1)f=o[D+1].dts-e.dts,n=o[D+1].pts-e.pts;else{const t=this.config,a=D>0?e.dts-o[D-1].dts:b;if(n=D>0?e.pts-o[D-1].pts:b,t.stretchShortVideoTrack&&null!==this.nextAudioPts){const n=Math.floor(t.maxBufferHole*i),o=(r?p+r*i:this.nextAudioPts)-e.pts;o>n?(f=o-a,f<0?f=a:k=!0,Xt.log("[mp4-remuxer]: It is approximately ".concat(o/90," ms to the next segment; using duration ").concat(f/90," ms for the last video frame."))):f=a}else f=a}const c=Math.round(e.pts-e.dts);x=Math.min(x,f),I=Math.max(I,f),A=Math.min(A,n),M=Math.max(M,n),a.push(new Ga(e.key,f,l,c))}if(a.length)if(Ba){if(Ba<70){const e=a[0].flags;e.dependsOn=2,e.isNonSync=0}}else if(Ua&&M-A<I-x&&b/I<.025&&0===a[0].cts){Xt.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let e=c;for(let t=0,n=a.length;t<n;t++){const r=e+a[t].duration,i=e+a[t].cts;if(t<n-1){const e=r+a[t+1].cts;a[t].duration=e-i}else a[t].duration=t?a[t-1].duration:b;a[t].cts=0,e=r}}f=k||!f?b:f,this.nextAvcDts=d=u+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const R={data1:Oa.moof(e.sequenceNumber++,c,zt({},e,{samples:a})),data2:T,startPTS:p/i,endPTS:(m+f)/i,startDTS:c/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,R}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(e,t,n,r,i){const o=e.inputTimeScale,a=o/(e.samplerate?e.samplerate:o),s=this.getSamplesPerFrame(e),l=s*a,c=this._initPTS,u="mp3"===e.segmentCodec&&this.typeSupported.mpeg,d=[],h=void 0!==i;let f=e.samples,p=u?0:8,m=this.nextAudioPts||-1;const g=t*o,v=c.baseTime*o/c.timescale;if(this.isAudioContiguous=n=n||f.length&&m>0&&(r&&Math.abs(g-m)<9e3||Math.abs(Ha(f[0].pts-v,g)-m)<20*l),f.forEach((function(e){e.pts=Ha(e.pts-v,g)})),!n||m<0){if(f=f.filter((e=>e.pts>=0)),!f.length)return;m=0===i?0:r&&!h?Math.max(0,g):f[0].pts}if("aac"===e.segmentCodec){const t=this.config.maxAudioFramesDrift;for(let n=0,r=m;n<f.length;n++){const i=f[n],a=i.pts,s=a-r,c=Math.abs(1e3*s/o);if(s<=-t*l&&h)0===n&&(Xt.warn("Audio frame @ ".concat((a/o).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*s/o)," ms.")),this.nextAudioPts=m=r=a);else if(s>=t*l&&c<1e4&&h){let t=Math.round(s/l);r=a-t*l,r<0&&(t--,r+=l),0===n&&(this.nextAudioPts=m=r),Xt.warn("[mp4-remuxer]: Injecting ".concat(t," audio frame @ ").concat((r/o).toFixed(3),"s due to ").concat(Math.round(1e3*s/o)," ms gap."));for(let o=0;o<t;o++){const t=Math.max(r,0);let o=La.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);o||(Xt.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),o=i.unit.subarray()),f.splice(n,0,{unit:o,pts:t}),r+=l,n++}}i.pts=r,r+=l}}let y,b=null,E=null,w=0,C=f.length;for(;C--;)w+=f[C].unit.byteLength;for(let M=0,R=f.length;M<R;M++){const t=f[M],r=t.unit;let i=t.pts;if(null!==E){d[M-1].duration=Math.round((i-E)/a)}else{if(n&&"aac"===e.segmentCodec&&(i=m),b=i,!(w>0))return;w+=p;try{y=new Uint8Array(w)}catch(I){return void this.observer.emit(Gt.ERROR,Gt.ERROR,{type:Wt.MUX_ERROR,details:Kt.REMUX_ALLOC_ERROR,fatal:!1,error:I,bytes:w,reason:"fail allocating audio mdat ".concat(w)})}if(!u){new DataView(y.buffer).setUint32(0,w),y.set(Oa.types.mdat,4)}}y.set(r,p);const o=r.byteLength;p+=o,d.push(new Ga(!0,s,o,0)),E=i}const S=d.length;if(!S)return;const T=d[d.length-1];this.nextAudioPts=m=E+a*T.duration;const _=u?new Uint8Array(0):Oa.moof(e.sequenceNumber++,b/a,zt({},e,{samples:d}));e.samples=[];const k=b/o,x=m/o,A={data1:_,data2:y,startPTS:k,endPTS:x,startDTS:k,endDTS:x,type:"audio",hasAudio:!0,hasVideo:!1,nb:S};return this.isAudioContiguous=!0,A}remuxEmptyAudio(e,t,n,r){const i=e.inputTimeScale,o=i/(e.samplerate?e.samplerate:i),a=this.nextAudioPts,s=this._initDTS,l=9e4*s.baseTime/s.timescale,c=(null!==a?a:r.startDTS*i)+l,u=r.endDTS*i+l,d=1024*o,h=Math.ceil((u-c)/d),f=La.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(Xt.warn("[mp4-remuxer]: remux empty Audio"),!f)return void Xt.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const p=[];for(let m=0;m<h;m++){const e=c+m*d;p.push({unit:f,pts:e,dts:e})}return e.samples=p,this.remuxAudio(e,t,n,!1)}}function Ha(e,t){let n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function Va(e,t,n,r){const i=e.samples.length;if(!i)return;const o=e.inputTimeScale;for(let s=0;s<i;s++){const i=e.samples[s];i.pts=Ha(i.pts-n.baseTime*o/n.timescale,t*o)/o,i.dts=Ha(i.dts-r.baseTime*o/r.timescale,t*o)/o}const a=e.samples;return e.samples=[],{samples:a}}function qa(e,t,n){const r=e.samples.length;if(!r)return;const i=e.inputTimeScale;for(let a=0;a<r;a++){const r=e.samples[a];r.pts=Ha(r.pts-n.baseTime*i/n.timescale,t*i)/i}e.samples.sort(((e,t)=>e.pts-t.pts));const o=e.samples;return e.samples=[],{samples:o}}class Ga{constructor(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}function Wa(e,t){const n=null==e?void 0:e.codec;if(n&&n.length>4)return n;if(t===an){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n){return Dr(n,!1)}const e="mp4a.40.5";return Xt.info('Parsed audio codec "'.concat(n,'" or audio object type not handled. Using "').concat(e,'"')),e}return Xt.warn('Unhandled video codec "'.concat(n,'"')),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{ja=self.performance.now.bind(self.performance)}catch(t7){Xt.debug("Unable to use Performance API on this environment"),ja=null==gn?void 0:gn.Date.now}const Ka=[{demux:class{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,n,r){const i=this.videoTrack=Zo("video",1),o=this.audioTrack=Zo("audio",1),a=this.txtTrack=Zo("text",1);if(this.id3Track=Zo("id3",1),this.timeOffset=0,null==e||!e.byteLength)return;const s=rr(e);if(s.video){const{id:e,timescale:t,codec:n}=s.video;i.id=e,i.timescale=a.timescale=t,i.codec=n}if(s.audio){const{id:e,timescale:t,codec:n}=s.audio;o.id=e,o.timescale=t,o.codec=n}a.id=Qn.text,i.sampleDuration=0,i.duration=o.duration=r}resetContiguity(){this.remainderData=null}static probe(e){return function(e){const t=e.byteLength;for(let n=0;n<t;){const r=Xn(e,n);if(r>8&&109===e[n+4]&&111===e[n+5]&&111===e[n+6]&&102===e[n+7])return!0;n=r>1?n+r:t}return!1}(e)}demux(e,t){this.timeOffset=t;let n=e;const r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=ur(this.remainderData,e));const t=function(e){const t={valid:null,remainder:null},n=tr(e,["moof"]);if(n.length<2)return t.remainder=e,t;const r=n[n.length-1];return t.valid=An(e,0,r.byteOffset-8),t.remainder=An(e,r.byteOffset-8),t}(n);this.remainderData=t.remainder,r.samples=t.valid||new Uint8Array}else r.samples=n;const o=this.extractID3Track(r,t);return i.samples=dr(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(t,this.timeOffset);return n.samples=dr(e,t),{videoTrack:t,audioTrack:Zo(),id3Track:r,textTrack:Zo()}}extractID3Track(e,t){const n=this.id3Track;if(e.samples.length){const r=tr(e.samples,["emsg"]);r&&r.forEach((e=>{const r=function(e){const t=e[0];let n="",r="",i=0,o=0,a=0,s=0,l=0,c=0;if(0===t){for(;"\0"!==Zn(e.subarray(c,c+1));)n+=Zn(e.subarray(c,c+1)),c+=1;for(n+=Zn(e.subarray(c,c+1)),c+=1;"\0"!==Zn(e.subarray(c,c+1));)r+=Zn(e.subarray(c,c+1)),c+=1;r+=Zn(e.subarray(c,c+1)),c+=1,i=Xn(e,12),o=Xn(e,16),s=Xn(e,20),l=Xn(e,24),c=28}else if(1===t){c+=4,i=Xn(e,c),c+=4;const t=Xn(e,c);c+=4;const o=Xn(e,c);for(c+=4,a=2**32*t+o,Vt(a)||(a=Number.MAX_SAFE_INTEGER,Xt.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=Xn(e,c),c+=4,l=Xn(e,c),c+=4;"\0"!==Zn(e.subarray(c,c+1));)n+=Zn(e.subarray(c,c+1)),c+=1;for(n+=Zn(e.subarray(c,c+1)),c+=1;"\0"!==Zn(e.subarray(c,c+1));)r+=Zn(e.subarray(c,c+1)),c+=1;r+=Zn(e.subarray(c,c+1)),c+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:l,payload:e.subarray(c,e.byteLength)}}(e);if(va.test(r.schemeIdUri)){const e=Ht(r.presentationTime)?r.presentationTime/r.timeScale:t+r.presentationTimeDelta/r.timeScale;let i=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;i<=.001&&(i=Number.POSITIVE_INFINITY);const o=r.payload;n.samples.push({data:o,len:o.byteLength,dts:e,pts:e,type:di,duration:i})}}))}return n}demuxSampleAes(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function(e,t){if(!e||!t)return e;const n=t.keyId;n&&t.isCommonEncryption&&tr(e,["moov","trak"]).forEach((e=>{const t=tr(e,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=tr(t,["enca"]);const i=r.length>0;i||(r=tr(t,["encv"])),r.forEach((e=>{tr(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((e=>{const t=lr(e);if(t){const e=t.subarray(8,24);e.some((e=>0!==e))||(Xt.log("[eme] Patching keyId in 'enc".concat(i?"a":"v",">sinf>>tenc' box: ").concat(Wn(e)," -> ").concat(Wn(n))),t.set(n,8))}}))}))}));return e}(e,r)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:n}=this;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=rr(e);r.audio&&(t=Wa(r.audio,an)),r.video&&(n=Wa(r.video,sn));const i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:Xt.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(e,t,n,r,i,o){var a,s;let{initPTS:l,lastEndTime:c}=this;const u={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};Ht(c)||(c=this.lastEndTime=i||0);const d=t.samples;if(null==d||!d.length)return u;const h={initPTS:void 0,timescale:1};let f=this.initData;if(null!=(a=f)&&a.length||(this.generateInitSegment(d),f=this.initData),null==(s=f)||!s.length)return Xt.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const p=function(e,t){let n=0,r=0,i=0;const o=tr(e,["moof","traf"]);for(let a=0;a<o.length;a++){const e=o[a],s=tr(e,["tfhd"])[0],l=t[Xn(s,4)];if(!l)continue;const c=l.default,u=Xn(s,0)|(null==c?void 0:c.flags);let d=null==c?void 0:c.duration;8&u&&(d=Xn(s,2&u?12:8));const h=l.timescale||9e4,f=tr(e,["trun"]);for(let t=0;t<f.length;t++)n=cr(f[t]),!n&&d&&(n=d*Xn(f[t],4)),l.type===sn?r+=n/h:l.type===an&&(i+=n/h)}if(0===r&&0===i){let t=0;const n=tr(e,["sidx"]);for(let e=0;e<n.length;e++){const r=nr(n[e]);null!=r&&r.references&&(t+=r.references.reduce(((e,t)=>e+t.info.duration||0),0))}return t}return r||i}(d,f),m=function(e,t){return tr(t,["moof","traf"]).reduce(((t,n)=>{const r=tr(n,["tfdt"])[0],i=r[0],o=tr(n,["tfhd"]).reduce(((t,n)=>{const o=Xn(n,4),a=e[o];if(a){let e=Xn(r,4);if(1===i){if(e===Kn)return Xt.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;e*=Kn+1,e+=Xn(r,8)}const n=e/(a.timescale||9e4);if(Ht(n)&&(null===t||n<t))return n}return t}),null);return null!==o&&Ht(o)&&(null===t||o<t)?o:t}),null)}(f,d),g=null===m?i:m;(function(e,t,n,r){if(null===e)return!0;const i=Math.max(r,1),o=t-e.baseTime/e.timescale;return Math.abs(o-n)>i}(l,g,i,p)||h.timescale!==l.timescale&&o)&&(h.initPTS=g-i,l&&1===l.timescale&&Xt.warn("Adjusting initPTS by ".concat(h.initPTS-l.baseTime)),this.initPTS=l={baseTime:h.initPTS,timescale:1});const v=e?g-l.baseTime/l.timescale:c,y=v+p;!function(e,t,n){tr(t,["moof","traf"]).forEach((t=>{tr(t,["tfhd"]).forEach((r=>{const i=Xn(r,4),o=e[i];if(!o)return;const a=o.timescale||9e4;tr(t,["tfdt"]).forEach((e=>{const t=e[0],r=n*a;if(r){let n=Xn(e,4);if(0===t)n-=r,n=Math.max(n,0),er(e,4,n);else{n*=Math.pow(2,32),n+=Xn(e,8),n-=r,n=Math.max(n,0);const t=Math.floor(n/(Kn+1)),i=Math.floor(n%(Kn+1));er(e,4,t),er(e,8,i)}}}))}))}))}(f,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(Xt.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const b=!!f.audio,E=!!f.video;let w="";b&&(w+="audio"),E&&(w+="video");const C={data1:d,startPTS:v,startDTS:v,endPTS:y,endDTS:y,type:w,hasAudio:b,hasVideo:E,nb:1,dropped:0};return u.audio="audio"===C.type?C:void 0,u.video="audio"!==C.type?C:void 0,u.initSegment=h,u.id3=Va(n,i,l,l),r.samples.length&&(u.text=qa(r,i,l)),u}}},{demux:ka,remux:za},{demux:class extends $o{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Rn(e,0);let n=(null==t?void 0:t.length)||0;if(ga(e,n))return!1;for(let r=e.length;n<r;n++)if(ra(e,n))return Xt.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Jo(e,t)&&ta(e,t)<=e.length-t}(e,t)}appendFrame(e,t,n){ia(e,this.observer,t,n,e.manifestCodec);const r=aa(e,t,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:za},{demux:class extends $o{resetInitSegment(e,t,n,r){super.resetInitSegment(e,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Rn(e,0);let n=(null==t?void 0:t.length)||0;if(t&&11===e[n]&&119===e[n+1]&&void 0!==On(t)&&ya(e,n)<=16)return!1;for(let r=e.length;n<r;n++)if(ga(e,n))return Xt.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return pa(e,t)&&4<=e.length-t}(e,t)}appendFrame(e,t,n){if(null!==this.basePTS)return ha(e,t,n,this.basePTS,this.frameIndex)}},remux:za}];Ka.splice(2,0,{demux:ba,remux:za});class Ya{constructor(e,t,n,r,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,n,r){const i=n.transmuxing;i.executeStart=ja();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:s}=this;r&&(this.currentTransmuxState=r);const{contiguous:l,discontinuity:c,trackSwitch:u,accurateTimeOffset:d,timeOffset:h,initSegmentChange:f}=r||a,{audioCodec:p,videoCodec:m,defaultInitPts:g,duration:v,initSegmentData:y}=s,b=function(e,t){let n=null;e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(n=t);return n}(o,t);if(b&&"AES-128"===b.method){const e=this.getDecrypter();if(!e.isSync())return this.decryptionPromise=e.webCryptoDecrypt(o,b.key.buffer,b.iv.buffer).then((e=>{const t=this.push(e,null,n);return this.decryptionPromise=null,t})),this.decryptionPromise;{let t=e.softwareDecrypt(o,b.key.buffer,b.iv.buffer);if(n.part>-1&&(t=e.flush()),!t)return i.executeEnd=ja(),Qa(n);o=new Uint8Array(t)}}const E=this.needsProbing(c,u);if(E){const e=this.configureTransmuxer(o);if(e)return Xt.warn("[transmuxer] ".concat(e.message)),this.observer.emit(Gt.ERROR,Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_PARSING_ERROR,fatal:!1,error:e,reason:e.message}),i.executeEnd=ja(),Qa(n)}(c||u||f||E)&&this.resetInitSegment(y,p,m,v,t),(c||f||E)&&this.resetInitialTimestamp(g),l||this.resetContiguity();const w=this.transmux(o,b,h,d,n),C=this.currentTransmuxState;return C.contiguous=!0,C.discontinuity=!1,C.trackSwitch=!1,i.executeEnd=ja(),w}flush(e){const t=e.transmuxing;t.executeStart=ja();const{decrypter:n,currentTransmuxState:r,decryptionPromise:i}=this;if(i)return i.then((()=>this.flush(e)));const o=[],{timeOffset:a}=r;if(n){const t=n.flush();t&&o.push(this.push(t,null,e))}const{demuxer:s,remuxer:l}=this;if(!s||!l)return t.executeEnd=ja(),[Qa(e)];const c=s.flush(a);return Za(c)?c.then((t=>(this.flushRemux(o,t,e),o))):(this.flushRemux(o,c,e),o)}flushRemux(e,t,n){const{audioTrack:r,videoTrack:i,id3Track:o,textTrack:a}=t,{accurateTimeOffset:s,timeOffset:l}=this.currentTransmuxState;Xt.log("[transmuxer.ts]: Flushed fragment ".concat(n.sn).concat(n.part>-1?" p: "+n.part:""," of level ").concat(n.level));const c=this.remuxer.remux(r,i,o,a,l,s,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=ja()}resetInitialTimestamp(e){const{demuxer:t,remuxer:n}=this;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,n,r,i){const{demuxer:o,remuxer:a}=this;o&&a&&(o.resetInitSegment(e,t,n,r),a.resetInitSegment(e,t,n,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,n,r,i){let o;return o=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i),o}transmuxUnencrypted(e,t,n,r){const{audioTrack:i,videoTrack:o,id3Track:a,textTrack:s}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,o,a,s,t,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(e,t,n,r,i){return this.demuxer.demuxSampleAes(e,t,n).then((e=>({remuxResult:this.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,this.id),chunkMeta:i})))}configureTransmuxer(e){const{config:t,observer:n,typeSupported:r,vendor:i}=this;let o;for(let d=0,h=Ka.length;d<h;d++){var a;if(null!=(a=Ka[d].demux)&&a.probe(e)){o=Ka[d];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const s=this.demuxer,l=this.remuxer,c=o.remux,u=o.demux;l&&l instanceof c||(this.remuxer=new c(n,t,r,i)),s&&s instanceof u||(this.demuxer=new u(n,t,r),this.probe=u.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Oo(this.config)),e}}const Qa=e=>({remuxResult:{},chunkMeta:e});function Za(e){return"then"in e&&e.then instanceof Function}class $a{constructor(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i||null}}class Xa{constructor(e,t,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}}var Ja={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(Ja);var es=Dt(Ja.exports);class ts{constructor(e,t,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=e.config;this.hls=e,this.id=t,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const o=(e,t)=>{(t=t||{}).frag=this.frag,t.id=this.id,e===Gt.ERROR&&(this.error=t.error),this.hls.trigger(e,t)};this.observer=new es,this.observer.on(Gt.FRAG_DECRYPTED,o),this.observer.on(Gt.ERROR,o);const a=Tr(i.preferManagedMediaSource)||{isTypeSupported:()=>!1},s={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')},l=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){if(i.workerPath||"function"===typeof __HLS_WORKER_BUNDLE__){try{i.workerPath?(Xt.log("loading Web Worker ".concat(i.workerPath,' for "').concat(t,'"')),this.workerContext=function(e){const t=new self.URL(e,self.location.href).href;return{worker:new self.Worker(t),scriptURL:t}}(i.workerPath)):(Xt.log('injecting Web Worker for "'.concat(t,'"')),this.workerContext=function(){const e=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),t=self.URL.createObjectURL(e);return{worker:new self.Worker(t),objectURL:t}}()),this.onwmsg=e=>this.onWorkerMessage(e);const{worker:e}=this.workerContext;e.addEventListener("message",this.onwmsg),e.onerror=e=>{const n=new Error("".concat(e.message,"  (").concat(e.filename,":").concat(e.lineno,")"));i.enableWorker=!1,Xt.warn('Error in "'.concat(t,'" Web Worker, fallback to inline')),this.hls.trigger(Gt.ERROR,{type:Wt.OTHER_ERROR,details:Kt.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:n})},e.postMessage({cmd:"init",typeSupported:s,vendor:l,id:t,config:JSON.stringify(i)})}catch(t7){Xt.warn('Error setting up "'.concat(t,'" Web Worker, fallback to inline'),t7),this.resetWorker(),this.error=null,this.transmuxer=new Ya(this.observer,s,i,l,t)}return}}this.transmuxer=new Ya(this.observer,s,i,l,t)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,n,r,i,o,a,s,l,c){var u,d;l.transmuxing.start=self.performance.now();const{transmuxer:h}=this,f=o?o.start:i.start,p=i.decryptdata,m=this.frag,g=!(m&&i.cc===m.cc),v=!(m&&l.level===m.level),y=m?l.sn-m.sn:-1,b=this.part?l.part-this.part.index:-1,E=0===y&&l.id>1&&l.id===(null==m?void 0:m.stats.chunkCount),w=!v&&(1===y||0===y&&(1===b||E&&b<=0)),C=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=C),!o||!b&&w||(o.stats.parsing.start=C);const S=!(m&&(null==(u=i.initSegment)?void 0:u.url)===(null==(d=m.initSegment)?void 0:d.url)),T=new Xa(g,w,s,v,f,S);if(!w||g||S){Xt.log("[transmuxer-interface, ".concat(i.type,"]: Starting new transmux session for sn: ").concat(l.sn," p: ").concat(l.part," level: ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(g,"\n        trackSwitch: ").concat(v,"\n        contiguous: ").concat(w,"\n        accurateTimeOffset: ").concat(s,"\n        timeOffset: ").concat(f,"\n        initSegmentChange: ").concat(S));const e=new $a(n,r,t,a,c);this.configureTransmuxer(e)}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:p,chunkMeta:l,state:T},e instanceof ArrayBuffer?[e]:[]);else if(h){const t=h.push(e,p,l,T);Za(t)?(h.async=!0,t.then((e=>{this.handleTransmuxComplete(e)})).catch((e=>{this.transmuxerError(e,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(t))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let n=t.flush(e);Za(n)||t.async?(Za(n)||(n=Promise.resolve(n)),n.then((t=>{this.handleFlushResult(t,e)})).catch((t=>{this.transmuxerError(t,e,"transmuxer-interface flush error")}))):this.handleFlushResult(n,e)}}transmuxerError(e,t,n){this.hls&&(this.error=e,this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,t){e.forEach((e=>{this.handleTransmuxComplete(e)})),this.onFlush(t)}onWorkerMessage(e){const t=e.data,n=this.hls;switch(t.event){case"init":{var r;const e=null==(r=this.workerContext)?void 0:r.objectURL;e&&self.URL.revokeObjectURL(e);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":Xt[t.data.logType]&&Xt[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}configureTransmuxer(e){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function ns(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!rs(e[n].attrs,t[n].attrs))return!1;return!0}function rs(e,t,n){const r=e["STABLE-RENDITION-ID"];return r&&!n?r===t["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((n=>e[n]!==t[n]))}function is(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}class os{constructor(e){this.buffered=void 0;const t=(t,n,r)=>{if((n>>>=0)>r-1)throw new DOMException("Failed to execute '".concat(t,"' on 'TimeRanges': The index provided (").concat(n,") is greater than the maximum bound (").concat(r,")"));return e[n][t]};this.buffered={get length(){return e.length},end:n=>t("end",n,e.length),start:n=>t("start",n,e.length)}}}class as{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,n){const r=this.queues[t];r.push(e),1!==r.length||n||this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t;const n=new Promise((e=>{t=e})),r={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,e),n}executeNext(e){const t=this.queues[e];if(t.length){const r=t[0];try{r.execute()}catch(n){Xt.warn('[buffer-operation-queue]: Exception executing "'.concat(e,'" SourceBuffer operation: ').concat(n)),r.onError(n);const t=this.buffers[e];null!=t&&t.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const ss=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function ls(e){const t=e.querySelectorAll("source");[].slice.call(t).forEach((t=>{e.removeChild(t)}))}const cs={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},us=function(e){let t=e;return cs.hasOwnProperty(e)&&(t=cs[e]),String.fromCharCode(t)},ds=15,hs=100,fs={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ps={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ms={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},gs={25:2,26:4,29:6,30:8,31:10,27:13,28:15},vs=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class ys{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const n="function"===typeof t?t():t;Xt.log("".concat(this.time," [").concat(e,"] ").concat(n))}}}const bs=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toString(16));return t};class Es{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let n=0;n<t.length;n++){const r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class ws{constructor(){this.uchar=" ",this.penState=new Es}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Cs{constructor(e){this.chars=[],this.pos=0,this.currPenState=new Es,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<hs;t++)this.chars.push(new ws);this.logger=e}equals(e){for(let t=0;t<hs;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<hs;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<hs;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>hs&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=hs)}moveCursor(e){const t=this.pos+e;if(e>1)for(let n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=us(e);this.pos>=hs?this.logger.log(0,(()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(e){let t;for(t=e;t<hs;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let n=0;n<hs;n++){const r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e);this.chars[this.pos].setPenState(this.currPenState)}}class Ss{constructor(e){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<ds;t++)this.rows.push(new Cs(e));this.logger=e}reset(){for(let e=0;e<ds;e++)this.rows[e].clear();this.currRow=14}equals(e){let t=!0;for(let n=0;n<ds;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}copy(e){for(let t=0;t<ds;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<ds;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e);this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,(()=>"pacData = "+JSON.stringify(e)));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let t=0;t<ds;t++)this.rows[t].clear();const e=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[e].cueStartTime,i=this.logger.time;if(null!==r&&null!==i&&r<i)for(let o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(n.rows[e+o])}}this.currRow=t;const n=this.rows[this.currRow];if(null!==e.indent){const t=e.indent,r=Math.max(t-1,0);n.setCursor(e.indent),e.color=n.chars[r].penState.foreground}const r={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(e){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(e))),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let n="",r=-1;for(let i=0;i<ds;i++){const n=this.rows[i].getTextString();n&&(r=i+1,e?t.push("Row "+r+": '"+n+"'"):t.push(n.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}getTextAndFormat(){return this.rows}}class Ts{constructor(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Ss(n),this.nonDisplayedMemory=new Ss(n),this.lastOutputScreen=new Ss(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(()=>"MODE="+e)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>t+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class _s{constructor(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const r=this.logger=new ys;this.channels=[null,new Ts(e,t,r),new Ts(e+1,n,r)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){let n,r,i,o=!1;this.logger.time=e;for(let a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(this.logger.log(3,"["+bs([t[a],t[a+1]])+"] -> ("+bs([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i),o)){const e=this.currentChannel;if(e&&e>0){this.channels[e].insertChars(o)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(2,"Couldn't parse cleaned data "+bs([r,i])+" orig: "+bs([t[a],t[a+1]]))}}parseCmd(e,t){const{cmdHistory:n}=this;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(xs(e,t,n))return ks(null,null,n),this.logger.log(3,"Repeated command ("+bs([e,t])+") is dropped"),!0;const r=20===e||21===e||23===e?1:2,i=this.channels[r];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),ks(e,t,n),this.currentChannel=r,!0}parseMidrow(e,t){let n=0;if((17===e||25===e)&&t>=32&&t<=47){if(n=17===e?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(t),this.logger.log(3,"MIDROW ("+bs([e,t])+")"),!0)}return!1}parsePAC(e,t){let n;const r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(xs(e,t,r))return ks(null,null,r),!0;const i=e<=23?1:2;n=t>=64&&t<=95?1===i?fs[e]:ms[e]:1===i?ps[e]:gs[e];const o=this.channels[i];return!!o&&(o.setPAC(this.interpretPAC(n,t)),ks(e,t,r),this.currentChannel=i,!0)}interpretPAC(e,t){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(e,t){let n,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){let e;e=17===i?t+80:18===i?t+112:t+144,this.logger.log(2,"Special char '"+us(e)+"' in channel "+n),r=[e]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);if(r){const n=bs(r);this.logger.log(3,"Char codes =  "+n.join(",")),ks(e,t,this.cmdHistory)}return r}parseBackgroundAttributes(e,t){if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;let n;const r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=vs[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));const i=e<=23?1:2;return this.channels[i].setBkgData(r),ks(e,t,this.cmdHistory),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const n=this.channels[t];n&&n.cueSplitAtTime(e)}}}function ks(e,t,n){n.a=e,n.b=t}function xs(e,t,n){return n.a===e&&n.b===t}class As{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Is=function(){if(null!=gn&&gn.VTTCue)return self.VTTCue;const e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;const n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=1;for(;i<arguments.length;i++){const t=arguments[i];for(const n in t)e[n]=t[n]}return e}function o(t,o,a){const s=this,l={enumerable:!0};s.hasBeenReset=!1;let c="",u=!1,d=t,h=o,f=a,p=null,m="",g=!0,v="auto",y="start",b=50,E="middle",w=50,C="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return h},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return m},set:function(t){const r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");m=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return v},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return E},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return C},set:function(e){const t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");C=t,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class Ms{decode(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function Rs(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}const n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}class Ls{constructor(){this.values=Object.create(null)}set(e,t){this.get(e)||""===t||(this.values[e]=t)}get(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,n){for(let r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function Ds(e,t,n,r){const i=r?e.split(r):[e];for(const o in i){if("string"!==typeof i[o])continue;const e=i[o].split(n);if(2!==e.length)continue;t(e[0],e[1])}}const Os=new Is(0,0,""),Ps="middle"===Os.align?"middle":"center";function Ns(e,t,n){const r=e;function i(){const t=Rs(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),o(),t.endTime=i(),o(),function(e,t){const r=new Ls;Ds(e,(function(e,t){let i;switch(e){case"region":for(let i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",Ps,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",Ps,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",Ps,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");let i=r.get("line","auto");"auto"===i&&-1===Os.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",Ps);let o=r.get("position","auto");"auto"===o&&50===Os.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}(e,t)}function Fs(e){return e.replace(/<br(?: \/)?>/gi,"\n")}class js{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Ms,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;function n(){let e=t.buffer,n=0;for(e=Fs(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;const r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{let e="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;e=n();const r=e.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let i=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(i?i=!1:e=n(),t.state){case"HEADER":/:/.test(e)?Ds(e,(function(e,t){}),/:/):e||(t.state="ID");continue;case"NOTE":e||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){t.state="NOTE";break}if(!e)continue;if(t.cue=new Is(0,0,""),t.state="CUE",-1===e.indexOf("--\x3e")){t.cue.id=e;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Ns(e,t.cue,t.regionList)}catch(r){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==e.indexOf("--\x3e");if(!e||n&&(i=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=e}continue;case"BADCUE":e||(t.state="ID")}}}catch(r){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const Bs=/\r\n|\n\r|\n|\r/g,Us=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(n,n+t.length)===t},zs=function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function Hs(e,t,n){return zs(e.toString())+zs(t.toString())+zs(n)}function Vs(e,t,n,r,i,o,a){const s=new js,l=Vn(new Uint8Array(e)).trim().replace(Bs,"\n").split("\n"),c=[],u=t?function(e){return Na(e,Pa,1/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}(t.baseTime,t.timescale):0;let d,h="00:00.000",f=0,p=0,m=!0;s.oncue=function(e){const o=n[r];let a=n.ccOffset;const s=(f-u)/9e4;if(null!=o&&o.new&&(void 0!==p?a=n.ccOffset=o.start:function(e,t,n){let r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!=(o=i)&&o.new;){var o;e.ccOffset+=r.start-i.start,r.new=!1,r=i,i=e[r.prevCC]}e.presentationOffset=n}(n,r,s)),s){if(!t)return void(d=new Error("Missing initPTS for VTT MPEGTS"));a=s-n.presentationOffset}const l=e.endTime-e.startTime,h=Ha(9e4*(e.startTime+a-p),9e4*i)/9e4;e.startTime=Math.max(h,0),e.endTime=Math.max(h+l,0);const m=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(m)),e.id||(e.id=Hs(e.startTime,e.endTime,m)),e.endTime>0&&c.push(e)},s.onparsingerror=function(e){d=e},s.onflush=function(){d?a(d):o(c)},l.forEach((e=>{if(m){if(Us(e,"X-TIMESTAMP-MAP=")){m=!1,e.slice(16).split(",").forEach((e=>{Us(e,"LOCAL:")?h=e.slice(6):Us(e,"MPEGTS:")&&(f=parseInt(e.slice(7)))}));try{p=function(e){let t=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Ht(t)||!Ht(n)||!Ht(r)||!Ht(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(e));return t+=1e3*n,t+=6e4*r,t+=36e5*i,t}(h)/1e3}catch(t){d=t}return}""===e&&(m=!1)}s.parse(e+"\n")})),s.flush()}const qs="stpp.ttml.im1t",Gs=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ws=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Ks={left:"start",center:"center",right:"end",start:"start",end:"end"};function Ys(e,t,n,r){const i=tr(new Uint8Array(e),["mdat"]);if(0===i.length)return void r(new Error("Could not parse IMSC1 mdat"));const o=i.map((e=>Vn(e))),a=function(e,t){return Na(e,t,1/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1),arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(t.baseTime,1,t.timescale);try{o.forEach((e=>n(function(e,t){const n=(new DOMParser).parseFromString(e,"text/xml"),r=n.getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(i).reduce(((e,t)=>(e[t]=r.getAttribute("ttp:".concat(t))||i[t],e)),{}),a="preserve"!==r.getAttribute("xml:space"),s=Zs(Qs(r,"styling","style")),l=Zs(Qs(r,"layout","region")),c=Qs(r,"body","[begin]");return[].map.call(c,(e=>{const n=$s(e,a);if(!n||!e.hasAttribute("begin"))return null;const r=el(e.getAttribute("begin"),o),i=el(e.getAttribute("dur"),o);let c=el(e.getAttribute("end"),o);if(null===r)throw Js(e);if(null===c){if(null===i)throw Js(e);c=r+i}const u=new Is(r-t,c-t,n);u.id=Hs(u.startTime,u.endTime,u.text);const d=function(e,t,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;a&&n.hasOwnProperty(a)&&(i=n[a]);return o.reduce(((n,o)=>{const a=Xs(t,r,o)||Xs(e,r,o)||Xs(i,r,o);return a&&(n[o]=a),n}),{})}(l[e.getAttribute("region")],s[e.getAttribute("style")],s),{textAlign:h}=d;if(h){const e=Ks[h];e&&(u.lineAlign=e),u.align=h}return zt(u,d),u})).filter((e=>null!==e))}(e,a))))}catch(s){r(s)}}function Qs(e,t,n){const r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function Zs(e){return e.reduce(((e,t)=>{const n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function $s(e,t){return[].slice.call(e.childNodes).reduce(((e,n,r)=>{var i;return"br"===n.nodeName&&r?e+"\n":null!=(i=n.childNodes)&&i.length?$s(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function Xs(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Js(e){return new Error("Could not parse ttml timestamp ".concat(e))}function el(e,t){if(!e)return null;let n=Rs(e);return null===n&&(Gs.test(e)?n=function(e,t){const n=Gs.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):Ws.test(e)&&(n=function(e,t){const n=Ws.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}function tl(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function nl(e,t){return!!e&&e.kind===tl(t)&&is(t,e)}function rl(e,t,n,r){return Math.min(t,r)-Math.max(e,n)}class il{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Gt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Gt.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Gt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Gt.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&Ht(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const e=this.hls.levels;if(e.length){const t=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&Xt.log("Setting autoLevelCapping to ".concat(n,": ").concat(e[n].height,"p@").concat(e[n].bitrate," for media ").concat(this.mediaWidth,"x").concat(this.mediaHeight)),t.autoLevelCapping=n,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const n=t.filter(((t,n)=>this.isLevelAllowed(t)&&n<=e));return this.clientRect=null,il.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}isLevelAllowed(e){return!this.restrictedLevels.some((t=>e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height))}static getMaxLevelByMediaSize(e,t,n){if(null==e||!e.length)return-1;let r=e.length-1;const i=Math.max(t,n);for(let s=0;s<e.length;s+=1){const t=e[s];if((t.width>=i||t.height>=i)&&(o=t,!(a=e[s+1])||o.width!==a.width||o.height!==a.height)){r=s;break}}var o,a;return r}}const ol="[eme]";class al{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=al.CDMCleanupPromise?[al.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Xt.debug.bind(Xt,ol),this.log=Xt.log.bind(Xt,ol),this.warn=Xt.warn.bind(Xt,ol),this.error=Xt.error.bind(Xt,ol),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Gt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Gt.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Gt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Gt.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:n}=this.config,r=t[e];if(r)return r.licenseUrl;if(e===vn.WIDEVINE&&n)return n;throw new Error('no license server URL configured for key-system "'.concat(e,'"'))}getServerCertificateUrl(e){const{drmSystems:t}=this.config,n=t[e];if(n)return n.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(e,'"]'))}attemptKeySystemAccess(e){const t=this.hls.levels,n=(e,t,n)=>!!e&&n.indexOf(e)===t,r=t.map((e=>e.audioCodec)).filter(n),i=t.map((e=>e.videoCodec)).filter(n);return r.length+i.length===0&&i.push("avc1.42e01e"),new Promise(((t,n)=>{const o=e=>{const a=e.shift();this.getMediaKeysPromise(a,r,i).then((e=>t({keySystem:a,mediaKeys:e}))).catch((t=>{e.length?o(e):n(t instanceof sl?t:new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};o(e)}))}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!==typeof n){let e="Configured requestMediaKeySystemAccess is not a function ".concat(n);return null===kn&&"http:"===self.location.protocol&&(e="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(e))}return n(e,t)}getMediaKeysPromise(e,t,n){const r=function(e,t,n,r){let i;switch(e){case vn.FAIRPLAY:i=["cenc","sinf"];break;case vn.WIDEVINE:case vn.PLAYREADY:i=["cenc"];break;case vn.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(e))}return function(e,t,n,r){return[{initDataTypes:e,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((e=>({contentType:'audio/mp4; codecs="'.concat(e,'"'),robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}))),videoCapabilities:n.map((e=>({contentType:'video/mp4; codecs="'.concat(e,'"'),robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null})))}]}(i,t,n,r)}(e,t,n,this.config.drmSystemOptions),i=this.keySystemAccessPromises[e];let o=null==i?void 0:i.keySystemAccess;if(!o){this.log('Requesting encrypted media "'.concat(e,'" key-system access with config: ').concat(JSON.stringify(r))),o=this.requestMediaKeySystemAccess(e,r);const t=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch((t=>{this.log('Failed to obtain access to key-system "'.concat(e,'": ').concat(t))})),o.then((n=>{this.log('Access for key-system "'.concat(n.keySystem,'" obtained'));const r=this.fetchServerCertificate(e);return this.log('Create media-keys for "'.concat(e,'"')),t.mediaKeys=n.createMediaKeys().then((t=>(this.log('Media-keys created for "'.concat(e,'"')),r.then((n=>n?this.setMediaKeysServerCertificate(t,e,n):t))))),t.mediaKeys.catch((t=>{this.error('Failed to create media-keys for "'.concat(e,'"}: ').concat(t))})),t.mediaKeys}))}return o.then((()=>i.mediaKeys))}createMediaKeySessionContext(e){let{decryptdata:t,keySystem:n,mediaKeys:r}=e;this.log('Creating key-system session "'.concat(n,'" keyId: ').concat(Wn(t.keyId||[])));const i=r.createSession(),o={decryptdata:t,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const n=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t),i="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,i,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Wn(e.keyId)}updateKeySession(e,t){var n;const r=e.mediaKeysSession;return this.log('Updating key-session "'.concat(r.sessionId,'" for keyID ').concat(Wn((null==(n=e.decryptdata)?void 0:n.keyId)||[]),"\n      } (data length: ").concat(t?t.byteLength:t,")")),r.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(e.sn," ").concat(e.type,": ").concat(e.level,") key formats ").concat(t.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise(((t,n)=>{const r=_n(this.config),i=e.map(Cn).filter((e=>!!e&&-1!==r.indexOf(e)));return this.getKeySystemSelectionPromise(i).then((e=>{let{keySystem:r}=e;const i=Tn(r);i?t(i):n(new Error('Unable to find format for key-system "'.concat(r,'"')))})).catch(n)}))}loadKey(e){const t=e.keyInfo.decryptdata,n=this.getKeyIdString(t),r="(keyId: ".concat(n,' format: "').concat(t.keyFormat,'" method: ').concat(t.method," uri: ").concat(t.uri,")");this.log("Starting session for key ".concat(r));let i=this.keyIdToKeySessionPromise[n];return i||(i=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(t).then((n=>{let{keySystem:i,mediaKeys:o}=n;return this.throwIfDestroyed(),this.log("Handle encrypted media sn: ".concat(e.frag.sn," ").concat(e.frag.type,": ").concat(e.frag.level," using key ").concat(r)),this.attemptSetMediaKeys(i,o).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({keySystem:i,mediaKeys:o,decryptdata:t});return this.generateRequestWithPreferredKeySession(e,"cenc",t.pssh,"playlist-key")}))})),i.catch((e=>this.handleError(e)))),i}throwIfDestroyed(){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof sl?this.hls.trigger(Gt.ERROR,e.data):this.hls.trigger(Gt.ERROR,{type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){const t=Cn(e.keyFormat),n=t?[t]:_n(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=_n(this.config)),0===e.length)throw new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:t,initData:n}=e;if(this.debug('"'.concat(e.type,'" event: init data type: "').concat(t,'"')),null===n)return;let r,i;if("sinf"===t&&this.config.drmSystems[vn.FAIRPLAY]){const e=Zn(new Uint8Array(n));try{const t=fn(JSON.parse(e).sinf),n=lr(new Uint8Array(t));if(!n)return;r=n.subarray(8,24),i=vn.FAIRPLAY}catch(c){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const e=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;const t={version:0,systemId:"",kids:null,data:null},n=new DataView(e),r=n.getUint32(0);if(e.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(t.version=n.getUint32(8)>>>24,t.version>1)return null;t.systemId=Wn(new Uint8Array(e,12,16));const i=n.getUint32(28);if(0===t.version){if(r-32<i)return null;t.data=new Uint8Array(e,32,i)}else if(1===t.version){t.kids=[];for(let n=0;n<i;n++)t.kids.push(new Uint8Array(e,32+16*n,16))}return t}(n);if(null===e)return;0===e.version&&e.systemId===Sn&&e.data&&(r=e.data.subarray(8,24)),i=function(e){if(e===Sn)return vn.WIDEVINE}(e.systemId)}if(!i||!r)return;const o=Wn(r),{keyIdToKeySessionPromise:a,mediaKeySessions:s}=this;let l=a[o];for(let u=0;u<s.length;u++){const e=s[u],i=e.decryptdata;if(i.pssh||!i.keyId)continue;const c=Wn(i.keyId);if(o===c||-1!==i.uri.replace(/-/g,"").indexOf(o)){l=a[c],delete a[c],i.pssh=new Uint8Array(n),i.keyId=r,l=a[o]=l.then((()=>this.generateRequestWithPreferredKeySession(e,t,n,"encrypted-event-key-match")));break}}l||(l=a[o]=this.getKeySystemSelectionPromise([i]).then((e=>{let{keySystem:i,mediaKeys:a}=e;var s;this.throwIfDestroyed();const l=new vr("ISO-23001-7",o,null!=(s=Tn(i))?s:"");return l.pssh=new Uint8Array(n),l.keyId=r,this.attemptSetMediaKeys(i,a).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({decryptdata:l,keySystem:i,mediaKeys:a});return this.generateRequestWithPreferredKeySession(e,t,n,"encrypted-event-no-match")}))}))),l.catch((e=>this.handleError(e)))}_onWaitingForKey(e){this.log('"'.concat(e.type,'" event'))}attemptSetMediaKeys(e,t){const n=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(e,'"'));const r=Promise.all(n).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(r),r.then((()=>{this.log('Media-keys set for "'.concat(e,'"')),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((e=>-1===n.indexOf(e)))}))}generateRequestWithPreferredKeySession(e,t,n,r){var i,o;const a=null==(i=this.config.drmSystems)||null==(o=i[e.keySystem])?void 0:o.generateRequest;if(a)try{const r=a.call(this.hls,t,n,e);if(!r)throw new Error("Invalid response from configured generateRequest filter");t=r.initDataType,n=e.decryptdata.pssh=r.initData?new Uint8Array(r.initData):null}catch(f){var s;if(this.warn(f.message),null!=(s=this.hls)&&s.config.debug)throw f}if(null===n)return this.log('Skipping key-session request for "'.concat(r,'" (no initData)')),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'.concat(r,'": ').concat(l," (init data type: ").concat(t," length: ").concat(n?n.byteLength:null,")"));const c=new es,u=e._onmessage=t=>{const n=e.mediaKeysSession;if(!n)return void c.emit("error",new Error("invalid state"));const{messageType:r,message:i}=t;this.log('"'.concat(r,'" message event for session "').concat(n.sessionId,'" message size: ').concat(i.byteLength)),"license-request"===r||"license-renewal"===r?this.renewLicense(e,i).catch((e=>{this.handleError(e),c.emit("error",e)})):"license-release"===r?e.keySystem===vn.FAIRPLAY&&(this.updateKeySession(e,mn("acknowledged")),this.removeSession(e)):this.warn('unhandled media key message type "'.concat(r,'"'))},d=e._onkeystatuseschange=t=>{if(!e.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const n=e.keyStatus;c.emit("keyStatus",n),"expired"===n&&(this.warn("".concat(e.keySystem," expired for key ").concat(l)),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",u),e.mediaKeysSession.addEventListener("keystatuseschange",d);const h=new Promise(((e,t)=>{c.on("error",t),c.on("keyStatus",(n=>{n.startsWith("usable")?e():"output-restricted"===n?t(new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?t(new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(n,'"'))):"expired"===n?t(new Error("key expired while generating request")):this.warn('unhandled key status change "'.concat(n,'"'))}))}));return e.mediaKeysSession.generateRequest(t,n).then((()=>{var t;this.log('Request generated for key-session "'.concat(null==(t=e.mediaKeysSession)?void 0:t.sessionId,'" keyId: ').concat(l))})).catch((e=>{throw new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: ".concat(e))})).then((()=>h)).catch((t=>{throw c.removeAllListeners(),this.removeSession(e),t})).then((()=>(c.removeAllListeners(),e)))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach(((t,n)=>{this.log('key status change "'.concat(t,'" for keyStatuses keyId: ').concat(Wn("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))," session keyId: ").concat(Wn(new Uint8Array(e.decryptdata.keyId||[]))," uri: ").concat(e.decryptdata.uri)),e.keyStatus=t}))}fetchServerCertificate(e){const t=this.config,n=new(0,t.loader)(t),r=this.getServerCertificateUrl(e);return r?(this.log('Fetching server certificate for "'.concat(e,'"')),new Promise(((i,o)=>{const a={responseType:"arraybuffer",url:r},s=t.certLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,n,r)=>{i(e.data)},onError:(t,n,i,s)=>{o(new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:jt({url:a.url,data:void 0},t)},'"'.concat(e,'" certificate request failed (').concat(r,"). Status: ").concat(t.code," (").concat(t.text,")")))},onTimeout:(t,n,i)=>{o(new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:a.url,data:void 0}},'"'.concat(e,'" certificate request timed out (').concat(r,")")))},onAbort:(e,t,n)=>{o(new Error("aborted"))}};n.load(a,l,c)}))):Promise.resolve()}setMediaKeysServerCertificate(e,t,n){return new Promise(((r,i)=>{e.setServerCertificate(n).then((i=>{this.log("setServerCertificate ".concat(i?"success":"not supported by CDM"," (").concat(null==n?void 0:n.byteLength,') on "').concat(t,'"')),r(e)})).catch((e=>{i(new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then((t=>this.updateKeySession(e,new Uint8Array(t)).catch((e=>{throw new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))))}unpackPlayReadyKeyMessage(e,t){const n=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0){let t;for(let n=0,r=i.length;n<r;n++){var o,a;t=i[n];const r=null==(o=t.querySelector("name"))?void 0:o.textContent,s=null==(a=t.querySelector("value"))?void 0:a.textContent;r&&s&&e.setRequestHeader(r,s)}}const s=r.querySelector("Challenge"),l=null==s?void 0:s.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return mn(atob(l))}setupLicenseXHR(e,t,n,r){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return i.call(this.hls,e,t,n,r)})).catch((o=>{if(!n.decryptdata)throw o;return e.open("POST",t,!0),i.call(this.hls,e,t,n,r)})).then((n=>{e.readyState||e.open("POST",t,!0);return{xhr:e,licenseChallenge:n||r}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}requestLicense(e,t){const n=this.config.keyLoadPolicy.default;return new Promise(((r,i)=>{const o=this.getLicenseServerUrl(e.keySystem);this.log("Sending license request to URL: ".concat(o));const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return i(new Error("invalid state"));if(4===a.readyState)if(200===a.status){this._requestLicenseFailureCount=0;let t=a.response;this.log("License received ".concat(t instanceof ArrayBuffer?t.byteLength:t));const n=this.config.licenseResponseCallback;if(n)try{t=n.call(this.hls,a,o,e)}catch(s){this.error(s)}r(t)}else{const s=n.errorRetry,l=s?s.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||a.status>=400&&a.status<500)i(new sl({type:Wt.KEY_SYSTEM_ERROR,details:Kt.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},"License Request XHR failed (".concat(o,"). Status: ").concat(a.status," (").concat(a.statusText,")")));else{const n=l-this._requestLicenseFailureCount+1;this.warn("Retrying license request, ".concat(n," attempts left")),this.requestLicense(e,t).then(r,i)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,t).then((t=>{let{xhr:n,licenseChallenge:r}=t;e.keySystem==vn.PLAYREADY&&(r=this.unpackPlayReadyKeyMessage(n,r)),n.send(r)}))}))}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const n=t.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},vr.clearKeyUriToKeyIdMap();const n=t.length;al.CDMCleanupPromise=Promise.all(t.map((e=>this.removeSession(e))).concat(null==e?void 0:e.setMediaKeys(null).catch((e=>{this.log("Could not clear media keys: ".concat(e))})))).then((()=>{n&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)})).catch((e=>{this.log("Could not close sessions and clear media keys: ".concat(e))}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,t){let{sessionKeys:n}=t;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){const e=n.reduce(((e,t)=>(-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e)),[]);this.log("Selecting key-system from session-keys ".concat(e.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(e)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:n}=e;if(t){this.log("Remove licenses and keys and close session ".concat(t.sessionId)),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(e);return r>-1&&this.mediaKeySessions.splice(r,1),t.remove().catch((e=>{this.log("Could not remove session: ".concat(e))})).then((()=>t.close())).catch((e=>{this.log("Could not close session: ".concat(e))}))}}}al.CDMCleanupPromise=void 0;class sl extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}var ll,cl,ul;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(ll||(ll={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(cl||(cl={})),function(e){e.OBJECT="CMCD-Object",e.REQUEST="CMCD-Request",e.SESSION="CMCD-Session",e.STATUS="CMCD-Status"}(ul||(ul={}));const dl={[ul.OBJECT]:["br","d","ot","tb"],[ul.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[ul.SESSION]:["cid","pr","sf","sid","st","v"],[ul.STATUS]:["bs","rtp"]};class hl{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map((e=>e instanceof hl?e:new hl(e)))),this.value=e,this.params=t}}class fl{constructor(e){this.description=void 0,this.description=e}}const pl="Dict";function ml(e,t,n,r){return new Error("failed to ".concat(e,' "').concat((i=t,Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":"object"===typeof i?JSON.stringify(i):String(i)),'" as ').concat(n),{cause:r});var i}const gl="Bare Item",vl="Boolean",yl="Byte Sequence",bl="Decimal",El="Integer";const wl=/[\x00-\x1f\x7f]+/,Cl="Token",Sl="Key";function Tl(e,t,n){return ml("serialize",e,t,n)}function _l(e){if(!1===ArrayBuffer.isView(e))throw Tl(e,yl);return":".concat((t=e,btoa(String.fromCharCode(...t))),":");var t}function kl(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw Tl(e,El);return e.toString()}function xl(e,t){if(e<0)return-xl(-e,t);const n=Math.pow(10,t);if(Math.abs(e*n%1-.5)<Number.EPSILON){const t=Math.floor(e*n);return(t%2===0?t:t+1)/n}return Math.round(e*n)/n}function Al(e){const t=xl(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw Tl(e,bl);const n=t.toString();return n.includes(".")?n:"".concat(n,".0")}const Il="String";function Ml(e){const t=(n=e).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t))throw Tl(t,Cl);return t}function Rl(e){switch(typeof e){case"number":if(!Ht(e))throw Tl(e,gl);return Number.isInteger(e)?kl(e):Al(e);case"string":return function(e){if(wl.test(e))throw Tl(e,Il);return'"'.concat(e.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),'"')}(e);case"symbol":return Ml(e);case"boolean":return function(e){if("boolean"!==typeof e)throw Tl(e,vl);return e?"?1":"?0"}(e);case"object":if(e instanceof Date)return function(e){return"@".concat(kl(e.getTime()/1e3))}(e);if(e instanceof Uint8Array)return _l(e);if(e instanceof fl)return Ml(e);default:throw Tl(e,gl)}}function Ll(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw Tl(e,Sl);return e}function Dl(e){return null==e?"":Object.entries(e).map((e=>{let[t,n]=e;return!0===n?";".concat(Ll(t)):";".concat(Ll(t),"=").concat(Rl(n))})).join("")}function Ol(e){return e instanceof hl?"".concat(Rl(e.value)).concat(Dl(e.params)):Rl(e)}function Pl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{whitespace:!0};if("object"!==typeof e)throw Tl(e,pl);const n=e instanceof Map?e.entries():Object.entries(e),r=null!=t&&t.whitespace?" ":"";return Array.from(n).map((e=>{let[t,n]=e;n instanceof hl===!1&&(n=new hl(n));let r=Ll(t);var i;return!0===n.value?r+=Dl(n.params):(r+="=",Array.isArray(n.value)?r+="(".concat((i=n).value.map(Ol).join(" "),")").concat(Dl(i.params)):r+=Ol(n)),r})).join(",".concat(r))}const Nl=e=>"ot"===e||"sf"===e||"st"===e,Fl=e=>"number"===typeof e?Ht(e):null!=e&&""!==e&&!1!==e;const jl=e=>Math.round(e),Bl=e=>100*jl(e/100),Ul={br:jl,d:jl,bl:Bl,dl:Bl,mtp:Bl,nor:(e,t)=>(null!=t&&t.baseUrl&&(e=function(e,t){const n=new URL(e),r=new URL(t);if(n.origin!==r.origin)return e;const i=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;i[0]===o[0];)i.shift(),o.shift();for(;o.length;)o.shift(),i.unshift("..");return i.join("/")}(e,t.baseUrl)),encodeURIComponent(e)),rtp:Bl,tb:jl};function zl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?function(e,t){return Pl(e,t)}(function(e,t){const n={};if(null==e||"object"!==typeof e)return n;const r=Object.keys(e).sort(),i=zt({},Ul,null==t?void 0:t.formatters),o=null==t?void 0:t.filter;return r.forEach((r=>{if(null!=o&&o(r))return;let a=e[r];const s=i[r];s&&(a=s(a,t)),"v"===r&&1===a||"pr"==r&&1===a||Fl(a)&&(Nl(r)&&"string"===typeof a&&(a=new fl(a)),n[r]=a)})),n}(e,t),zt({whitespace:!1},t)):""}function Hl(e,t,n){return zt(e,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};const n=Object.entries(e),r=Object.entries(dl).concat(Object.entries((null==t?void 0:t.customHeaderMap)||{})),i=n.reduce(((e,t)=>{var n;const[i,o]=t,a=(null==(n=r.find((e=>e[1].includes(i))))?void 0:n[0])||ul.REQUEST;return null!=e[a]||(e[a]={}),e[a][i]=o,e}),{});return Object.entries(i).reduce(((e,n)=>{let[r,i]=n;return e[r]=zl(i,t),e}),{})}(t,n))}const Vl="CMCD";const ql=/CMCD=[^&#]+/;function Gl(e,t,n){const r=function(e){if(!e)return"";const t=zl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return"".concat(Vl,"=").concat(encodeURIComponent(t))}(t,n);if(!r)return e;if(ql.test(e))return e.replace(ql,r);const i=e.includes("?")?"&":"?";return"".concat(e).concat(i).concat(r)}function Wl(e,t,n,r){e&&Object.keys(t).forEach((i=>{const o=e.filter((e=>e.groupId===i)).map((e=>{const o=zt({},e);return o.details=void 0,o.attrs=new tn(o.attrs),o.url=o.attrs.URI=Kl(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),o.groupId=o.attrs["GROUP-ID"]=t[i],o.attrs["PATHWAY-ID"]=r,o}));e.push(...o)}))}function Kl(e,t,n,r){const{HOST:i,PARAMS:o,[n]:a}=r;let s;t&&(s=null==a?void 0:a[t],s&&(e=s));const l=new self.URL(e);return i&&!s&&(l.host=i),o&&Object.keys(o).sort().forEach((e=>{e&&l.searchParams.set(e,o[e])})),l.href}const Yl=/^age:\s*[\d.]+\s*$/im;class Ql{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new on,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then((()=>{if(!this.stats.aborted)return i(n,t.url)})).catch((e=>(n.open("GET",t.url,!0),i(n,t.url)))).then((()=>{this.stats.aborted||this.openAndSendXhr(n,t,e)})).catch((e=>{this.callbacks.onError({code:n.status,text:e.message},t,n,r)})):this.openAndSendXhr(n,t,e)}openAndSendXhr(e,t,n){e.readyState||e.open("GET",t.url,!0);const r=t.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:o}=n.loadPolicy;if(r)for(const a in r)e.setRequestHeader(a,r[a]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=i&&Ht(i)?i:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:n}=this;if(!e||!t)return;const r=t.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const r=t.status,o="text"!==t.responseType;if(r>=200&&r<300&&(o&&t.response||null!==t.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const i=o?t.response:t.responseText,a="arraybuffer"===t.responseType?i.byteLength:i.length;if(n.loaded=n.total=a,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const s=this.callbacks.onProgress;if(s&&s(n,e,i,t),!this.callbacks)return;const l={url:t.responseURL,data:i,code:r};this.callbacks.onSuccess(l,n,e,t)}else{const o=i.loadPolicy.errorRetry;ji(o,n.retry,!1,{url:e.url,data:void 0,code:r})?this.retry(o):(Xt.error("".concat(r," while loading ").concat(e.url)),this.callbacks.onError({code:r,text:t.statusText},e,t,n))}}}loadtimeout(){var e;const t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry;if(ji(t,this.stats.retry,!0))this.retry(t);else{var n;Xt.warn("timeout while loading ".concat(null==(n=this.context)?void 0:n.url));const e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:n}=this;this.retryDelay=Ni(e,n.retry),n.retry++,Xt.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(null==t?void 0:t.url,", retrying ").concat(n.retry,"/").concat(e.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&Yl.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp("^".concat(e,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const Zl=/(\d+)-(\d+)\/(\d+)/;class $l{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Xl,this.controller=new self.AbortController,this.stats=new on}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const i=function(e,t){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(zt({},e.headers))};e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return n}(e,this.controller.signal),o=n.onProgress,a="arraybuffer"===e.responseType,s=a?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,i),self.clearTimeout(this.requestTimeout),t.timeout=l&&Ht(l)?l:c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,e,this.response)}),t.timeout),self.fetch(this.request).then((i=>{this.response=this.loader=i;const s=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,e,this.response)}),c-(s-r.loading.start)),!i.ok){const{status:e,statusText:t}=i;throw new Jl(t||"fetch, bad network response",e,i)}return r.loading.first=s,r.total=function(e){const t=e.get("Content-Range");if(t){const e=function(e){const t=Zl.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(Ht(e))return e}const n=e.get("Content-Length");if(n)return parseInt(n)}(i.headers)||r.total,o&&Ht(t.highWaterMark)?this.loadProgressively(i,r,e,t.highWaterMark,o):a?i.arrayBuffer():"json"===e.responseType?i.json():i.text()})).then((i=>{const a=this.response;if(!a)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=i[s];l&&(r.loaded=r.total=l);const c={url:a.url,data:i,code:a.status};o&&!Ht(t.highWaterMark)&&o(r,e,i,a),n.onSuccess(c,r,e,a)})).catch((t=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const i=t&&t.code||0,o=t?t.message:null;n.onError({code:i,text:o},e,t?t.details:null,r)}))}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;const o=new Qo,a=e.body.getReader(),s=()=>a.read().then((a=>{if(a.done)return o.dataLength&&i(t,n,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const l=a.value,c=l.length;return t.loaded+=c,c<r||o.dataLength?(o.push(l),o.dataLength>=r&&i(t,n,o.flush(),e)):i(t,n,l,e),s()})).catch((()=>Promise.reject()));return s()}}function Xl(e,t){return new self.Request(e.url,t)}class Jl extends Error{constructor(e,t,n){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=n}}const ec=/\s/,tc={newCue(e,t,n,r){const i=[];let o,a,s,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(o=r.rows[h],s=!0,l=0,c="",!o.isEmpty()){var d;for(let e=0;e<o.chars.length;e++)ec.test(o.chars[e].uchar)&&s?l++:(c+=o.chars[e].uchar,s=!1);o.cueStartTime=t,t===n&&(n+=1e-4),l>=16?l--:l++;const r=Fs(c.trim()),f=Hs(t,n,r);null!=e&&null!=(d=e.cues)&&d.getCueById(f)||(a=new u(t,n,r),a.id=f,a.line=h+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*l/32)),i.push(a))}return e&&i.length&&(i.sort(((e,t)=>"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line)),i.forEach((t=>oi(e,t)))),i}},nc=jt(jt({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ql,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:e,partCurrent:t,hls:n}=this,{autoLevelEnabled:r,media:i}=n;if(!e||!i)return;const o=performance.now(),a=t?t.stats:e.stats,s=t?t.duration:e.duration,l=o-a.loading.start,c=n.minAutoLevel;if(a.aborted||a.loaded&&a.loaded===a.total||e.level<=c)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!r||i.paused||!i.playbackRate||!i.readyState)return;const u=n.mainForwardBufferInfo;if(null===u)return;const d=this.bwEstimator.getEstimateTTFB(),h=Math.abs(i.playbackRate);if(l<=Math.max(d,s/(2*h)*1e3))return;const f=u.len/h,p=a.loading.first?a.loading.first-a.loading.start:-1,m=a.loaded&&p>-1,g=this.getBwEstimate(),v=n.levels,y=v[e.level],b=a.total||Math.max(a.loaded,Math.round(s*y.averageBitrate/8));let E=m?l-p:l;E<1&&m&&(E=Math.min(l,8*a.loaded/g));const w=m?1e3*a.loaded/E:0,C=w?(b-a.loaded)/w:8*b/g+d/1e3;if(C<=f)return;const S=w?8*w:g;let T,_=Number.POSITIVE_INFINITY;for(T=e.level-1;T>c;T--){const e=v[T].maxBitrate;if(_=this.getTimeToLoadFrag(d/1e3,S,s*e,!v[T].details),_<f)break}if(_>=C)return;if(_>10*s)return;n.nextLoadLevel=n.nextAutoLevel=T,m?this.bwEstimator.sample(l-Math.min(d,p),a.loaded):this.bwEstimator.sampleTTFB(l);const k=v[T].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>k&&this.resetEstimator(k),this.clearTimer(),Xt.warn("[abr] Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," is loading too slowly;\n      Time to underbuffer: ").concat(f.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(C.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(_.toFixed(3)," s\n      TTFB estimate: ").concat(0|p," ms\n      Current BW estimate: ").concat(Ht(g)?0|g:"Unknown"," bps\n      New BW estimate: ").concat(0|this.getBwEstimate()," bps\n      Switching to level ").concat(T," @ ").concat(0|k," bps")),n.trigger(Gt.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:a})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(Xt.log("setting initial bwe to ".concat(e)),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Xi(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.FRAG_LOADING,this.onFragLoading,this),e.on(Gt.FRAG_LOADED,this.onFragLoaded,this),e.on(Gt.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Gt.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Gt.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Gt.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.FRAG_LOADING,this.onFragLoading,this),e.off(Gt.FRAG_LOADED,this.onFragLoaded,this),e.off(Gt.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Gt.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Gt.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Gt.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const n=t.frag;if(!this.ignoreFragment(n)){var r;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case Kt.BUFFER_ADD_CODEC_ERROR:case Kt.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Kt.FRAG_LOAD_TIMEOUT:{const e=t.frag,{fragCurrent:n,partCurrent:r}=this;if(e&&n&&e.sn===n.sn&&e.level===n.level){const t=performance.now(),n=r?r.stats:e.stats,i=t-n.loading.start,o=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&o>-1){const e=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(i-Math.min(e,o),n.loaded)}else this.bwEstimator.sampleTTFB(i)}break}}}getTimeToLoadFrag(e,t,n,r){return e+n/t+(r?this.lastLevelLoadSec:0)}onLevelLoaded(e,t){const n=this.hls.config,{loading:r}=t.stats,i=r.end-r.start;Ht(i)&&(this.lastLevelLoadSec=i/1e3),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(e,t){let{frag:n,part:r}=t;const i=r?r.stats:n.stats;if(n.type===Xr&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const e=r?r.duration:n.duration,t=this.hls.levels[n.level],o=(t.loaded?t.loaded.bytes:0)+i.loaded,a=(t.loaded?t.loaded.duration:0)+e;t.loaded={bytes:o,duration:a},t.realBitrate=Math.round(8*o/a)}if(n.bitrateTest){const e={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(Gt.FRAG_BUFFERED,e),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,t){const{frag:n,part:r}=t,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(i.aborted)return;if(this.ignoreFragment(n))return;const o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Xr||"initSegment"===e.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,i=this.findBestLevel(n,t,e,0,r,1,1);if(i>-1)return i;const o=this.hls.firstLevel,a=Math.min(Math.max(o,t),e);return Xt.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist ".concat(o," clamped to ").concat(a)),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(-1!==e&&(!t||!n||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const r=t&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){const t=this.hls.levels;if(t.length>Math.max(e,r)&&t[e].loadError<=t[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){var e;return"".concat(this.getBwEstimate(),"_").concat(null==(e=this.hls.mainForwardBufferInfo)?void 0:e.len)}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:n}=this,{maxAutoLevel:r,config:i,minAutoLevel:o,media:a}=n,s=t?t.duration:e?e.duration:0,l=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this.getBwEstimate(),u=n.mainForwardBufferInfo,d=(u?u.len:0)/l;let h=i.abrBandWidthFactor,f=i.abrBandWidthUpFactor;if(d){const e=this.findBestLevel(c,o,r,d,0,h,f);if(e>=0)return e}let p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay;if(!d){const e=this.bitrateTestDelay;if(e){p=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-e,Xt.info("[abr] bitrate test took ".concat(Math.round(1e3*e),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*p)," ms")),h=f=1}}const m=this.findBestLevel(c,o,r,d,p,h,f);if(Xt.info("[abr] ".concat(d?"rebuffering expected":"buffer is empty",", optimal quality level ").concat(m)),m>-1)return m;const g=n.levels[o],v=n.levels[n.loadLevel];return(null==g?void 0:g.bitrate)<(null==v?void 0:v.bitrate)?o:n.loadLevel}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,n,r,i,o,a){var s;const l=r+i,c=this.lastLoadedFragLevel,u=-1===c?this.hls.firstLevel:c,{fragCurrent:d,partCurrent:h}=this,{levels:f,allAudioTracks:p,loadLevel:m,config:g}=this.hls;if(1===f.length)return 0;const v=f[u],y=!(null==v||null==(s=v.details)||!s.live),b=-1===m||-1===c;let E,w="SDR",C=(null==v?void 0:v.frameRate)||0;const{audioPreference:S,videoPreference:T}=g,_=this.audioTracksByGroup||(this.audioTracksByGroup=function(e){return e.reduce(((e,t)=>{let n=e.groups[t.groupId];n||(n=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(t);const r=t.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||t.default,n.hasAutoSelect=n.hasAutoSelect||t.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(p));if(b){if(-1!==this.firstSelection)return this.firstSelection;const r=this.codecTiers||(this.codecTiers=function(e,t,n,r){return e.slice(n,r+1).reduce(((e,n)=>{if(!n.codecSet)return e;const r=n.audioGroups;let i=e[n.codecSet];i||(e[n.codecSet]=i={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),i.minBitrate=Math.min(i.minBitrate,n.bitrate);const o=Math.min(n.height,n.width);return i.minHeight=Math.min(i.minHeight,o),i.minFramerate=Math.min(i.minFramerate,n.frameRate),i.maxScore=Math.max(i.maxScore,n.score),i.fragmentError+=n.fragmentError,i.videoRanges[n.videoRange]=(i.videoRanges[n.videoRange]||0)+1,r&&r.forEach((e=>{if(!e)return;const n=t.groups[e];i.hasDefaultAudio=i.hasDefaultAudio||t.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(n.channels).forEach((e=>{i.channels[e]=(i.channels[e]||0)+n.channels[e]}))})),e}),{})}(f,_,t,n)),i=function(e,t,n,r,i){const o=Object.keys(e),a=null==r?void 0:r.channels,s=null==r?void 0:r.audioCodec,l=a&&2===parseInt(a);let c=!0,u=!1,d=1/0,h=1/0,f=1/0,p=0,m=[];const{preferHDR:g,allowedVideoRanges:v}=ro(t,i);for(let E=o.length;E--;){const t=e[o[E]];c=t.channels[2]>0,d=Math.min(d,t.minHeight),h=Math.min(h,t.minFramerate),f=Math.min(f,t.minBitrate);const n=v.filter((e=>t.videoRanges[e]>0));n.length>0&&(u=!0,m=n)}d=Ht(d)?d:0,h=Ht(h)?h:0;const y=Math.max(1080,d),b=Math.max(30,h);return f=Ht(f)?f:n,n=Math.max(f,n),u||(t=void 0,m=[]),{codecSet:o.reduce(((t,r)=>{const i=e[r];if(r===t)return t;if(i.minBitrate>n)return io(r,"min bitrate of ".concat(i.minBitrate," > current estimate of ").concat(n)),t;if(!i.hasDefaultAudio)return io(r,"no renditions with default or auto-select sound found"),t;if(s&&r.indexOf(s.substring(0,4))%5!==0)return io(r,'audio codec preference "'.concat(s,'" not found')),t;if(a&&!l){if(!i.channels[a])return io(r,"no renditions with ".concat(a," channel sound found (channels options: ").concat(Object.keys(i.channels),")")),t}else if((!s||l)&&c&&0===i.channels[2])return io(r,"no renditions with stereo sound found"),t;return i.minHeight>y?(io(r,"min resolution of ".concat(i.minHeight," > maximum of ").concat(y)),t):i.minFramerate>b?(io(r,"min framerate of ".concat(i.minFramerate," > maximum of ").concat(b)),t):m.some((e=>i.videoRanges[e]>0))?i.maxScore<p?(io(r,"max score of ".concat(i.maxScore," < selected max of ").concat(p)),t):t&&(Mr(r)>=Mr(t)||i.fragmentError>e[t].fragmentError)?t:(p=i.maxScore,r):(io(r,"no variants with VIDEO-RANGE of ".concat(JSON.stringify(m)," found")),t)}),void 0),videoRanges:m,preferHDR:g,minFramerate:h,minBitrate:f}}(r,w,e,S,T),{codecSet:o,videoRanges:a,minFramerate:s,minBitrate:l,preferHDR:c}=i;E=o,w=c?a[a.length-1]:a[0],C=s,e=Math.max(e,l),Xt.log("[abr] picked start tier ".concat(JSON.stringify(i)))}else E=null==v?void 0:v.codecSet,w=null==v?void 0:v.videoRange;const k=h?h.duration:d?d.duration:0,x=this.bwEstimator.getEstimateTTFB()/1e3,A=[];for(let M=n;M>=t;M--){var I;const t=f[M],s=M>u;if(!t)continue;if(g.useMediaCapabilities&&!t.supportedResult&&!t.supportedPromise){const n=navigator.mediaCapabilities;"function"===typeof(null==n?void 0:n.decodingInfo)&&to(t,_,w,C,e,S)?(t.supportedPromise=no(t,_,n),t.supportedPromise.then((e=>{t.supportedResult=e;const n=this.hls.levels,r=n.indexOf(t);e.error?Xt.warn('[abr] MediaCapabilities decodingInfo error: "'.concat(e.error,'" for level ').concat(r," ").concat(JSON.stringify(e))):e.supported||(Xt.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level ".concat(r," ").concat(JSON.stringify(e))),r>-1&&n.length>1&&(Xt.log("[abr] Removing unsupported level ".concat(r)),this.hls.removeLevel(r)))}))):t.supportedResult=Ji}if(E&&t.codecSet!==E||w&&t.videoRange!==w||s&&C>t.frameRate||!s&&C>0&&C<t.frameRate||t.supportedResult&&(null==(I=t.supportedResult.decodingInfoResults)||!I[0].smooth)){A.push(M);continue}const d=t.details,p=(h?null==d?void 0:d.partTarget:null==d?void 0:d.averagetargetduration)||k;let T;T=s?a*e:o*e;const R=k&&r>=2*k&&0===i?f[M].averageBitrate:f[M].maxBitrate,L=this.getTimeToLoadFrag(x,T,R*p,void 0===d);if(T>=R&&(M===c||0===t.loadError&&0===t.fragmentError)&&(L<=x||!Ht(L)||y&&!this.bitrateTestDelay||L<l)){const e=this.forcedAutoLevel;return M===m||-1!==e&&e===m||(A.length&&Xt.trace("[abr] Skipped level(s) ".concat(A.join(",")," of ").concat(n,' max with CODECS and VIDEO-RANGE:"').concat(f[A[0]].codecs,'" ').concat(f[A[0]].videoRange,'; not compatible with "').concat(v.codecs,'" ').concat(w)),Xt.info("[abr] switch candidate:".concat(u,"->").concat(M," adjustedbw(").concat(Math.round(T),")-bitrate=").concat(Math.round(T-R)," ttfb:").concat(x.toFixed(1)," avgDuration:").concat(p.toFixed(1)," maxFetchDuration:").concat(l.toFixed(1)," fetchDuration:").concat(L.toFixed(1)," firstSelection:").concat(b," codecSet:").concat(E," videoRange:").concat(w," hls.loadLevel:").concat(m))),b&&(this.firstSelection=M),M}}return-1}set nextAutoLevel(e){const t=Math.max(this.hls.minAutoLevel,e);this._nextAutoLevel!=t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}},bufferController:class{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=e=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=e=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:e,mediaSource:t}=this;this.log("Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Gt.MEDIA_ATTACHED,{media:e,mediaSource:t})),t&&t.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:e,_objectUrl:t}=this;e!==t&&Xt.error("Media element src was set while attaching MediaSource (".concat(t," > ").concat(e,")"))},this.hls=e;const t="[buffer-controller]";this.appendSource=e.config.preferManagedMediaSource,this.log=Xt.log.bind(Xt,t),this.warn=Xt.warn.bind(Xt,t),this.error=Xt.error.bind(Xt,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Gt.BUFFER_RESET,this.onBufferReset,this),e.on(Gt.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Gt.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Gt.BUFFER_EOS,this.onBufferEos,this),e.on(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Gt.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Gt.FRAG_PARSED,this.onFragParsed,this),e.on(Gt.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Gt.BUFFER_RESET,this.onBufferReset,this),e.off(Gt.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Gt.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Gt.BUFFER_EOS,this.onBufferEos,this),e.off(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Gt.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Gt.FRAG_PARSED,this.onFragParsed,this),e.off(Gt.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new as(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}onMediaAttaching(e,t){const n=this.media=t.media,r=Tr(this.appendSource);if(n&&r){var i;const e=this.mediaSource=new r;this.log("created media source: ".concat(null==(i=e.constructor)?void 0:i.name)),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming);const t=this._objectUrl=self.URL.createObjectURL(e);if(this.appendSource)try{n.removeAttribute("src");const r=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||r&&e instanceof r,ls(n),function(e,t){const n=self.document.createElement("source");n.type="video/mp4",n.src=t,e.appendChild(n)}(n,t),n.load()}catch(o){n.src=t}else n.src=t;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:t,_objectUrl:n}=this;if(t){if(this.log("media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(t7){this.warn("onMediaDetaching: ".concat(t7.message," while calling endOfStream"))}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(e.removeAttribute("src"),this.appendSource&&ls(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Gt.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((e=>{this.resetBuffer(e)})),this._initSourceBuffer()}resetBuffer(e){const t=this.sourceBuffer[e];try{var n;if(t)this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}catch(t7){this.warn("onBufferReset ".concat(e),t7)}}onBufferCodecs(e,t){const n=this.getSourceBufferTypes().length,r=Object.keys(t);if(r.forEach((e=>{if(n){const n=this.tracks[e];if(n&&"function"===typeof n.buffer.changeType){var r;const{id:i,codec:o,levelCodec:a,container:s,metadata:l}=t[e],c=Or(n.codec,n.levelCodec),u=null==c?void 0:c.replace(ss,"$1");let d=Or(o,a);const h=null==(r=d)?void 0:r.replace(ss,"$1");if(d&&u!==h){"audio"===e.slice(0,5)&&(d=Dr(d,this.hls.config.preferManagedMediaSource));const t="".concat(s,";codecs=").concat(d);this.appendChangeType(e,t),this.log("switching codec ".concat(c," to ").concat(d)),this.tracks[e]={buffer:n.buffer,codec:o,container:s,levelCodec:a,metadata:l,id:i}}}}else this.pendingTracks[e]=t[e]})),n)return;const i=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==i&&(this.log("".concat(i," bufferCodec event(s) expected ").concat(r.join(","))),this.bufferCodecEventsExpected=i),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(e,t){const{operationQueue:n}=this,r={execute:()=>{const r=this.sourceBuffer[e];r&&(this.log("changing ".concat(e," sourceBuffer type to ").concat(t)),r.changeType(t)),n.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn("Failed to change ".concat(e," SourceBuffer type"),t)}};n.append(r,e,!!this.pendingTracks[e])}onBufferAppending(e,t){const{hls:n,operationQueue:r,tracks:i}=this,{data:o,type:a,frag:s,part:l,chunkMeta:c}=t,u=c.buffering[a],d=self.performance.now();u.start=d;const h=s.stats.buffering,f=l?l.stats.buffering:null;0===h.start&&(h.start=d),f&&0===f.start&&(f.start=d);const p=i.audio;let m=!1;"audio"===a&&"audio/mpeg"===(null==p?void 0:p.container)&&(m=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const g=s.start,v={execute:()=>{if(u.executeStart=self.performance.now(),m){const e=this.sourceBuffer[a];if(e){const t=g-e.timestampOffset;Math.abs(t)>=.1&&(this.log("Updating audio SourceBuffer timestampOffset to ".concat(g," (delta: ").concat(t,") sn: ").concat(s.sn,")")),e.timestampOffset=g)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const e=self.performance.now();u.executeEnd=u.end=e,0===h.first&&(h.first=e),f&&0===f.first&&(f.first=e);const{sourceBuffer:t}=this,n={};for(const r in t)n[r]=bo.getBuffered(t[r]);this.appendErrors[a]=0,"audio"===a||"video"===a?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Gt.BUFFER_APPENDED,{type:a,frag:s,part:l,chunkMeta:c,parent:s.type,timeRanges:n})},onError:e=>{const t={type:Wt.MEDIA_ERROR,parent:s.type,details:Kt.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:s,part:l,chunkMeta:c,error:e,err:e,fatal:!1};if(e.code===DOMException.QUOTA_EXCEEDED_ERR)t.details=Kt.BUFFER_FULL_ERROR;else{const e=++this.appendErrors[a];t.details=Kt.BUFFER_APPEND_ERROR,this.warn("Failed ".concat(e,"/").concat(n.config.appendErrorMaxRetry,' times to append segment in "').concat(a,'" sourceBuffer')),e>=n.config.appendErrorMaxRetry&&(t.fatal=!0)}n.trigger(Gt.ERROR,t)}};r.append(v,a,!!this.pendingTracks[a])}onBufferFlushing(e,t){const{operationQueue:n}=this,r=e=>({execute:this.removeExecutor.bind(this,e,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Gt.BUFFER_FLUSHED,{type:e})},onError:t=>{this.warn("Failed to remove from ".concat(e," SourceBuffer"),t)}});t.type?n.append(r(t.type),t.type):this.getSourceBufferTypes().forEach((e=>{n.append(r(e),e)}))}onFragParsed(e,t){const{frag:n,part:r}=t,i=[],o=r?r.elementaryStreams:n.elementaryStreams;o[ln]?i.push("audiovideo"):(o[an]&&i.push("audio"),o[sn]&&i.push("video"));0===i.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(n.type," level: ").concat(n.level," sn: ").concat(n.sn)),this.blockBuffers((()=>{const e=self.performance.now();n.stats.buffering.end=e,r&&(r.stats.buffering.end=e);const t=r?r.stats:n.stats;this.hls.trigger(Gt.FRAG_BUFFERED,{frag:n,part:r,stats:t,id:n.type})}),i)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce(((e,n)=>{const r=this.sourceBuffer[n];return!r||t.type&&t.type!==n||(r.ending=!0,r.ended||(r.ended=!0,this.log("".concat(n," sourceBuffer now EOS")))),e&&!(r&&!r.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((e=>{const t=this.sourceBuffer[e];t&&(t.ending=!1)}));const{mediaSource:e}=this;e&&"open"===e.readyState?(this.log("Calling mediaSource.endOfStream()"),e.endOfStream()):e&&this.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(e.readyState))})))}onLevelUpdated(e,t){let{details:n}=t;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:t,media:n}=this;if(!n||null===t)return;if(!this.getSourceBufferTypes().length)return;const r=e.config,i=n.currentTime,o=t.levelTargetDuration,a=t.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(Ht(a)&&a>0){const e=Math.max(a,o),t=Math.floor(i/o)*o-e;this.flushBackBuffer(i,o,t)}if(Ht(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const e=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),t=Math.max(e,o),n=Math.floor(i/o)*o+t;this.flushFrontBuffer(i,o,n)}}flushBackBuffer(e,t,n){const{details:r,sourceBuffer:i}=this;this.getSourceBufferTypes().forEach((o=>{const a=i[o];if(a){const i=bo.getBuffered(a);if(i.length>0&&n>i.start(0)){if(this.hls.trigger(Gt.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=r&&r.live)this.hls.trigger(Gt.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(a.ended&&i.end(i.length-1)-e<2*t)return void this.log("Cannot flush ".concat(o," back buffer while SourceBuffer is in ended state"));this.hls.trigger(Gt.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}}))}flushFrontBuffer(e,t,n){const{sourceBuffer:r}=this;this.getSourceBufferTypes().forEach((i=>{const o=r[i];if(o){const r=bo.getBuffered(o),a=r.length;if(a<2)return;const s=r.start(a-1),l=r.end(a-1);if(n>s||e>=s&&e<=l)return;if(o.ended&&e-l<2*t)return void this.log("Cannot flush ".concat(i," front buffer while SourceBuffer is in ended state"));this.hls.trigger(Gt.BUFFER_FLUSHING,{startOffset:s,endOffset:1/0,type:i})}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:e,hls:t,media:n,mediaSource:r}=this,i=e.fragments[0].start+e.totalduration,o=n.duration,a=Ht(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(e)):(i>a&&i>o||!Ht(o))&&(this.log("Updating Media Source duration to ".concat(i.toFixed(3))),r.duration=i)}updateSeekableRange(e){const t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){const r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);this.log("Media Source duration is set to ".concat(t.duration,". Setting seekable range to ").concat(r,"-").concat(i,".")),t.setLiveSeekableRange(r,i)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:n}=this,r=Object.keys(n).length;if(r&&(!e||2===r||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const e=this.getSourceBufferTypes();if(e.length)this.hls.trigger(Gt.BUFFER_CREATED,{tracks:this.tracks}),e.forEach((e=>{t.executeNext(e)}));else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}}createSourceBuffers(e){const{sourceBuffer:t,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const r in e)if(!t[r]){const i=e[r];if(!i)throw Error("source buffer exists for track ".concat(r,", however track does not"));let o=i.levelCodec||i.codec;o&&"audio"===r.slice(0,5)&&(o=Dr(o,this.hls.config.preferManagedMediaSource));const a="".concat(i.container,";codecs=").concat(o);this.log("creating sourceBuffer(".concat(a,")"));try{const e=t[r]=n.addSourceBuffer(a),s=r;this.addBufferListener(s,"updatestart",this._onSBUpdateStart),this.addBufferListener(s,"updateend",this._onSBUpdateEnd),this.addBufferListener(s,"error",this._onSBUpdateError),this.addBufferListener(s,"bufferedchange",((e,t)=>{const n=t.removedRanges;null!=n&&n.length&&this.hls.trigger(Gt.BUFFER_FLUSHED,{type:r})})),this.tracks[r]={buffer:e,codec:o,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(t7){this.error("error while trying to add sourceBuffer: ".concat(t7.message)),this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t7,sourceBufferName:r,mimeType:a})}}}get mediaSrc(){var e;const t=(null==(e=this.media)?void 0:e.firstChild)||this.media;return null==t?void 0:t.src}_onSBUpdateStart(e){const{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if("closed"===(null==(t=this.mediaSource)?void 0:t.readyState))return void this.resetBuffer(e);const{operationQueue:n}=this;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var n;const r=new Error("".concat(e," SourceBuffer error. MediaSource readyState: ").concat(null==(n=this.mediaSource)?void 0:n.readyState));this.error("".concat(r),t),this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(r)}removeExecutor(e,t,n){const{media:r,mediaSource:i,operationQueue:o,sourceBuffer:a}=this,s=a[e];if(!r||!i||!s)return this.warn("Attempting to remove from the ".concat(e," SourceBuffer, but it does not exist")),void o.shiftAndExecuteNext(e);const l=Ht(r.duration)?r.duration:1/0,c=Ht(i.duration)?i.duration:1/0,u=Math.max(0,t),d=Math.min(n,l,c);d>u&&(!s.ending||s.ended)?(s.ended=!1,this.log("Removing [".concat(u,",").concat(d,"] from the ").concat(e," SourceBuffer")),s.remove(u,d)):o.shiftAndExecuteNext(e)}appendExecutor(e,t){const n=this.sourceBuffer[t];if(n)n.ended=!1,n.appendBuffer(e);else if(!this.pendingTracks[t])throw new Error("Attempting to append to the ".concat(t," SourceBuffer, but it does not exist"))}blockBuffers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);const{operationQueue:n}=this,r=t.map((e=>n.appendBlocker(e)));Promise.all(r).then((()=>{e(),t.forEach((e=>{const t=this.sourceBuffer[e];null!=t&&t.updating||n.shiftAndExecuteNext(e)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,n){const r=this.sourceBuffer[e];if(!r)return;const i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}removeBufferListeners(e){const t=this.sourceBuffer[e];t&&this.listeners[e].forEach((e=>{t.removeEventListener(e.event,e.listener)}))}},capLevelController:il,errorController:class{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=Xt.log.bind(Xt,"[info]:"),this.warn=Xt.warn.bind(Xt,"[warning]:"),this.error=Xt.error.bind(Xt,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(Gt.ERROR,this.onError,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Gt.ERROR,this.onError,this),e.off(Gt.ERROR,this.onErrorOut,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(null==e?void 0:e.type)===Xr?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var n,r;if(t.fatal)return;const i=this.hls,o=t.context;switch(t.details){case Kt.FRAG_LOAD_ERROR:case Kt.FRAG_LOAD_TIMEOUT:case Kt.KEY_LOAD_ERROR:case Kt.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case Kt.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction={action:Vi,flags:Ki});case Kt.FRAG_GAP:case Kt.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=qi);case Kt.LEVEL_EMPTY_ERROR:case Kt.LEVEL_PARSING_ERROR:{var a,s;const e=t.parent===Xr?t.level:i.loadLevel;t.details===Kt.LEVEL_EMPTY_ERROR&&null!=(a=t.context)&&null!=(s=a.levelDetails)&&s.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,e):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e))}return;case Kt.LEVEL_LOAD_ERROR:case Kt.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==o?void 0:o.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,o.level)));case Kt.AUDIO_TRACK_LOAD_ERROR:case Kt.AUDIO_TRACK_LOAD_TIMEOUT:case Kt.SUBTITLE_LOAD_ERROR:case Kt.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const e=i.levels[i.loadLevel];if(e&&(o.type===Zr&&e.hasAudioGroup(o.groupId)||o.type===$r&&e.hasSubtitleGroup(o.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=qi,void(t.errorAction.flags=Yi)}return;case Kt.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const e=i.levels[i.loadLevel],n=null==e?void 0:e.attrs["HDCP-LEVEL"];n?t.errorAction={action:qi,flags:Qi,hdcpLevel:n}:this.keySystemError(t)}return;case Kt.BUFFER_ADD_CODEC_ERROR:case Kt.REMUX_ALLOC_ERROR:case Kt.BUFFER_APPEND_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(r=t.level)?r:i.loadLevel));case Kt.INTERNAL_EXCEPTION:case Kt.BUFFER_APPENDING_ERROR:case Kt.BUFFER_FULL_ERROR:case Kt.LEVEL_SWITCH_ERROR:case Kt.BUFFER_STALLED_ERROR:case Kt.BUFFER_SEEK_OVER_HOLE:case Kt.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:Vi,flags:Ki})}t.type===Wt.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const n=Pi(this.hls.config.playlistLoadPolicy,e),r=this.playlistError++;if(ji(n,r,Oi(e),e.response))return{action:Wi,flags:Ki,retryConfig:n,retryCount:r};const i=this.getLevelSwitchAction(e,t);return n&&(i.retryConfig=n,i.retryCount=r),i}getFragRetryOrSwitchAction(e){const t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],{fragLoadPolicy:i,keyLoadPolicy:o}=t.config,a=Pi(e.details.startsWith("key")?o:i,e),s=t.levels.reduce(((e,t)=>e+t.fragmentError),0);if(r){e.details!==Kt.FRAG_GAP&&r.fragmentError++;if(ji(a,s,Oi(e),e.response))return{action:Wi,flags:Ki,retryConfig:a,retryCount:s}}const l=this.getLevelSwitchAction(e,n);return a&&(l.retryConfig=a,l.retryCount=s),l}getLevelSwitchAction(e,t){const n=this.hls;null!==t&&void 0!==t||(t=n.loadLevel);const r=this.hls.levels[t];if(r){var i,o;const t=e.details;r.loadError++,t===Kt.BUFFER_APPEND_ERROR&&r.fragmentError++;let l=-1;const{levels:c,loadLevel:u,minAutoLevel:d,maxAutoLevel:h}=n;n.autoLevelEnabled||(n.loadLevel=-1);const f=null==(i=e.frag)?void 0:i.type,p=(f===Jr&&t===Kt.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(t===Kt.BUFFER_ADD_CODEC_ERROR||t===Kt.BUFFER_APPEND_ERROR))&&c.some((e=>{let{audioCodec:t}=e;return r.audioCodec!==t})),m="video"===e.sourceBufferName&&(t===Kt.BUFFER_ADD_CODEC_ERROR||t===Kt.BUFFER_APPEND_ERROR)&&c.some((e=>{let{codecSet:t,audioCodec:n}=e;return r.codecSet!==t&&r.audioCodec===n})),{type:g,groupId:v}=null!=(o=e.context)?o:{};for(let n=c.length;n--;){const i=(n+u)%c.length;if(i!==u&&i>=d&&i<=h&&0===c[i].loadError){var a,s;const n=c[i];if(t===Kt.FRAG_GAP&&e.frag){const t=c[i].details;if(t){const n=Ui(e.frag,t.fragments,e.frag.start);if(null!=n&&n.gap)continue}}else{if(g===Zr&&n.hasAudioGroup(v)||g===$r&&n.hasSubtitleGroup(v))continue;if(f===Jr&&null!=(a=r.audioGroups)&&a.some((e=>n.hasAudioGroup(e)))||f===ei&&null!=(s=r.subtitleGroups)&&s.some((e=>n.hasSubtitleGroup(e)))||p&&r.audioCodec===n.audioCodec||!p&&r.audioCodec!==n.audioCodec||m&&r.codecSet===n.codecSet)continue}l=i;break}}if(l>-1&&n.loadLevel!==l)return e.levelRetry=!0,this.playlistError=0,{action:qi,flags:Ki,nextAutoLevel:l}}return{action:qi,flags:Yi}}onErrorOut(e,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case Vi:break;case qi:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===Kt.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn('MediaSource ended after "'.concat(t.sourceBufferName,'" sourceBuffer append error. Attempting to recover from media error.')),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(e){const t=this.hls,n=e.errorAction;if(!n)return;const{flags:r,hdcpLevel:i,nextAutoLevel:o}=n;switch(r){case Ki:this.switchLevel(e,o);break;case Qi:i&&(t.maxHdcpLevel=yi[yi.indexOf(i)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(t.maxHdcpLevel,'" or lower'))}n.resolved||this.switchLevel(e,o)}switchLevel(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level ".concat(t," after ").concat(e.details)),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const n=this.hls.config;if(n.capLevelOnFPSDrop){const e=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=e,e&&"function"===typeof e.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,n){const r=performance.now();if(t){if(this.lastTime){const e=r-this.lastTime,i=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,a=1e3*i/e,s=this.hls;if(s.trigger(Gt.FPS_DROP,{currentDropped:i,currentDecoded:o,totalDroppedFrames:n}),a>0&&i>s.config.fpsDroppedMonitoringThreshold*o){let e=s.currentLevel;Xt.warn("drop FPS ratio greater than max allowed value for currentLevel: "+e),e>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=e)&&(e-=1,s.trigger(Gt.FPS_DROP_LEVEL_CAPPING,{level:e,droppedLevel:s.currentLevel}),s.autoLevelCapping=e,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:kn,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:tc,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends Yo{constructor(e,t,n){super(e,t,n,"[subtitle-stream-controller]",ei),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Gt.ERROR,this.onError,this),e.on(Gt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Gt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Gt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Gt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Gt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Gt.ERROR,this.onError,this),e.off(Gt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Gt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Gt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Gt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Gt.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=Fo,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:n,success:r}=t;if(this.fragPrevious=n,this.state=Fo,!r)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let o;const a=n.start;for(let l=0;l<i.length;l++)if(a>=i[l].start&&a<=i[l].end){o=i[l];break}const s=n.start+n.duration;o?o.end=s:(o={start:a,end:s},i.push(o)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(e,t){const{startOffset:n,endOffset:r}=t;if(0===n&&r!==Number.POSITIVE_INFINITY){const e=r-1;if(e<=0)return;t.endOffsetSubtitles=Math.max(0,e),this.tracksBuffered.forEach((t=>{for(let n=0;n<t.length;)if(t[n].end<=e)t.shift();else{if(!(t[n].start<e))break;t[n].start=e,n++}})),this.fragmentTracker.removeFragmentsInRange(n,e,ei)}}onFragBuffered(e,t){var n;this.loadedmetadata||t.frag.type!==Xr||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(e,t){const n=t.frag;(null==n?void 0:n.type)===ei&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==No&&(this.state=Fo))}onSubtitleTracksUpdated(e,t){let{subtitleTracks:n}=t;this.levels&&!ns(this.levels,n)?(this.tracksBuffered=[],this.levels=n.map((e=>{const t=new Ti(e);return this.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ei),this.fragPrevious=null,this.mediaBuffer=null):this.levels=n.map((e=>new Ti(e)))}onSubtitleTrackSwitch(e,t){var n;if(this.currentTrackId=t.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}onSubtitleTrackLoaded(e,t){var n;const{currentTrackId:r,levels:i}=this,{details:o,id:a}=t;if(!i)return void this.warn("Subtitle tracks were reset while loading level ".concat(a));const s=i[r];if(a>=i.length||a!==r||!s)return;this.log("Subtitle track ".concat(a," loaded [").concat(o.startSN,",").concat(o.endSN,"]").concat(o.lastPartSn?"[part-".concat(o.lastPartSn,"-").concat(o.lastPartIndex,"]"):"",",duration:").concat(o.totalduration)),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(o.live||null!=(n=s.details)&&n.live){const e=this.mainDetails;if(o.deltaUpdateFailed||!e)return;const t=e.fragments[0];var c;if(s.details)l=this.alignPlaylists(o,s.details,null==(c=this.levelLastLoaded)?void 0:c.details),0===l&&t&&(l=t.start,Mi(o,l));else o.hasProgramDateTime&&e.hasProgramDateTime?(_o(o,e),l=o.fragments[0].start):t&&(l=t.start,Mi(o,l))}if(s.details=o,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(s.details,l),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===Fo){Ui(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}_handleFragmentLoadComplete(e){const{frag:t,payload:n}=e,r=t.decryptdata,i=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&null!=r&&r.key&&r.iv&&"AES-128"===r.method){const e=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch((e=>{throw i.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((n=>{const r=performance.now();i.trigger(Gt.FRAG_DECRYPTED,{frag:t,payload:n,stats:{tstart:e,tdecrypt:r}})})).catch((e=>{this.warn("".concat(e.name,": ").concat(e.message)),this.state=Fo}))}}doTick(){if(this.media){if(this.state===Fo){const{currentTrackId:e,levels:t}=this,n=null==t?void 0:t[e];if(!n||!t.length||!n.details)return;const{config:r}=this,i=this.getLoadPosition(),o=bo.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),{end:a,len:s}=o,l=this.getFwdBufferInfo(this.media,Xr),c=n.details;if(s>this.getMaxBufferLength(null==l?void 0:l.len)+c.levelTargetDuration)return;const u=c.fragments,d=u.length,h=c.edge;let f=null;const p=this.fragPrevious;if(a<h){const e=r.maxFragLookUpTolerance,t=a>h-e?0:e;f=Ui(p,u,Math.max(u[0].start,a),t),!f&&p&&p.start<u[0].start&&(f=u[0])}else f=u[d-1];if(!f)return;if(f=this.mapToInitFragWhenRequired(f),"initSegment"!==f.sn){const e=u[f.sn-c.startSN-1];e&&e.cc===f.cc&&this.fragmentTracker.getState(e)===uo&&(f=e)}this.fragmentTracker.getState(f)===uo&&this.loadFragment(f,n,a)}}else this.state=Fo}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,n){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,n))}get mediaBufferTimeRanges(){return new os(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends Zi{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=null;const t=li(this.media.textTracks);for(let r=0;r<t.length;r++)if("hidden"===t[r].mode)e=t[r];else if("showing"===t[r].mode){e=t[r];break}const n=this.findTrackForTextTrack(e);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.on(Gt.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Gt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Gt.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.off(Gt.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Gt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Gt.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);li(this.media.textTracks).forEach((e=>{ai(e)})),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:n,groupId:r,details:i}=t,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn("Subtitle track with id:".concat(n," and group:").concat(r," not found in active group ").concat(null==o?void 0:o.groupId));const a=o.details;o.details=t.details,this.log("Subtitle track ".concat(n,' "').concat(o.name,'" lang:').concat(o.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,a)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.subtitleGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((e=>-1===(null==r?void 0:r.indexOf(e))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!n||-1!==n.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.subtitlePreference;if(!i&&t){this.selectDefaultTrack=!1;const n=oo(t,e);if(n>-1)i=e[n];else{const e=oo(t,this.tracks);i=this.tracks[e]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const o={subtitleTracks:e};this.log("Updating subtitle tracks, ".concat(e.length,' track(s) found in "').concat(null==n?void 0:n.join(","),'" group-id')),this.hls.trigger(Gt.SUBTITLE_TRACKS_UPDATED,o),-1!==r&&-1===this.trackId&&this.setSubtitleTrack(r)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const t=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<t.length;r++){const i=t[r];if((!n||i.default)&&(n||e)&&(!e||ao(i,e)))return r}if(e){for(let n=0;n<t.length;n++){const r=t[n];if(rs(e.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<t.length;n++){const r=t[n];if(rs(e.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){if(is(t[n],e))return n}}return-1}onError(e,t){!t.fatal&&t.context&&(t.context.type!==$r||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const n=this.currentTrack;if(n&&ao(e,n))return n;const r=oo(e,this.tracksInGroup);if(r>-1){const e=this.tracksInGroup[r];return this.setSubtitleTrack(r),e}if(n)return null;{const n=oo(e,t);if(n>-1)return t[n]}}}return null}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){const r=t.id,i=t.groupId;let o=t.url;if(e)try{o=e.addDirectives(o)}catch(n){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(n))}this.log("Loading subtitle playlist for id ".concat(r)),this.hls.trigger(Gt.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=li(e.textTracks),n=this.currentTrack;let r;if(n&&(r=t.filter((e=>is(n,e)))[0],r||this.warn('Unable to find subtitle TextTrack with name "'.concat(n.name,'" and language "').concat(n.lang,'"'))),[].slice.call(t).forEach((e=>{"disabled"!==e.mode&&e!==r&&(e.mode="disabled")})),r){const e=this.subtitleDisplay?"showing":"hidden";r.mode!==e&&(r.mode=e)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=e);if(e<-1||e>=t.length||!Ht(e))return void this.warn("Invalid subtitle track id: ".concat(e));this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(Gt.SUBTITLE_TRACK_SWITCH,{id:e});const i=!!r.details&&!r.details.live;if(e===this.trackId&&r===n&&i)return;this.log("Switching to subtitle-track ".concat(e)+(r?' "'.concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId):""));const{id:o,groupId:a="",name:s,type:l,url:c}=r;this.hls.trigger(Gt.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:s,type:l,url:c});const u=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(u)}},timelineController:class{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Gt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Gt.FRAG_LOADING,this.onFragLoading,this),e.on(Gt.FRAG_LOADED,this.onFragLoaded,this),e.on(Gt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Gt.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Gt.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Gt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Gt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Gt.FRAG_LOADING,this.onFragLoading,this),e.off(Gt.FRAG_LOADED,this.onFragLoaded,this),e.off(Gt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Gt.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Gt.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Gt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new As(this,"textTrack1"),t=new As(this,"textTrack2"),n=new As(this,"textTrack3"),r=new As(this,"textTrack4");this.cea608Parser1=new _s(1,e,t),this.cea608Parser2=new _s(3,n,r)}}addCues(e,t,n,r,i){let o=!1;for(let a=i.length;a--;){const e=i[a],r=rl(e[0],e[1],t,n);if(r>=0&&(e[0]=Math.min(e[0],t),e[1]=Math.max(e[1],n),o=!0,r/(n-t)>.5))return}if(o||i.push([t,n]),this.config.renderTextTracksNatively){const i=this.captionsTracks[e];this.Cues.newCue(i,t,n,r)}else{const i=this.Cues.newCue(null,t,n,r);this.hls.trigger(Gt.CUES_PARSED,{type:"captions",cues:i,track:e})}}onInitPtsFound(e,t){let{frag:n,id:r,initPTS:i,timescale:o}=t;const{unparsedVttFrags:a}=this;"main"===r&&(this.initPTS[n.cc]={baseTime:i,timescale:o}),a.length&&(this.unparsedVttFrags=[],a.forEach((e=>{this.onFragLoaded(Gt.FRAG_LOADED,e)})))}getExistingTrack(e,t){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const i=n.textTracks[r];if(nl(i,{name:e,lang:t,attrs:{}}))return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:n,media:r}=this,{label:i,languageCode:o}=t[e],a=this.getExistingTrack(i,o);if(a)n[e]=a,ai(n[e]),ii(n[e],r);else{const t=this.createTextTrack("captions",i,o);t&&(t[e]=!0,n[e]=t)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(Gt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(e,t,n){const r=this.media;if(r)return r.addTextTrack(e,t,n)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>{ai(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let n=0;n<t.length;n++)ai(t[n])}onSubtitleTracksUpdated(e,t){const n=t.subtitleTracks||[],r=n.some((e=>e.textCodec===qs));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(ns(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const e=this.media,t=e?li(e.textTracks):null;if(this.tracks.forEach(((e,n)=>{let r;if(t){let n=null;for(let r=0;r<t.length;r++)if(t[r]&&nl(t[r],e)){n=t[r],t[r]=null;break}n&&(r=n)}if(r)ai(r);else{const t=tl(e);r=this.createTextTrack(t,e.name,e.lang),r&&(r.mode="disabled")}r&&this.textTracks.push(r)})),null!=t&&t.length){const e=t.filter((e=>null!==e)).map((e=>e.label));e.length&&Xt.warn("Media element contains unused subtitle tracks: ".concat(e.join(", "),". Replace media element for each source to clear TextTracks and captions menu."))}}else if(this.tracks.length){const e=this.tracks.map((e=>({label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e})));this.hls.trigger(Gt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:e})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((e=>{const t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(!t)return;const n="textTrack".concat(t[1]),r=this.captionsProperties[n];r&&(r.label=e.name,e.lang&&(r.languageCode=e.lang),r.media=e)}))}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r,lastCc:i,lastSn:o,lastPartIndex:a}=this;if(this.enabled&&n&&r&&t.frag.type===Xr){var s,l;const{cc:e,sn:c}=t.frag,u=null!=(s=null==t||null==(l=t.part)?void 0:l.index)?s:-1;c===o+1||c===o&&u===a+1||e===i||(n.reset(),r.reset()),this.lastCc=e,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,t){const{frag:n,payload:r}=t;if(n.type===ei)if(r.byteLength){const e=n.decryptdata,i="stats"in t;if(null==e||!e.encrypted||i){const e=this.tracks[n.level],i=this.vttCCs;i[n.cc]||(i[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),e&&e.textCodec===qs?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(Gt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const n=this.hls;Ys(t,this.initPTS[e.cc],(t=>{this._appendCues(t,e.level),n.trigger(Gt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(t=>{Xt.log("Failed to parse IMSC1: ".concat(t)),n.trigger(Gt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}_parseVTTs(e){var t;const{frag:n,payload:r}=e,{initPTS:i,unparsedVttFrags:o}=this,a=i.length-1;if(!i[n.cc]&&-1===a)return void o.push(e);const s=this.hls;Vs(null!=(t=n.initSegment)&&t.data?ur(n.initSegment.data,new Uint8Array(r)):r,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(e=>{this._appendCues(e,n.level),s.trigger(Gt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(t=>{const i="Missing initPTS for VTT MPEGTS"===t.message;i?o.push(e):this._fallbackToIMSC1(n,r),Xt.log("Failed to parse VTT cue: ".concat(t)),i&&a>n.cc||s.trigger(Gt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:t})}))}_fallbackToIMSC1(e,t){const n=this.tracks[e.level];n.textCodec||Ys(t,this.initPTS[e.cc],(()=>{n.textCodec=qs,this._parseIMSC1(e,t)}),(()=>{n.textCodec="wvtt"}))}_appendCues(e,t){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((e=>oi(n,e)))}else{const r=this.tracks[t];if(!r)return;const i=r.default?"default":"subtitles"+t;n.trigger(Gt.CUES_PARSED,{type:"subtitles",cues:e,track:i})}}onFragDecrypted(e,t){const{frag:n}=t;n.type===ei&&this.onFragLoaded(Gt.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r}=this;if(!this.enabled||!n||!r)return;const{frag:i,samples:o}=t;if(i.type!==Xr||"NONE"!==this.closedCaptionsForLevel(i))for(let a=0;a<o.length;a++){const e=o[a].bytes;if(e){const t=this.extractCea608Data(e);n.addData(o[a].pts,t[0]),r.addData(o[a].pts,t[1])}}}onBufferFlushing(e,t){let{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:o}=t;const{media:a}=this;if(a&&!(a.currentTime<r)){if(!o||"video"===o){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>si(e[t],n,r)))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){const{textTracks:e}=this;Object.keys(e).forEach((t=>si(e[t],n,i)))}}}extractCea608Data(e){const t=[[],[]],n=31&e[0];let r=2;for(let i=0;i<n;i++){const n=e[r++],i=127&e[r++],o=127&e[r++];if(0===i&&0===o)continue;if(0!==(4&n)){const e=3&n;0!==e&&1!==e||(t[e].push(i),t[e].push(o))}}return t}},audioStreamController:class extends Yo{constructor(e,t,n){super(e,t,n,"[audio-stream-controller]",Jr),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Gt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Gt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Gt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Gt.ERROR,this.onError,this),e.on(Gt.BUFFER_RESET,this.onBufferReset,this),e.on(Gt.BUFFER_CREATED,this.onBufferCreated,this),e.on(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Gt.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Gt.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Gt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Gt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Gt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Gt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Gt.ERROR,this.onError,this),e.off(Gt.BUFFER_RESET,this.onBufferReset,this),e.off(Gt.BUFFER_CREATED,this.onBufferCreated,this),e.off(Gt.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Gt.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Gt.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Gt.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,t){let{frag:n,id:r,initPTS:i,timescale:o}=t;if("main"===r){const e=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:o},this.log("InitPTS for cc: ".concat(e," found from main: ").concat(i)),this.videoTrackCC=e,this.state===Wo&&this.tick()}}startLoad(e){if(!this.levels)return this.startPosition=e,void(this.state=No);const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t,this.state=Fo):(this.loadedmetadata=!1,this.state=zo),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case Fo:this.doTickIdle();break;case zo:{var e;const{levels:t,trackId:n}=this,r=null==t||null==(e=t[n])?void 0:e.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=Wo}break}case Uo:{var t;const e=performance.now(),n=this.retryDate;if(!n||e>=n||null!=(t=this.media)&&t.seeking){const{levels:e,trackId:t}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==e?void 0:e[t])||null),this.state=Fo}break}case Wo:{const e=this.waitingData;if(e){const{frag:t,part:n,cache:r,complete:i}=e;if(void 0!==this.initPTS[t.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Bo;const e={frag:t,part:n,payload:r.flush(),networkDetails:null};this._handleFragmentLoadProgress(e),i&&super._handleFragmentLoadComplete(e)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(t.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{const e=this.getLoadPosition(),n=bo.bufferInfo(this.mediaBuffer,e,this.config.maxBufferHole);zi(n.end,this.config.maxFragLookUpTolerance,t)<0&&(this.log("Waiting fragment cc (".concat(t.cc,") @ ").concat(t.start," cancelled because another fragment at ").concat(n.end," is needed")),this.clearWaitingFragment())}}else this.state=Fo}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Fo)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:t,media:n,trackId:r}=this,i=e.config;if(!n&&(this.startFragRequested||!i.startFragPrefetch)||null==t||!t[r])return;const o=t[r],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a))return void(this.state=zo);const s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,an,Jr));const l=this.getFwdBufferInfo(s,Jr);if(null===l)return;const{bufferedTrack:c,switchingTrack:u}=this;if(!u&&this._streamEnded(l,a))return e.trigger(Gt.BUFFER_EOS,{type:"audio"}),void(this.state=qo);const d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Xr),h=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len),p=a.fragments,m=p[0].start;let g=this.flushing?this.getLoadPosition():l.end;if(u&&n){const e=this.getLoadPosition();c&&!rs(u.attrs,c.attrs)&&(g=e),a.PTSKnown&&e<m&&(l.end>m||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=m+.05)}if(h>=f&&!u&&g<p[p.length-1].start)return;let v=this.getNextFragment(g,a),y=!1;if(v&&this.isLoopLoading(v,g)&&(y=!!v.gap,v=this.getNextFragmentLoopLoading(v,a,l,Xr,f)),!v)return void(this.bufferFlushed=!0);const b=d&&v.start>d.end+a.targetduration;if(b||(null==d||!d.len)&&l.len){const e=this.getAppendedFrag(v.start,Xr);if(null===e)return;if(y||(y=!!e.gap||!!b&&0===d.len),b&&!y||y&&l.nextStart&&l.nextStart<e.end)return}this.loadFragment(v,o,g)}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,t){let{audioTracks:n}=t;this.resetTransmuxer(),this.levels=n.map((e=>new Ti(e)))}onAudioTrackSwitching(e,t){const n=!!t.url;this.trackId=t.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=t,this.state=Fo,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=No),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Gt.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:r}=this,{details:i,id:o}=t;if(!r)return void this.warn("Audio tracks were reset while loading level ".concat(o));this.log("Audio track ".concat(o," loaded [").concat(i.startSN,",").concat(i.endSN,"]").concat(i.lastPartSn?"[part-".concat(i.lastPartSn,"-").concat(i.lastPartIndex,"]"):"",",duration:").concat(i.totalduration));const a=r[o];let s=0;if(i.live||null!=(n=a.details)&&n.live){this.checkLiveUpdate(i);const e=this.mainDetails;if(i.deltaUpdateFailed||!e)return;var l;if(!a.details&&i.hasProgramDateTime&&e.hasProgramDateTime)_o(i,e),s=i.fragments[0].start;else s=this.alignPlaylists(i,a.details,null==(l=this.levelLastLoaded)?void 0:l.details)}a.details=i,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(a.details,s),this.state!==zo||this.waitForCdnTuneIn(i)||(this.state=Fo),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:n,part:r,payload:i}=e,{config:o,trackId:a,levels:s}=this;if(!s)return void this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"));const l=s[a];if(!l)return void this.warn("Audio track is undefined on fragment load progress");const c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const u=o.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new ts(this.hls,Jr,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],f=null==(t=n.initSegment)?void 0:t.data;if(void 0!==h){const e=!1,t=r?r.index:-1,o=-1!==t,a=new Eo(n.level,n.sn,n.stats.chunkCount,i.byteLength,t,o);d.push(i,f,u,"",n,r,c.totalduration,e,a,h)}else{this.log("Unknown video PTS for cc ".concat(n.cc,", waiting for video PTS before demuxing audio frag ").concat(n.sn," of [").concat(c.startSN," ,").concat(c.endSN,"],track ").concat(a));const{cache:e}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new Qo,complete:!1};e.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=Wo}}_handleFragmentLoadComplete(e){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){const n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){const{frag:n,part:r}=t;if(n.type===Jr)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;const e=this.switchingTrack;e&&(this.bufferedTrack=e,this.switchingTrack=null,this.hls.trigger(Gt.AUDIO_TRACK_SWITCHED,jt({},e)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===Xr){const e=this.videoBuffer||this.media;if(e){bo.getBuffered(e).length&&(this.loadedmetadata=!0)}}}onError(e,t){var n;if(t.fatal)this.state=Go;else switch(t.details){case Kt.FRAG_GAP:case Kt.FRAG_PARSING_ERROR:case Kt.FRAG_DECRYPT_ERROR:case Kt.FRAG_LOAD_ERROR:case Kt.FRAG_LOAD_TIMEOUT:case Kt.KEY_LOAD_ERROR:case Kt.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Jr,t);break;case Kt.AUDIO_TRACK_LOAD_ERROR:case Kt.AUDIO_TRACK_LOAD_TIMEOUT:case Kt.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==zo||(null==(n=t.context)?void 0:n.type)!==Zr||(this.state=Fo);break;case Kt.BUFFER_APPEND_ERROR:case Kt.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;if(t.details===Kt.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Kt.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushing(e,t){let{type:n}=t;n!==sn&&(this.flushing=!0)}onBufferFlushed(e,t){let{type:n}=t;if(n!==sn){this.flushing=!1,this.bufferFlushed=!0,this.state===qo&&(this.state=Fo);const e=this.mediaBuffer||this.media;e&&(this.afterBufferFlushed(e,n,Jr),this.tick())}}_handleTransmuxComplete(e){var t;const n="audio",{hls:r}=this,{remuxResult:i,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a)return void this.resetWhenMissingContext(o);const{frag:s,part:l,level:c}=a,{details:u}=c,{audio:d,text:h,id3:f,initSegment:p}=i;if(!this.fragContextChanged(s)&&u){if(this.state=Ho,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){const e=s.initSegment||s;this._bufferInitSegment(c,p.tracks,e,o),r.trigger(Gt.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:n,tracks:p.tracks})}if(d){const{startPTS:e,endPTS:t,startDTS:n,endDTS:r}=d;l&&(l.elementaryStreams[an]={startPTS:e,endPTS:t,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(an,e,t,n,r),this.bufferFragmentData(d,s,l,o)}if(null!=f&&null!=(t=f.samples)&&t.length){const e=zt({id:n,frag:s,details:u},f);r.trigger(Gt.FRAG_PARSING_METADATA,e)}if(h){const e=zt({id:n,frag:s,details:u},h);r.trigger(Gt.FRAG_PARSING_USERDATA,e)}}else this.fragmentTracker.removeFragment(s)}_bufferInitSegment(e,t,n,r){if(this.state!==Ho)return;t.video&&delete t.video;const i=t.audio;if(!i)return;i.id="audio";const o=e.audioCodec;this.log("Init audio buffer, container:".concat(i.container,", codecs[level/parsed]=[").concat(o,"/").concat(i.codec,"]")),o&&1===o.split(",").length&&(i.levelCodec=o),this.hls.trigger(Gt.BUFFER_CODECS,t);const a=i.initSegment;if(null!=a&&a.byteLength){const e={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:a};this.hls.trigger(Gt.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);var i;if(this.fragCurrent=e,this.switchingTrack||r===uo||r===fo)if("initSegment"===e.sn)this._loadInitSegment(e,t);else if(null!=(i=t.details)&&i.live&&!this.initPTS[e.cc]){this.log("Waiting for video PTS in continuity counter ".concat(e.cc," of live stream before loading audio fragment ").concat(e.sn," of level ").concat(this.trackId)),this.state=Wo;const n=this.mainDetails;n&&n.fragments[0].start!==t.details.fragments[0].start&&_o(t.details,n)}else this.startFragRequested=!0,super.loadFragment(e,t,n);else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:t,bufferedTrack:n}=this,r=null==n?void 0:n.attrs,i=e.attrs;t&&r&&(r.CHANNELS!==i.CHANNELS||n.name!==e.name||n.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(Gt.AUDIO_TRACK_SWITCHED,jt({},e))}},audioTrackController:class extends Zi{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.on(Gt.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Gt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Gt.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.off(Gt.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Gt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Gt.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:n,groupId:r,details:i}=t,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn("Audio track with id:".concat(n," and group:").concat(r," not found in active group ").concat(null==o?void 0:o.groupId));const a=o.details;o.details=t.details,this.log("Audio track ".concat(n,' "').concat(o.name,'" lang:').concat(o.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,a)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const n=t.audioGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((e=>-1===(null==r?void 0:r.indexOf(e))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!n||-1!==n.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.audioPreference;if(!i&&t){const n=oo(t,e,so);if(n>-1)i=e[n];else{const e=oo(t,this.tracks);i=this.tracks[e]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const a={audioTracks:e};this.log("Updating audio tracks, ".concat(e.length," track(s) found in group(s): ").concat(null==n?void 0:n.join(","))),this.hls.trigger(Gt.AUDIO_TRACKS_UPDATED,a);const s=this.trackId;if(-1!==r&&-1===s)this.setAudioTrack(r);else if(e.length&&-1===s){var o;const t=new Error("No audio track selected for current audio group-ID(s): ".concat(null==(o=this.groupIds)?void 0:o.join(",")," track count: ").concat(e.length));this.warn(t.message),this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:t})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}onError(e,t){!t.fatal&&t.context&&(t.context.type!==Zr||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||(this.requestScheduled=-1,this.checkRetry(t)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&ao(e,r,so))return r;const i=oo(e,this.tracksInGroup,so);if(i>-1){const e=this.tracksInGroup[i];return this.setAudioTrack(i),e}if(r){let r=t.loadLevel;-1===r&&(r=t.firstAutoLevel);const i=function(e,t,n,r,i){const o=t[r],a=t.reduce(((e,t,n)=>{const r=t.uri;return(e[r]||(e[r]=[])).push(n),e}),{}),s=a[o.uri];s.length>1&&(r=Math.max.apply(Math,s));const l=o.videoRange,c=o.frameRate,u=o.codecSet.substring(0,4),d=lo(t,r,(t=>{if(t.videoRange!==l||t.frameRate!==c||t.codecSet.substring(0,4)!==u)return!1;const r=t.audioGroups,o=n.filter((e=>!r||-1!==r.indexOf(e.groupId)));return oo(e,o,i)>-1}));return d>-1?d:lo(t,r,(t=>{const r=t.audioGroups,o=n.filter((e=>!r||-1!==r.indexOf(e.groupId)));return oo(e,o,i)>-1}))}(e,t.levels,n,r,so);if(-1===i)return null;t.nextLoadLevel=i}if(e.channels||e.audioCodec){const t=oo(e,n);if(t>-1)return n[t]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length)return void this.warn("Invalid audio track id: ".concat(e));this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=t[e],i=r.details&&!r.details.live;if(e===this.trackId&&r===n&&i)return;if(this.log("Switching to audio-track ".concat(e,' "').concat(r.name,'" lang:').concat(r.lang," group:").concat(r.groupId," channels:").concat(r.channels)),this.trackId=e,this.currentTrack=r,this.hls.trigger(Gt.AUDIO_TRACK_SWITCHING,jt({},r)),i)return;const o=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(o)}findTrackId(e){const t=this.tracksInGroup;for(let n=0;n<t.length;n++){const r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||ao(e,r,so)))return n}if(e){const{name:n,lang:r,assocLang:i,characteristics:o,audioCodec:a,channels:s}=e;for(let e=0;e<t.length;e++){if(ao({name:n,lang:r,assocLang:i,characteristics:o,audioCodec:a,channels:s},t[e],so))return e}for(let l=0;l<t.length;l++){const n=t[l];if(rs(e.attrs,n.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<t.length;l++){const n=t[l];if(rs(e.attrs,n.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();const r=t.id,i=t.groupId;let o=t.url;if(e)try{o=e.addDirectives(o)}catch(n){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(n))}this.log("loading audio-track playlist ".concat(r,' "').concat(t.name,'" lang:').concat(t.lang," group:").concat(i)),this.clearTimer(),this.hls.trigger(Gt.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:e||null})}}},emeController:al,cmcdController:class{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=e=>{try{this.apply(e,{ot:ll.MANIFEST,su:!this.initialized})}catch(t){Xt.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=e=>{try{const t=e.frag,n=this.hls.levels[t.level],r=this.getObjectType(t),i={d:1e3*t.duration,ot:r};r!==ll.VIDEO&&r!==ll.AUDIO&&r!=ll.MUXED||(i.br=n.bitrate/1e3,i.tb=this.getTopBandwidth(r)/1e3,i.bl=this.getBufferLength(r)),this.apply(e,i)}catch(t){Xt.warn("Could not generate segment CMCD data.",t)}},this.hls=e;const t=this.config=e.config,{cmcd:n}=t;null!=n&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||function(){try{return crypto.randomUUID()}catch(e){try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){let t=(new Date).getTime();const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}));return n}}}(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Gt.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Gt.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Gt.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Gt.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var n,r;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer}createData(){var e;return{v:1,sf:cl.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zt(t,this.createData());const n=t.ot===ll.INIT||t.ot===ll.VIDEO||t.ot===ll.MUXED;this.starved&&n&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);const{includeKeys:r}=this;r&&(t=Object.keys(t).reduce(((e,n)=>(r.includes(n)&&(e[n]=t[n]),e)),{})),this.useHeaders?(e.headers||(e.headers={}),Hl(e.headers,t)):e.url=Gl(e.url,t)}getObjectType(e){const{type:t}=e;return"subtitle"===t?ll.TIMED_TEXT:"initSegment"===e.sn?ll.INIT:"audio"===t?ll.AUDIO:"main"===t?this.hls.audioTracks.length?ll.VIDEO:ll.MUXED:void 0}getTopBandwidth(e){let t,n=0;const r=this.hls;if(e===ll.AUDIO)t=r.audioTracks;else{const e=r.maxAutoLevel,n=e>-1?e+1:r.levels.length;t=r.levels.slice(0,n)}for(const i of t)i.bitrate>n&&(n=i.bitrate);return n>0?n:NaN}getBufferLength(e){const t=this.hls.media,n=e===ll.AUDIO?this.audioBuffer:this.videoBuffer;if(!n||!t)return NaN;return 1e3*bo.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new n(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,n,r){t(e),this.loader.load(e,n,r)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,n=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new n(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,n,r){t(e),this.loader.load(e,n,r)}}}},contentSteeringController:class{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=Xt.log.bind(Xt,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Gt.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Gt.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter((t=>t!==e)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:n}=t;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:n}=t;if((null==n?void 0:n.action)===qi&&n.flags===Yi){const e=this.levels;let r=this.pathwayPriority,i=this.pathwayId;if(t.context){const{groupId:n,pathwayId:r,type:o}=t.context;n&&e?i=this.getPathwayForGroupId(n,o,i):r&&(i=r)}i in this.penalizedPathways||(this.penalizedPathways[i]=performance.now()),!r&&e&&(r=e.reduce(((e,t)=>(-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e)),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i),n.resolved||Xt.warn("Could not resolve ".concat(t.details,' ("').concat(t.error.message,'") with content-steering for Pathway: ').concat(i," levels: ").concat(e?e.length:e," priorities: ").concat(JSON.stringify(r)," penalized: ").concat(JSON.stringify(this.penalizedPathways)))}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const n=e[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(n,'"')),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length?(this.log("Found ".concat(t.length,"/").concat(e.length,' levels in Pathway "').concat(this.pathwayId,'"')),t):e}getLevelsForPathway(e){return null===this.levels?[]:this.levels.filter((t=>e===t.pathwayId))}updatePathwayPriority(e){let t;this.pathwayPriority=e;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((e=>{r-n[e]>3e5&&delete n[e]}));for(let i=0;i<e.length;i++){const r=e[i];if(r in n)continue;if(r===this.pathwayId)return;const o=this.hls.nextLoadLevel,a=this.hls.levels[o];if(t=this.getLevelsForPathway(r),t.length>0){this.log('Setting Pathway to "'.concat(r,'"')),this.pathwayId=r,Di(t),this.hls.trigger(Gt.LEVELS_UPDATED,{levels:t});const e=this.hls.levels[o];a&&e&&this.levels&&(e.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&e.bitrate!==a.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(a.bitrate," to ").concat(e.bitrate)),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,t,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let i=0;i<r.length;i++)if(t===Zr&&r[i].hasAudioGroup(e)||t===$r&&r[i].hasSubtitleGroup(e))return r[i].pathwayId;return n}clonePathways(e){const t=this.levels;if(!t)return;const n={},r={};e.forEach((e=>{const{ID:i,"BASE-ID":o,"URI-REPLACEMENT":a}=e;if(t.some((e=>e.pathwayId===i)))return;const s=this.getLevelsForPathway(o).map((e=>{const t=new tn(e.attrs);t["PATHWAY-ID"]=i;const o=t.AUDIO&&"".concat(t.AUDIO,"_clone_").concat(i),s=t.SUBTITLES&&"".concat(t.SUBTITLES,"_clone_").concat(i);o&&(n[t.AUDIO]=o,t.AUDIO=o),s&&(r[t.SUBTITLES]=s,t.SUBTITLES=s);const l=Kl(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a),c=new Ti({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:l,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(let n=1;n<e.audioGroups.length;n++)c.addGroupId("audio","".concat(e.audioGroups[n],"_clone_").concat(i));if(e.subtitleGroups)for(let n=1;n<e.subtitleGroups.length;n++)c.addGroupId("text","".concat(e.subtitleGroups[n],"_clone_").concat(i));return c}));t.push(...s),Wl(this.audioTracks,n,a,i),Wl(this.subtitleTracks,r,a,i)}))}loadSteeringManifest(e){const t=this.hls.config,n=t.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(t);try{r=new self.URL(e)}catch(c){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(e))}if("data:"!==r.protocol){const e=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+e)}const i={responseType:"json",url:r.href},o=t.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},s={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(e,t,n,i)=>{this.log('Loaded steering manifest: "'.concat(r,'"'));const o=e.data;if(1!==o.VERSION)return void this.log("Steering VERSION ".concat(o.VERSION," not supported!"));this.updated=performance.now(),this.timeToLoad=o.TTL;const{"RELOAD-URI":a,"PATHWAY-CLONES":s,"PATHWAY-PRIORITY":l}=o;if(a)try{this.uri=new self.URL(a,r).href}catch(c){return this.enabled=!1,void this.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(a))}this.scheduleRefresh(this.uri||n.url),s&&this.clonePathways(s);const u={steeringManifest:o,url:r.toString()};this.hls.trigger(Gt.STEERING_MANIFEST_LOADED,u),l&&this.updatePathwayPriority(l)},onError:(e,t,n,r)=>{if(this.log("Error loading steering manifest: ".concat(e.code," ").concat(e.text," (").concat(t.url,")")),this.stopLoad(),410===e.code)return this.enabled=!1,void this.log("Steering manifest ".concat(t.url," no longer available"));let i=1e3*this.timeToLoad;if(429!==e.code)this.scheduleRefresh(this.uri||t.url,i);else{const e=this.loader;if("function"===typeof(null==e?void 0:e.getResponseHeader)){const t=e.getResponseHeader("Retry-After");t&&(i=1e3*parseFloat(t))}this.log("Steering manifest ".concat(t.url," rate limited"))}},onTimeout:(e,t,n)=>{this.log("Timeout loading steering manifest (".concat(t.url,")")),this.scheduleRefresh(this.uri||t.url)}};this.log("Requesting steering manifest: ".concat(r)),this.loader.load(i,s,l)}scheduleRefresh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var t;const n=null==(t=this.hls)?void 0:t.media;!n||n.ended?this.scheduleRefresh(e,1e3*this.timeToLoad):this.loadSteeringManifest(e)}),t)}}});function rc(e){return e&&"object"===typeof e?Array.isArray(e)?e.map(rc):Object.keys(e).reduce(((t,n)=>(t[n]=rc(e[n]),t)),{}):e}function ic(e){const t=e.loader;if(t!==$l&&t!==Ql)Xt.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1})()&&(e.loader=$l,e.progressive=!0,e.enableSoftwareAES=!0,Xt.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let oc;class ac extends Zi{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Gt.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Gt.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Gt.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Gt.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((e=>{e.loadError=0,e.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const n=this.hls.config.preferManagedMediaSource,r=[],i={},o={};let a=!1,s=!1,l=!1;t.levels.forEach((e=>{var t,c;const u=e.attrs;let{audioCodec:d,videoCodec:h}=e;-1!==(null==(t=d)?void 0:t.indexOf("mp4a.40.34"))&&(oc||(oc=/chrome|firefox/i.test(navigator.userAgent)),oc&&(e.audioCodec=d=void 0)),d&&(e.audioCodec=d=Dr(d,n)),0===(null==(c=h)?void 0:c.indexOf("avc1"))&&(h=e.videoCodec=function(e){const t=e.split(".");if(t.length>2){let e=t.shift()+".";return e+=parseInt(t.shift()).toString(16),e+=("000"+parseInt(t.shift()).toString(16)).slice(-4),e}return e}(h));const{width:f,height:p,unknownCodecs:m}=e;if(a||(a=!(!f||!p)),s||(s=!!h),l||(l=!!d),null!=m&&m.length||d&&!kr(d,"audio",n)||h&&!kr(h,"video",n))return;const{CODECS:g,"FRAME-RATE":v,"HDCP-LEVEL":y,"PATHWAY-ID":b,RESOLUTION:E,"VIDEO-RANGE":w}=u,C="".concat(b||".","-"),S="".concat(C).concat(e.bitrate,"-").concat(E,"-").concat(v,"-").concat(g,"-").concat(w,"-").concat(y);if(i[S])if(i[S].uri===e.url||e.attrs["PATHWAY-ID"])i[S].addGroupId("audio",u.AUDIO),i[S].addGroupId("text",u.SUBTITLES);else{const t=o[S]+=1;e.attrs["PATHWAY-ID"]=new Array(t+1).join(".");const n=new Ti(e);i[S]=n,r.push(n)}else{const t=new Ti(e);i[S]=t,o[S]=1,r.push(t)}})),this.filterAndSortMediaOptions(r,t,a,s,l)}filterAndSortMediaOptions(e,t,n,r,i){let o=[],a=[],s=e;if((n||r)&&i&&(s=s.filter((e=>{let{videoCodec:t,videoRange:n,width:r,height:i}=e;return(!!t||!(!r||!i))&&(!!(o=n)&&bi.indexOf(o)>-1);var o}))),0===s.length)return void Promise.resolve().then((()=>{if(this.hls){t.levels.length&&this.warn("One or more CODECS in variant not supported: ".concat(JSON.stringify(t.levels[0].attrs)));const e=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}));if(t.audioTracks){const{preferManagedMediaSource:e}=this.hls.config;o=t.audioTracks.filter((t=>!t.audioCodec||kr(t.audioCodec,"audio",e))),sc(o)}t.subtitles&&(a=t.subtitles,sc(a));const l=s.slice(0);s.sort(((e,t)=>{if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return bi.indexOf(e.videoRange)-bi.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){const n=Ir(e.videoCodec),r=Ir(t.videoCodec);if(n!==r)return r-n}if(e.uri===t.uri&&e.codecSet!==t.codecSet){const n=Mr(e.codecSet),r=Mr(t.codecSet);if(n!==r)return r-n}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));let c=l[0];if(this.steering&&(s=this.steering.filterParsedLevels(s),s.length!==l.length))for(let f=0;f<l.length;f++)if(l[f].pathwayId===s[0].pathwayId){c=l[f];break}this._levels=s;for(let f=0;f<s.length;f++)if(s[f]===c){var u;this._firstLevel=f;const e=c.bitrate,t=this.hls.bandwidthEstimate;if(this.log("manifest loaded, ".concat(s.length," level(s) found, first bitrate: ").concat(e)),void 0===(null==(u=this.hls.userConfig)?void 0:u.abrEwmaDefaultEstimate)){const n=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);n>t&&t===nc.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=n)}break}const d=i&&!r,h={levels:s,audioTracks:o,subtitleTracks:a,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:i,video:r,altAudio:!d&&o.some((e=>!!e.url))};this.hls.trigger(Gt.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(0===t.length)return;if(e<0||e>=t.length){const n=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(Gt.ERROR,{type:Wt.OTHER_ERROR,details:Kt.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:n,reason:n.message}),r)return;e=Math.min(e,t.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,i=r?r.attrs["PATHWAY-ID"]:void 0,o=t[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,n===e&&o.details&&r&&i===a)return;this.log("Switching to level ".concat(e," (").concat(o.height?o.height+"p ":"").concat(o.videoRange?o.videoRange+" ":"").concat(o.codecSet?o.codecSet+" ":"","@").concat(o.bitrate,")").concat(a?" with Pathway "+a:""," from level ").concat(n).concat(i?" with Pathway "+i:""));const s={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(Gt.LEVEL_SWITCHING,s);const l=o.details;if(!l||l.live){const e=this.switchParams(o.uri,null==r?void 0:r.details);this.loadPlaylist(e)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(void 0===this._startLevel){const e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){!t.fatal&&t.context&&t.context.type===Qr&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,t){let{frag:n}=t;if(void 0!==n&&n.type===Xr){const e=n.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return;const t=this._levels[n.level];null!=t&&t.loadError&&(this.log("Resetting level error count of ".concat(t.loadError," on frag buffered")),t.loadError=0)}}onLevelLoaded(e,t){var n;const{level:r,details:i}=t,o=this._levels[r];var a;if(!o)return this.warn("Invalid level index ".concat(r)),void(null!=(a=t.deliveryDirectives)&&a.skip&&(i.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(r,t,o.details)):null!=(n=t.deliveryDirectives)&&n.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const t=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let i=n.uri;if(e)try{i=e.addDirectives(i)}catch(r){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(r))}const o=n.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(t).concat(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""," with").concat(o?" Pathway "+o:""," ").concat(i)),this.clearTimer(),this.hls.trigger(Gt.LEVEL_LOADING,{url:i,level:t,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;const n=this._levels.filter(((t,n)=>n!==e||(this.steering&&this.steering.removeLevel(t),t===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((e=>e.level=-1))),!1)));Di(n),this._levels=n,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(Gt.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,t){let{levels:n}=t;this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(Gt.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function sc(e){const t={};e.forEach((e=>{const n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}class lc{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){var t;if(e&&e!==(null==(t=r.context)?void 0:t.frag.type))return;r.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt.KEY_LOAD_ERROR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new Mo({type:Wt.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:r})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=e;for(let e=0;e<t.length;e++){const i=t[e];if(r<=i.cc&&("initSegment"===n||"initSegment"===i.sn||n<i.sn)){this.emeController.selectKeySystemFormat(i).then((e=>{i.setKeyFormat(e)}));break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((t=>this.loadInternal(e,t))):this.loadInternal(e)}loadInternal(e,t){var n,r;t&&e.setKeyFormat(t);const i=e.decryptdata;if(!i){const n=new Error(t?"Expected frag.decryptdata to be defined after setting format ".concat(t):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Kt.KEY_LOAD_ERROR,n))}const o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,Kt.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(o,'"'))));let a=this.keyUriToKeyInfo[o];if(null!=(n=a)&&n.decryptdata.key)return i.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});var s;if(null!=(r=a)&&r.keyLoadPromise)switch(null==(s=a.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then((t=>(i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:a})))}switch(a=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,Kt.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(i.method,'"'))))}}loadKeyEME(e,t){const n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const t=this.emeController.loadKey(n);if(t)return(e.keyLoadPromise=t.then((t=>(e.mediaKeySessionContext=t,n)))).catch((t=>{throw e.keyLoadPromise=null,t}))}return Promise.resolve(n)}loadKeyHTTP(e,t){const n=this.config,r=new(0,n.loader)(n);return t.keyLoader=e.loader=r,e.keyLoadPromise=new Promise(((i,o)=>{const a={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},s=n.keyLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,n,r)=>{const{frag:a,keyInfo:s,url:l}=n;if(!a.decryptdata||s!==this.keyUriToKeyInfo[l])return o(this.createKeyLoadError(a,Kt.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));s.decryptdata.key=a.decryptdata.key=new Uint8Array(e.data),a.keyLoader=null,s.loader=null,i({frag:a,keyInfo:s})},onError:(e,n,r,i)=>{this.resetLoader(n),o(this.createKeyLoadError(t,Kt.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(e.code," loading key ").concat(e.text)),r,jt({url:a.url,data:void 0},e)))},onTimeout:(e,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(t,Kt.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(e,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(t,Kt.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(a,l,c)}))}resetLoader(e){const{frag:t,keyInfo:n,url:r}=e,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}function cc(){return self.SourceBuffer||self.WebKitSourceBuffer}function uc(){if(!Tr())return!1;const e=cc();return!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove}class dc{constructor(e,t,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){const{config:n,media:r,stalled:i}=this;if(null===r)return;const{currentTime:o,seeking:a}=r,s=this.seeking&&!a,l=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),null!==i){if(this.stallReported){const e=self.performance.now()-i;Xt.warn("playback not stuck anymore @".concat(o,", after ").concat(Math.round(e),"ms")),this.stallReported=!1}this.stalled=null}return}if(l||s)return void(this.stalled=null);if(r.paused&&!a||r.ended||0===r.playbackRate||!bo.getBuffered(r).length)return void(this.nudgeRetry=0);const c=bo.bufferInfo(r,o,0),u=c.nextStart||0;if(a){const e=c.len>2,n=!u||t&&t.start<=o||u-o>2&&!this.fragmentTracker.getPartialFragment(o);if(e||n)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var d;if(!(c.len>0)&&!u)return;const e=Math.max(u,c.start||0)-o,t=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,n=(null==t||null==(d=t.details)?void 0:d.live)?2*t.details.targetduration:2,i=this.fragmentTracker.getPartialFragment(o);if(e>0&&(e<=n||i))return void(r.paused||this._trySkipBufferHole(i))}const h=self.performance.now();if(null===i)return void(this.stalled=h);const f=h-i;if(!a&&f>=250&&(this._reportStall(c),!this.media))return;const p=bo.bufferInfo(r,o,n.maxBufferHole);this._tryFixBufferStall(p,f)}_tryFixBufferStall(e,t){const{config:n,fragmentTracker:r,media:i}=this;if(null===i)return;const o=i.currentTime,a=r.getPartialFragment(o);if(a){if(this._trySkipBufferHole(a)||!this.media)return}(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-o<n.maxBufferHole)&&t>1e3*n.highBufferWatchdogPeriod&&(Xt.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:t,media:n,stallReported:r}=this;if(!r&&n){this.stallReported=!0;const r=new Error("Playback stalling at @".concat(n.currentTime," due to low buffer (").concat(JSON.stringify(e),")"));Xt.warn(r.message),t.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len})}}_trySkipBufferHole(e){const{config:t,hls:n,media:r}=this;if(null===r)return 0;const i=r.currentTime,o=bo.bufferInfo(r,i,0),a=i<o.start?o.start:o.nextStart;if(a){const s=o.len<=t.maxBufferHole,l=o.len>0&&o.len<1&&r.readyState<3,c=a-i;if(c>0&&(s||l)){if(c>t.maxBufferHole){const{fragmentTracker:t}=this;let n=!1;if(0===i){const e=t.getAppendedFrag(0,Xr);e&&a<e.end&&(n=!0)}if(!n){const n=e||t.getAppendedFrag(i,Xr);if(n){let e=!1,r=n.end;for(;r<a;){const n=t.getPartialFragment(r);if(!n){e=!0;break}r+=n.duration}if(e)return 0}}}const o=Math.max(a+.05,i+.1);if(Xt.warn("skipping hole, adjusting currentTime from ".concat(i," to ").concat(o)),this.moved=!0,this.stalled=null,r.currentTime=o,e&&!e.gap){const t=new Error("fragment loaded with buffer holes, seeking from ".concat(i," to ").concat(o));n.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:t,reason:t.message,frag:e})}return o}}return 0}_tryNudgeBuffer(){const{config:e,hls:t,media:n,nudgeRetry:r}=this;if(null===n)return;const i=n.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){const o=i+(r+1)*e.nudgeOffset,a=new Error("Nudging 'currentTime' from ".concat(i," to ").concat(o));Xt.warn(a.message),n.currentTime=o,t.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const n=new Error("Playhead still not moving while enough data buffered @".concat(i," after ").concat(e.nudgeMaxRetry," nudges"));Xt.error(n.message),t.trigger(Gt.ERROR,{type:Wt.MEDIA_ERROR,details:Kt.BUFFER_STALLED_ERROR,error:n,fatal:!0})}}}class hc extends Yo{constructor(e,t,n){super(e,t,n,"[stream-controller]",Xr),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Gt.LEVEL_LOADING,this.onLevelLoading,this),e.on(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Gt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Gt.ERROR,this.onError,this),e.on(Gt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Gt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Gt.BUFFER_CREATED,this.onBufferCreated,this),e.on(Gt.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Gt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(Gt.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Gt.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Gt.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Gt.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Gt.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Gt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Gt.ERROR,this.onError,this),e.off(Gt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Gt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Gt.BUFFER_CREATED,this.onBufferCreated,this),e.off(Gt.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Gt.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Gt.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:t,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let e=n.startLevel;-1===e&&(n.config.testBandwidth&&this.levels.length>1?(e=0,this.bitrateTest=!0):e=n.firstAutoLevel),this.level=n.nextLoadLevel=e,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t),this.state=Fo,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=No}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Ko:{const{levels:e,level:t}=this,n=null==e?void 0:e[t],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=Fo;break}if(this.hls.nextLoadLevel!==this.level){this.state=Fo;break}break}case Uo:{var e;const t=self.performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:e,level:t}=this,n=null==e?void 0:e[t];this.resetStartWhenNotLoaded(n||null),this.state=Fo}}}this.state===Fo&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:n,media:r}=this,{config:i,nextLoadLevel:o}=e;if(null===t||!r&&(this.startFragRequested||!i.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;if(null==n||!n[o])return;const a=n[o],s=this.getMainFwdBufferInfo();if(null===s)return;const l=this.getLevelDetails();if(l&&this._streamEnded(s,l)){const e={};return this.altAudio&&(e.type="video"),this.hls.trigger(Gt.BUFFER_EOS,e),void(this.state=qo)}e.loadLevel!==o&&-1===e.manualLevel&&this.log("Adapting to level ".concat(o," from level ").concat(this.level)),this.level=e.nextLoadLevel=o;const c=a.details;if(!c||this.state===Ko||c.live&&this.levelLastLoaded!==a)return this.level=o,void(this.state=Ko);const u=s.len,d=this.getMaxBufferLength(a.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:s.end;let f=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&f&&"initSegment"!==f.sn&&this.fragmentTracker.getState(f)!==po){var p;const e=(null!=(p=this.backtrackFragment)?p:f).sn-c.startSN,t=c.fragments[e-1];t&&f.cc===t.cc&&(f=t,this.fragmentTracker.removeFragment(t))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,h)){if(!f.gap){const e=this.audioOnly&&!this.altAudio?an:sn,t=(e===sn?this.videoBuffer:this.mediaBuffer)||this.media;t&&this.afterBufferFlushed(t,e,Xr)}f=this.getNextFragmentLoopLoading(f,c,s,Xr,d)}f&&(!f.initSegment||f.initSegment.data||this.bitrateTest||(f=f.initSegment),this.loadFragment(f,a,h))}loadFragment(e,t,n){const r=this.fragmentTracker.getState(e);this.fragCurrent=e,r===uo||r===fo?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log("Fragment ".concat(e.sn," of level ").concat(e.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,n)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Xr)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(null!=t&&t.readyState){let n;const r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const i=this.getLevelDetails();if(null!=i&&i.live){const e=this.getMainFwdBufferInfo();if(!e||e.len<2*i.targetduration)return}if(!t.paused&&e){const t=e[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*t.maxBitrate/(1e3*r)+1:0}else n=0;const o=this.getBufferedFrag(t.currentTime+n);if(o){const e=this.followingBufferedFrag(o);if(e){this.abortCurrentFrag();const t=e.maxStartPTS?e.maxStartPTS:e.start,n=e.duration,r=Math.max(o.end,t+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case jo:case Bo:case Uo:case Ho:case Vo:this.state=Fo}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const n=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new dc(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,t=e?e.currentTime:null;Ht(t)&&this.log("Media seeked to ".concat(t.toFixed(3)));const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(n?n.len:"empty",")"))}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Gt.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let n=!1,r=!1;t.levels.forEach((e=>{const t=e.audioCodec;t&&(n=n||-1!==t.indexOf("mp4a.40.2"),r=r||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=n&&r&&!function(){var e;const t=cc();return"function"===typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:n}=this;if(!n||this.state!==Fo)return;const r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=Ko)}onLevelLoaded(e,t){var n;const{levels:r}=this,i=t.level,o=t.details,a=o.totalduration;if(!r)return void this.warn("Levels were reset while loading level ".concat(i));this.log("Level ".concat(i," loaded [").concat(o.startSN,",").concat(o.endSN,"]").concat(o.lastPartSn?"[part-".concat(o.lastPartSn,"-").concat(o.lastPartIndex,"]"):"",", cc [").concat(o.startCC,", ").concat(o.endCC,"] duration:").concat(a));const s=r[i],l=this.fragCurrent;!l||this.state!==Bo&&this.state!==Uo||l.level!==t.level&&l.loader&&this.abortCurrentFrag();let c=0;if(o.live||null!=(n=s.details)&&n.live){var u;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;c=this.alignPlaylists(o,s.details,null==(u=this.levelLastLoaded)?void 0:u.details)}if(s.details=o,this.levelLastLoaded=s,this.hls.trigger(Gt.LEVEL_UPDATED,{details:o,level:i}),this.state===Ko){if(this.waitForCdnTuneIn(o))return;this.state=Fo}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,c),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:n,part:r,payload:i}=e,{levels:o}=this;if(!o)return void this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"));const a=o[n.level],s=a.details;if(!s)return this.warn("Dropping fragment ".concat(n.sn," of level ").concat(n.level," after level details were reset")),void this.fragmentTracker.removeFragment(n);const l=a.videoCodec,c=s.PTSKnown||!s.live,u=null==(t=n.initSegment)?void 0:t.data,d=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new ts(this.hls,Xr,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=r?r.index:-1,p=-1!==f,m=new Eo(n.level,n.sn,n.stats.chunkCount,i.byteLength,f,p),g=this.initPTS[n.cc];h.push(i,u,d,l,n,r,s.totalduration,c,m,g)}onAudioTrackSwitching(e,t){const n=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const e=this.fragCurrent;e&&(this.log("Switching to main audio track, cancel main fragment load"),e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const e=this.hls;n&&(e.trigger(Gt.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),e.trigger(Gt.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const n=t.id,r=!!this.hls.audioTracks[n].url;if(r){const e=this.videoBuffer;e&&this.mediaBuffer!==e&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e)}this.altAudio=r,this.tick()}onBufferCreated(e,t){const n=t.tracks;let r,i,o=!1;for(const a in n){const e=n[a];if("main"===e.id){if(i=a,r=e,"video"===a){const e=n[a];e&&(this.videoBuffer=e.buffer)}}else o=!0}o&&r?(this.log("Alternate track found, use ".concat(i,".buffered to schedule main fragment loading")),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:n,part:r}=t;if(n&&n.type!==Xr)return;if(this.fragContextChanged(n))return this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===Vo&&(this.state=Fo));const i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}onError(e,t){var n;if(t.fatal)this.state=Go;else switch(t.details){case Kt.FRAG_GAP:case Kt.FRAG_PARSING_ERROR:case Kt.FRAG_DECRYPT_ERROR:case Kt.FRAG_LOAD_ERROR:case Kt.FRAG_LOAD_TIMEOUT:case Kt.KEY_LOAD_ERROR:case Kt.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Xr,t);break;case Kt.LEVEL_LOAD_ERROR:case Kt.LEVEL_LOAD_TIMEOUT:case Kt.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Ko||(null==(n=t.context)?void 0:n.type)!==Qr||(this.state=Fo);break;case Kt.BUFFER_APPEND_ERROR:case Kt.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;if(t.details===Kt.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Kt.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:e,gapController:t}=this;if(e&&t&&e.readyState){if(this.loadedmetadata||!bo.getBuffered(e).length){const e=this.state!==Fo?this.fragCurrent:null;t.poll(this.lastCurrentTime,e)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=Fo,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,t){let{type:n}=t;if(n!==an||this.audioOnly&&!this.altAudio){const e=(n===sn?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(e,n,Xr),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void this.log("could not seek to ".concat(n,", already seeking at ").concat(t));const r=bo.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(i," to match buffer start")),n+=i,this.startPosition=n),this.log("seek to target start position ".concat(n," from current time ").concat(t)),e.currentTime=n}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then((n=>{const{hls:r}=this;if(!n||this.fragContextChanged(e))return;t.fragmentError=0,this.state=Fo,this.startFragRequested=!1,this.bitrateTest=!1;const i=e.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),r.trigger(Gt.FRAG_LOADED,n),e.bitrateTest=!1}))}_handleTransmuxComplete(e){var t;const n="main",{hls:r}=this,{remuxResult:i,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a)return void this.resetWhenMissingContext(o);const{frag:s,part:l,level:c}=a,{video:u,text:d,id3:h,initSegment:f}=i,{details:p}=c,m=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=Ho,f){if(null!=f&&f.tracks){const e=s.initSegment||s;this._bufferInitSegment(c,f.tracks,e,o),r.trigger(Gt.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:n,tracks:f.tracks})}const e=f.initPTS,t=f.timescale;Ht(e)&&(this.initPTS[s.cc]={baseTime:e,timescale:t},r.trigger(Gt.INIT_PTS_FOUND,{frag:s,id:n,initPTS:e,timescale:t}))}if(u&&p&&"initSegment"!==s.sn){const e=p.fragments[s.sn-1-p.startSN],t=s.sn===p.startSN,n=!e||s.cc>e.cc;if(!1!==i.independent){const{startPTS:e,endPTS:r,startDTS:i,endDTS:a}=u;if(l)l.elementaryStreams[u.type]={startPTS:e,endPTS:r,startDTS:i,endDTS:a};else if(u.firstKeyFrame&&u.independent&&1===o.id&&!n&&(this.couldBacktrack=!0),u.dropped&&u.independent){const i=this.getMainFwdBufferInfo(),o=(i?i.end:this.getLoadPosition())+this.config.maxBufferHole,l=u.firstKeyFramePTS?u.firstKeyFramePTS:e;if(!t&&o<l-this.config.maxBufferHole&&!n)return void this.backtrack(s);n&&(s.gap=!0),s.setElementaryStreamInfo(u.type,s.start,r,s.start,a,!0)}else t&&e>2&&(s.gap=!0);s.setElementaryStreamInfo(u.type,e,r,i,a),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(u,s,l,o,t||n)}else{if(!t&&!n)return void this.backtrack(s);s.gap=!0}}if(m){const{startPTS:e,endPTS:t,startDTS:n,endDTS:r}=m;l&&(l.elementaryStreams[an]={startPTS:e,endPTS:t,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(an,e,t,n,r),this.bufferFragmentData(m,s,l,o)}if(p&&null!=h&&null!=(t=h.samples)&&t.length){const e={id:n,frag:s,details:p,samples:h.samples};r.trigger(Gt.FRAG_PARSING_METADATA,e)}if(p&&d){const e={id:n,frag:s,details:p,samples:d.samples};r.trigger(Gt.FRAG_PARSING_USERDATA,e)}}}_bufferInitSegment(e,t,n,r){if(this.state!==Ho)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:i,video:o,audiovideo:a}=t;if(i){let t=e.audioCodec;const n=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==i.metadata.channelCount&&-1===n.indexOf("firefox")&&(t="mp4a.40.5")),t&&-1!==t.indexOf("mp4a.40.5")&&-1!==n.indexOf("android")&&"audio/mpeg"!==i.container&&(t="mp4a.40.2",this.log("Android: force audio codec to ".concat(t))),e.audioCodec&&e.audioCodec!==t&&this.log('Swapping manifest audio codec "'.concat(e.audioCodec,'" for "').concat(t,'"')),i.levelCodec=t,i.id="main",this.log("Init audio buffer, container:".concat(i.container,", codecs[selected/level/parsed]=[").concat(t||"","/").concat(e.audioCodec||"","/").concat(i.codec,"]"))}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log("Init video buffer, container:".concat(o.container,", codecs[level/parsed]=[").concat(e.videoCodec||"","/").concat(o.codec,"]"))),a&&this.log("Init audiovideo buffer, container:".concat(a.container,", codecs[level/parsed]=[").concat(e.codecs,"/").concat(a.codec,"]")),this.hls.trigger(Gt.BUFFER_CODECS,t),Object.keys(t).forEach((e=>{const i=t[e].initSegment;null!=i&&i.byteLength&&this.hls.trigger(Gt.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Xr)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Fo}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&!1===e.seeking){const n=e.currentTime;if(bo.isBuffered(e,n)?t=this.getAppendedFrag(n):bo.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;const e=this.fragPlaying,n=t.level;e&&t.sn===e.sn&&e.level===n||(this.fragPlaying=t,this.hls.trigger(Gt.FRAG_CHANGED,{frag:t}),e&&e.level===n||this.hls.trigger(Gt.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const t=e.currentTime,n=this.currentFrag;if(n&&Ht(t)&&Ht(n.programDateTime)){const e=n.programDateTime+1e3*(t-n.start);return new Date(e)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class fc{static get version(){return"1.5.3"}static isMSESupported(){return uc()}static isSupported(){return function(){if(!uc())return!1;const e=Tr();return"function"===typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((t=>e.isTypeSupported(Ar(t,"video"))))||["mp4a.40.2","fLaC"].some((t=>e.isTypeSupported(Ar(t,"audio")))))}()}static getMediaSource(){return Tr()}static get Events(){return Gt}static get ErrorTypes(){return Wt}static get ErrorDetails(){return Kt}static get DefaultConfig(){return fc.defaultConfig?fc.defaultConfig:nc}static set DefaultConfig(e){fc.defaultConfig=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new es,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(e,t){if("object"===typeof console&&!0===e||"object"===typeof e){$t(e,"debug","log","info","warn","error");try{Zt.log('Debug logs enabled for "'.concat(t,'" in hls.js version ',"1.5.3"))}catch(n){Zt=Qt}}else Zt=Qt}(e.debug||!1,"Hls instance");const t=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=rc(e),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((e=>{const i="".concat("level"===e?"playlist":e,"LoadPolicy"),o=void 0===t[i],a=[];r.forEach((r=>{const s="".concat(e,"Loading").concat(r),l=t[s];if(void 0!==l&&o){a.push(s);const e=n[i].default;switch(t[i]={default:e},r){case"TimeOut":e.maxLoadTimeMs=l,e.maxTimeToFirstByteMs=l;break;case"MaxRetry":e.errorRetry.maxNumRetry=l,e.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":e.errorRetry.retryDelayMs=l,e.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":e.errorRetry.maxRetryDelayMs=l,e.timeoutRetry.maxRetryDelayMs=l}}})),a.length&&Xt.warn('hls.js config: "'.concat(a.join('", "'),'" setting(s) are deprecated, use "').concat(i,'": ').concat(JSON.stringify(t[i])))})),jt(jt({},n),t)}(fc.DefaultConfig,e);this.userConfig=e,t.progressive&&ic(t);const{abrController:n,bufferController:r,capLevelController:i,errorController:o,fpsController:a}=t,s=new o(this),l=this.abrController=new n(this),c=this.bufferController=new r(this),u=this.capLevelController=new i(this),d=new a(this),h=new ri(this),f=new gi(this),p=t.contentSteeringController,m=p?new p(this):null,g=this.levelController=new ac(this,m),v=new mo(this),y=new lc(this.config),b=this.streamController=new hc(this,v,y);u.setStreamController(b),d.setStreamController(b);const E=[h,g,b];m&&E.splice(1,0,m),this.networkControllers=E;const w=[l,c,u,d,f,v];this.audioTrackController=this.createController(t.audioTrackController,E);const C=t.audioStreamController;C&&E.push(new C(this,v,y)),this.subtitleTrackController=this.createController(t.subtitleTrackController,E);const S=t.subtitleStreamController;S&&E.push(new S(this,v,y)),this.createController(t.timelineController,w),y.emeController=this.emeController=this.createController(t.emeController,w),this.cmcdController=this.createController(t.cmcdController,w),this.latencyController=this.createController(vi,w),this.coreComponents=w,E.push(s);const T=s.onErrorOut;"function"===typeof T&&this.on(Gt.ERROR,T,s)}createController(e,t){if(e){const n=new e(this);return t&&t.push(n),n}return null}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,n)}once(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,n,r)}listeners(e){return this._emitter.listeners(e)}emit(e,t,n){return this._emitter.emit(e,t,n)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){if(Xt.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const t=e===Gt.ERROR;this.trigger(Gt.ERROR,{type:Wt.OTHER_ERROR,details:Kt.INTERNAL_EXCEPTION,fatal:t,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){Xt.log("destroy"),this.trigger(Gt.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((e=>e.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((e=>e.destroy())),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){Xt.log("attachMedia"),this._media=e,this.trigger(Gt.MEDIA_ATTACHING,{media:e})}detachMedia(){Xt.log("detachMedia"),this.trigger(Gt.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const t=this.media,n=this.url,r=this.url=Nt.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,Xt.log("loadSource:".concat(r)),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(Gt.MANIFEST_LOADING,{url:e})}startLoad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Xt.log("startLoad(".concat(e,")")),this.started=!0,this.networkControllers.forEach((t=>{t.startLoad(e)}))}stopLoad(){Xt.log("stopLoad"),this.started=!1,this.networkControllers.forEach((e=>{e.stopLoad()}))}resumeBuffering(){this.started&&this.networkControllers.forEach((e=>{"fragmentLoader"in e&&e.startLoad(-1)}))}pauseBuffering(){this.networkControllers.forEach((e=>{"fragmentLoader"in e&&e.stopLoad()}))}swapAudioCodec(){Xt.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Xt.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){Xt.log("set currentLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){Xt.log("set nextLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){Xt.log("set loadLevel:".concat(e)),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){Xt.log("set firstLevel:".concat(e)),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){Xt.log("set startLevel:".concat(e)),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(Xt.log("set autoLevelCapping:".concat(e)),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){(function(e){return yi.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const n=e.length;for(let r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:n}=this;let r;if(r=-1===t&&null!=e&&e.length?e.length-1:t,n)for(let i=r;i--;){const t=e[i].attrs["HDCP-LEVEL"];if(t&&t<=n)return i}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return null==(t=this.audioTrackController)?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return null==(t=this.subtitleTrackController)||t.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}fc.defaultConfig=void 0;const pc=Object.freeze({FILE:"file",IMAGE:"image",VIDEO:"video"}),mc=(Object.freeze({"1080P":"1080p","720P":"720p","480P":"480p","360P":"360p",ORIGINAL:"original"}),Object.freeze({UPLOADED:"uploaded",TRANSCODING:"transcoding",TRANSCODED:"transcoded",TRANSCODE_FAILED:"transcodeFailed"}),Object.freeze({LOW:"low",MEDIUM:"medium",HIGH:"high",ORIGINAL:"original"}),Object.freeze({ONLY_ADMIN_CAN_POST:"ONLY_ADMIN_CAN_POST",ADMIN_REVIEW_POST_REQUIRED:"ADMIN_REVIEW_POST_REQUIRED",ANYONE_CAN_POST:"ANYONE_CAN_POST"})),gc=Object.freeze({ONLY_ADMIN_CAN_POST:{needApprovalOnPostCreation:!1,onlyAdminCanPost:!0},ADMIN_REVIEW_POST_REQUIRED:{needApprovalOnPostCreation:!0,onlyAdminCanPost:!1},ANYONE_CAN_POST:{needApprovalOnPostCreation:!1,onlyAdminCanPost:!1}}),vc=(Object.freeze({STORY:"story",CLIP:"clip",CHAT:"chat",POST:"post",MESSAGE:"message"}),Object.freeze({TEXT:"text",IMAGE:"image",FILE:"file",VIDEO:"video",AUDIO:"audio",CUSTOM:"custom"})),yc=Object.freeze({TEXT:"text",IMAGE:"image",FILE:"file",VIDEO:"video",LIVESTREAM:"liveStream",POLL:"poll",CUSTOM:"custom"});const bc=function(){try{return"v6.16.0-esm"}catch(e){return"__dev__"}}(),Ec=5,wc="cache_then_server",Cc="For using Live Collection feature you need to enable Cache!",Sc=864e5,Tc=6e5,_c="dead",kc=2e3,xc=6e4,Ac=e=>JSON.stringify(e,((e,t)=>{return"object"===typeof t?(n=t,Object.keys(n).sort().reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:n[t]})),{})):t;var n})),Ic=e=>JSON.parse(e),Mc=(e,t)=>e===t||!(!e||!t)&&("object"===typeof e&&Object.keys(e).every((n=>Mc(e[n],t[n])))),Rc=e=>[400400,400300].includes(e),Lc=e=>["after","before","first","last","limit"].some((t=>t in e)),Dc=(e,t)=>{var n;if(!e||!Object.keys(e).length)return;let r={};return"skiplimit"===t?r={skip:null!==(n=e.after)&&void 0!==n?n:0,limit:e.limit}:"afterbefore"===t&&Lc(e)?((null===e||void 0===e?void 0:e.before)&&(r=Object.assign(Object.assign({},r),{before:e.before})),(null===e||void 0===e?void 0:e.after)&&(r=Object.assign(Object.assign({},r),{after:e.after})),Number.isNaN(Number(null===e||void 0===e?void 0:e.limit))||(r=Object.assign(Object.assign({},r),{limit:e.limit}))):"afterbeforeraw"===t&&(r=e),Object.keys(r).length?_(JSON.stringify(r)):void 0},Oc=e=>{if(!e)return;const t=JSON.parse(O(e));if((e=>["skip"].some((t=>t in e)))(t))return{after:t.skip,limit:t.limit};if(Lc(t)){if("before"in t)return{before:t.before,limit:t.last};if("after"in t)return{after:t.after,limit:t.first}}},Pc=e=>{if(!e)return;const t=JSON.parse(O(e));return(e=>"limit"in e)(t)?t:void 0},Nc=e=>"locally"in e,Fc=e=>"optimistically"in e,jc=e=>null===e||void 0===e?void 0:e.hasOwnProperty("cachedAt"),Bc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xc;var n;return Date.now()-(null!==(n=null===e||void 0===e?void 0:e.cachedAt)&&void 0!==n?n:0)<=t},Uc=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{func:e,args:n}},zc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xc;return"cache_only"===e?{lifeSpan:1/0}:{lifeSpan:t<xc?xc:t}},Hc=function(e,t){let n,{func:r,args:i}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zc("cache_then_server");const{lifeSpan:a}=zc("cache_then_server",o.lifeSpan);if((e=>Nc(e)||Fc(e))(r)){try{n=Fc(r)?r.optimistically(...i):r.locally(...i)}catch(s){null===t||void 0===t||t(Vc(void 0,{origin:"local",loading:!1,error:s}))}const e=jc(n)&&Bc(n,a);if(null===t||void 0===t||t(Vc(n,{origin:"local",loading:!(Nc(r)&&e)})),e)return}else null===t||void 0===t||t(Vc(void 0,{origin:"local",loading:!0}));r(...i).then((e=>{null===t||void 0===t||t(Vc(e,{origin:"server",loading:!1}))})).catch((e=>{null===t||void 0===t||t(Vc(void 0,{origin:"server",loading:!1,error:e}))}))};function Vc(e,t){return(null===(n=e)||void 0===n?void 0:n.hasOwnProperty("data"))&&(null===n||void 0===n?void 0:n.hasOwnProperty("nextPage"))&&(null===n||void 0===n?void 0:n.hasOwnProperty("prevPage"))||jc(e)?Object.assign(Object.assign({},t),e):Object.assign(Object.assign({},t),{data:e});var n}const qc={user:e=>{let{userId:t}=e;return t},file:e=>{let{fileId:t}=e;return t},role:e=>{let{roleId:t}=e;return t},channel:e=>{let{channelId:t}=e;return t},subChannel:e=>{let{subChannelId:t}=e;return t},channelUsers:e=>{let{channelId:t,userId:n}=e;return"".concat(t,"#").concat(n)},message:e=>{let{messageId:t}=e;return t},messagePreviewChannel:e=>{let{channelId:t}=e;return"".concat(t)},messagePreviewSubChannel:e=>{let{subChannelId:t}=e;return"".concat(t)},channelMarker:e=>{let{entityId:t,userId:n}=e;return"".concat(t,"#").concat(n)},subChannelMarker:e=>{let{entityId:t,feedId:n,userId:r}=e;return"".concat(t,"#").concat(n,"#").concat(r)},messageMarker:e=>{let{feedId:t,contentId:n,creatorId:r}=e;return"".concat(t,"#").concat(n,"#").concat(r)},feedMarker:e=>{let{feedId:t,entityId:n}=e;return"".concat(t,"#").concat(n)},userMarker:e=>{let{userId:t}=e;return t},community:e=>{let{communityId:t}=e;return t},category:e=>{let{categoryId:t}=e;return t},communityUsers:e=>{let{communityId:t,userId:n}=e;return"".concat(t,"#").concat(n)},post:e=>{let{postId:t}=e;return t},comment:e=>{let{commentId:t}=e;return t},commentChildren:e=>{let{commentId:t}=e;return t},poll:e=>{let{pollId:t}=e;return t},reaction:e=>{let{referenceType:t,referenceId:n}=e;return"".concat(t,"#").concat(n)},reactor:e=>{let{reactionId:t}=e;return t},stream:e=>{let{streamId:t}=e;return t},follow:e=>{let{from:t,to:n}=e;return"".concat(t,"#").concat(n)},followInfo:e=>{let{userId:t}=e;return t},followCount:e=>{let{userId:t}=e;return t},feed:e=>{let{targetId:t,feedId:n}=e;return"".concat(t,"#").concat(n)},story:e=>{let{referenceId:t}=e;return t},storyTarget:e=>{let{targetId:t}=e;return t}},Gc=e=>qc[e],Wc={users:"user",files:"file",roles:"role",stories:"story",storyTargets:"storyTarget",channels:"channel",messageFeeds:"subChannel",channelUsers:"channelUsers",messages:"message",messagePreviewChannel:"messagePreviewChannel",messagePreviewSubChannel:"messagePreviewSubChannel",userEntityMarkers:"channelMarker",userFeedMarkers:"subChannelMarker",contentMarkers:"messageMarker",feedMarkers:"feedMarker",userMarkers:"userMarker",communities:"community",categories:"category",communityUsers:"communityUsers",posts:"post",postChildren:"post",comments:"comment",commentChildren:"comment",polls:"poll",reactors:"reactor",reactions:"reaction",videoStreamings:"stream",follows:"follow",followCounts:"followCount",feeds:"feed"};class Kc extends Error{constructor(e,t,n){super("Amity SDK (".concat(t,"): ").concat(e)),this.code=t,this.level=n,this.type="ASC",this.timestamp=Date.now(),Error.captureStackTrace&&Error.captureStackTrace(this,Kc)}}class Yc extends Kc{constructor(e,t,n){super(e,t,n)}}class Qc extends Kc{constructor(){super("Unexpected error",arguments.length>0&&void 0!==arguments[0]?arguments[0]:8e5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fatal")}}class Zc extends Kc{constructor(e){super("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SDK client is having connection issues"," (").concat(e,")"),"disconnected"===e?800211:800210,"error"),this.event=e}}let $c=null;const Xc=()=>{if(!$c)throw new Kc("There is no active client",8e5,"fatal");return $c},Jc=e=>{$c=e},eu=e=>{const{log:t,cache:n}=Xc();if(n)return t("cache/api/queryCache",{key:e}),Object.keys(n.data).filter((t=>{const n=Ic(t);return Mc(e,n)})).map((e=>n.data[e]))},tu=e=>{const{log:t,cache:n}=Xc();if(!n)return;t("cache/api/pullFromCache",e);const r=Ac(e);return n.data[r]?n.data[r]:void 0},nu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cachedAt:Date.now()};const{log:r,cache:i}=Xc();if(!i)return!1;r("cache/api/pushToCache",{key:e,data:t,options:n}),!(null===n||void 0===n?void 0:n.hasOwnProperty("offline"))&&i.persistIf&&(n.offline=i.persistIf(e,t));const o=Ac(e);return i.data[o]=Object.assign({key:e,data:t},n),!0},ru=(e,t,n)=>{const{log:r,cache:i}=Xc();if(!i)return!1;r("cache/api/mergeInCache",{key:e,mutation:t});const o=tu(e);if(!o)return!1;const a="function"===typeof t?t(o.data):Object.assign(Object.assign({},o.data),t);return s=o.data,!("updatedAt"in(l=a)&&"updatedAt"in l&&new Date(l.updatedAt)<new Date(s.updatedAt))&&(nu(e,a,n),!0);var s,l},iu=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cachedAt:Date.now()};const{log:r,cache:i}=Xc();if(!i)return!1;r("cache/api/upsertInCache",{key:e,data:t,options:n});return tu(e)?ru(e,t,n):nu(e,t,n)},ou=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{log:n,cache:r}=Xc();if(!r)return!1;if(n("cache/api/dropFromCache",{key:e,exact:t}),!t)return Object.keys(r.data).map((e=>Ic(e))).filter((t=>Mc(e,t))).map((e=>ou(e,!0))).every((e=>e));const i=Ac(e);return i in r.data&&(delete r.data[i],!0)},au=(e,t,n)=>void 0!==n?e.filter((e=>JSON.stringify(e[t])===JSON.stringify(n))):e,su=(e,t,n)=>void 0!==n?e.filter((e=>"string"===typeof e[t]&&"string"===typeof n&&String(e[t]).toLowerCase().match(n.toLowerCase()))):e,lu=(e,t,n)=>(null===n||void 0===n?void 0:n.length)?e.filter((e=>Array.isArray(e[t])&&n.some((n=>e[t].includes(n))))):e,cu=(e,t,n)=>"all"===t?e:e.filter((e=>{var r;const i=Gc("communityUsers")({communityId:e.communityId,userId:n}),o=null===(r=tu(["communityUsers","get",i]))||void 0===r?void 0:r.data;return"member"===t?o&&"member"===o.communityMembership:!o||"none"!==o.communityMembership})),uu=(e,t)=>{const n=new RegExp(t,"i");return e.filter((e=>{var t;return!!e.userId.match(n)||e.user&&(null===(t=e.user.displayName)||void 0===t?void 0:t.match(n))}))},du=(e,t)=>{let{displayName:n}=e,{displayName:r}=t;return n===r?0:n<r?-1:1},hu=(e,t)=>{let{name:n}=e,{name:r}=t;return n.localeCompare(r)},fu=(e,t)=>{let{createdAt:n}=e,{createdAt:r}=t;return new Date(n).valueOf()-new Date(r).valueOf()},pu=(e,t)=>{let{createdAt:n}=e,{createdAt:r}=t;return new Date(r).valueOf()-new Date(n).valueOf()};let mu=null;const gu=()=>{if(!mu)throw new Kc("Connect client first",8e5,"fatal");return mu},vu=e=>{mu={_id:e._id,userId:e.userId,path:e.path}};let yu,bu=[];const Eu=e=>{clearTimeout(yu),bu.push(e),yu=setTimeout((()=>{bu.forEach((e=>e())),bu=[]}),0)},wu=["disconnected","error","connect_error","reconnect_error","reconnect_failed","sessionStateChange","tokenExpired"],Cu=["connect","message","disconnect","error","close","end","reconnect","user.didGlobalBan"],Su=()=>function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}}}(),Tu=(e,t)=>{Cu.forEach((n=>{e.on(n,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.emit(n,1===r.length?r[0]:r)}))})),e.on("message",((e,n)=>{const r=JSON.parse(n.toString());t.emit(r.eventType,r.data)}))},_u=(e,t,n,r)=>{const{log:i,emitter:o}=e,a=Date.now();i("".concat(t,"(tmpid: ").concat(a,") > listen"));const s=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];i("".concat(t,"(tmpid: ").concat(a,") > trigger"),n);try{r(...n)}catch(s){i("".concat(t,"(tmpid: ").concat(a,") > error"),s)}};return o.on(n,s),()=>{i("".concat(t,"(tmpid: ").concat(a,") > dispose")),o.off(n,s)}},ku=(e,t)=>{const{emitter:n}=Xc();Eu((()=>{n.emit(e,t)}))};let xu,Au;async function Iu(){var e;const{mqtt:t,emitter:n,token:r}=Xc(),i=null!==(e=null===r||void 0===r?void 0:r.accessToken)&&void 0!==e?e:"",o=gu();xu===i&&Au===o._id||(xu=i,Au=o._id,await t.connect({accessToken:xu,userId:Au}),Tu(t,n))}var Mu;!function(e){e.COMMUNITY="community",e.POST="post",e.COMMENT="comment",e.POST_AND_COMMENT="post_and_comment",e.USER="user"}(Mu||(Mu={}));const Ru=(e,t)=>{switch(t){case"post":return"".concat(e,"/post/+");case"comment":return"".concat(e,"/post/+/comment/+");case"post_and_comment":return"".concat(e,"/post/#");default:return e}},Lu=e=>e.path.split("/user/")[0],Du=function(e){let{path:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mu.COMMUNITY;return Ru(t,n)},Ou=function(e){let{path:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mu.USER;return Ru(n===Mu.USER?t:t.replace(/^(\w*)/,"$1/social"),n)},Pu=()=>{const e=gu();return"".concat(Lu(e),"/smartfeed/").concat(e._id,"/channels")},Nu=()=>{const e=gu();return"".concat(Lu(e),"/smartfeed/").concat(e._id,"/messagefeeds")},Fu=()=>{const e=gu();return"".concat(Lu(e),"/smartfeed/").concat(e._id,"/messages")};function ju(e,t){const{mqtt:n}=Xc();return Iu(),n.subscribe(e,t)}var Bu;const Uu="object"===typeof globalThis?globalThis:"object"===typeof n.g?n.g:window,{process:zu={}}=Uu,Hu="production"===(null===(Bu=zu.env)||void 0===Bu?void 0:Bu.NODE_ENV),Vu="sg",qu={http:"https://api.{region}.amity.co",mqtt:"wss://sse.{region}.amity.co:443/mqtt"};function Gu(e,t){return qu[e].replace("{region}",t)}var Wu;!function(e){e.UserDeleted="User Deleted",e.UserGlobalBanned="User Global Banned",e.TokenExpired="Token Expired"}(Wu||(Wu={}));const Ku=new AbortController,Yu=e=>{switch(e){case Wu.UserGlobalBanned:throw new Kc(e,400312,"fatal");case Wu.UserDeleted:throw new Kc(e,400100,"fatal");case Wu.TokenExpired:throw ku("tokenExpired","tokenExpired"),new Kc(e,800403,"fatal");default:throw new Kc("Request Aborted",8e5,"error")}},Qu=e=>{const t={maxSockets:100,maxFreeSockets:10,timeout:6e4,freeSocketTimeout:3e4},n=xt.create({baseURL:e,httpAgent:new(It())(t),httpsAgent:new At.HttpsAgent(t),signal:Ku.signal});return n.interceptors.request.use((e=>{if("/api/v4/sessions"===e.url)return e;if(e.metadata){const{tokenExpiry:t,isGlobalBanned:n,isUserDeleted:r}=e.metadata;n&&(Ku.abort(),Yu(Wu.UserGlobalBanned)),r&&(Ku.abort(),Yu(Wu.UserDeleted)),t&&Date.now()>=Date.parse(t)&&(Ku.abort(Wu.UserDeleted),Yu(Wu.TokenExpired))}return e})),n.interceptors.response.use((e=>e),(e=>{var t,n;const{response:r}=e;if(400100===(null===r||void 0===r?void 0:r.data.code)&&ku("tokenTerminated","terminated"),(null===(t=null===r||void 0===r?void 0:r.data)||void 0===t?void 0:t.status)&&(e=>{if("success"===e.status)return e.data;if("fail"===e.status)throw new Qc(e.code);if("error"===e.status)throw new Yc(e.message,e.code,"error")})(null===r||void 0===r?void 0:r.data),Ku.signal.aborted)throw e;throw new Error(null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:e)})),n.defaults.paramsSerializer={encode:e=>encodeURIComponent(e)},n};var Zu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function $u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ju={exports:{}};!function(e,t){e.exports=function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(!s&&Xu)return Xu(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=Xu,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){(function(n,r){(function(){const i=e("events").EventEmitter,o=e("./store"),a=e("./topic-alias-recv"),s=e("./topic-alias-send"),l=e("mqtt-packet"),c=e("./default-message-id-provider"),u=e("readable-stream").Writable,d=e("inherits"),h=e("reinterval"),f=e("rfdc/default"),p=e("./validations"),m=e("xtend"),g=e("debug")("mqttjs:client"),v=n?n.nextTick:function(e){setTimeout(e,0)},y=r.setImmediate||function(e){v(e)},b={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},E=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],w={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function C(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function S(e,t){if(5===e.options.protocolVersion&&"publish"===t.cmd){let n;t.properties&&(n=t.properties.topicAlias);const r=t.topic.toString();if(e.topicAliasSend)if(n){if(0!==r.length&&(g("applyTopicAlias :: register topic: %s - alias: %d",r,n),!e.topicAliasSend.put(r,n)))return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,n),new Error("Sending Topic Alias out of range")}else 0!==r.length&&(e.options.autoAssignTopicAlias?(n=e.topicAliasSend.getAliasByTopic(r),n?(t.topic="",t.properties={...t.properties,topicAlias:n},g("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",r,n)):(n=e.topicAliasSend.getLruAlias(),e.topicAliasSend.put(r,n),t.properties={...t.properties,topicAlias:n},g("applyTopicAlias :: auto assign topic: %s - alias: %d",r,n))):e.options.autoUseTopicAlias&&(n=e.topicAliasSend.getAliasByTopic(r),n&&(t.topic="",t.properties={...t.properties,topicAlias:n},g("applyTopicAlias :: auto use topic: %s - alias: %d",r,n))));else if(n)return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",r,n),new Error("Sending Topic Alias out of range")}}function T(e,t){let n;t.properties&&(n=t.properties.topicAlias);let r=t.topic.toString();if(0===r.length){if("undefined"===typeof n)return new Error("Unregistered Topic Alias");if(r=e.topicAliasSend.getTopicByAlias(n),"undefined"===typeof r)return new Error("Unregistered Topic Alias");t.topic=r}n&&delete t.properties.topicAlias}function _(e,t,n){g("sendPacket :: packet: %O",t),g("sendPacket :: emitting `packetsend`"),e.emit("packetsend",t),g("sendPacket :: writing to stream");const r=l.writeToStream(t,e.stream,e.options);g("sendPacket :: writeToStream result %s",r),!r&&n&&n!==I?(g("sendPacket :: handle events on `drain` once through callback."),e.stream.once("drain",n)):n&&(g("sendPacket :: invoking cb"),n())}function k(e){e&&(g("flush: queue exists? %b",!!e),Object.keys(e).forEach((function(t){"function"===typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})))}function x(e){e&&(g("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach((function(t){e[t].volatile&&"function"===typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})))}function A(e,t,n,r){g("storeAndSend :: store packet with cmd %s to outgoingStore",t.cmd);let i,o=t;if("publish"===o.cmd&&(o=f(t),i=T(e,o),i))return n&&n(i);e.outgoingStore.put(o,(function(i){if(i)return n&&n(i);r(),_(e,t,n)}))}function I(e){g("nop ::",e)}function M(e,t){let n;const r=this;if(!(this instanceof M))return new M(e,t);for(n in this.options=t||{},b)"undefined"===typeof this.options[n]?this.options[n]=b[n]:this.options[n]=t[n];g("MqttClient :: options.protocol",t.protocol),g("MqttClient :: options.protocolVersion",t.protocolVersion),g("MqttClient :: options.username",t.username),g("MqttClient :: options.keepalive",t.keepalive),g("MqttClient :: options.reconnectPeriod",t.reconnectPeriod),g("MqttClient :: options.rejectUnauthorized",t.rejectUnauthorized),g("MqttClient :: options.topicAliasMaximum",t.topicAliasMaximum),this.options.clientId="string"===typeof t.clientId?t.clientId:C(),g("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.messageIdProvider="undefined"===typeof this.options.messageIdProvider?new c:this.options.messageIdProvider,this.outgoingStore=t.outgoingStore||new o,this.incomingStore=t.incomingStore||new o,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,t.topicAliasMaximum>0&&(t.topicAliasMaximum>65535?g("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new a(t.topicAliasMaximum)),this.on("connect",(function(){const e=this.queue;function t(){const n=e.shift();g("deliver :: entry %o",n);let i=null;if(!n)return void r._resubscribe();i=n.packet,g("deliver :: call _sendPacket for %o",i);let o=!0;i.messageId&&0!==i.messageId&&(r.messageIdProvider.register(i.messageId)||(o=!1)),o?r._sendPacket(i,(function(e){n.cb&&n.cb(e),t()})):(g("messageId: %d has already used. The message is skipped and removed.",i.messageId),t())}g("connect :: sending queued packets"),t()})),this.on("close",(function(){g("close :: connected set to `false`"),this.connected=!1,g("close :: clearing connackTimer"),clearTimeout(this.connackTimer),g("close :: clearing ping timer"),null!==r.pingTimer&&(r.pingTimer.clear(),r.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),g("close :: calling _setupReconnect"),this._setupReconnect()})),i.call(this),g("MqttClient :: setting up stream"),this._setupStream()}d(M,i),M.prototype._setupStream=function(){const e=this,t=new u,n=l.parser(this.options);let r=null;const i=[];function o(){if(i.length)v(a);else{const e=r;r=null,e()}}function a(){g("work :: getting next packet in queue");const t=i.shift();if(t)g("work :: packet pulled from queue"),e._handlePacket(t,o);else{g("work :: no packets in queue");const e=r;r=null,g("work :: done flag is %s",!!e),e&&e()}}function s(t){g("streamErrorHandler :: error",t.message),E.includes(t.code)?(g("streamErrorHandler :: emitting error"),e.emit("error",t)):I(t)}g("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),g("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),n.on("packet",(function(e){g("parser :: on packet push to packets array."),i.push(e)})),t._write=function(e,t,i){r=i,g("writable stream :: parsing buffer"),n.parse(e),a()},g("_setupStream :: pipe stream to writable stream"),this.stream.pipe(t),this.stream.on("error",s),this.stream.on("close",(function(){g("(%s)stream :: on close",e.options.clientId),x(e.outgoing),g("stream: emit close to MqttClient"),e.emit("close")})),g("_setupStream: sending packet `connect`");const c=Object.create(this.options);if(c.cmd="connect",this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),_(this,c),n.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return e.end((()=>this.emit("error",new Error("Packet has no Authentication Method")))),this;this.options.properties.authenticationMethod&&this.options.authPacket&&"object"===typeof this.options.authPacket&&_(this,m({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){g("!!connectTimeout hit!! Calling _cleanUp with force `true`"),e._cleanUp(!0)}),this.options.connectTimeout)},M.prototype._handlePacket=function(e,t){const n=this.options;if(5===n.protocolVersion&&n.properties&&n.properties.maximumPacketSize&&n.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(g("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"auth":this._handleAuth(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},M.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e&&e!==I?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},M.prototype.publish=function(e,t,n,r){g("publish :: message `%s` to topic `%s`",t,e);const i=this.options;if("function"===typeof n&&(r=n,n=null),n=m({qos:0,retain:!1,dup:!1},n),this._checkDisconnecting(r))return this;const o=this,a=function(){let a=0;if((1===n.qos||2===n.qos)&&(a=o._nextId(),null===a))return g("No messageId left"),!1;const s={cmd:"publish",topic:e,payload:t,qos:n.qos,retain:n.retain,messageId:a,dup:n.dup};switch(5===i.protocolVersion&&(s.properties=n.properties),g("publish :: qos",n.qos),n.qos){case 1:case 2:o.outgoing[s.messageId]={volatile:!1,cb:r||I},g("MqttClient:publish: packet cmd: %s",s.cmd),o._sendPacket(s,void 0,n.cbStorePut);break;default:g("MqttClient:publish: packet cmd: %s",s.cmd),o._sendPacket(s,r,n.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,cbStorePut:n.cbStorePut,callback:r}),this},M.prototype.subscribe=function(){const e=this,t=new Array(arguments.length);for(let d=0;d<arguments.length;d++)t[d]=arguments[d];const n=[];let r=t.shift();const i=r.resubscribe;let o=t.pop()||I,a=t.pop();const s=this.options.protocolVersion;delete r.resubscribe,"string"===typeof r&&(r=[r]),"function"!==typeof o&&(a=o,o=I);const l=p.validateTopics(r);if(null!==l)return y(o,new Error("Invalid topic "+l)),this;if(this._checkDisconnecting(o))return g("subscribe: discconecting true"),this;const c={qos:0};if(5===s&&(c.nl=!1,c.rap=!1,c.rh=0),a=m(c,a),Array.isArray(r)?r.forEach((function(t){if(g("subscribe: array topic %s",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<a.qos||i){const e={topic:t,qos:a.qos};5===s&&(e.nl=a.nl,e.rap=a.rap,e.rh=a.rh,e.properties=a.properties),g("subscribe: pushing topic `%s` and qos `%s` to subs list",e.topic,e.qos),n.push(e)}})):Object.keys(r).forEach((function(t){if(g("subscribe: object topic %s",t),!Object.prototype.hasOwnProperty.call(e._resubscribeTopics,t)||e._resubscribeTopics[t].qos<r[t].qos||i){const e={topic:t,qos:r[t].qos};5===s&&(e.nl=r[t].nl,e.rap=r[t].rap,e.rh=r[t].rh,e.properties=a.properties),g("subscribe: pushing `%s` to subs list",e),n.push(e)}})),!n.length)return o(null,[]),this;const u=function(){const t=e._nextId();if(null===t)return g("No messageId left"),!1;const r={cmd:"subscribe",subscriptions:n,qos:1,retain:!1,dup:!1,messageId:t};if(a.properties&&(r.properties=a.properties),e.options.resubscribe){g("subscribe :: resubscribe true");const t=[];n.forEach((function(n){if(e.options.reconnectPeriod>0){const r={qos:n.qos};5===s&&(r.nl=n.nl||!1,r.rap=n.rap||!1,r.rh=n.rh||0,r.properties=n.properties),e._resubscribeTopics[n.topic]=r,t.push(n.topic)}})),e.messageIdToTopic[r.messageId]=t}return e.outgoing[r.messageId]={volatile:!0,cb:function(e,t){if(!e){const e=t.granted;for(let t=0;t<e.length;t+=1)n[t].qos=e[t]}o(e,n)}},g("subscribe :: call _sendPacket"),e._sendPacket(r),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!u())&&this._storeProcessingQueue.push({invoke:u,callback:o}),this},M.prototype.unsubscribe=function(){const e=this,t=new Array(arguments.length);for(let s=0;s<arguments.length;s++)t[s]=arguments[s];let n=t.shift(),r=t.pop()||I,i=t.pop();"string"===typeof n&&(n=[n]),"function"!==typeof r&&(i=r,r=I);const o=p.validateTopics(n);if(null!==o)return y(r,new Error("Invalid topic "+o)),this;if(e._checkDisconnecting(r))return this;const a=function(){const t=e._nextId();if(null===t)return g("No messageId left"),!1;const o={cmd:"unsubscribe",qos:1,messageId:t};return"string"===typeof n?o.unsubscriptions=[n]:Array.isArray(n)&&(o.unsubscriptions=n),e.options.resubscribe&&o.unsubscriptions.forEach((function(t){delete e._resubscribeTopics[t]})),"object"===typeof i&&i.properties&&(o.properties=i.properties),e.outgoing[o.messageId]={volatile:!0,cb:r},g("unsubscribe: call _sendPacket"),e._sendPacket(o),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,callback:r}),this},M.prototype.end=function(e,t,n){const r=this;function i(){g("end :: closeStores: closing incoming and outgoing stores"),r.disconnected=!0,r.incomingStore.close((function(e){r.outgoingStore.close((function(t){if(g("end :: closeStores: emitting end"),r.emit("end"),n){const r=e||t;g("end :: closeStores: invoking callback with args"),n(r)}}))})),r._deferredReconnect&&r._deferredReconnect()}function o(){g("end :: (%s) :: finish :: calling _cleanUp with force %s",r.options.clientId,e),r._cleanUp(e,(()=>{g("end :: finish :: calling process.nextTick on closeStores"),v(i.bind(r))}),t)}return g("end :: (%s)",this.options.clientId),null!=e&&"boolean"===typeof e||(n=t||I,t=e,e=!1,"object"!==typeof t&&(n=t,t=null,"function"!==typeof n&&(n=I))),"object"!==typeof t&&(n=t,t=null),g("end :: cb? %s",!!n),n=n||I,this.disconnecting?(n(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(g("end :: (%s) :: calling finish in 10ms once outgoing is empty",r.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(g("end :: (%s) :: immediately calling finish",r.options.clientId),o()),this)},M.prototype.removeOutgoingMessage=function(e){const t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},(function(){t(new Error("Message removed"))})),this},M.prototype.reconnect=function(e){g("client reconnect");const t=this,n=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new o,t.outgoingStore=t.options.outgoingStore||new o,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=n:n(),this},M.prototype._reconnect=function(){g("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((()=>{this._setupStream()})),g("client already connected. disconnecting first.")):(g("_reconnect: calling _setupStream"),this._setupStream())},M.prototype._setupReconnect=function(){const e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0?(this.reconnecting||(g("_setupReconnect :: emit `offline` state"),this.emit("offline"),g("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),g("_setupReconnect :: setting reconnectTimer for %d ms",e.options.reconnectPeriod),e.reconnectTimer=setInterval((function(){g("reconnectTimer :: reconnect triggered!"),e._reconnect()}),e.options.reconnectPeriod)):g("_setupReconnect :: doing nothing...")},M.prototype._clearReconnect=function(){g("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},M.prototype._cleanUp=function(e,t){const n=arguments[2];if(t&&(g("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),g("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&k(this.outgoing),g("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const e=m({cmd:"disconnect"},n);g("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(e,y.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(g("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(g("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(g("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())},M.prototype._sendPacket=function(e,t,n){g("_sendPacket :: (%s) ::  start",this.options.clientId),n=n||I,t=t||I;const r=S(this,e);if(r)t(r);else{if(!this.connected)return"auth"===e.cmd?(this._shiftPingInterval(),void _(this,e,t)):(g("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,n));switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void A(this,e,t,n);default:return void _(this,e,t)}switch(e.qos){case 2:case 1:A(this,e,t,n);break;default:_(this,e,t)}g("_sendPacket :: (%s) ::  end",this.options.clientId)}},M.prototype._storePacket=function(e,t,n){g("_storePacket :: packet: %o",e),g("_storePacket :: cb? %s",!!t),n=n||I;let r=e;if("publish"===r.cmd){r=f(e);const n=T(this,r);if(n)return t&&t(n)}0===(r.qos||0)&&this.queueQoSZero||"publish"!==r.cmd?this.queue.push({packet:r,cb:t}):r.qos>0?(t=this.outgoing[r.messageId]?this.outgoing[r.messageId].cb:null,this.outgoingStore.put(r,(function(e){if(e)return t&&t(e);n()}))):t&&t(new Error("No connection to broker"))},M.prototype._setupPingTimer=function(){g("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=h((function(){e._checkPing()}),1e3*this.options.keepalive))},M.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},M.prototype._checkPing=function(){g("_checkPing :: checking ping..."),this.pingResp?(g("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(g("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},M.prototype._handlePingresp=function(){this.pingResp=!0},M.prototype._handleConnack=function(e){g("_handleConnack");const t=this.options,n=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535)return void this.emit("error",new Error("topicAliasMaximum from broker is out of range"));e.properties.topicAliasMaximum>0&&(this.topicAliasSend=new s(e.properties.topicAliasMaximum))}e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)}if(0===n)this.reconnecting=!1,this._onConnect(e);else if(n>0){const e=new Error("Connection refused: "+w[n]);e.code=n,this.emit("error",e)}},M.prototype._handleAuth=function(e){const t=this.options.protocolVersion,n=5===t?e.reasonCode:e.returnCode;if(5!==t){const e=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+t);return e.code=n,void this.emit("error",e)}const r=this;this.handleAuth(e,(function(e,t){if(e)r.emit("error",e);else if(24===n)r.reconnecting=!1,r._sendPacket(t);else{const t=new Error("Connection refused: "+w[n]);e.code=n,r.emit("error",t)}}))},M.prototype.handleAuth=function(e,t){t()},M.prototype._handlePublish=function(e,t){g("_handlePublish: packet %o",e),t="undefined"!==typeof t?t:I;let n=e.topic.toString();const r=e.payload,i=e.qos,o=e.messageId,a=this,s=this.options,l=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let t;if(e.properties&&(t=e.properties.topicAlias),"undefined"!==typeof t)if(0===n.length){if(!(t>0&&t<=65535))return g("_handlePublish :: topic alias out of range. alias: %d",t),void this.emit("error",new Error("Received Topic Alias is out of range"));{const e=this.topicAliasRecv.getTopicByAlias(t);if(!e)return g("_handlePublish :: unregistered topic alias. alias: %d",t),void this.emit("error",new Error("Received unregistered Topic Alias"));n=e,g("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,t)}}else{if(!this.topicAliasRecv.put(n,t))return g("_handlePublish :: topic alias out of range. alias: %d",t),void this.emit("error",new Error("Received Topic Alias is out of range"));g("_handlePublish :: registered topic: %s - alias: %d",n,t)}}switch(g("_handlePublish: qos %d",i),i){case 2:s.customHandleAcks(n,r,e,(function(n,r){return n instanceof Error||(r=n,n=null),n?a.emit("error",n):-1===l.indexOf(r)?a.emit("error",new Error("Wrong reason code for pubrec")):void(r?a._sendPacket({cmd:"pubrec",messageId:o,reasonCode:r},t):a.incomingStore.put(e,(function(){a._sendPacket({cmd:"pubrec",messageId:o},t)})))}));break;case 1:s.customHandleAcks(n,r,e,(function(i,s){return i instanceof Error||(s=i,i=null),i?a.emit("error",i):-1===l.indexOf(s)?a.emit("error",new Error("Wrong reason code for puback")):(s||a.emit("message",n,r,e),void a.handleMessage(e,(function(e){if(e)return t&&t(e);a._sendPacket({cmd:"puback",messageId:o,reasonCode:s},t)})))}));break;case 0:this.emit("message",n,r,e),this.handleMessage(e,t);break;default:g("_handlePublish: unknown QoS. Doing nothing.")}},M.prototype.handleMessage=function(e,t){t()},M.prototype._handleAck=function(e){const t=e.messageId,n=e.cmd;let r=null;const i=this.outgoing[t]?this.outgoing[t].cb:null,o=this;let a;if(i){switch(g("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{const n=e.reasonCode;n&&n>0&&16!==n&&(a=new Error("Publish error: "+w[n]),a.code=n,i(a,e)),delete this.outgoing[t],this.outgoingStore.del(e,i),this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue();break}case"pubrec":{r={cmd:"pubrel",qos:2,messageId:t};const n=e.reasonCode;n&&n>0&&16!==n?(a=new Error("Publish error: "+w[n]),a.code=n,i(a,e)):this._sendPacket(r);break}case"suback":delete this.outgoing[t],this.messageIdProvider.deallocate(t);for(let n=0;n<e.granted.length;n++)if(0!==(128&e.granted[n])){const e=this.messageIdToTopic[t];e&&e.forEach((function(e){delete o._resubscribeTopics[e]}))}this._invokeStoreProcessingQueue(),i(null,e);break;case"unsuback":delete this.outgoing[t],this.messageIdProvider.deallocate(t),this._invokeStoreProcessingQueue(),i(null);break;default:o.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}else g("_handleAck :: Server sent an ack in error. Ignoring.")},M.prototype._handlePubrel=function(e,t){g("handling pubrel packet"),t="undefined"!==typeof t?t:I;const n=e.messageId,r=this,i={cmd:"pubcomp",messageId:n};r.incomingStore.get(e,(function(e,n){e?r._sendPacket(i,t):(r.emit("message",n.topic,n.payload,n),r.handleMessage(n,(function(e){if(e)return t(e);r.incomingStore.del(n,I),r._sendPacket(i,t)})))}))},M.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},M.prototype._nextId=function(){return this.messageIdProvider.allocate()},M.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},M.prototype._resubscribe=function(){g("_resubscribe");const e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){g("_resubscribe: protocolVersion 5");for(let t=0;t<e.length;t++){const n={};n[e[t]]=this._resubscribeTopics[e[t]],n.resubscribe=!0,this.subscribe(n,{properties:n[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},M.prototype._onConnect=function(e){if(this.disconnected)return void this.emit("connect",e);const t=this;function n(){let r=t.outgoingStore.createStream();function i(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function o(){r.destroy(),r=null,t._flushStoreProcessingQueue(),i()}function a(){if(!r)return;t._storeProcessing=!0;const e=r.read(1);let n;e?t._packetIdsDuringStoreProcessing[e.messageId]?a():t.disconnecting||t.reconnectTimer?r.destroy&&r.destroy():(n=t.outgoing[e.messageId]?t.outgoing[e.messageId].cb:null,t.outgoing[e.messageId]={volatile:!1,cb:function(e,t){n&&n(e,t),a()}},t._packetIdsDuringStoreProcessing[e.messageId]=!0,t.messageIdProvider.register(e.messageId)?t._sendPacket(e):g("messageId: %d has already used.",e.messageId)):r.once("readable",a)}t.once("close",o),r.on("error",(function(e){i(),t._flushStoreProcessingQueue(),t.removeListener("close",o),t.emit("error",e)})),r.on("end",(function(){let r=!0;for(const e in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[e]){r=!1;break}r?(i(),t.removeListener("close",o),t._invokeAllStoreProcessingQueue(),t.emit("connect",e)):n()})),a()}this.connackPacket=e,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,n()},M.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1},M.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},M.prototype._flushStoreProcessingQueue=function(){for(const e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},t.exports=M}).call(this)}).call(this,e("_process"),"undefined"!==typeof Zu?Zu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(e,t,n){const{Buffer:r}=e("buffer"),i=e("readable-stream").Transform,o=e("duplexify");let a,s,l,c=!1;function u(){const e=new i;return e._write=function(e,t,n){a.sendSocketMessage({data:e.buffer,success:function(){n()},fail:function(){n(new Error)}})},e._flush=function(e){a.closeSocket({success:function(){e()}})},e}function d(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function h(e,t){const n="alis"===e.protocol?"wss":"ws";let r=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(r=n+"://"+e.hostname+":"+e.port+e.path),"function"===typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function f(){c||(c=!0,a.onSocketOpen((function(){l.setReadable(s),l.setWritable(s),l.emit("connect")})),a.onSocketMessage((function(e){if("string"===typeof e.data){const t=r.from(e.data,"base64");s.push(t)}else{const t=new FileReader;t.addEventListener("load",(function(){let e=t.result;e=e instanceof ArrayBuffer?r.from(e):r.from(e,"utf8"),s.push(e)})),t.readAsArrayBuffer(e.data)}})),a.onSocketClose((function(){l.end(),l.destroy()})),a.onSocketError((function(e){l.destroy(e)})))}function p(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");const n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";d(t);const r=h(t,e);return a=t.my,a.connectSocket({url:r,protocols:n}),s=u(),l=o.obj(),f(),l}t.exports=p},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(e,t,n){const r=e("net"),i=e("debug")("mqttjs:tcp");function o(e,t){t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost";const n=t.port,o=t.hostname;return i("port %d and host %s",n,o),r.createConnection(n,o)}t.exports=o},{debug:18,net:16}],4:[function(e,t,n){const r=e("tls"),i=e("net"),o=e("debug")("mqttjs:tls");function a(e,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===i.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,o("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);const n=r.connect(t);function a(r){t.rejectUnauthorized&&e.emit("error",r),n.end()}return n.on("secureConnect",(function(){t.rejectUnauthorized&&!n.authorized?n.emit("error",new Error("TLS not authorized")):n.removeListener("error",a)})),n.on("error",a),n}t.exports=a},{debug:18,net:16,tls:16}],5:[function(e,t,n){(function(n){(function(){const{Buffer:r}=e("buffer"),i=e("ws"),o=e("debug")("mqttjs:ws"),a=e("duplexify"),s=e("readable-stream").Transform,l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],c="undefined"!==typeof n&&"browser"===n.title||!0;function u(e,t){let n=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"===typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function d(e){const t=e;return e.hostname||(t.hostname="localhost"),e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),c||"wss"!==e.protocol||l.forEach((function(n){Object.prototype.hasOwnProperty.call(e,n)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,n)&&(t.wsOptions[n]=e[n])})),t}function h(e){const t=d(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"===typeof document)throw new Error("Could not determine host. Specify host manually.");const e=new URL(document.URL);t.hostname=e.hostname,t.port||(t.port=e.port)}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}function f(e,t,n){o("createWebSocket"),o("protocol: "+n.protocolId+" "+n.protocolVersion);const r="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";return o("creating new Websocket for url: "+t+" and protocol: "+r),new i(t,[r],n.wsOptions)}function p(e,t){const n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",r=u(t,e),i=new WebSocket(r,[n]);return i.binaryType="arraybuffer",i}function m(e,t){o("streamBuilder");const n=d(t),r=u(n,e),a=f(e,r,n),s=i.createWebSocketStream(a,n.wsOptions);return s.url=r,a.on("close",(()=>{s.destroy()})),s}function g(e,t){let n;o("browserStreamBuilder");const i=h(t).browserBufferSize||524288,l=t.browserBufferTimeout||1e3,c=!t.objectMode,u=p(e,t),d=m(t,w,C);t.objectMode||(d._writev=E),d.on("close",(()=>{u.close()}));const f="undefined"!==typeof u.addEventListener;function m(e,t,n){const r=new s({objectModeMode:e.objectMode});return r._write=t,r._flush=n,r}function g(){n.setReadable(d),n.setWritable(d),n.emit("connect")}function v(){n.end(),n.destroy()}function y(e){n.destroy(e)}function b(e){let t=e.data;t=t instanceof ArrayBuffer?r.from(t):r.from(t,"utf8"),d.push(t)}function E(e,t){const n=new Array(e.length);for(let i=0;i<e.length;i++)"string"===typeof e[i].chunk?n[i]=r.from(e[i],"utf8"):n[i]=e[i].chunk;this._write(r.concat(n),"binary",t)}function w(e,t,n){u.bufferedAmount>i&&setTimeout(w,l,e,t,n),c&&"string"===typeof e&&(e=r.from(e,"utf8"));try{u.send(e)}catch(t7){return n(t7)}n()}function C(e){u.close(),e()}return u.readyState===u.OPEN?n=d:(n=n=a(void 0,void 0,t),t.objectMode||(n._writev=E),f?u.addEventListener("open",g):u.onopen=g),n.socket=u,f?(u.addEventListener("close",v),u.addEventListener("error",y),u.addEventListener("message",b)):(u.onclose=v,u.onerror=y,u.onmessage=b),n}t.exports=c?g:m}).call(this)}).call(this,e("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(e,t,n){const{Buffer:r}=e("buffer"),i=e("readable-stream").Transform,o=e("duplexify");let a,s,l;function c(){const e=new i;return e._write=function(e,t,n){a.send({data:e.buffer,success:function(){n()},fail:function(e){n(new Error(e))}})},e._flush=function(e){a.close({success:function(){e()}})},e}function u(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function d(e,t){const n="wxs"===e.protocol?"wss":"ws";let r=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(r=n+"://"+e.hostname+":"+e.port+e.path),"function"===typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function h(){a.onOpen((function(){l.setReadable(s),l.setWritable(s),l.emit("connect")})),a.onMessage((function(e){let t=e.data;t=t instanceof ArrayBuffer?r.from(t):r.from(t,"utf8"),s.push(t)})),a.onClose((function(){l.end(),l.destroy()})),a.onError((function(e){l.destroy(new Error(e.errMsg))}))}function f(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");const n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";u(t);const r=d(t,e);a=wx.connectSocket({url:r,protocols:[n]}),s=c(),l=o.obj(),l._destroy=function(e,t){a.close({success:function(){t&&t(e)}})};const i=l.destroy;return l.destroy=function(){l.destroy=i;const e=this;setTimeout((function(){a.close({fail:function(){e._destroy(new Error)}})}),0)}.bind(l),h(),l}t.exports=f},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(e,t,n){function r(){if(!(this instanceof r))return new r;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}r.prototype.allocate=function(){const e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},r.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},r.prototype.register=function(e){return!0},r.prototype.deallocate=function(e){},r.prototype.clear=function(){},t.exports=r},{}],8:[function(e,t,n){const r=e("xtend"),i=e("readable-stream").Readable,o={objectMode:!0},a={clean:!0};function s(e){if(!(this instanceof s))return new s(e);this.options=e||{},this.options=r(a,e),this._inflights=new Map}s.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},s.prototype.createStream=function(){const e=new i(o),t=[];let n=!1,r=0;return this._inflights.forEach((function(e,n){t.push(e)})),e._read=function(){!n&&r<t.length?this.push(t[r++]):this.push(null)},e.destroy=function(){if(n)return;const e=this;n=!0,setTimeout((function(){e.emit("close")}),0)},e},s.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},s.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},s.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},t.exports=s},{"readable-stream":69,xtend:81}],9:[function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this.aliasToTopic={},this.max=e}r.prototype.put=function(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)},r.prototype.getTopicByAlias=function(e){return this.aliasToTopic[e]},r.prototype.clear=function(){this.aliasToTopic={}},t.exports=r},{}],10:[function(e,t,n){const r=e("lru-cache"),i=e("number-allocator").NumberAllocator;function o(e){if(!(this instanceof o))return new o(e);e>0&&(this.aliasToTopic=new r({max:e}),this.topicToAlias={},this.numberAllocator=new i(1,e),this.max=e,this.length=0)}o.prototype.put=function(e,t){if(0===t||t>this.max)return!1;const n=this.aliasToTopic.get(t);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(e){return this.aliasToTopic.get(e)},o.prototype.getAliasByTopic=function(e){const t=this.topicToAlias[e];return"undefined"!==typeof t&&this.aliasToTopic.get(t),t},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){const e=this.numberAllocator.firstVacant();return e||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},{"lru-cache":37,"number-allocator":46}],11:[function(e,t,n){function r(e){const t=e.split("/");for(let n=0;n<t.length;n++)if("+"!==t[n]){if("#"===t[n])return n===t.length-1;if(-1!==t[n].indexOf("+")||-1!==t[n].indexOf("#"))return!1}return!0}function i(e){if(0===e.length)return"empty_topic_list";for(let t=0;t<e.length;t++)if(!r(e[t]))return e[t];return null}t.exports={validateTopics:i}},{}],12:[function(e,t,n){(function(n){(function(){const r=e("../client"),i=e("../store"),o=e("url"),a=e("xtend"),s=e("debug")("mqttjs"),l={};function c(e){let t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}function u(e,t){if(s("connecting to an MQTT broker..."),"object"!==typeof e||t||(t=e,e=null),t=t||{},e){const n=o.parse(e,!0);if(null!=n.port&&(n.port=Number(n.port)),null===(t=a(n,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(c(t),t.query&&"string"===typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!l[t.protocol]){const e=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(t,n){return(!e||n%2!==0)&&"function"===typeof l[t]}))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");function n(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),s("calling streambuilder for",t.protocol),l[t.protocol](e,t)}t.protocol&&(t.defaultProtocol=t.protocol);const i=new r(n,t);return i.on("error",(function(){})),i}"undefined"!==typeof n&&"browser"!==n.title?(l.mqtt=e("./tcp"),l.tcp=e("./tcp"),l.ssl=e("./tls"),l.tls=e("./tls"),l.mqtts=e("./tls")):(l.wx=e("./wx"),l.wxs=e("./wx"),l.ali=e("./ali"),l.alis=e("./ali")),l.ws=e("./ws"),l.wss=e("./ws"),t.exports=u,t.exports.connect=u,t.exports.MqttClient=r,t.exports.Store=i}).call(this)}).call(this,e("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(e,t,n){n.byteLength=u,n.toByteArray=h,n.fromByteArray=m;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function d(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n,r=c(e),a=r[0],s=r[1],l=new o(d(e,a,s)),u=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(p(e,s,s+a>l?l:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],14:[function(e,t,n){const{Buffer:r}=e("buffer"),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let r=0;r<t;r++)n+=this._bufs[r].length;return n},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"===typeof e&&e<0&&(e+=this.length),"number"===typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!==typeof n||n<0)&&(n=0),("number"!==typeof i||i>this.length)&&(i=this.length),n>=this.length)return e||r.alloc(0);if(i<=0)return e||r.alloc(0);const o=!!e,a=this._offset(n),s=i-n;let l=s,c=o&&t||0,u=a[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[a[0]].length-u)return o?this._bufs[a[0]].copy(e,t,u,u+l):this._bufs[a[0]].slice(u,u+l);o||(e=r.allocUnsafe(s));for(let r=a[0];r<this._bufs.length;r++){const t=this._bufs[r].length-u;if(!(l>t)){this._bufs[r].copy(e,c,u,u+l),c+=t;break}this._bufs[r].copy(e,c,u),c+=t,l-=t,u&&(u=0)}return e.length>c?e.slice(0,c):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!==typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"===typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"===typeof t&&(n=t,t=void 0),"function"===typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"===typeof e?e=r.from([e]):"string"===typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],a=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;a<t.length;)if(t.length-a>=e.length){const n=t.indexOf(e,a);if(-1!==n)return this._reverseOffset([o,n]);a=t.length-e.length+1}else{const t=this._reverseOffset([o,a]);if(this._match(t,e))return t;a++}a=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){null===e[t]?o.prototype[t]=function(e,n){return this.slice(e,e+n)[t](0,n)}:o.prototype[t]=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},t.exports=o},{buffer:17}],15:[function(e,t,n){const r=e("readable-stream").Duplex,i=e("inherits"),o=e("./BufferList");function a(e){if(!(this instanceof a))return new a(e);if("function"===typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),r.call(this)}i(a,r),Object.assign(a.prototype,o.prototype),a.prototype._new=function(e){return new a(e)},a.prototype._write=function(e,t,n){this._appendBuffer(e),"function"===typeof n&&n()},a.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},a.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},a.prototype._isBufferList=function(e){return e instanceof a||e instanceof o||a.isBufferList(e)},a.isBufferList=o.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=o},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(e,t,n){},{}],17:[function(e,t,n){(function(t){(function(){var t=e("base64-js"),r=e("ieee754");n.Buffer=s,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50;var i=2147483647;function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function a(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return h(e,t);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=m(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}function d(e){return c(e),a(e<0?0:0|g(e))}function h(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function f(e){for(var t=e.length<0?0:0|g(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=s.prototype,r}function m(e){if(s.isBuffer(e)){var t=0|g(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||$(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}function g(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),s.alloc(+e)}function y(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if($(s))return a;e[n+a]=s}return a}function T(e,t,n,r){return Q(G(t,e.length-n),e,n,r)}function _(e,t,n,r){return Q(W(t),e,n,r)}function k(e,t,n,r){return _(e,t,n,r)}function x(e,t,n,r){return Q(Y(t),e,n,r)}function A(e,t,n,r){return Q(K(t,e.length-n),e,n,r)}function I(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function M(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return L(r)}n.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),s.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!==typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return l(e,t,n)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,n){return u(e,t,n)},s.allocUnsafe=function(e){return d(e)},s.allocUnsafeSlow=function(e){return d(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(Z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(Z(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function L(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q(e[o]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,i,o){return t=+t,n>>>=0,o||B(e,t,n,4),r.write(e,t,n,i,23,4),n+4}function z(e,t,n,i,o){return t=+t,n>>>=0,o||B(e,t,n,8),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=s.prototype,r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||F(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||F(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||F(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||F(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,r),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var H=/[^+/0-9A-Za-z-_]/g;function V(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function Y(e){return t.toByteArray(V(e))}function Q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!==e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(e,t,n){(function(r){(function(){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"===typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)}function a(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(t){}}function s(){let e;try{e=n.storage.getItem("debug")}catch(t){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=r.env.DEBUG),e}function l(){try{return localStorage}catch(e){}}n.formatArgs=o,n.save=a,n.load=s,n.useColors=i,n.storage=l(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(n);const{formatters:c}=t.exports;c.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this)}).call(this,e("_process"))},{"./common":19,_process:50}],19:[function(e,t,n){function r(t){function n(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!s.enabled)return;const o=s,a=Number(new Date),l=a-(t||a);o.diff=l,o.prev=t,o.curr=a,t=a,n[0]=r.coerce(n[0]),"string"!==typeof n[0]&&n.unshift("%O");let c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,((e,t)=>{if("%%"===e)return"%";c++;const i=r.formatters[t];if("function"===typeof i){const t=n[c];e=i.call(o,t),n.splice(c,1),c--}return e})),r.formatArgs.call(o,n),(o.log||r.log).apply(o,n)}return s.namespace=e,s.useColors=r.useColors(),s.color=r.selectColor(e),s.extend=i,s.destroy=r.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(n!==r.namespaces&&(n=r.namespaces,o=r.enabled(e)),o),set:e=>{a=e}}),"function"===typeof r.init&&r.init(s),s}function i(e,t){const n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function o(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(l),...r.skips.map(l).map((e=>"-"+e))].join(",");return r.enable(""),e}function s(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function c(e){return e instanceof Error?e.stack||e.message:e}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=o,r.enabled=s,r.humanize=e("ms"),r.destroy=u,Object.keys(t).forEach((e=>{r[e]=t[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}t.exports=r},{ms:45}],20:[function(e,t,n){(function(n,r){(function(){var i=e("readable-stream"),o=e("end-of-stream"),a=e("inherits"),s=e("stream-shift"),l=r.from&&r.from!==Uint8Array.from?r.from([0]):new r([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},u=function(e,t){e._autoDestroy&&e.destroy(t)},d=function(e,t){return function(n){n?u(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},h=function(e,t){return e?e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),void t()):t()},f=function(){},p=function(e){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},m=function(e,t,n){if(!(this instanceof m))return new m(e,t,n);i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||!1!==n.autoDestroy,this._forwardDestroy=!n||!1!==n.destroy,this._forwardEnd=!n||!1!==n.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};a(m,i.Duplex),m.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new m(e,t,n)},m.prototype.cork=function(){1===++this._corked&&this.emit("cork")},m.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")},m.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=o(e,{writable:!0,readable:!1},d(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()},a=function(){t._writable.removeListener("drain",i),r()};this._unwrite&&n.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=a,this.uncork()}else this.end()},m.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t=this,n=o(e,{writable:!1,readable:!0},d(this)),r=function(){t._forward()},i=function(){t.push(null)},a=function(){t._readable2.removeListener("readable",r),t._readable2.removeListener("end",i),n()};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:p(e),this._readable2.on("readable",r),this._readable2.on("end",i),this._unread=a,this._forward()}},m.prototype._read=function(){this._drained=!0,this._forward()},m.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=s(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},m.prototype.destroy=function(e,t){if(t||(t=f),this.destroyed)return t(null);this.destroyed=!0;var r=this;n.nextTick((function(){r._destroy(e),t(null)}))},m.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},m.prototype._write=function(e,t,n){if(!this.destroyed)return this._corked?c(this,this._write.bind(this,e,t,n)):e===l?this._finish(n):this._writable?void(!1===this._writable.write(e)?this._ondrain=n:this.destroyed||n()):n()},m.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,(function(){h(t._forwardEnd&&t._writable,(function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)}))}))},m.prototype.end=function(e,t,n){return"function"===typeof e?this.end(null,null,e):"function"===typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(l),i.Writable.prototype.end.call(this,n))},t.exports=m}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(e,t,n){(function(n){(function(){var r=e("once"),i=function(){},o=function(e){return e.setHeader&&"function"===typeof e.abort},a=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},s=function(e,t,l){if("function"===typeof t)return s(e,null,t);t||(t={}),l=r(l||i);var c=e._writableState,u=e._readableState,d=t.readable||!1!==t.readable&&e.readable,h=t.writable||!1!==t.writable&&e.writable,f=!1,p=function(){e.writable||m()},m=function(){h=!1,d||l.call(e)},g=function(){d=!1,h||l.call(e)},v=function(t){l.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){l.call(e,t)},b=function(){n.nextTick(E)},E=function(){if(!f)return(!d||u&&u.ended&&!u.destroyed)&&(!h||c&&c.ended&&!c.destroyed)?void 0:l.call(e,new Error("premature close"))},w=function(){e.req.on("finish",m)};return o(e)?(e.on("complete",m),e.on("abort",b),e.req?w():e.on("request",w)):h&&!c&&(e.on("end",p),e.on("close",p)),a(e)&&e.on("exit",v),e.on("end",g),e.on("finish",m),!1!==t.error&&e.on("error",y),e.on("close",b),function(){f=!0,e.removeListener("complete",m),e.removeListener("abort",b),e.removeListener("request",w),e.req&&e.req.removeListener("finish",m),e.removeListener("end",p),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("exit",v),e.removeListener("end",g),e.removeListener("error",y),e.removeListener("close",b)}};t.exports=s}).call(this)}).call(this,e("_process"))},{_process:50,once:48}],22:[function(e,t,n){var r=Object.create||T,i=Object.keys||_,o=Function.prototype.bind||k;function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(t7){s=!1}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n){if(t)e.call(n);else for(var r=e.length,i=C(e,r),o=0;o<r;++o)i[o].call(n)}function h(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=C(e,i),a=0;a<i;++a)o[a].call(n,r)}function f(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=C(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function p(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=C(e,a),l=0;l<a;++l)s[l].call(n,r,i,o)}function m(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=C(e,i),a=0;a<i;++a)o[a].apply(n,r)}function g(e,t,n,i){var o,a,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"===typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=u(e))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"===typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=n,++e._eventsCount;return e}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function y(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(v,r);return i.listener=n,r.wrapFn=i,i}function b(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"===typeof i?n?[i.listener||i]:[i]:n?S(i):C(i,i.length):[]}function E(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function w(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function C(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function S(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function T(e){var t=function(){};return t.prototype=e,new t}function _(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t);return t}function k(e){var t=this;return function(){return t.apply(e,arguments)}}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=a[e]))return!1;var c="function"===typeof n;switch(r=arguments.length){case 1:d(n,c,this);break;case 2:h(n,c,this,arguments[1]);break;case 3:f(n,c,this,arguments[1],arguments[2]);break;case 4:p(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];m(n,c,this,i)}return!0},a.prototype.addListener=function(e,t){return g(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return g(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,y(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,y(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,o,a,s;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=r(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():w(n,o),1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var a,s=i(n);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return b(this,e,!0)},a.prototype.rawListeners=function(e){return b(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},a.prototype.listenerCount=E,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],23:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*m}},{}],24:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],25:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=e,this.value=t}return e.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,n=this.leftChild,r=this.rightChild;if(!r)throw new Error("unknown error");var i=r.leftChild,o=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=this,r.rightChild=o,t&&(t.brother=r),this.parent=r,this.brother=o,this.leftChild=n,this.rightChild=i,o&&(o.parent=r,o.brother=this),n&&(n.parent=this,n.brother=i),i&&(i.parent=this,i.brother=n),r},e.prototype.rotateRight=function(){var e=this.parent,t=this.brother,n=this.leftChild;if(!n)throw new Error("unknown error");var r=this.rightChild,i=n.leftChild,o=n.rightChild;return e&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=t,n.leftChild=i,n.rightChild=this,t&&(t.brother=n),i&&(i.parent=n,i.brother=this),this.parent=n,this.brother=i,this.leftChild=o,this.rightChild=r,o&&(o.parent=this,o.brother=r),r&&(r.parent=this,r.brother=o),n},e.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},e.TreeNodeColorType={red:!0,black:!1},e}();Object.freeze(r),n.default=r},{}],26:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function i(e){var t=this;void 0===e&&(e=[]);var n=[],o=0,a=0,s=0,l=0,c=0,u=0;this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){o=s=a=l=c=u=0,h.call(this,i.bucketSize),u=0},this.front=function(){return n[o][a]},this.back=function(){return n[s][l]},this.forEach=function(e){if(!this.empty()){var t=0;if(o!==s){for(c=a;c<i.bucketSize;++c)e(n[o][c],t++);for(c=o+1;c<s;++c)for(var r=0;r<i.bucketSize;++r)e(n[c][r],t++);for(c=0;c<=l;++c)e(n[s][c],t++)}else for(var c=a;c<=l;++c)e(n[o][c],t++)}};var d=function(e){var t=o*i.bucketSize+a,n=t+e,r=s*i.bucketSize+l;if(n<t||n>r)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(n/i.bucketSize),curNodePointerIndex:n%i.bucketSize}};this.getElementByPos=function(e){var t=d(e),r=t.curNodeBucketIndex,i=t.curNodePointerIndex;return n[r][i]},this.eraseElementByPos=function(e){var t=this;if(e<0||e>u)throw new Error("pos should more than 0 and less than queue's size");if(0===e)this.popFront();else if(e===this.size())this.popBack();else{for(var n=[],r=e+1;r<u;++r)n.push(this.getElementByPos(r));this.cut(e),this.popBack(),n.forEach((function(e){return t.pushBack(e)}))}},this.eraseElementByValue=function(e){if(!this.empty()){var t=[];this.forEach((function(n){n!==e&&t.push(n)}));for(var n=t.length,r=0;r<n;++r)this.setElementByPos(r,t[r]);this.cut(n-1)}};var h=function(e){for(var t=[],r=e*i.sigma,d=Math.max(Math.ceil(r/i.bucketSize),2),h=0;h<d;++h)t.push(new Array(i.bucketSize));var f=Math.ceil(e/i.bucketSize),p=Math.floor(d/2)-Math.floor(f/2),m=p,g=0;if(this.size())for(h=0;h<f;++h){for(var v=0;v<i.bucketSize;++v)if(t[p+h][v]=this.front(),this.popFront(),this.empty()){m=p+h,g=v;break}if(this.empty())break}n=t,o=p,a=0,s=m,l=g,c=d,u=e};this.pushBack=function(e){this.empty()||(s===c-1&&l===i.bucketSize-1&&h.call(this,this.size()),l<i.bucketSize-1?++l:s<c-1&&(++s,l=0)),++u,n[s][l]=e},this.popBack=function(){this.empty()||(1!==this.size()&&(l>0?--l:o<s&&(--s,l=i.bucketSize-1)),u>0&&--u)},this.setElementByPos=function(e,t){var r=d(e),i=r.curNodeBucketIndex,o=r.curNodePointerIndex;n[i][o]=t},this.insert=function(e,t,n){var r=this;if(void 0===n&&(n=1),0===e)for(;n--;)this.pushFront(t);else if(e===this.size())for(;n--;)this.pushBack(t);else{for(var i=[],o=e;o<u;++o)i.push(this.getElementByPos(o));for(this.cut(e-1),o=0;o<n;++o)this.pushBack(t);i.forEach((function(e){return r.pushBack(e)}))}},this.find=function(e){if(o===s){for(var t=a;t<=l;++t)if(n[o][t]===e)return!0;return!1}for(t=a;t<i.bucketSize;++t)if(n[o][t]===e)return!0;for(t=o+1;t<s;++t)for(var r=0;r<i.bucketSize;++r)if(n[t][r]===e)return!0;for(t=0;t<=l;++t)if(n[s][t]===e)return!0;return!1},this.reverse=function(){for(var e=0,t=u-1;e<t;){var n=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,n),++e,--t}},this.unique=function(){if(!this.empty()){var e=[],t=this.front();this.forEach((function(n,r){0!==r&&n===t||(e.push(n),t=n)}));for(var n=0;n<u;++n)this.setElementByPos(n,e[n]);this.cut(e.length-1)}},this.sort=function(e){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);for(var n=0;n<u;++n)this.setElementByPos(n,t[n])},this.pushFront=function(e){this.empty()||(0===o&&0===a&&h.call(this,this.size()),a>0?--a:o>0&&(--o,a=i.bucketSize-1)),++u,n[o][a]=e},this.popFront=function(){this.empty()||(1!==this.size()&&(a<i.bucketSize-1?++a:o<s&&(++o,a=0)),u>0&&--u)},this.shrinkToFit=function(){var e=this,t=[];this.forEach((function(e){t.push(e)}));var r=t.length;n=[];for(var o=Math.ceil(r/i.bucketSize),a=0;a<o;++a)n.push(new Array(i.bucketSize));this.clear(),t.forEach((function(t){return e.pushBack(t)}))},this.cut=function(e){if(e<0)this.clear();else{var t=d(e),n=t.curNodeBucketIndex,r=t.curNodePointerIndex;s=n,l=r,u=e+1}},this[Symbol.iterator]=function(){return function(){var e,t;return r(this,(function(r){switch(r.label){case 0:if(0===u)return[2];if(o!==s)return[3,5];t=a,r.label=1;case 1:return t<=l?[4,n[o][t]]:[3,4];case 2:r.sent(),r.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=a,r.label=6;case 6:return t<i.bucketSize?[4,n[o][t]]:[3,9];case 7:r.sent(),r.label=8;case 8:return++t,[3,6];case 9:t=o+1,r.label=10;case 10:if(!(t<s))return[3,15];e=0,r.label=11;case 11:return e<i.bucketSize?[4,n[t][e]]:[3,14];case 12:r.sent(),r.label=13;case 13:return++e,[3,11];case 14:return++t,[3,10];case 15:t=0,r.label=16;case 16:return t<=l?[4,n[s][t]]:[3,19];case 17:r.sent(),r.label=18;case 18:return++t,[3,16];case 19:return[2]}}))}()},function(){var r=i.bucketSize;e.size?r=e.size():e.length&&(r=e.length);var a=r*i.sigma;c=Math.ceil(a/i.bucketSize),c=Math.max(c,3);for(var l=0;l<c;++l)n.push(new Array(i.bucketSize));var u=Math.ceil(r/i.bucketSize);o=Math.floor(c/2)-Math.floor(u/2),s=o,e.forEach((function(e){return t.pushBack(e)}))}(),Object.freeze(this)}Object.defineProperty(n,"__esModule",{value:!0}),i.sigma=3,i.bucketSize=5e3,Object.freeze(i),n.default=i},{}],27:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../LinkList/LinkList"),a=e("../Map/Map");function s(e,t,n){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=s.initSize),n=n||function(e){var t,n,r=0,o="";if("number"===typeof e)r=((r=Math.floor(e))<<5)-r,r&=r;else{o="string"!==typeof e?JSON.stringify(e):e;try{for(var a=i(o),s=a.next();!s.done;s=a.next())r=(r<<5)-r+s.value.charCodeAt(0),r&=r}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}return r^=r>>>16},0!==(t&t-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,u=[],d=Math.max(s.initSize,Math.min(s.maxSize,t));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,d=t,u=[]},this.forEach=function(e){var t=0;u.forEach((function(n){n.forEach((function(n){e(n,t++)}))}))};var h=function(e){if(!(e>=s.maxSize)){d=2*e;var t=[];u.forEach((function(r,i){if(!r.empty()){if(r instanceof o.default&&1===r.size()){var l=r.front(),c=l.key,h=l.value;t[n(c)&d-1]=new o.default([{key:c,value:h}])}else if(r instanceof a.default){var f=new o.default,p=new o.default;r.forEach((function(t){0===(n(t.key)&e)?f.pushBack(t):p.pushBack(t)})),f.size()>s.untreeifyThreshold?t[i]=new a.default(f):f.size()&&(t[i]=f),p.size()>s.untreeifyThreshold?t[i+e]=new a.default(p):p.size()&&(t[i+e]=p)}else{var m=new o.default,g=new o.default;r.forEach((function(t){0===(n(t.key)&e)?m.pushBack(t):g.pushBack(t)})),m.size()&&(t[i]=m),g.size()&&(t[i+e]=g)}u[i].clear()}})),u=t}};this.setElement=function(e,t){var r,l;if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==t&&void 0!==t){var f=n(e)&d-1;if(u[f]){var p=u[f].size();if(u[f]instanceof o.default){try{for(var m=i(u[f]),g=m.next();!g.done;g=m.next()){var v=g.value;if(v.key===e)return void(v.value=t)}}catch(b){r={error:b}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(r)throw r.error}}u[f].pushBack({key:e,value:t}),u[f].size()>=s.treeifyThreshold&&(u[f]=new a.default(u[f]))}else u[f].setElement(e,t);var y=u[f].size();c+=y-p}else++c,u[f]=new o.default([{key:e,value:t}]);c>d*s.sigma&&h.call(this,d)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var t,r,o=n(e)&d-1;if(u[o]){if(u[o]instanceof a.default)return u[o].getElementByKey(e);try{for(var s=i(u[o]),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.key===e)return c.value}}catch(h){t={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}}},this.eraseElementByKey=function(e){var t,r,l=n(e)&d-1;if(u[l]){var h=u[l].size();if(u[l]instanceof a.default)u[l].eraseElementByKey(e),u[l].size()<=s.untreeifyThreshold&&(u[l]=new o.default(u[l]));else{var f=-1;try{for(var p=i(u[l]),m=p.next();!m.done;m=p.next()){var g=m.value;if(++f,g.key===e){u[l].eraseElementByPos(f);break}}}catch(y){t={error:y}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}}var v=u[l].size();c+=v-h}},this.find=function(e){var t,r,o=n(e)&d-1;if(!u[o])return!1;if(u[o]instanceof a.default)return u[o].find(e);try{for(var s=i(u[o]),l=s.next();!l.done;l=s.next())if(l.value.key===e)return!0}catch(c){t={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return!1},this[Symbol.iterator]=function(){return function(){var e,t,n,o,a,s;return r(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:if(!(e<d))return[3,10];for(;e<d&&!u[e];)++e;if(e>=d)return[3,10];r.label=2;case 2:r.trys.push([2,7,8,9]),a=void 0,t=i(u[e]),n=t.next(),r.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:r.sent(),r.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return o=r.sent(),a={error:o},[3,9];case 8:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return++e,[3,1];case 10:return[2]}}))}()},e.forEach((function(e){var t=e.key,n=e.value;return l.setElement(t,n)})),Object.freeze(this)}s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64,Object.freeze(s),n.default=s},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Set/Set"),a=e("../LinkList/LinkList");function s(e,t,n){var l=this;if(void 0===e&&(e=[]),void 0===t&&(t=s.initSize),n=n||function(e){var t=0,n="";if("number"===typeof e)t=((t=Math.floor(e))<<5)-t,t&=t;else{n="string"!==typeof e?JSON.stringify(e):e;for(var r=0;r<n.length;r++)t=(t<<5)-t+n.charCodeAt(r),t&=t}return t^=t>>>16},0!==(t&t-1))throw new Error("initBucketNum must be 2 to the power of n");var c=0,u=[],d=Math.max(s.initSize,Math.min(s.maxSize,t));this.size=function(){return c},this.empty=function(){return 0===c},this.clear=function(){c=0,d=t,u=[]},this.forEach=function(e){var t=0;u.forEach((function(n){n.forEach((function(n){e(n,t++)}))}))};var h=function(e){if(!(e>=s.maxSize)){d=2*e;var t=[];u.forEach((function(r,i){if(!r.empty()){if(r instanceof a.default&&1===r.size()){var l=r.front();if(void 0===l)throw new Error("unknown error");t[n(l)&d-1]=new a.default([l])}else if(r instanceof o.default){var c=new a.default,h=new a.default;r.forEach((function(t){0===(n(t)&e)?c.pushBack(t):h.pushBack(t)})),c.size()>s.untreeifyThreshold?t[i]=new o.default(c):c.size()&&(t[i]=c),h.size()>s.untreeifyThreshold?t[i+e]=new o.default(h):h.size()&&(t[i+e]=h)}else{var f=new a.default,p=new a.default;r.forEach((function(t){0===(n(t)&e)?f.pushBack(t):p.pushBack(t)})),f.size()&&(t[i]=f),p.size()&&(t[i+e]=p)}u[i].clear()}})),u=t}};this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var t=n(e)&d-1;if(u[t]){var r=u[t].size();if(u[t]instanceof a.default){if(u[t].find(e))return;u[t].pushBack(e),u[t].size()>=s.treeifyThreshold&&(u[t]=new o.default(u[t]))}else u[t].insert(e);var i=u[t].size();c+=i-r}else u[t]=new a.default([e]),++c;c>d*s.sigma&&h.call(this,d)},this.eraseElementByValue=function(e){var t=n(e)&d-1;if(u[t]){var r=u[t].size();u[t].eraseElementByValue(e),u[t]instanceof o.default&&u[t].size()<=s.untreeifyThreshold&&(u[t]=new a.default(u[t]));var i=u[t].size();c+=i-r}},this.find=function(e){var t=n(e)&d-1;return!!u[t]&&u[t].find(e)},this[Symbol.iterator]=function(){return function(){var e,t,n,o,a,s;return r(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:if(!(e<d))return[3,10];for(;e<d&&!u[e];)++e;if(e>=d)return[3,10];r.label=2;case 2:r.trys.push([2,7,8,9]),a=void 0,t=i(u[e]),n=t.next(),r.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:r.sent(),r.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return o=r.sent(),a={error:o},[3,9];case 8:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return++e,[3,1];case 10:return[2]}}))}()},e.forEach((function(e){return l.insert(e)})),Object.freeze(this)}s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64,Object.freeze(s),n.default=s},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=e}return e}();function o(e){var t=this;void 0===e&&(e=[]);var n=0,o=void 0,a=void 0;this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){o=a=void 0,n=0},this.front=function(){return null===o||void 0===o?void 0:o.value},this.back=function(){return null===a||void 0===a?void 0:a.value},this.forEach=function(e){for(var t=o,n=0;t;){if(void 0===t.value)throw new Error("unknown error");e(t.value,n++),t=t.next}},this.getElementByPos=function(e){if(e<0||e>=n)throw new Error("pos must more then 0 and less then the list length");for(var t=o;e--&&t;)t=t.next;if(!t||void 0===t.value)throw new Error("unknown error");return t.value},this.eraseElementByPos=function(e){if(e<0||e>=n)throw new Error("erase pos must more then 0 and less then the list length");if(0===e)this.popFront();else if(e===n-1)this.popBack();else{for(var t=o;e--;){if(!(null===t||void 0===t?void 0:t.next))throw new Error("unknown error");t=t.next}if(!t||!t.pre||!t.next)throw new Error("unknown error");var r=t.pre,i=t.next;i.pre=r,r.next=i,n>0&&--n}},this.eraseElementByValue=function(e){for(;o&&o.value===e;)this.popFront();for(;a&&a.value===e;)this.popBack();if(o)for(var t=o;t;){if(t.value===e){var r=t.pre,i=t.next;i&&(i.pre=r),r&&(r.next=i),n>0&&--n}t=t.next}},this.pushBack=function(e){if(null===e||void 0===e)throw new Error("you can't push null or undefined here");++n;var t=new i(e);a?(a.next=t,t.pre=a,a=t):o=a=t},this.popBack=function(){a&&(n>0&&--n,a&&(o===a?o=a=void 0:(a=a.pre)&&(a.next=void 0)))},this.setElementByPos=function(e,t){if(null===t||void 0===t)throw new Error("you can't set null or undefined here");if(e<0||e>=n)throw new Error("pos must more then 0 and less then the list length");for(var r=o;e--;){if(!r)throw new Error("unknown error");r=r.next}r&&(r.value=t)},this.insert=function(e,t,r){if(void 0===r&&(r=1),null===t||void 0===t)throw new Error("you can't insert null or undefined here");if(e<0||e>n)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(r<0)throw new Error("insert size must more than 0");if(0===e)for(;r--;)this.pushFront(t);else if(e===n)for(;r--;)this.pushBack(t);else{for(var a=o,s=1;s<e;++s){if(!(null===a||void 0===a?void 0:a.next))throw new Error("unknown error");a=null===a||void 0===a?void 0:a.next}if(!a)throw new Error("unknown error");var l=a.next;for(n+=r;r--;)a.next=new i(t),a.next.pre=a,a=a.next;a.next=l,l&&(l.pre=a)}},this.find=function(e){for(var t=o;t;){if(t.value===e)return!0;t=t.next}return!1},this.reverse=function(){for(var e=o,t=a,r=0;e&&t&&2*r<n;){var i=e.value;e.value=t.value,t.value=i,e=e.next,t=t.pre,++r}},this.unique=function(){for(var e=o;e;){for(var t=e;t&&t.next&&t.value===t.next.value;)t=t.next,n>0&&--n;e.next=t.next,e.next&&(e.next.pre=e),e=e.next}},this.sort=function(e){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);var n=o;t.forEach((function(e){n&&(n.value=e,n=n.next)}))},this.pushFront=function(e){if(null===e||void 0===e)throw new Error("you can't push null or undefined here");++n;var t=new i(e);o?(t.next=o,o.pre=t,o=t):o=a=t},this.popFront=function(){o&&(n>0&&--n,o&&(o===a?o=a=void 0:(o=o.next)&&(o.pre=void 0)))},this.merge=function(e){var t=this,r=o;e.forEach((function(e){for(;r&&void 0!==r.value&&r.value<=e;)r=r.next;if(void 0===r)t.pushBack(e),r=a;else if(r===o)t.pushFront(e),r=o;else{++n;var s=r.pre;s&&(s.next=new i(e),s.next.pre=s,s.next.next=r,r&&(r.pre=s.next))}}))},this[Symbol.iterator]=function(){return function(){var e;return r(this,(function(t){switch(t.label){case 0:e=o,t.label=1;case 1:if(void 0===e)return[3,3];if(!e.value)throw new Error("unknown error");return[4,e.value];case 2:return t.sent(),e=e.next,[3,1];case 3:return[2]}}))}()},e.forEach((function(e){return t.pushBack(e)})),Object.freeze(this)}Object.freeze(o),n.default=o},{}],30:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/TreeNode");function a(e,t){var n=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var a=0,s=new o.default;s.color=o.default.TreeNodeColorType.black,this.size=function(){return a},this.empty=function(){return 0===a},this.clear=function(){a=0,s.key=s.value=void 0,s.leftChild=s.rightChild=s.brother=void 0};var l=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},c=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.rightChild?c(e.rightChild):e};this.front=function(){if(!this.empty()){var e=l(s);if(void 0===e.key||void 0===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}}},this.back=function(){if(!this.empty()){var e=c(s);if(void 0===e.key||void 0===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}}},this.forEach=function(e){var t,n,r=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next())e(a.value,r++)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,n;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var r=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next()){var s=a.value;if(r===e)return s;++r}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}throw new Error("unknown Error")};var u=function(e,n){if(e&&void 0!==e.key&&void 0!==e.value){var r=t(e.key,n);return 0===r?{key:e.key,value:e.value}:r<0?u(e.rightChild,n):u(e.leftChild,n)||{key:e.key,value:e.value}}};this.lowerBound=function(e){return u(s,e)};var d=function(e,n){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,n)<=0?d(e.rightChild,n):d(e.leftChild,n)||{key:e.key,value:e.value}};this.upperBound=function(e){return d(s,e)};var h=function(e,n){if(e&&void 0!==e.key&&void 0!==e.value){var r=t(e.key,n);return 0===r?{key:e.key,value:e.value}:r>0?h(e.leftChild,n):h(e.rightChild,n)||{key:e.key,value:e.value}}};this.reverseLowerBound=function(e){return h(s,e)};var f=function(e,n){if(e&&void 0!==e.key&&void 0!==e.value)return t(e.key,n)>=0?f(e.leftChild,n):f(e.rightChild,n)||{key:e.key,value:e.value}};this.reverseUpperBound=function(e){return f(s,e)};var p=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(e.color!==o.default.TreeNodeColorType.red){var n=e.brother;if(!n)throw new Error("unknown error");if(e===t.leftChild)if(n.color===o.default.TreeNodeColorType.red){n.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;var r=t.rotateLeft();s===t&&(s=r),p(e)}else n.color===o.default.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===o.default.TreeNodeColorType.red?(n.color=t.color,t.color=o.default.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),r=t.rotateLeft(),s===t&&(s=r),e.color=o.default.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,p(t)):(n.color=o.default.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),r=n.rotateRight(),s===n&&(s=r),p(e)));else e===t.rightChild&&(n.color===o.default.TreeNodeColorType.red?(n.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red,r=t.rotateRight(),s===t&&(s=r),p(e)):n.color===o.default.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===o.default.TreeNodeColorType.red?(n.color=t.color,t.color=o.default.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),r=t.rotateRight(),s===t&&(s=r),e.color=o.default.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,p(t)):(n.color=o.default.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),r=n.rotateLeft(),s===n&&(s=r),p(e))))}else e.color=o.default.TreeNodeColorType.black},m=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var n=e.key;e.key=t.key,t.key=n;var r=e.value;e.value=t.value,t.value=r,e=t}t.leftChild&&(t=c(t.leftChild),n=e.key,e.key=t.key,t.key=n,r=e.value,e.value=t.value,t.value=r,e=t)}p(t),t&&t.remove(),--a,s.color=o.default.TreeNodeColorType.black},g=function(e,t){return!(!e||void 0===e.key)&&(!!g(e.leftChild,t)||!!t(e)||g(e.rightChild,t))};this.eraseElementByPos=function(e){if(e<0||e>=a)throw new Error("pos must more than 0 and less than set's size");var t=0;g(s,(function(n){return e===t?(m(n),!0):(++t,!1)}))},this.eraseElementByKey=function(e){if(!this.empty()){var n=b(s,e);void 0!==n&&void 0!==n.key&&0===t(n.key,e)&&m(n)}};var v=function(e,n){if(!e||void 0===e.key)throw new Error("unknown error");var r=t(n,e.key);return r<0?e.leftChild?v(e.leftChild,n):(e.leftChild=new o.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):r>0?e.rightChild?v(e.rightChild,n):(e.rightChild=new o.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},y=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(t.color!==o.default.TreeNodeColorType.black&&t.color===o.default.TreeNodeColorType.red){var n=t.brother,r=t.parent;if(!r)throw new Error("unknown error");if(n&&n.color===o.default.TreeNodeColorType.red)n.color=t.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red,y(r);else if(!n||n.color===o.default.TreeNodeColorType.black)if(t===r.leftChild)if(e===t.leftChild){t.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red;var i=r.rotateRight();r===s&&(s=i)}else e===t.rightChild&&(i=t.rotateLeft(),r===s&&(s=i),y(t));else t===r.rightChild&&(e===t.leftChild?(i=t.rotateRight(),r===s&&(s=i),y(t)):e===t.rightChild&&(t.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red,i=r.rotateLeft(),r===s&&(s=i)))}};this.setElement=function(e,n){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==n&&void 0!==n){if(this.empty())return++a,s.key=e,s.value=n,void(s.color=o.default.TreeNodeColorType.black);var r=v(s,e);void 0===r.key||0!==t(r.key,e)?(++a,r.key=e,r.value=n,y(r),s.color=o.default.TreeNodeColorType.black):r.value=n}else this.eraseElementByKey(e)};var b=function(e,n){if(e&&void 0!==e.key){var r=t(n,e.key);return r<0?b(e.leftChild,n):r>0?b(e.rightChild,n):e}};this.find=function(e){return!!b(s,e)},this.getElementByKey=function(e){var t=b(s,e);if(void 0===(null===t||void 0===t?void 0:t.key)||void 0===(null===t||void 0===t?void 0:t.value))throw new Error("unknown error");return t.value},this.union=function(e){var t=this;e.forEach((function(e){var n=e.key,r=e.value;return t.setElement(n,r)}))},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(s)};var E=function(e){return r(this,(function(t){switch(t.label){case 0:return e&&void 0!==e.key&&void 0!==e.value?[5,i(E(e.leftChild))]:[2];case 1:return t.sent(),[4,{key:e.key,value:e.value}];case 2:return t.sent(),[5,i(E(e.rightChild))];case 3:return t.sent(),[2]}}))};this[Symbol.iterator]=function(){return E(s)},e.forEach((function(e){var t=e.key,r=e.value;return n.setElement(t,r)})),Object.freeze(this)}Object.freeze(a),n.default=a},{"../Base/TreeNode":25}],31:[function(e,t,n){function r(e,t){void 0===e&&(e=[]),t=t||function(e,t){return e>t?-1:e<t?1:0};var n=[];e.forEach((function(e){return n.push(e)}));var r=n.length,i=function(e,t){if(e<0||e>=r)throw new Error("unknown error");if(t<0||t>=r)throw new Error("unknown error");var i=n[e];n[e]=n[t],n[t]=i},o=function(e){if(e<0||e>=r)throw new Error("unknown error");var o=2*e+1,a=2*e+2;o<r&&t(n[e],n[o])>0&&i(e,o),a<r&&t(n[e],n[a])>0&&i(e,a)};!function(){for(var e=Math.floor((r-1)/2);e>=0;--e)for(var o=e,a=2*o+1;a<r;){var s=a+1,l=a;if(s<r&&t(n[a],n[s])>0&&(l=s),t(n[o],n[l])<=0)break;i(o,l),a=2*(o=l)+1}}(),this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,n.length=0},this.push=function(e){if(n.push(e),1!==++r)for(var i=r-1;i>0;){var a=Math.floor((i-1)/2);if(t(n[a],e)<=0)break;o(a),i=a}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=n[r-1];--r;for(var i=0;i<this.size();){var o=2*i+1,a=2*i+2;if(o>=this.size())break;var s=o;if(a<this.size()&&t(n[o],n[a])>0&&(s=a),t(n[s],e)>=0)break;n[i]=n[s],i=s}n[i]=e}else--r},this.top=function(){return n[0]},Object.freeze(this)}Object.defineProperty(n,"__esModule",{value:!0}),Object.freeze(r),n.default=r},{}],32:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("../LinkList/LinkList");function i(e){void 0===e&&(e=[]);var t=new r.default(e);this.size=function(){return t.size()},this.empty=function(){return t.empty()},this.clear=function(){t.clear()},this.push=function(e){t.pushBack(e)},this.pop=function(){t.popFront()},this.front=function(){return t.front()},Object.freeze(this)}Object.freeze(i),n.default=i},{"../LinkList/LinkList":29}],33:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Base/TreeNode");function a(e,t){var n=this;void 0===e&&(e=[]),t=t||function(e,t){return e<t?-1:e>t?1:0};var a=0,s=new o.default;s.color=o.default.TreeNodeColorType.black,this.size=function(){return a},this.empty=function(){return 0===a},this.clear=function(){a=0,s.key=void 0,s.leftChild=s.rightChild=s.brother=s.parent=void 0,s.color=o.default.TreeNodeColorType.black};var l=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},c=function(e){if(!e||void 0===e.key)throw new Error("unknown error");return e.rightChild?c(e.rightChild):e};this.front=function(){if(!this.empty())return l(s).key},this.back=function(){if(!this.empty())return c(s).key},this.forEach=function(e){var t,n,r=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next())e(a.value,r++)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.getElementByPos=function(e){var t,n;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var r=0;try{for(var o=i(this),a=o.next();!a.done;a=o.next()){var s=a.value;if(r===e)return s;++r}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}throw new Error("unknown error")};var u=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(e.color!==o.default.TreeNodeColorType.red){var n=e.brother;if(!n)throw new Error("unknown error");if(e===t.leftChild)if(n.color===o.default.TreeNodeColorType.red){n.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red;var r=t.rotateLeft();s===t&&(s=r),u(e)}else n.color===o.default.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===o.default.TreeNodeColorType.red?(n.color=t.color,t.color=o.default.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),r=t.rotateLeft(),s===t&&(s=r),e.color=o.default.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,u(t)):(n.color=o.default.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),r=n.rotateRight(),s===n&&(s=r),u(e)));else e===t.rightChild&&(n.color===o.default.TreeNodeColorType.red?(n.color=o.default.TreeNodeColorType.black,t.color=o.default.TreeNodeColorType.red,r=t.rotateRight(),s===t&&(s=r),u(e)):n.color===o.default.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===o.default.TreeNodeColorType.red?(n.color=t.color,t.color=o.default.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=o.default.TreeNodeColorType.black),r=t.rotateRight(),s===t&&(s=r),e.color=o.default.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==o.default.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==o.default.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==o.default.TreeNodeColorType.black||(n.color=o.default.TreeNodeColorType.red,u(t)):(n.color=o.default.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=o.default.TreeNodeColorType.black),r=n.rotateLeft(),s===n&&(s=r),u(e))))}else e.color=o.default.TreeNodeColorType.black},d=function(e){for(var t=e;t.leftChild||t.rightChild;){if(t.rightChild){t=l(t.rightChild);var n=e.key;e.key=t.key,t.key=n,e=t}t.leftChild&&(t=c(t.leftChild),n=e.key,e.key=t.key,t.key=n,e=t)}u(t),t&&t.remove(),--a,s.color=o.default.TreeNodeColorType.black},h=function(e,t){return!(!e||void 0===e.key)&&(!!h(e.leftChild,t)||!!t(e)||h(e.rightChild,t))};this.eraseElementByPos=function(e){if(e<0||e>=a)throw new Error("pos must more than 0 and less than set's size");var t=0;h(s,(function(n){return e===t?(d(n),!0):(++t,!1)}))},this.eraseElementByValue=function(e){if(!this.empty()){var n=m(s,e);void 0!==n&&void 0!==n.key&&0===t(n.key,e)&&d(n)}};var f=function(e,n){if(!e||void 0===e.key)throw new Error("unknown error");var r=t(n,e.key);return r<0?e.leftChild?f(e.leftChild,n):(e.leftChild=new o.default,e.leftChild.parent=e,e.leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):r>0?e.rightChild?f(e.rightChild,n):(e.rightChild=new o.default,e.rightChild.parent=e,e.rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},p=function(e){var t=e.parent;if(!t){if(e===s)return;throw new Error("unknown error")}if(t.color!==o.default.TreeNodeColorType.black&&t.color===o.default.TreeNodeColorType.red){var n=t.brother,r=t.parent;if(!r)throw new Error("unknown error");if(n&&n.color===o.default.TreeNodeColorType.red)n.color=t.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red,p(r);else if(!n||n.color===o.default.TreeNodeColorType.black)if(t===r.leftChild)if(e===t.leftChild){t.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red;var i=r.rotateRight();r===s&&(s=i)}else e===t.rightChild&&(i=t.rotateLeft(),r===s&&(s=i),p(t));else t===r.rightChild&&(e===t.leftChild?(i=t.rotateRight(),r===s&&(s=i),p(t)):e===t.rightChild&&(t.color=o.default.TreeNodeColorType.black,r.color=o.default.TreeNodeColorType.red,i=r.rotateLeft(),r===s&&(s=i)))}};this.insert=function(e){if(null===e||void 0===e)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++a,s.key=e,void(s.color=o.default.TreeNodeColorType.black);var n=f(s,e);void 0!==n.key&&0===t(n.key,e)||(++a,n.key=e,p(n),s.color=o.default.TreeNodeColorType.black)};var m=function(e,n){if(e&&void 0!==e.key){var r=t(n,e.key);return r<0?m(e.leftChild,n):r>0?m(e.rightChild,n):e}};this.find=function(e){var n=m(s,e);return void 0!==n&&void 0!==n.key&&0===t(n.key,e)};var g=function(e,n){if(e&&void 0!==e.key){var r=t(e.key,n);if(0===r)return e.key;if(r<0)return g(e.rightChild,n);var i=g(e.leftChild,n);return void 0!==i?i:e.key}};this.lowerBound=function(e){return g(s,e)};var v=function(e,n){if(e&&void 0!==e.key){if(t(e.key,n)<=0)return v(e.rightChild,n);var r=v(e.leftChild,n);return void 0!==r?r:e.key}};this.upperBound=function(e){return v(s,e)};var y=function(e,n){if(e&&void 0!==e.key){var r=t(e.key,n);if(0===r)return e.key;if(r>0)return y(e.leftChild,n);var i=y(e.rightChild,n);return void 0!==i?i:e.key}};this.reverseLowerBound=function(e){return y(s,e)};var b=function(e,n){if(e&&void 0!==e.key){if(t(e.key,n)>=0)return b(e.leftChild,n);var r=b(e.rightChild,n);return void 0!==r?r:e.key}};this.reverseUpperBound=function(e){return b(s,e)},this.union=function(e){var t=this;e.forEach((function(e){return t.insert(e)}))},this.getHeight=function(){if(this.empty())return 0;var e=function(t){return t?Math.max(e(t.leftChild),e(t.rightChild))+1:1};return e(s)};var E=function(e){return r(this,(function(t){switch(t.label){case 0:return e&&void 0!==e.key?[5,i(E(e.leftChild))]:[2];case 1:return t.sent(),[4,e.key];case 2:return t.sent(),[5,i(E(e.rightChild))];case 3:return t.sent(),[2]}}))};this[Symbol.iterator]=function(){return E(s)},e.forEach((function(e){return n.insert(e)})),Object.freeze(this)}Object.freeze(a),n.default=a},{"../Base/TreeNode":25}],34:[function(e,t,n){function r(e){var t=this;void 0===e&&(e=[]);var n=0,r=[];this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,r.length=0},this.push=function(e){r.push(e),++n},this.pop=function(){r.pop(),n>0&&--n},this.top=function(){return r[n-1]},e.forEach((function(e){return t.push(e)})),Object.freeze(this)}Object.defineProperty(n,"__esModule",{value:!0}),Object.freeze(r),n.default=r},{}],35:[function(e,t,n){var r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function s(e){var t=this;void 0===e&&(e=[]);var n=0,s=[];this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,s.length=0},this.front=function(){if(!this.empty())return s[0]},this.back=function(){if(!this.empty())return s[n-1]},this.forEach=function(e){s.forEach(e)},this.getElementByPos=function(e){if(e<0||e>=n)throw new Error("pos must more than 0 and less than vector's size");return s[e]},this.eraseElementByPos=function(e){if(e<0||e>=n)throw new Error("pos must more than 0 and less than vector's size");for(var t=e;t<n-1;++t)s[t]=s[t+1];this.popBack()},this.eraseElementByValue=function(e){var t=[];this.forEach((function(n){n!==e&&t.push(n)})),t.forEach((function(e,t){s[t]=e}));for(var r=t.length;n>r;)this.popBack()},this.pushBack=function(e){s.push(e),++n},this.popBack=function(){s.pop(),n>0&&--n},this.setElementByPos=function(e,t){if(e<0||e>=n)throw new Error("pos must more than 0 and less than vector's size");s[e]=t},this.insert=function(e,t,r){if(void 0===r&&(r=1),e<0||e>n)throw new Error("pos must more than 0 and less than or equal to vector's size");s.splice.apply(s,o([e,0],i(new Array(r).fill(t)),!1)),n+=r},this.find=function(e){return s.includes(e)},this.reverse=function(){s.reverse()},this.unique=function(){var e,t=[];this.forEach((function(n,r){0!==r&&n===e||(t.push(n),e=n)})),t.forEach((function(e,t){s[t]=e}));for(var r=t.length;n>r;)this.popBack()},this.sort=function(e){s.sort(e)},this[Symbol.iterator]=function(){return function(){return r(this,(function(e){switch(e.label){case 0:return[5,a(s)];case 1:return[2,e.sent()]}}))}()},e.forEach((function(e){return t.pushBack(e)})),Object.freeze(this)}Object.defineProperty(n,"__esModule",{value:!0}),Object.freeze(s),n.default=s},{}],36:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HashMap=n.HashSet=n.Map=n.Set=n.PriorityQueue=n.Deque=n.LinkList=n.Queue=n.Stack=n.Vector=void 0;var r=e("./Vector/Vector");n.Vector=r.default;var i=e("./Stack/Stack");n.Stack=i.default;var o=e("./Queue/Queue");n.Queue=o.default;var a=e("./LinkList/LinkList");n.LinkList=a.default;var s=e("./Deque/Deque");n.Deque=s.default;var l=e("./PriorityQueue/PriorityQueue");n.PriorityQueue=l.default;var c=e("./Set/Set");n.Set=c.default;var u=e("./Map/Map");n.Map=u.default;var d=e("./HashSet/HashSet");n.HashSet=d.default;var h=e("./HashMap/HashMap");n.HashMap=h.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(e,t,n){const r=e("yallist"),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1;class m{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!==typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!==typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[h]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[l])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[h].has(e)){if(s>this[i])return b(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[c]&&(this[u]||this[c](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),y(this),!0}const f=new E(e,t,s,r,n);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=f.length,this[d].unshift(f),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!v(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>g(this,t,!1)))}}const g=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(v(e,t)){if(b(e,r),!e[s])return}else n&&(e[f]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},y=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;b(e,t),t=n}},b=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[o]-=n.length,e[h].delete(n.key),e[d].removeNode(t)}};class E{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;v(e,i)&&(b(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};t.exports=m},{yallist:83}],38:[function(e,t,n){(function(e){(function(){const n=t.exports;n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.codes={};for(const e in n.types){const t=n.types[e];n.codes[t]=e}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=e.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=e.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=e.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(const e in n.properties){const t=n.properties[e];n.propertiesCodes[t]=e}function r(t){return[0,1,2].map((r=>[0,1].map((i=>[0,1].map((o=>{const a=e.alloc(1);return a.writeUInt8(n.codes[t]<<n.CMD_SHIFT|(i?n.DUP_MASK:0)|r<<n.QOS_SHIFT|o,0,!0),a}))))))}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},n.PUBLISH_HEADER=r("publish"),n.SUBSCRIBE_HEADER=r("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=r("unsubscribe"),n.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},n.SUBACK_HEADER=e.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=e.from([3]),n.VERSION4=e.from([4]),n.VERSION5=e.from([5]),n.VERSION131=e.from([131]),n.VERSION132=e.from([132]),n.QOS=[0,1,2].map((t=>e.from([t]))),n.EMPTY={pingreq:e.from([n.codes.pingreq<<4,0]),pingresp:e.from([n.codes.pingresp<<4,0]),disconnect:e.from([n.codes.disconnect<<4,0])}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],39:[function(e,t,n){(function(n){(function(){const r=e("./writeToStream"),i=e("events");function o(e,t){const n=new a;return r(e,n,t),n.concat()}class a extends i{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0;const t=new Array(this._array.length),r=this._array;let i,o=0;for(i=0;i<r.length&&void 0!==r[i];i++)"string"!==typeof r[i]?t[i]=r[i].length:t[i]=n.byteLength(r[i]),e+=t[i];const a=n.allocUnsafe(e);for(i=0;i<r.length&&void 0!==r[i];i++)"string"!==typeof r[i]?(r[i].copy(a,o),o+=t[i]):(a.write(r[i],o),o+=t[i]);return a}}t.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(e,t,n){n.parser=e("./parser").parser,n.generate=e("./generate"),n.writeToStream=e("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(e,t,n){(function(e){(function(){const n=65536,r={},i=e.isBuffer(e.from([1,2]).subarray(0,1));function o(t){const n=e.allocUnsafe(2);return n.writeUInt8(t>>8,0),n.writeUInt8(255&t,1),n}function a(){for(let e=0;e<n;e++)r[e]=o(e)}function s(t){const n=4;let r=0,o=0;const a=e.allocUnsafe(n);do{r=t%128|0,(t=t/128|0)>0&&(r|=128),a.writeUInt8(r,o++)}while(t>0&&o<n);return t>0&&(o=0),i?a.subarray(0,o):a.slice(0,o)}function l(t){const n=e.allocUnsafe(4);return n.writeUInt32BE(t,0),n}t.exports={cache:r,generateCache:a,generateNumber:o,genBufVariableByteInt:s,generate4ByteBuffer:l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],42:[function(e,t,n){class r{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}t.exports=r},{}],43:[function(e,t,n){const r=e("bl"),i=e("events"),o=e("./packet"),a=e("./constants"),s=e("debug")("mqtt-packet:parser");class l extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof l?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new l).parser(e)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=r(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=a.types[e>>a.CMD_SHIFT],this.packet.retain=0!==(e&a.RETAIN_MASK),this.packet.qos=e>>a.QOS_SHIFT&a.QOS_MASK,this.packet.dup=0!==(e&a.DUP_MASK),s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){let e,t,n,r;s("_parseConnect");const i={},o=this.packet,l=this._parseString();if(null===l)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(new Error("Invalid protocolId"));if(o.protocolId=l,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(i.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=0!==(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),o.will.qos=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT),o.clean=0!==(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK),this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive)return this._emitError(new Error("Packet too short"));if(5===o.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(o.properties=e)}const c=this._parseString();if(null===c)return this._emitError(new Error("Packet too short"));if(o.clientId=c,s("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(o.will.properties=e)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(o.will.topic=e,s("_parseConnect: packet.will.topic: %s",o.will.topic),t=this._parseBuffer(),null===t)return this._emitError(new Error("Cannot parse will payload"));o.will.payload=t,s("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(r=this._parseString(),null===r)return this._emitError(new Error("Cannot parse username"));o.username=r,s("_parseConnect: packet.username: %s",o.username)}if(i.password){if(n=this._parseBuffer(),null===n)return this._emitError(new Error("Cannot parse password"));o.password=n}return this.settings=o,s("_parseConnect: complete"),o}_parseConnack(){s("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&a.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");const e=this.packet;let t,n,r,i,o,l,c;if(1!==e.qos)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){if(t=this._parseString(),null===t)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));n=this._parseByte(),r=n&a.SUBSCRIBE_OPTIONS_QOS_MASK,l=0!==(n>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK),o=0!==(n>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK),i=n>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,c={topic:t,qos:r},5===this.settings.protocolVersion?(c.nl=l,c.rap=o,c.rh=i):this.settings.bridgeMode&&(c.rh=0,c.rap=!0,c.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",c),e.subscriptions.push(c)}}}_parseSuback(){s("_parseSuback");const e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){s("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){const t=this._parseString();if(null===t)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){s("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}_parseDisconnect(){const e=this.packet;if(s("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");const e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),s("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const t=this._parseNum(),n=t+this._pos;if(-1===t||n>this._list.length||n>this.packet.length)return null;const r=this._list.toString("utf8",this._pos,n);return this._pos+=t,s("_parseString: result: %s",r),r}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;const n=this._list.slice(this._pos,t);return this._pos+=e,s("_parseBuffer: result: %o",n),n}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");const t=4;let n,r=0,i=1,o=0,l=!1;const c=this._pos?this._pos:0;for(;r<t&&c+r<this._list.length;){if(n=this._list.readUInt8(c+r++),o+=i*(n&a.VARBYTEINT_MASK),i*=128,0===(n&a.VARBYTEINT_FIN_MASK)){l=!0;break}if(this._list.length<=r)break}return!l&&r===t&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),c&&(this._pos+=r),l=!!l&&(e?{bytes:r,value:o}:o),s("_parseVarByteNum: result: %o",l),l}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");const e=this._parseVarByteNum(),t=this._pos+e,n={};for(;this._pos<t;){const e=this._parseByte();if(!e)return this._emitError(new Error("Cannot parse property code type")),!1;const t=a.propertiesCodes[e];if(!t)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==t)n[t]?(Array.isArray(n[t])||(n[t]=[n[t]]),n[t].push(this._parseByType(a.propertiesTypes[t]))):n[t]=this._parseByType(a.propertiesTypes[t]);else{n[t]||(n[t]=Object.create(null));const e=this._parseByType(a.propertiesTypes[t]);if(n[t][e.name])if(Array.isArray(n[t][e.name]))n[t][e.name].push(e.value);else{const r=n[t][e.name];n[t][e.name]=[r],n[t][e.name].push(e.value)}else n[t][e.name]=e.value}}return n}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(e){s("_emitError"),this.error=e,this.emit("error",e)}}t.exports=l},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(e,t,n){(function(n){(function(){const r=e("./constants"),i=n.allocUnsafe(0),o=n.from([0]),a=e("./numbers"),s=e("process-nextick-args").nextTick,l=e("debug")("mqtt-packet:writeToStream"),c=a.cache,u=a.generateNumber,d=a.generateCache,h=a.genBufVariableByteInt,f=a.generate4ByteBuffer;let p=D,m=!0;function g(e,t,n){switch(l("generate called"),t.cork&&(t.cork(),s(v,t)),m&&(m=!1,d()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return y(e,t);case"connack":return b(e,t,n);case"publish":return E(e,t,n);case"puback":case"pubrec":case"pubrel":case"pubcomp":return w(e,t,n);case"subscribe":return C(e,t,n);case"suback":return S(e,t,n);case"unsubscribe":return T(e,t,n);case"unsuback":return _(e,t,n);case"pingreq":case"pingresp":return k(e,t);case"disconnect":return x(e,t,n);case"auth":return A(e,t,n);default:return t.emit("error",new Error("Unknown command")),!1}}function v(e){e.uncork()}function y(e,t,i){const o=e||{},a=o.protocolId||"MQTT";let s=o.protocolVersion||4;const l=o.will;let c=o.clean;const u=o.keepalive||0,d=o.clientId||"",h=o.username,f=o.password,m=o.properties;void 0===c&&(c=!0);let g=0;if(!a||"string"!==typeof a&&!n.isBuffer(a))return t.emit("error",new Error("Invalid protocolId")),!1;if(g+=a.length+2,3!==s&&4!==s&&5!==s)return t.emit("error",new Error("Invalid protocol version")),!1;if(g+=1,("string"===typeof d||n.isBuffer(d))&&(d||s>=4)&&(d||c))g+=n.byteLength(d)+2;else{if(s<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*c===0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!==typeof u||u<0||u>65535||u%1!==0)return t.emit("error",new Error("Invalid keepalive")),!1;if(g+=2,g+=1,5===s){var v=F(t,m);if(!v)return!1;g+=v.length}if(l){if("object"!==typeof l)return t.emit("error",new Error("Invalid will")),!1;if(!l.topic||"string"!==typeof l.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(g+=n.byteLength(l.topic)+2,g+=2,l.payload){if(!(l.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;"string"===typeof l.payload?g+=n.byteLength(l.payload):g+=l.payload.length}var y={};if(5===s){if(!(y=F(t,l.properties)))return!1;g+=y.length}}let b=!1;if(null!=h){if(!H(h))return t.emit("error",new Error("Invalid username")),!1;b=!0,g+=n.byteLength(h)+2}if(null!=f){if(!b)return t.emit("error",new Error("Username is required to use password")),!1;if(!H(f))return t.emit("error",new Error("Invalid password")),!1;g+=z(f)+2}t.write(r.CONNECT_HEADER),M(t,g),N(t,a),o.bridgeMode&&(s+=128),t.write(131===s?r.VERSION131:132===s?r.VERSION132:4===s?r.VERSION4:5===s?r.VERSION5:r.VERSION3);let E=0;return E|=null!=h?r.USERNAME_MASK:0,E|=null!=f?r.PASSWORD_MASK:0,E|=l&&l.retain?r.WILL_RETAIN_MASK:0,E|=l&&l.qos?l.qos<<r.WILL_QOS_SHIFT:0,E|=l?r.WILL_FLAG_MASK:0,E|=c?r.CLEAN_SESSION_MASK:0,t.write(n.from([E])),p(t,u),5===s&&v.write(),N(t,d),l&&(5===s&&y.write(),R(t,l.topic),N(t,l.payload)),null!=h&&N(t,h),null!=f&&N(t,f),!0}function b(e,t,i){const a=i?i.protocolVersion:4,s=e||{},l=5===a?s.reasonCode:s.returnCode,c=s.properties;let u=2;if("number"!==typeof l)return t.emit("error",new Error("Invalid return code")),!1;let d=null;if(5===a){if(d=F(t,c),!d)return!1;u+=d.length}return t.write(r.CONNACK_HEADER),M(t,u),t.write(s.sessionPresent?r.SESSIONPRESENT_HEADER:o),t.write(n.from([l])),null!=d&&d.write(),!0}function E(e,t,o){l("publish: packet: %o",e);const a=o?o.protocolVersion:4,s=e||{},c=s.qos||0,u=s.retain?r.RETAIN_MASK:0,d=s.topic,h=s.payload||i,f=s.messageId,m=s.properties;let g=0;if("string"===typeof d)g+=n.byteLength(d)+2;else{if(!n.isBuffer(d))return t.emit("error",new Error("Invalid topic")),!1;g+=d.length+2}if(n.isBuffer(h)?g+=h.length:g+=n.byteLength(h),c&&"number"!==typeof f)return t.emit("error",new Error("Invalid messageId")),!1;c&&(g+=2);let v=null;if(5===a){if(v=F(t,m),!v)return!1;g+=v.length}return t.write(r.PUBLISH_HEADER[c][s.dup?1:0][u?1:0]),M(t,g),p(t,z(d)),t.write(d),c>0&&p(t,f),null!=v&&v.write(),l("publish: payload: %o",h),t.write(h)}function w(e,t,i){const o=i?i.protocolVersion:4,a=e||{},s=a.cmd||"puback",l=a.messageId,c=a.dup&&"pubrel"===s?r.DUP_MASK:0;let u=0;const d=a.reasonCode,h=a.properties;let f=5===o?3:2;if("pubrel"===s&&(u=1),"number"!==typeof l)return t.emit("error",new Error("Invalid messageId")),!1;let m=null;if(5===o&&"object"===typeof h){if(m=j(t,h,i,f),!m)return!1;f+=m.length}return t.write(r.ACKS[s][u][c][0]),M(t,f),p(t,l),5===o&&t.write(n.from([d])),null!==m&&m.write(),!0}function C(e,t,i){l("subscribe: packet: ");const o=i?i.protocolVersion:4,a=e||{},s=a.dup?r.DUP_MASK:0,c=a.messageId,u=a.subscriptions,d=a.properties;let h=0;if("number"!==typeof c)return t.emit("error",new Error("Invalid messageId")),!1;h+=2;let f=null;if(5===o){if(f=F(t,d),!f)return!1;h+=f.length}if("object"!==typeof u||!u.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(let r=0;r<u.length;r+=1){const e=u[r].topic,i=u[r].qos;if("string"!==typeof e)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!==typeof i)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){if("boolean"!==typeof(u[r].nl||!1))return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!==typeof(u[r].rap||!1))return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const e=u[r].rh||0;if("number"!==typeof e||e>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}h+=n.byteLength(e)+2+1}l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),t.write(r.SUBSCRIBE_HEADER[1][s?1:0][0]),M(t,h),p(t,c),null!==f&&f.write();let m=!0;for(const l of u){const e=l.topic,i=l.qos,a=+l.nl,s=+l.rap,c=l.rh;let u;R(t,e),u=r.SUBSCRIBE_OPTIONS_QOS[i],5===o&&(u|=a?r.SUBSCRIBE_OPTIONS_NL:0,u|=s?r.SUBSCRIBE_OPTIONS_RAP:0,u|=c?r.SUBSCRIBE_OPTIONS_RH[c]:0),m=t.write(n.from([u]))}return m}function S(e,t,i){const o=i?i.protocolVersion:4,a=e||{},s=a.messageId,l=a.granted,c=a.properties;let u=0;if("number"!==typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(u+=2,"object"!==typeof l||!l.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(let n=0;n<l.length;n+=1){if("number"!==typeof l[n])return t.emit("error",new Error("Invalid qos vector")),!1;u+=1}let d=null;if(5===o){if(d=j(t,c,i,u),!d)return!1;u+=d.length}return t.write(r.SUBACK_HEADER),M(t,u),p(t,s),null!==d&&d.write(),t.write(n.from(l))}function T(e,t,i){const o=i?i.protocolVersion:4,a=e||{},s=a.messageId,l=a.dup?r.DUP_MASK:0,c=a.unsubscriptions,u=a.properties;let d=0;if("number"!==typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(d+=2,"object"!==typeof c||!c.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(let r=0;r<c.length;r+=1){if("string"!==typeof c[r])return t.emit("error",new Error("Invalid unsubscriptions")),!1;d+=n.byteLength(c[r])+2}let h=null;if(5===o){if(h=F(t,u),!h)return!1;d+=h.length}t.write(r.UNSUBSCRIBE_HEADER[1][l?1:0][0]),M(t,d),p(t,s),null!==h&&h.write();let f=!0;for(let n=0;n<c.length;n++)f=R(t,c[n]);return f}function _(e,t,i){const o=i?i.protocolVersion:4,a=e||{},s=a.messageId,l=a.dup?r.DUP_MASK:0,c=a.granted,u=a.properties,d=a.cmd,h=0;let f=2;if("number"!==typeof s)return t.emit("error",new Error("Invalid messageId")),!1;if(5===o){if("object"!==typeof c||!c.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(let e=0;e<c.length;e+=1){if("number"!==typeof c[e])return t.emit("error",new Error("Invalid qos vector")),!1;f+=1}}let m=null;if(5===o){if(m=j(t,u,i,f),!m)return!1;f+=m.length}return t.write(r.ACKS[d][h][l][0]),M(t,f),p(t,s),null!==m&&m.write(),5===o&&t.write(n.from(c)),!0}function k(e,t,n){return t.write(r.EMPTY[e.cmd])}function x(e,t,i){const o=i?i.protocolVersion:4,a=e||{},s=a.reasonCode,l=a.properties;let c=5===o?1:0,u=null;if(5===o){if(u=j(t,l,i,c),!u)return!1;c+=u.length}return t.write(n.from([r.codes.disconnect<<4])),M(t,c),5===o&&t.write(n.from([s])),null!==u&&u.write(),!0}function A(e,t,i){const o=i?i.protocolVersion:4,a=e||{},s=a.reasonCode,l=a.properties;let c=5===o?1:0;5!==o&&t.emit("error",new Error("Invalid mqtt version for auth packet"));const u=j(t,l,i,c);return!!u&&(c+=u.length,t.write(n.from([r.codes.auth<<4])),M(t,c),t.write(n.from([s])),null!==u&&u.write(),!0)}Object.defineProperty(g,"cacheNumbers",{get:()=>p===D,set(e){e?(c&&0!==Object.keys(c).length||(m=!0),p=D):(m=!1,p=O)}});const I={};function M(e,t){if(t>r.VARBYTEINT_MAX)return e.emit("error",new Error("Invalid variable byte integer: ".concat(t))),!1;let n=I[t];return n||(n=h(t),t<16384&&(I[t]=n)),l("writeVarByteInt: writing to stream: %o",n),e.write(n)}function R(e,t){const r=n.byteLength(t);return p(e,r),l("writeString: %s",t),e.write(t,"utf8")}function L(e,t,n){R(e,t),R(e,n)}function D(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function O(e,t){const n=u(t);return l("writeNumberGenerated: %o",n),e.write(n)}function P(e,t){const n=f(t);return l("write4ByteNumber: %o",n),e.write(n)}function N(e,t){"string"===typeof t?R(e,t):t?(p(e,t.length),e.write(t)):p(e,0)}function F(e,t){if("object"!==typeof t||null!=t.length)return{length:1,write(){U(e,{},0)}};let i=0;function o(t,i){let o=0;switch(r.propertiesTypes[t]){case"byte":if("boolean"!==typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=2;break;case"int8":if("number"!==typeof i||i<0||i>255)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=2;break;case"binary":if(i&&null===i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=1+n.byteLength(i)+2;break;case"int16":if("number"!==typeof i||i<0||i>65535)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=3;break;case"int32":if("number"!==typeof i||i<0||i>4294967295)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=5;break;case"var":if("number"!==typeof i||i<0||i>268435455)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=1+n.byteLength(h(i));break;case"string":if("string"!==typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=3+n.byteLength(i.toString());break;case"pair":if("object"!==typeof i)return e.emit("error",new Error("Invalid ".concat(t,": ").concat(i))),!1;o+=Object.getOwnPropertyNames(i).reduce(((e,t)=>{const r=i[t];return Array.isArray(r)?e+=r.reduce(((e,r)=>e+=3+n.byteLength(t.toString())+2+n.byteLength(r.toString())),0):e+=3+n.byteLength(t.toString())+2+n.byteLength(i[t].toString()),e}),0);break;default:return e.emit("error",new Error("Invalid property ".concat(t,": ").concat(i))),!1}return o}if(t)for(const n in t){let e=0,r=0;const a=t[n];if(Array.isArray(a))for(let t=0;t<a.length;t++){if(r=o(n,a[t]),!r)return!1;e+=r}else{if(r=o(n,a),!r)return!1;e=r}if(!e)return!1;i+=e}return{length:n.byteLength(h(i))+i,write(){U(e,t,i)}}}function j(e,t,n,r){const i=["reasonString","userProperties"],o=n&&n.properties&&n.properties.maximumPacketSize?n.properties.maximumPacketSize:0;let a=F(e,t);if(o)for(;r+a.length>o;){const n=i.shift();if(!n||!t[n])return!1;delete t[n],a=F(e,t)}return a}function B(e,t,i){switch(r.propertiesTypes[t]){case"byte":e.write(n.from([r.properties[t]])),e.write(n.from([+i]));break;case"int8":e.write(n.from([r.properties[t]])),e.write(n.from([i]));break;case"binary":e.write(n.from([r.properties[t]])),N(e,i);break;case"int16":e.write(n.from([r.properties[t]])),p(e,i);break;case"int32":e.write(n.from([r.properties[t]])),P(e,i);break;case"var":e.write(n.from([r.properties[t]])),M(e,i);break;case"string":e.write(n.from([r.properties[t]])),R(e,i);break;case"pair":Object.getOwnPropertyNames(i).forEach((o=>{const a=i[o];Array.isArray(a)?a.forEach((i=>{e.write(n.from([r.properties[t]])),L(e,o.toString(),i.toString())})):(e.write(n.from([r.properties[t]])),L(e,o.toString(),a.toString()))}));break;default:return e.emit("error",new Error("Invalid property ".concat(t," value: ").concat(i))),!1}}function U(e,t,n){M(e,n);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){const n=t[r];if(Array.isArray(n))for(let t=0;t<n.length;t++)B(e,r,n[t]);else B(e,r,n)}}function z(e){return e?e instanceof n?e.length:n.byteLength(e):0}function H(e){return"string"===typeof e||e instanceof n}t.exports=g}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(e,t,n){var r=1e3,i=60*r,o=60*i,a=24*o,s=7*a,l=365.25*a;function c(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"weeks":case"week":case"w":return n*s;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function u(e){var t=Math.abs(e);return t>=a?Math.round(e/a)+"d":t>=o?Math.round(e/o)+"h":t>=i?Math.round(e/i)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}function d(e){var t=Math.abs(e);return t>=a?h(e,t,a,"day"):t>=o?h(e,t,o,"hour"):t>=i?h(e,t,i,"minute"):t>=r?h(e,t,r,"second"):e+" ms"}function h(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?d(e):u(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],46:[function(e,t,n){const r=e("./lib/number-allocator.js");t.exports.NumberAllocator=r},{"./lib/number-allocator.js":47}],47:[function(e,t,n){const r=e("js-sdsl").Set,i=e("debug")("number-allocator:trace"),o=e("debug")("number-allocator:error");function a(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new r([],((e,t)=>e.compare(t))),i("Create"),this.clear()}a.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},a.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;const e=this.ss.front(),t=e.low;return t+1<=e.high?++e.low:this.ss.eraseElementByPos(0),i("alloc():"+t),t},s.prototype.use=function(e){const t=new a(e,e),n=this.ss.lowerBound(t);if(n){if(n.equals(t))return this.ss.eraseElementByValue(n),i("use():"+e),!0;if(n.low>e)return!1;if(n.low===e)return++n.low,i("use():"+e),!0;if(n.high===e)return--n.high,i("use():"+e),!0;const r=n.low;return n.low=e+1,this.ss.insert(new a(r,e-1)),i("use():"+e),!0}return i("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)return void o("free():"+e+" is out of range");const t=new a(e,e),n=this.ss.lowerBound(t);if(n){if(n.low<=e&&e<=n.high)return void o("free():"+e+" has already been vacant");if(n===this.ss.front())e+1===n.low?--n.low:this.ss.insert(t);else{const r=this.ss.reverseLowerBound(t);r.high+1===e?e+1===n.low?(this.ss.eraseElementByValue(r),n.low=r.low):r.high=e:e+1===n.low?n.low=e:this.ss.insert(t)}}else{if(n===this.ss.front())return void this.ss.insert(t);const r=this.ss.reverseLowerBound(t);r.high+1===e?r.high=e:this.ss.insert(t)}i("free():"+e)},s.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(const e of this.ss)console.log(e)},t.exports=s},{debug:18,"js-sdsl":36}],48:[function(e,t,n){var r=e("wrappy");function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}t.exports=r(i),t.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},{wrappy:79}],49:[function(e,t,n){(function(e){(function(){function n(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this)}).call(this,e("_process"))},{_process:50}],50:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,d=[],h=!1,f=-1;function p(){h&&u&&(h=!1,u.length?d=u.concat(d):f=-1,d.length&&m())}function m(){if(!h){var e=l(p);h=!0;for(var t=d.length;t;){for(u=d,d=[];++f<t;)u&&u[f].run();f=-1,t=d.length}u=null,h=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new g(e,t)),1!==d.length||h||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],51:[function(e,t,n){(function(e){(function(){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof t&&t&&!t.nodeType&&t,a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var s,l,c=2147483647,u=36,d=1,h=26,f=38,p=700,m=72,g=128,v="-",y=/^xn--/,b=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=u-d,S=Math.floor,T=String.fromCharCode;function _(e){throw new RangeError(w[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(E,".")).split("."),t).join(".")}function A(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function I(e){return k(e,(function(e){var t="";return e>65535&&(t+=T((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=T(e)})).join("")}function M(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function R(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function L(e,t,n){var r=0;for(e=n?S(e/p):e>>1,e+=S(e/t);e>C*h>>1;r+=u)e=S(e/C);return S(r+(C+1)*e/(e+f))}function D(e){var t,n,r,i,o,a,s,l,f,p,y=[],b=e.length,E=0,w=g,C=m;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&_("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=E,a=1,s=u;i>=b&&_("invalid-input"),((l=M(e.charCodeAt(i++)))>=u||l>S((c-E)/a))&&_("overflow"),E+=l*a,!(l<(f=s<=C?d:s>=C+h?h:s-C));s+=u)a>S(c/(p=u-f))&&_("overflow"),a*=p;C=L(E-o,t=y.length+1,0==o),S(E/t)>c-w&&_("overflow"),w+=S(E/t),E%=t,y.splice(E++,0,w)}return I(y)}function O(e){var t,n,r,i,o,a,s,l,f,p,y,b,E,w,C,k=[];for(b=(e=A(e)).length,t=g,n=0,o=m,a=0;a<b;++a)(y=e[a])<128&&k.push(T(y));for(r=i=k.length,i&&k.push(v);r<b;){for(s=c,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>S((c-n)/(E=r+1))&&_("overflow"),n+=(s-t)*E,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>c&&_("overflow"),y==t){for(l=n,f=u;!(l<(p=f<=o?d:f>=o+h?h:f-o));f+=u)C=l-p,w=u-p,k.push(T(R(p+C%w,0))),l=S(C/w);k.push(T(R(l,0))),o=L(n,E,r==i),n=0,++r}++n,++t}return k.join("")}function P(e){return x(e,(function(e){return y.test(e)?D(e.slice(4).toLowerCase()):e}))}function N(e){return x(e,(function(e){return b.test(e)?"xn--"+O(e):e}))}if(s={version:"1.4.1",ucs2:{decode:A,encode:I},decode:D,encode:O,toASCII:N,toUnicode:P},i&&o)if(t.exports==i)o.exports=s;else for(l in s)s.hasOwnProperty(l)&&(i[l]=s[l]);else r.punycode=s}(this)}).call(this)}).call(this,"undefined"!==typeof Zu?Zu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],52:[function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,f,p,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),h=m.substr(g+1)):(d=m,h=""),f=decodeURIComponent(d),p=decodeURIComponent(h),r(a,f)?i(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],53:[function(e,t,n){var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],54:[function(e,t,n){n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":52,"./encode":53}],55:[function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function o(e,t,n){function o(e,n,r){return"string"===typeof t?t:t(e,n,r)}n||(n=Error);var a=function(e){function t(t,n,r){return e.call(this,o(t,n,r))||this}return r(t,e),t}(n);a.prototype.name=n.name,a.prototype.code=e,i[e]=a}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function s(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function l(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function c(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i;if("string"===typeof t&&s(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",l(e," argument"))i="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var o=c(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(a(t,"type"))}return i+=". Received type ".concat(typeof n)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],56:[function(e,t,n){(function(n){(function(){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var l=a[s];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":59,inherits:24}],58:[function(e,t,n){(function(n,r){(function(){var i;t.exports=A,A.ReadableState=x,e("events").EventEmitter;var o=function(e,t){return e.listeners(t).length},a=e("./internal/streams/stream"),s=e("buffer").Buffer,l=r.Uint8Array||function(){};function c(e){return s.from(e)}function u(e){return s.isBuffer(e)||e instanceof l}var d,h=e("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var f,p,m,g=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,b=e("../errors").codes,E=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,C=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(A,a);var T=v.errorOrDestroy,_=["error","close","destroy","pause","resume"];function k(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function x(t,n,r){i=i||e("./_stream_duplex"),t=t||{},"boolean"!==typeof r&&(r=n instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=e("string_decoder/").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function A(t){if(i=i||e("./_stream_duplex"),!(this instanceof A))return new A(t);var n=this instanceof i;this._readableState=new x(t,this,n),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function I(e,t,n,r,i){d("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,P(e,a);else if(i||(o=R(a,t)),o)T(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=c(t)),r)a.endEmitted?T(e,new S):M(e,a,t,!0);else if(a.ended)T(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?M(e,a,t,!1):j(e,a)):M(e,a,t,!1)}else r||(a.reading=!1,j(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function M(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&N(e)),j(e,t)}function R(e,t){var n;return u(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new E("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=v.destroy,A.prototype._undestroy=v.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),I(this,e,t,!1,n)},A.prototype.unshift=function(e){return I(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(t){f||(f=e("string_decoder/").StringDecoder);var n=new f(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var L=1073741824;function D(e){return e>=L?e=L:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e,t){if(d("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,F(e)))}}function N(e){var t=e._readableState;d("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(F,e))}function F(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function j(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(B,e,t))}function B(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(d("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,G(e))}}function z(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){d("readable nexttick read 0"),e.read(0)}function V(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(q,e,t))}function q(e,t){d("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),G(e),t.flowing&&!t.reading&&e.read(0)}function G(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function W(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function K(e){var t=e._readableState;d("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(Y,t,e))}function Y(e,t){if(d("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function Q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}A.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?K(this):N(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&K(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?W(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&K(this)),null!==r&&this.emit("data",r),r},A.prototype._read=function(e){T(this,new C("_read()"))},A.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?v:l;function s(e,t){d("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function l(){d("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",s);var c=U(r);e.on("drain",c);var u=!1;function h(){d("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",l),r.removeListener("end",v),r.removeListener("data",f),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function f(t){d("ondata");var n=e.write(t);d("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Q(i.pipes,e))&&!u&&(d("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function p(t){d("onerror",t),v(),e.removeListener("error",p),0===o(e,"error")&&T(e,t)}function m(){e.removeListener("finish",g),v()}function g(){d("onfinish"),e.removeListener("close",m),v()}function v(){d("unpipe"),r.unpipe(e)}return r.on("data",f),k(e,"error",p),e.once("close",m),e.once("finish",g),e.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Q(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},A.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,d("on readable",i.length,i.reading),i.length?N(this):i.reading||n.nextTick(H,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(z,this),r},A.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(z,this),t},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!e.readableListening,V(this,e)),e.paused=!1,this},A.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=e("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=W,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(A.from=function(t,n){return void 0===m&&(m=e("./internal/streams/from")),m(A,t,n)})}).call(this)}).call(this,e("_process"),"undefined"!==typeof Zu?Zu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(e,t,n){t.exports=u;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(e,t,n){(function(n,r){(function(){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){q(t,e)}}var o;t.exports=x,x.WritableState=k;var a={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),l=e("buffer").Buffer,c=r.Uint8Array||function(){};function u(e){return l.from(e)}function d(e){return l.isBuffer(e)||e instanceof c}var h,f=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,v=m.ERR_METHOD_NOT_IMPLEMENTED,y=m.ERR_MULTIPLE_CALLBACK,b=m.ERR_STREAM_CANNOT_PIPE,E=m.ERR_STREAM_DESTROYED,w=m.ERR_STREAM_NULL_VALUES,C=m.ERR_STREAM_WRITE_AFTER_END,S=m.ERR_UNKNOWN_ENCODING,T=f.errorOrDestroy;function _(){}function k(t,n,r){o=o||e("./_stream_duplex"),t=t||{},"boolean"!==typeof r&&(r=n instanceof o),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=p(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){P(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function x(t){var n=this instanceof(o=o||e("./_stream_duplex"));if(!n&&!h.call(x,this))return new x(t);this._writableState=new k(t,this,n),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),s.call(this)}function A(e,t){var r=new C;T(e,r),n.nextTick(t,r)}function I(e,t,r,i){var o;return null===r?o=new w:"string"===typeof r||t.objectMode||(o=new g("chunk",["string","Buffer"],r)),!o||(T(e,o),n.nextTick(i,o),!1)}function M(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=l.from(t,n)),t}function R(e,t,n,r,i,o){if(!n){var a=M(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else L(e,t,!1,s,r,i,o);return l}function L(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function D(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(H,e,t),e._writableState.errorEmitted=!0,T(e,i)):(o(i),e._writableState.errorEmitted=!0,T(e,i),H(e,t))}function O(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function P(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!==typeof o)throw new y;if(O(r),t)D(e,r,i,t,o);else{var a=B(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||j(e,r),i?n.nextTick(N,e,r,a,o):N(e,r,a,o)}}function N(e,t,n,r){n||F(e,t),t.pendingcb--,r(),H(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,L(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(L(e,t,!1,t.objectMode?1:c.length,c,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function U(e,t){e._final((function(n){t.pendingcb--,n&&T(e,n),t.prefinished=!0,e.emit("prefinish"),H(e,t)}))}function z(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(U,e,t)))}function H(e,t){var n=B(t);if(n&&(z(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function V(e,t,r){t.ending=!0,H(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function q(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}e("inherits")(x,s),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(rW){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===x&&e&&e._writableState instanceof k}})):h=function(e){return e instanceof this},x.prototype.pipe=function(){T(this,new b)},x.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&d(e);return o&&!l.isBuffer(e)&&(e=u(e)),"function"===typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=_),r.ending?A(this,n):(o||I(this,r,e,n))&&(r.pendingcb++,i=R(this,r,o,e,t,n)),i},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,n){n(new v("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||V(this,r,n),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=f.destroy,x.prototype._undestroy=f.undestroy,x.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!==typeof Zu?Zu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(e,t,n){(function(n){(function(){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[u]=null,e[a]=null,e[s]=null,t(f(n,!1)))}}function m(e){n.nextTick(p,e)}function g(e,t){return function(n,r){e.then((function(){t[c]?n(f(void 0,!0)):t[d](n,r)}),r)}}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[l]?r(e[l]):t(f(void 0,!0))}))}));var r,i=this[u];if(i)r=new Promise(g(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[d])}return this[u]=r,r}},i(r,Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),v),b=function(e){var t,n=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var r=n[h].read();r?(n[u]=null,n[a]=null,n[s]=null,e(f(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[u]=null,n[a]=null,n[s]=null,t(e)),void(n[l]=e)}var r=n[a];null!==r&&(n[u]=null,n[a]=null,n[s]=null,r(f(void 0,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n};t.exports=b}).call(this)}).call(this,e("_process"))},{"./end-of-stream":64,_process:50}],62:[function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=e("buffer").Buffer,u=e("util").inspect,d=u&&u.custom||"inspect";function h(e,t,n){c.prototype.copy.call(e,t,n)}t.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return l(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),n=this.head,r=0;n;)h(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:d,value:function(e,t){return u(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:17,util:16}],63:[function(e,t,n){(function(e){(function(){function n(t,n){var o=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(a,this,t)):e.nextTick(a,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!n&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(i,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):n?(e.nextTick(i,o),n(t)):e.nextTick(i,o)})),this)}function r(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}function s(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}t.exports={destroy:n,undestroy:o,errorOrDestroy:s}}).call(this)}).call(this,e("_process"))},{_process:50}],64:[function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function a(e){return e.setHeader&&"function"===typeof e.abort}function s(e,t,n){if("function"===typeof t)return s(e,null,t);t||(t={}),n=i(n||o);var l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||h()},d=e._writableState&&e._writableState.finished,h=function(){c=!1,d=!0,l||n.call(e)},f=e._readableState&&e._readableState.endEmitted,p=function(){l=!1,f=!0,c||n.call(e)},m=function(t){n.call(e,t)},g=function(){var t;return l&&!f?(e._readableState&&e._readableState.ended||(t=new r),n.call(e,t)):c&&!d?(e._writableState&&e._writableState.ended||(t=new r),n.call(e,t)):void 0},v=function(){e.req.on("finish",h)};return a(e)?(e.on("complete",h),e.on("abort",g),e.req?v():e.on("request",v)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",g)}}t.exports=s},{"../../../errors":55}],65:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(e,t,n){var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=e("../../../errors").codes,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function c(e){return e.setHeader&&"function"===typeof e.abort}function u(t,n,o,a){a=i(a);var l=!1;t.on("close",(function(){l=!0})),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:o},(function(e){if(e)return a(e);l=!0,a()}));var u=!1;return function(e){if(!l&&!u)return u=!0,c(t)?t.abort():"function"===typeof t.destroy?t.destroy():void a(e||new s("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?l:e.pop():l}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map((function(e,n){var a=n<t.length-1;return u(e,a,n>0,(function(e){r||(r=e),e&&o.forEach(d),a||(o.forEach(d),i(r))}))}));return t.reduce(h)}t.exports=p},{"../../../errors":55,"./end-of-stream":64}],67:[function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var a=i(t,o,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(o?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":55}],68:[function(e,t,n){t.exports=e("events").EventEmitter},{events:22}],69:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(e,t,n){function r(e,t,n){var r=this;this._callback=e,this._args=n,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=r._interval),r._interval&&clearInterval(r._interval),r._interval=setInterval(r._callback,e,r._args)},this.clear=function(){r._interval&&(clearInterval(r._interval),r._interval=void 0)},this.destroy=function(){r._interval&&clearInterval(r._interval),r._callback=void 0,r._interval=void 0,r._args=void 0}}function i(){if("function"!==typeof arguments[0])throw new Error("callback needed");if("number"!==typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new r(arguments[0],arguments[1],e)}t.exports=i},{}],71:[function(e,t,n){t.exports=e("./index.js")()},{"./index.js":72}],72:[function(e,t,n){(function(e){(function(){function n(t){return t instanceof e?e.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function r(e){return(e=e||{}).circles?i(e):e.proto?o:r;function t(e,t){for(var r=Object.keys(e),i=new Array(r.length),o=0;o<r.length;o++){var a=r[o],s=e[a];"object"!==typeof s||null===s?i[a]=s:s instanceof Date?i[a]=new Date(s):ArrayBuffer.isView(s)?i[a]=n(s):i[a]=t(s)}return i}function r(e){if("object"!==typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return t(e,r);if(e instanceof Map)return new Map(t(Array.from(e),r));if(e instanceof Set)return new Set(t(Array.from(e),r));var i={};for(var o in e)if(!1!==Object.hasOwnProperty.call(e,o)){var a=e[o];"object"!==typeof a||null===a?i[o]=a:a instanceof Date?i[o]=new Date(a):a instanceof Map?i[o]=new Map(t(Array.from(a),r)):a instanceof Set?i[o]=new Set(t(Array.from(a),r)):ArrayBuffer.isView(a)?i[o]=n(a):i[o]=r(a)}return i}function o(e){if("object"!==typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return t(e,o);if(e instanceof Map)return new Map(t(Array.from(e),o));if(e instanceof Set)return new Set(t(Array.from(e),o));var r={};for(var i in e){var a=e[i];"object"!==typeof a||null===a?r[i]=a:a instanceof Date?r[i]=new Date(a):a instanceof Map?r[i]=new Map(t(Array.from(a),o)):a instanceof Set?r[i]=new Set(t(Array.from(a),o)):ArrayBuffer.isView(a)?r[i]=n(a):r[i]=o(a)}return r}}function i(e){var t=[],r=[];return e.proto?a:o;function i(e,i){for(var o=Object.keys(e),a=new Array(o.length),s=0;s<o.length;s++){var l=o[s],c=e[l];if("object"!==typeof c||null===c)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(ArrayBuffer.isView(c))a[l]=n(c);else{var u=t.indexOf(c);a[l]=-1!==u?r[u]:i(c)}}return a}function o(e){if("object"!==typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return i(e,o);if(e instanceof Map)return new Map(i(Array.from(e),o));if(e instanceof Set)return new Set(i(Array.from(e),o));var a={};for(var s in t.push(e),r.push(a),e)if(!1!==Object.hasOwnProperty.call(e,s)){var l=e[s];if("object"!==typeof l||null===l)a[s]=l;else if(l instanceof Date)a[s]=new Date(l);else if(l instanceof Map)a[s]=new Map(i(Array.from(l),o));else if(l instanceof Set)a[s]=new Set(i(Array.from(l),o));else if(ArrayBuffer.isView(l))a[s]=n(l);else{var c=t.indexOf(l);a[s]=-1!==c?r[c]:o(l)}}return t.pop(),r.pop(),a}function a(e){if("object"!==typeof e||null===e)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return i(e,a);if(e instanceof Map)return new Map(i(Array.from(e),a));if(e instanceof Set)return new Set(i(Array.from(e),a));var o={};for(var s in t.push(e),r.push(o),e){var l=e[s];if("object"!==typeof l||null===l)o[s]=l;else if(l instanceof Date)o[s]=new Date(l);else if(l instanceof Map)o[s]=new Map(i(Array.from(l),a));else if(l instanceof Set)o[s]=new Set(i(Array.from(l),a));else if(ArrayBuffer.isView(l))o[s]=n(l);else{var c=t.indexOf(l);o[s]=-1!==c?r[c]:a(l)}}return t.pop(),r.pop(),o}}t.exports=r}).call(this)}).call(this,e("buffer").Buffer)},{buffer:17}],73:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:17}],74:[function(e,t,n){function r(e){var t=e._readableState;return t?t.objectMode||"number"===typeof e._duplexState?e.read():e.read(i(t)):null}function i(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}t.exports=r},{}],75:[function(e,t,n){var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=p,this.end=m,t=4;break;case"utf8":this.fillLast=d,t=4;break;case"base64":this.text=g,this.end=v,t=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function l(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}function d(e){var t=this.lastTotal-this.lastNeed,n=u(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function h(e,t){var n=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t}function p(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function g(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=f,s.prototype.text=h,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":73}],76:[function(e,t,n){var r=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=E,n.resolve=C,n.resolveObject=S,n.format=w,n.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function E(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function w(e){return i.isString(e)&&(e=E(e)),e instanceof o?e.format():o.prototype.format.call(e)}function C(e,t){return E(e,!1,!0).resolve(t)}function S(e,t){return e?E(e,!1,!0).resolveObject(t):t}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s),E=/\\/g;c[0]=c[0].replace(E,"/");var w=e=c.join(s);if(w=w.trim(),!n&&1===e.split("#").length){var C=l.exec(w);if(C)return this.path=w,this.href=w,this.pathname=C[1],C[2]?(this.search=C[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(w);if(S){var T=(S=S[0]).toLowerCase();this.protocol=T,w=w.substr(S.length)}if(n||S||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===w.substr(0,2);!_||S&&v[S]||(w=w.substr(2),this.slashes=!0)}if(!v[S]&&(_||S&&!y[S])){for(var k,x,A=-1,I=0;I<h.length;I++)-1!==(M=w.indexOf(h[I]))&&(-1===A||M<A)&&(A=M);for(-1!==(x=-1===A?w.lastIndexOf("@"):w.lastIndexOf("@",A))&&(k=w.slice(0,x),w=w.slice(x+1),this.auth=decodeURIComponent(k)),A=-1,I=0;I<d.length;I++){var M;-1!==(M=w.indexOf(d[I]))&&(-1===A||M<A)&&(A=M)}-1===A&&(A=w.length),this.host=w.slice(0,A),w=w.slice(A),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var L=this.hostname.split(/\./),D=(I=0,L.length);I<D;I++){var O=L[I];if(O&&!O.match(p)){for(var P="",N=0,F=O.length;N<F;N++)O.charCodeAt(N)>127?P+="x":P+=O[N];if(!P.match(p)){var j=L.slice(0,I),B=L.slice(I+1),U=O.match(m);U&&(j.push(U[1]),B.unshift(U[2])),B.length&&(w="/"+B.join(".")+w),this.hostname=j.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+z,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!g[T])for(I=0,D=u.length;I<D;I++){var V=u[I];if(-1!==w.indexOf(V)){var q=encodeURIComponent(V);q===V&&(q=escape(V)),w=w.split(V).join(q)}}var G=w.indexOf("#");-1!==G&&(this.hash=w.substr(G),w=w.slice(0,G));var W=w.indexOf("?");if(-1!==W?(this.search=w.substr(W),this.query=w.substr(W+1),t&&(this.query=b.parse(this.query)),w=w.slice(0,W)):t&&(this.search="",this.query={}),w&&(this.pathname=w),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var K=this.search||"";this.path=z+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),t+o+n+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(E(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=E||b||n.host&&e.pathname,C=w,S=n.pathname&&n.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===S[0])),E)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return T&&(n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=S.slice(-1)[0],k=(n.host||e.host||S.length>1)&&("."===_||".."===_)||""===_,x=0,A=S.length;A>=0;A--)"."===(_=S[A])?S.splice(A,1):".."===_?(S.splice(A,1),x++):x&&(S.splice(A,1),x--);if(!w&&!C)for(;x--;x)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var I,M=""===S[0]||S[0]&&"/"===S[0].charAt(0);return T&&(n.hostname=n.host=M?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),(w=w||n.host&&S.length)&&!M&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":77,punycode:51,querystring:54}],77:[function(e,t,n){t.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],78:[function(e,t,n){(function(e){(function(){function n(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(rW){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this)}).call(this,"undefined"!==typeof Zu?Zu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],79:[function(e,t,n){function r(e,t){if(e&&t)return r(e)(t);if("function"!==typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"===typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}t.exports=r},{}],80:[function(e,t,n){t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(e,t,n){t.exports=i;var r=Object.prototype.hasOwnProperty;function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}},{}],82:[function(e,t,n){t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],83:[function(e,t,n){function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=i(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{e("./iterator.js")(r)}catch(I4){}},{"./iterator.js":82}]},{},[12])(12)}(Ju);var ed=$u(Ju.exports);class td{constructor(){this.store={},this.store={}}clear(){this.store={}}getItem(e){return this.store[e]||null}setItem(e,t){this.store[e]=String(t)}removeItem(e){delete this.store[e]}get length(){return Object.keys(this.store).length}key(e){return Object.keys(this.store)[e]||null}}const nd=()=>"undefined"!==typeof window&&window.localStorage?window:{localStorage:new td},rd=()=>Lt.Z.v4().toString();let id=0;if("undefined"!==typeof BroadcastChannel&&"undefined"!==typeof window){const e=rd(),t={},n=new BroadcastChannel("amity_ts_sdk");let r;n.postMessage({type:"startup",tabId:e}),n.onmessage=i=>{let{data:o}=i;o.tabId!==e&&("startup"===o.type&&n.postMessage({type:"identify",tabId:e,tabIndex:id}),"identify"===o.type&&void 0!==o.tabIndex&&o.tabId&&(t[o.tabId]=o.tabIndex,r||(r=setTimeout((()=>{const e=Object.values(t).sort();e&&0!==e.length&&(id=e.reduce(((e,t)=>e<t?e:t+1),0))}),15))))}}const od=async()=>{const e=await(async e=>new Promise((t=>{t(nd().localStorage.getItem(e))})))("deviceId");if(e)return e;const t="ascWebSdk#".concat(rd());return await(async(e,t)=>new Promise((n=>{nd().localStorage.setItem(e,t),n(!0)})))("deviceId",t),t},ad=()=>{const e=(()=>{var e,t;return(null===(e=zu.versions)||void 0===e?void 0:e.node)?zu.versions.node:navigator?"".concat(navigator.product.toLowerCase(),"#").concat(null!==(t=navigator.userAgent)&&void 0!==t?t:"unknown_agent"):"unknown_model"})();return{kind:"web",model:e,sdkVersion:bc}},sd=1e3;var ld;!function(e){e[e.IDENTIFIER_REJECTED=2]="IDENTIFIER_REJECTED",e[e.BAD_USERNAME_OR_PASSWORD=134]="BAD_USERNAME_OR_PASSWORD",e[e.NOT_AUTHORIZED=135]="NOT_AUTHORIZED"}(ld||(ld={}));const cd=e=>{let t;return{connect:async function(n){const r=await(async e=>{const t=await od();return"mqttjs_".concat(t,"_").concat(e,"_").concat(id)})(n.userId);return t&&(t.removeAllListeners(),t.end(!0)),t=ed.connect(e,function(e){return Object.assign({clean:!1,clientId:"mqttjs_ + ".concat(Math.random().toString(16).substring(2,10)),protocolId:"MQTT",protocolVersion:4,reconnectPeriod:sd,will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},resubscribe:!0},e)}({username:n.userId,password:n.accessToken,clientId:r})),t.on("connect",(()=>{t.options.reconnectPeriod=sd,(()=>{const e=[ju(Lu(gu())),ju(Pu()),ju(Nu()),ju(Fu()),ju(Ou(gu()))]})()})),t.on("error",(e=>{switch(e.code){case 2:case 134:case 135:t.end()}})),t.on("reconnect",(()=>{t.options.reconnectPeriod=Math.min(2*(t.options.reconnectPeriod||sd),8e3)})),new Promise((e=>t.once("connect",(()=>e()))))},async disconnect(){if(this.connected)return new Promise((e=>null===t||void 0===t?void 0:t.end(!0,void 0,(()=>e()))))},get connected(){return!!(null===t||void 0===t?void 0:t.connected)},on(e,n){null===t||void 0===t||t.on(e,n)},once(e,n){null===t||void 0===t||t.once(e,n)},off(e,n){void 0!==n?null===t||void 0===t||t.off(e,n):null===t||void 0===t||t.removeAllListeners(e)},removeAllListeners(){null===t||void 0===t||t.removeAllListeners()},subscribe(e,n){const r=(t,r)=>{var i;if(t||128===(null===(i=r[0])||void 0===i?void 0:i.qos)){const r=t?new Kc(t.message,8e5,"error"):new Qc(8e5,"error");console.warn("Failed to subscribe to topic ".concat(e),r),null===n||void 0===n||n(r)}else console.log("Subscribed to topic ".concat(e)),null===n||void 0===n||n()};return t?t.subscribe(e,{qos:0},r):r(new Error("No connection to broker"),[]),()=>null===t||void 0===t?void 0:t.unsubscribe(e)},unsubscribe(e){null===t||void 0===t||t.unsubscribe(e)}}},ud=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.entries(e).forEach((e=>{let[r,i]=e;const o=Wc[r];if(!o)return;const a=Gc(o);a&&i.forEach((e=>{(n?nu:iu)([o,"get",a(e)],e,t)}))}))},dd=(e,t)=>{const{log:n,cache:r}=Xc(),i=[e,_c,t],o={cachedAt:Date.now()};r&&(n("cache/api/pushToTombstone",{cacheKey:i,data:o}),ou([e,"get",t],!0),nu(i,o))};function hd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}const fd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"userId",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";var r;return null!==(r=null===e||void 0===e?void 0:e.map((e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"userId",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return e[n]?e:Object.assign({get[n](){var n;if(!Xc().cache)return;return(null===(n=tu(["user","get",e[t]]))||void 0===n?void 0:n.data)||void 0}},e)}(e,t,n))))&&void 0!==r?r:e},pd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"userId",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";const i=e,o=t,a=i[o],s=hd(i,["symbol"===typeof o?o:o+""]),l=fd(a,n,r);return Object.assign(Object.assign({},s),{[t]:l})};function md(e){return e.map((e=>{var{isMentioned:t}=e,n=hd(e,["isMentioned"]);return Object.assign({hasMentioned:t},n)}))}function gd(e){return md(e)}function vd(e){return md(e)}function yd(e){return md(e)}const bd=(e,t)=>{var n,r,i;return(null===t||void 0===t?void 0:t.isDeleted)?0:null!==(i=null!==(n=null===t||void 0===t?void 0:t.unreadCount)&&void 0!==n?n:null===(r=(e=>{var t;const n={entityId:e,userId:gu()._id};return null===(t=tu(["channelMarker","get",Gc("channelMarker")(n)]))||void 0===t?void 0:t.data})(e.channelId))||void 0===r?void 0:r.unreadCount)&&void 0!==i?i:0},Ed=(e,t)=>{var n,r;return void 0!==(null===t||void 0===t?void 0:t.hasMentioned)?null===t||void 0===t?void 0:t.hasMentioned:null!==(r=null===(n=(e=>{var t;const n={entityId:e,userId:gu()._id};return null===(t=tu(["channelMarker","get",Gc("channelMarker")(n)]))||void 0===t?void 0:t.data})(e.channelId))||void 0===n?void 0:n.hasMentioned)&&void 0!==r&&r},wd=["analytic","normal-priority"],Cd=["analytic","high-priority"],Sd=async e=>{const t=Xc();await t.http.post("/api/v1/analytics/activities",{activities:e})};class Td{constructor(){this._timer=void 0,this._high_priority_timer=void 0}start(){this.syncCapturedEvent(),this._timer=setInterval((()=>{this.syncCapturedEvent()}),6e4),this._high_priority_timer=setInterval((()=>{this.syncHighPriorityCapturedEvent()}),1e4)}stop(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}async syncCapturedEvent(){try{const e=tu(wd);if(!(null===e||void 0===e?void 0:e.data))return;if(0===e.data.event.length)return;const t=e.data.event;await Sd(t),ou(wd)}catch(e){this.stop(),ou(wd)}}async syncHighPriorityCapturedEvent(){try{const e=tu(Cd);if(!(null===e||void 0===e?void 0:e.data))return;if(0===e.data.event.length)return;const t=e.data.event;await Sd(t),ou(Cd)}catch(e){this.stop(),ou(Cd)}}}class _d{constructor(){this._expireTime=3e5,this._poolLimit=1e3,this._recentViewed={},this._recentHighPriorityViewed={},this._throttleStoryTimer=void 0,this._bufferNewSeenStoryReferenceIds=[]}isAbleToEnqueue(e){let{itemId:t,expireTime:n,isHighPriority:r=!1}=e;const i=new Date,o=(()=>r?this._recentHighPriorityViewed[t]:this._recentViewed[t])()||new Date(-1*Sc);return!(i.getTime()-o.getTime()<n)}markPostAsViewed(e){if(!this.isAbleToEnqueue({itemId:e,expireTime:this._expireTime}))return;const t=new Date,n={event:[]},r=tu(wd);(null===r||void 0===r?void 0:r.data)&&(n.event=r.data.event),n.event.length>=this._poolLimit&&n.event.shift(),n.event.push({contentId:e,contentType:"post",activityType:"view",timestamp:t.toISOString()}),iu(wd,n),this._recentViewed[e]=t}markStory(e,t){if(!e.expiresAt)return;const n=new Date,r=new Date(e.expiresAt);if(!this.isAbleToEnqueue({itemId:e.storyId,expireTime:r.getTime(),isHighPriority:!0}))return;const i={event:[]},o=tu(Cd);if((null===o||void 0===o?void 0:o.data)&&(i.event=o.data.event),i.event.length>=this._poolLimit&&i.event.shift(),i.event.push({contentId:e.storyId,contentType:"story",activityType:t,timestamp:n.toISOString()}),iu(Cd,i),this._recentHighPriorityViewed[e.storyId]=n,"linkClicked"===t)return;nu(["story-seen","get",e.storyId],(new Date).toISOString());const a=tu(["story-last-seen",e.targetId]);(null===a||void 0===a?void 0:a.data)?new Date(a.data).getTime()<new Date(e.expiresAt).getTime()&&nu(["story-last-seen",e.targetId],e.expiresAt):nu(["story-last-seen",e.targetId],e.expiresAt),this._bufferNewSeenStoryReferenceIds.push(e.referenceId),this._throttleStoryTimer||(this._throttleStoryTimer=setTimeout((()=>{clearTimeout(this._throttleStoryTimer),ku("local.story.updated",{referenceIds:this._bufferNewSeenStoryReferenceIds}),this._bufferNewSeenStoryReferenceIds=[]}),300))}markStoryAsViewed(e){this.markStory(e,"view")}markStoryAsClicked(e){this.markStory(e,"linkClicked")}}class kd{constructor(){this._client=Xc(),this._eventCapturer=new _d,this._eventSyncer=new Td}markPostAsViewed(e){"established"!==this._client.sessionState&&"tokenExpired"!==this._client.sessionState||this._eventCapturer.markPostAsViewed(e)}markStoryAsViewed(e){"established"!==this._client.sessionState&&"tokenExpired"!==this._client.sessionState||this._eventCapturer.markStoryAsViewed(e)}markStoryAsClicked(e){"established"!==this._client.sessionState&&"tokenExpired"!==this._client.sessionState||this._eventCapturer.markStoryAsClicked(e)}established(){this._eventSyncer.start()}handleTokenExpired(){this._eventSyncer.stop()}destroy(){this._eventSyncer.stop(),ou(wd)}}let xd;var Ad=()=>(xd||(xd=new kd),xd);const Id=e=>Object.assign(Object.assign({},e),{get avatar(){var t;if(!e.avatarFileId)return null;let n={fileId:(null===(t=e.avatarFileId)||void 0===t?void 0:t.toString())?e.avatarFileId.toString():"",type:"image",fileUrl:"",createdAt:"",attributes:{name:"",extension:"",size:"",mimeType:"",metadata:{exif:{},gps:{},width:0,height:0,isFull:!1}}};const r=tu(["file","get","".concat(e.avatarFileId)]);return(null===r||void 0===r?void 0:r.data)&&(n=null===r||void 0===r?void 0:r.data),n}}),Md=e=>{const t=tu(["story-expire",e.targetId]),n=tu(["story-last-seen",e.targetId]),r=(new Date).getTime(),i=e.lastStoryExpiresAt?new Date(e.lastStoryExpiresAt).getTime():0,o=e.lastStorySeenExpiresAt?new Date(e.lastStorySeenExpiresAt).getTime():0,a=(null===t||void 0===t?void 0:t.data)?new Date(null===t||void 0===t?void 0:t.data).getTime():0,s=(null===n||void 0===n?void 0:n.data)?new Date(null===n||void 0===n?void 0:n.data).getTime():0,l=Math.max(o,s),c=tu(["story-sync-state",e.targetId]);return(null===c||void 0===c?void 0:c.data)&&["syncing","error"].includes(c.data)?a>r&&a>l:i>r&&i>l},Rd=e=>{const{targetType:t,targetId:n,lastStoryExpiresAt:r,lastStorySeenExpiresAt:i,targetUpdatedAt:o}=e;return{targetType:t,targetId:n,updatedAt:o,hasUnseen:Md({targetId:n,lastStoryExpiresAt:r,lastStorySeenExpiresAt:i})}},Ld=e=>Object.assign(Object.assign({},e),{get target(){const t={type:e.targetType};if("user"===e.targetType)return Object.assign(Object.assign({},t),{userId:e.targetId});if("content"===t.type)return Object.assign(Object.assign({},t),{contentId:e.targetId});if("community"===t.type){const n=tu(["communityUsers","get","".concat(e.targetId,"#").concat(e.userId)]);return Object.assign(Object.assign({},t),{communityId:e.targetId,creatorMember:null===n||void 0===n?void 0:n.data})}return{type:"unknown"}},get creator(){const t=tu(["user","get",e.userId]);if(null===t||void 0===t?void 0:t.data)return Id(t.data)},get childrenComment(){return e.children.map((e=>{const t=tu(["comment","get",e]);if(null===t||void 0===t?void 0:t.data)return null===t||void 0===t?void 0:t.data})).filter((e=>e)).map((e=>Ld(e)))}}),Dd={comment:Ld,post:e=>Object.assign(Object.assign({},e),{analytics:{markAsViewed:()=>{Ad().markPostAsViewed(e.postId)}},get latestComments(){return e.comments&&e.comments.map((e=>{var t;const n=null===(t=tu(["comment","get",e]))||void 0===t?void 0:t.data;return n?Ld(n):null})).filter(Boolean)||[]},get creator(){const t=tu(["user","get",e.postedUserId]);if(null===t||void 0===t?void 0:t.data)return Id(t.data)}}),user:Id,category:e=>Object.assign(Object.assign({},e),{get avatar(){var t;if(!e.avatarFileId)return null;let n={fileId:(null===(t=e.avatarFileId)||void 0===t?void 0:t.toString())?e.avatarFileId.toString():"",type:"image",fileUrl:"",createdAt:"",attributes:{name:"",extension:"",size:"",mimeType:"",metadata:{exif:{},gps:{},width:0,height:0,isFull:!1}}};const r=tu(["file","get","".concat(e.avatarFileId)]);return(null===r||void 0===r?void 0:r.data)&&(n=null===r||void 0===r?void 0:r.data),n}}),story:e=>{const t=Ad(),n=tu(["storyTarget","get",e.targetId]),r=tu(["community","get",e.targetId]);return Object.assign(Object.assign({},e),{analytics:{markAsSeen:()=>{e.expiresAt&&"synced"===e.syncState&&t.markStoryAsViewed(e)},markLinkAsClicked:()=>{e.expiresAt&&"synced"===e.syncState&&t.markStoryAsClicked(e)}},get videoData(){var t,n;const r=tu(["file","get",null===(n=null===(t=e.data)||void 0===t?void 0:t.videoFileId)||void 0===n?void 0:n.original]);if(!r)return;const{data:i}=r;return i||void 0},get imageData(){var t,n;if(!(null===(t=e.data)||void 0===t?void 0:t.fileId))return;const r=tu(["file","get",null===(n=e.data)||void 0===n?void 0:n.fileId]);if(!r)return;const{data:i}=r;return i?Object.assign(Object.assign({},i),{fileUrl:"".concat(i.fileUrl,"?size=full")}):void 0},get community(){if("community"===e.targetType&&r)return(null===r||void 0===r?void 0:r.data)||void 0},get communityCategories(){if("community"!==e.targetType)return;if(!r)return;const{data:{categoryIds:t}}=r;return 0!==t.length?t.map((e=>{const t=tu(["category","get",e]);return(null===t||void 0===t?void 0:t.data)||void 0})).filter((e=>void 0!==e)):void 0},get creator(){const t=tu(["user","get",e.creatorPublicId]);if(null===t||void 0===t?void 0:t.data)return Id(t.data)},get storyTarget(){if(null===n||void 0===n?void 0:n.data)return Rd(n.data)},get isSeen(){const t=tu(["story-last-seen",e.targetId]);if(!(null===n||void 0===n?void 0:n.data))return!1;const r=(null===t||void 0===t?void 0:t.data)?new Date(t.data).getTime():0,i=new Date(null===n||void 0===n?void 0:n.data.lastStorySeenExpiresAt).getTime()||0,o=new Date(e.expiresAt).getTime();return Math.max(r,i)>=o}})},storyTarget:Rd},Od=e=>{var t,n;const r={messagePreviewChannel:null!==(n=null===(t=e.messagePreviews)||void 0===t?void 0:t.map((t=>(t=>{var n;const r=null===(n=e.messageFeedsInfo)||void 0===n?void 0:n.find((e=>e.messageFeedId===t.messageFeedId)),{channelPublicId:i,messageFeedId:o,data:a,dataType:s,isDeleted:l,segment:c,creatorPublicId:u,createdAt:d,updatedAt:h}=t;return{channelId:i,subChannelId:o,data:a,dataType:s,isDeleted:l,segment:c,creatorId:u,createdAt:d,updatedAt:h,subChannelName:null===r||void 0===r?void 0:r.name,messagePreviewId:null===r||void 0===r?void 0:r.messagePreviewId,subChannelUpdatedAt:null===r||void 0===r?void 0:r.updatedAt}})(t))))&&void 0!==n?n:[]};ud(r)},Pd=e=>{var t,n;const r={messagePreviewSubChannel:null!==(n=null===(t=e.messages)||void 0===t?void 0:t.map((t=>(t=>{var n;const r=null===(n=e.messageFeeds)||void 0===n?void 0:n.find((e=>e.messageFeedId===t.messageFeedId)),{channelPublicId:i,messageFeedId:o,messageId:a,creatorPublicId:s,data:l,dataType:c,isDeleted:u,segment:d,createdAt:h,updatedAt:f}=t;return{messagePreviewId:a,channelId:i,subChannelId:o,data:l,dataType:c,isDeleted:u,segment:d,creatorId:s,createdAt:h,updatedAt:f,subChannelName:null===r||void 0===r?void 0:r.name,subChannelUpdatedAt:null===r||void 0===r?void 0:r.updatedAt}})(t))))&&void 0!==n?n:[]};ud(r)};function Nd(e){const t=Object.create(Object.getPrototypeOf(e)),n=Object.getOwnPropertyDescriptors(e);return Object.defineProperties(t,n),t}function Fd(e,t,n){nu(["subChannel","get",e],Object.assign(Nd(t),n))}const jd=["broadcast","conversation","community"],Bd=e=>{let{type:t}=e;return jd.includes(t)};function Ud(e){return Object.assign(Object.assign({get unreadCount(){return bd(e)},get hasMentioned(){return Ed(e)}},e),{defaultSubChannelId:e._id,isUnreadCountSupport:Bd(e)})}const zd=e=>{ud({channels:e.channels.map((e=>Ud(e)))})},Hd=async e=>{const t=Xc();"no-message-preview"!==await t.getMessagePreviewSetting(!1)&&e.messagePreviews&&e.messagePreviews.length>0&&Od(e);const n=e.channels.filter(Bd).map((e=>{let{channelId:t}=e;return t}));if(n.length>0){zd(e);try{await(async e=>{const t=Xc();t.log("channel/getChannelMarkers",e);const{data:n}=await t.http.get("/api/v1/markers/channels",{params:{channelIds:e}}),{userEntityMarkers:r,userMarkers:i}=n,o=gd(i),a=vd(r),s=t.cache&&Date.now();return t.cache&&ud({userEntityMarkers:a,userMarkers:o},{cachedAt:s}),ku("local.channelMarker.fetched",{userEntityMarkers:a}),ku("local.userMarker.fetched",{userMarkers:o}),{data:a,cachedAt:s}})(n)}catch(a){}}const r=e.channels.map(Ud),i=fd(e.channelUsers),o=hd(e,["messageFeedsInfo","messagePreviews"]);return Object.assign(Object.assign({},o),{channels:r,channelUsers:i})},Vd=async e=>{const t=Xc();t.log("channel/getChannelByIds",e);const n=e.map((e=>encodeURIComponent(e)));let r;try{r=(await t.http.get("/api/v3/channels/list",{params:{channelIds:n}})).data}catch(a){throw e.forEach((e=>{Rc(null===a||void 0===a?void 0:a.code)&&dd("channel",e)})),a}const i=await Hd(r),o=t.cache&&Date.now();return t.cache&&ud(i,{cachedAt:o}),{data:i.channels,cachedAt:o}};Vd.locally=e=>{var t;const n=Xc();if(n.log("channel/getChannelByIds.locally",e),!n.cache)return;const r=e.map((e=>tu(["channel","get",e]))).filter(Boolean);if((null===r||void 0===r?void 0:r.length)<e.length)return;const i=r.map((e=>{let{data:t}=e;return t})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return{data:i,cachedAt:o.cachedAt}};const qd=async()=>{const e=Xc();e.log("channel/getUserMarker");const{data:t}=await e.http.get("/api/v1/markers/userMarker"),{userMarkers:n}=t,r=gd(n),i=e.cache&&Date.now();return e.cache&&ud({userMarkers:r},{cachedAt:i}),ku("local.userMarker.fetched",{userMarkers:r}),{data:r[0],cachedAt:i}},Gd=e=>!0===e&&void 0,Wd=(e,t)=>{var n;return null!==(n=null!==t&&void 0!==t?t:(e=>{var t,n;const r={creatorId:e.creatorId,feedId:null!==(t=e.messageFeedId)&&void 0!==t?t:e.subChannelId,contentId:e.messageId};return null===(n=tu(["messageMarker","get",Gc("messageMarker")(r)]))||void 0===n?void 0:n.data})(e))&&void 0!==n?n:{readCount:0,deliveredCount:0}};const Kd=["broadcast","conversation","community"],Yd=e=>{let{channelType:t}=e;return Kd.includes(t)};function Qd(e){var{channelId:t,channelPublicId:n,channelType:r,childCount:i,creatorId:o,creatorPublicId:a,lastMessageId:s,lastMessageTimestamp:l,messageFeedId:c,name:u}=e,d=hd(e,["channelId","channelPublicId","channelType","childCount","creatorId","creatorPublicId","lastMessageId","lastMessageTimestamp","messageFeedId","name"]);return Object.assign(Object.assign({get unreadCount(){return function(e,t,n){var r;if(n)return n.unreadCount;const i={entityId:e,feedId:t,userId:gu()._id},o=null===(r=tu(["subChannelMarker","get",Gc("subChannelMarker")(i)]))||void 0===r?void 0:r.data;return o?o.unreadCount:0}(t,c)},get hasMentioned(){return function(e,t,n){var r;if(n)return n.hasMentioned;const i={entityId:e,feedId:t,userId:gu()._id},o=null===(r=tu(["subChannelMarker","get",Gc("subChannelMarker")(i)]))||void 0===r?void 0:r.data;return!!o&&o.hasMentioned}(t,c)}},d),{channelId:n,creatorId:a,displayName:u,lastActivity:l,latestMessageId:s,messageCount:i,subChannelId:c,isUnreadCountSupport:Yd({channelType:r})})}function Zd(e,t,n){const{channelPublicId:r,childCount:i,creatorPublicId:o,mentionedUsers:a,messageFeedId:s,myReactions:l,reactionCount:c,reactions:u,referenceId:d,segment:h,messageId:f}=e,p=hd(e,["channelPublicId","childCount","creatorPublicId","mentionedUsers","messageFeedId","myReactions","reactionCount","reactions","referenceId","segment","messageId"]);let m;d&&(m=tu(["message","get",d])),m||(m=tu(["message","get",f]));const g=Object.assign(Object.assign({get readCount(){return Wd(e).readCount},get deliveredCount(){return Wd(e).deliveredCount}},p),{messageId:f,channelId:r,channelSegment:h,childrenNumber:i,creatorId:o,reactions:null!==u&&void 0!==u?u:{},myReactions:null!==l&&void 0!==l?l:[],reactionsCount:c,subChannelId:s,uniqueId:m?m.data.uniqueId:f,referenceId:d});return a&&(g.mentionees=a.map((e=>"channel"===e.type?e:{type:"user",userIds:e.userPublicIds}))),t&&t.length&&n&&((e,t,n)=>{const r=Xc(),i=tu(["message","get",e.messageId]),o=(null===i||void 0===i?void 0:i.data.myReactions)||[];Object.assign(e,{myReactions:o});const a=t[0];a&&a.userId===r.userId&&("message.reactionAdded"!==n||o.includes(a.reactionName)||Object.assign(e,{myReactions:[...o,a.reactionName]}),"message.reactionRemoved"===n&&o.includes(a.reactionName)&&Object.assign(e,{myReactions:o.filter((e=>e!==a.reactionName))}))})(g,t,n),g}const $d=async(e,t)=>{const n=e.messages.map((e=>{let{messageId:t}=e;return t}));if(n.length>0){ud({messages:(r=e).messages.map((e=>Zd(e,r.reactions)))});try{await(async e=>{const t=Xc();t.log("channel/getMessageMarkers",e);const{data:n}=await t.http.get("/api/v1/markers/messages",{params:{messageIds:e}}),{contentMarkers:r,feedMarkers:i,userMarkers:o}=n,a=gd(o),s=t.cache&&Date.now();return t.cache&&ud({contentMarkers:r,feedMarkers:i,userMarkers:a},{cachedAt:s}),ku("local.feedMarker.fetched",{feedMarkers:i}),ku("local.messageMarker.fetched",{contentMarkers:r}),ku("local.userMarker.fetched",{userMarkers:a}),{data:r,cachedAt:s}})(n)}catch(a){}}var r;const{messageFeeds:i}=e,o=hd(e,["messageFeeds"]);return i&&i.length>0&&(null===i||void 0===i||i.forEach((e=>{var t,n;const r=null!==(n=null===(t=tu(["subChannel","get",e.messageFeedId]))||void 0===t?void 0:t.data)&&void 0!==n?n:{},i=hd(Qd(e),["unreadCount","hasMentioned"]);Fd(e.messageFeedId,r,i)}))),Object.assign(Object.assign({},o),{messages:e.messages.map((n=>Zd(n,e.reactions,t)))})};function Xd(e){var{subChannelId:t,mentionees:n,dataType:r,data:i}=e,o=hd(e,["subChannelId","mentionees","dataType","data"]);return r===vc.IMAGE||r===vc.FILE?Object.assign({messageFeedId:t,mentionedUsers:n,dataType:r,data:Object.assign({caption:""},i)},o):Object.assign({messageFeedId:t,mentionedUsers:n,dataType:r,data:i},o)}const Jd=["broadcast","conversation","community"],eh=e=>{let{channelType:t}=e;return Jd.includes(t)},th=async e=>{const t=e.messageFeeds.filter(eh).map((e=>{let{messageFeedId:t}=e;return t}));if(t.length>0){(e=>{ud({messageFeeds:e.messageFeeds.map((e=>Qd(e)))})})(e);try{await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:100};const n=Xc();n.log("channel/getSubChannelMarkers",e,t);const{data:r}=await n.http.get("/api/v1/markers/message-feeds",{params:{messageFeedIds:e,options:{token:Dc(t,"skiplimit")}}}),{paging:i}=r,o=hd(r,["paging"]),{userEntityMarkers:a,userFeedMarkers:s,userMarkers:l}=o,c=gd(l),u=vd(a),d=yd(s),h=n.cache&&Date.now();n.cache&&ud({userEntityMarkers:u,userFeedMarkers:d,userMarkers:c},{cachedAt:h}),ku("local.channelMarker.fetched",{userEntityMarkers:u}),ku("local.subChannelMarker.fetched",{userFeedMarkers:d}),ku("local.userMarker.fetched",{userMarkers:c});const f=Oc(i.next);return{data:d,cachedAt:h,prevPage:Oc(i.previous),nextPage:f}}(t)}catch(i){}}Pd(e);const n=e.messageFeeds.map(Qd),r=e.messages.map((e=>Zd(e)));return Object.assign(Object.assign({},e),{messageFeeds:n,messages:r})};const nh=e=>{const t=Xc();return _u(t,"client/onSessionStateChange","sessionStateChange",e)},rh=(e,t)=>{const n=setInterval(e,t);return()=>clearInterval(n)},ih=e=>"undefined"!==typeof window&&window.addEventListener?(window.addEventListener("online",e),()=>window.removeEventListener("online",e)):"undefined"!==typeof document&&document.addEventListener?(document.addEventListener("online",e),()=>document.removeEventListener("online",e)):(console.error("Unsupported environment"),()=>console.error("Unsupported environment")),oh=(e,t)=>{const{log:n,cache:r}=Xc(),i=[e,_c,t];if(!r)return;n("cache/api/isInTombstone",i);const o=tu(i),{lifeSpan:a}=zc("cache_then_server",18e4);if(o&&Bc(o.data,a))throw new Yc("Item not found!",400400,"error")},ah=async e=>{const t=Xc();t.log("channel/getSubChannel",e),oh("subChannel",e);try{const n=await t.http.get("/api/v5/message-feeds/".concat(encodeURIComponent(e))),r=await th(n.data),i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),ku("local.message-feed.fetched",r),{data:r.messageFeeds[0],cachedAt:i}}catch(n){throw Rc(null===n||void 0===n?void 0:n.code)&&dd("subChannel",e),n}};ah.locally=e=>{const t=Xc();if(t.log("channel/getSubChannel.locally",e),!t.cache)return;const n=tu(["subChannel","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};let sh=!1;const lh={},ch=async()=>{const e=Object.entries(lh).filter((e=>{let[,t]=e;return t})).map((e=>{let[t]=e;return t}));return 0!==e.length&&(async e=>{const t=Xc();t.log("subChannel/readingAPI",e);const{data:n}=await t.http.post("/api/v1/markers/message-feeds/reading",{messageFeedIds:e}),{userEntityMarkers:r,userFeedMarkers:i,feedMarkers:o,userMarkers:a}=n,s=gd(a),l=vd(r),c=yd(i),u=t.cache&&Date.now();return t.cache&&ud({userEntityMarkers:l,userFeedMarkers:c,feedMarkers:o,userMarkers:s},{cachedAt:u}),ku("local.feedMarker.fetched",{feedMarkers:o}),ku("local.channelMarker.fetched",{userEntityMarkers:l}),ku("local.subChannelMarker.fetched",{userFeedMarkers:c}),ku("local.userMarker.fetched",{userMarkers:s}),!0})(e)},uh=()=>{sh=!1},dh=()=>(sh=!0,nh((e=>{"notLoggedIn"===e&&uh()})),()=>{uh()});rh((async()=>{sh&&await ch()}),3e4);const hh=async e=>{const t=Xc();t.log("channel/getSubChannels",e);const n=await t.http.get("/api/v5/message-feeds/list",{params:{messageFeedIds:e.map(encodeURIComponent)}}),r=await th(n.data),i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),ku("local.message-feed.fetched",r),{data:r.messageFeeds,cachedAt:i}};hh.locally=e=>{var t;const n=Xc();if(n.log("channel/getSubChannels.locally",e),!n.cache)return;const r=e.map((e=>tu(["subChannel","get",e]))).filter(Boolean);if((null===r||void 0===r?void 0:r.length)<e.length)return;const i=r.map((e=>{let{data:t}=e;return t})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return{data:i,cachedAt:o.cachedAt}};const fh=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;const n=null===(t=tu(["MessagePreviewSetting"]))||void 0===t?void 0:t.data;if(!e&&n)return n;const r=await(async()=>{const e=Xc(),{data:t}=await e.http.get("/api/v3/network-settings/chat");return t})();var i;return(i=r).messagePreview.enabled?i.messagePreview.isIncludeDeleted?"message-preview-include-deleted":"message-preview-not-include-deleted":"no-message-preview"},ph=async()=>{const e=Xc(),{data:t}=await e.http.get("/api/v3/network-settings/feed-setting");return Object.fromEntries(t.feedSettings.map((e=>{let{feedType:t,contentSettings:n}=e;return[t,n]})))},mh=async()=>{const e=Xc(),{data:t}=await e.http.get("/api/v3/network-settings/social");return t.socialNetworkSetting},gh={notLoggedIn:["establishing"],terminated:["establishing"],establishing:["notLoggedIn","established"],established:["notLoggedIn","terminated","tokenExpired","establishing"],tokenExpired:["establishing"]},vh=e=>{const t=Xc();t.log("client/api/setSessionState",e);const{sessionState:n}=t;if(n===e)return!1;if(!((e,t)=>gh[e].includes(t))(n,e))throw new Kc("Session state cannot change from ".concat(n," to ").concat(e),8e5,"error");return t.sessionState=e,t.emitter.emit("sessionStateChange",e),!0},yh=async e=>{const t=Xc();vh("establishing");const{accessToken:n,users:r,expiresAt:i,issuedAt:o,refreshToken:a}=await(async e=>{const t=Xc();t.log("client/api/getToken",e);const n=ad(),{data:r}=await t.http.post("/api/v4/sessions",Object.assign(Object.assign({},e),{deviceInfo:n}),{headers:{"X-API-Key":t.apiKey}});return r})(e);return t.http.defaults.headers.common.Authorization="Bearer ".concat(n),t.http.defaults.metadata={tokenExpiry:i,isGlobalBanned:!1,isUserDeleted:!1},t.ws.io.opts.query={token:n},t.token={accessToken:n,issuedAt:o,expiresAt:i},vh("established"),{accessToken:n,users:r,refreshToken:a}},bh=e=>{const t=Xc();return _u(t,"onChannelDeleted","channel.deleted",(async t=>{const n=await Hd(t);ud(n),e(n.channels[0])}))},Eh=e=>{const t=Xc();return _u(t,"onChannelMemberBanned","channel.banned",(async t=>{const n=await Hd(t),{channels:r,channelUsers:i}=n;ud(n),e(r[0],i.find((e=>"banned"===e.membership)))}))},wh=(e,t)=>{const n=Xc();return _u(n,e,e,(e=>{n.cache&&ud(e),t(e.users[0])}))},Ch=e=>wh("user.deleted",e);const Sh=async()=>{const e=Xc();return e.log("client/api/disconnectClient"),e.mqtt.connected&&e.mqtt.disconnect(),e.ws.connected&&e.ws.disconnect(),"established"===e.sessionState&&vh("notLoggedIn"),e.emitter.all.clear(),e.ws.removeAllListeners(),e.mqtt.removeAllListeners(),e.userId=void 0,e.token=void 0,e.http.defaults.headers.common.Authorization="",e.ws.io.opts.query={token:""},"tokenExpired"!==e.sessionState&&e.cache&&(e.cache={data:{}}),!0},Th=e=>{const t=Xc();vh("terminated"),t.http.defaults.metadata&&("globalBan"===e&&(t.http.defaults.metadata.isGlobalBanned=!0),"userDeleted"===e&&(t.http.defaults.metadata.isUserDeleted=!0)),t.sessionHandler=void 0,Sh()},_h=["disconnected","error","connect_error","reconnect_error","reconnect_failed"],kh=e=>{const t=Xc(),n=_h.map((n=>_u(t,"client/onConnectionError(".concat(n,")"),n,(t=>{const r=(null===t||void 0===t?void 0:t.code)?new Kc(t.message,t.code,"fatal"):new Zc(n);e(r)}))));return()=>{n.forEach((e=>e()))}},xh=e=>{const t=Xc();return _u(t,"client/onConnectionError(user.didGlobalBan)","user.didGlobalBan",e)},Ah=e=>{const t=Gc("channelMarker")({userId:gu()._id,entityId:e.channelId});ou(["channelMarker","get",t],!0)};let Ih=[];const Mh=async(e,t,n)=>{var r,i,o;const a=Xc();let s;a.log("client/api/connectClient",Object.assign({apiKey:a.apiKey,sessionState:a.sessionState},e)),a.userId&&a.userId!==e.userId&&(await Sh(),Ih.forEach((e=>e())),Ih=[]),null!==(r=e.deviceId)&&void 0!==r||(e.deviceId=await od());try{const{users:n}=await yh(e);((e,t)=>{wu.forEach((n=>{e.on(n,(e=>{t.emit(n,e)}))}))})(a.ws,a.emitter),a.ws.once("connect",(()=>{a.ws.open()})),a.userId=e.userId,a.sessionHandler=t,s=a.accessTokenExpiryWatcher(null===(i=a.token)||void 0===i?void 0:i.expiresAt,null===(o=a.token)||void 0===o?void 0:o.issuedAt,t),vu(n[0])}catch(l){throw vh("notLoggedIn"),l}return!0!==(null===n||void 0===n?void 0:n.disableRTE)&&async function(){await Iu()}(),await(async()=>{var e;const t=await fh();if(t===(null===(e=tu(["MessagePreviewSetting"]))||void 0===e?void 0:e.data))return;nu(["MessagePreviewSetting"],t);const n=[],r=[];if("no-message-preview"===t){const e=eu(["MessagePreview"]);e&&(null===e||void 0===e?void 0:e.length)>0&&e.forEach((e=>{let{key:t,data:i}=e;ou(t),t.includes("MessagePreviewChannel")&&n.push(i.channelId),t.includes("MessagePreviewSubChannel")&&r.push(i.subChannelId)}))}else if("message-preview-not-include-deleted"===t){const e=eu(["MessagePreview"]);e&&(null===e||void 0===e?void 0:e.length)>0&&e.forEach((e=>{let{key:t,data:i}=e;(null===i||void 0===i?void 0:i.isDeleted)&&(ou(t),t.includes("MessagePreviewChannel")&&n.push(i.channelId),t.includes("MessagePreviewSubChannel")&&r.push(i.subChannelId))})),0!==n.length&&await Vd(n),0!==r.length&&await hh(r)}})(),0===Ih.length&&Ih.push(xh((e=>{Th("globalBan"),Ih.forEach((e=>e())),s()})),(e=>{const t=Xc();return _u(t,"client/onTokenTerminated","tokenTerminated",e)})((e=>{Th(),Ih.forEach((e=>e())),s()})),Ch((e=>{e.userId===a.userId&&(Th("userDeleted"),Ih.forEach((e=>e())),s())})),(e=>{const t=Xc();return _u(t,"client/onTokenExpired","tokenExpired",e)})((e=>{vh(e),Sh(),Ih.forEach((e=>e()))})),bh(Ah),Eh(Ah),dh(),(()=>{const e=Ad();return e.established(),nh((t=>{"established"===t?e.established():e.handleTokenExpired()})),()=>{e.destroy()}})()),!0},Rh=()=>{let e,t=!1;const n=Xc();n.log("initiating access token renewal");const r=async r=>{const{userId:i,displayName:o}=gu(),a={userId:i,displayName:o,authToken:r,deviceId:await od()};"tokenExpired"===n.sessionState?await Mh(a,n.sessionHandler):await yh(a),t=!0,e&&clearTimeout(e)};return{renew:()=>{t?console.log("'renew' method can be called only once per renewal instance"):r()},renewWithAuthToken:e=>{t?console.log("'renewWithAuthToken' method can be called only once per renewal instance"):r(e)},unableToRetrieveAuthToken:()=>{e=setTimeout((()=>{var e;null===(e=n.sessionHandler)||void 0===e||e.sessionWillRenewAccessToken(Rh())}),Tc)}}},Lh=3e5,Dh=(e,t,n)=>{const r=setInterval((()=>{if((e=>Date.now()>Date.parse(e)-Lh)(e))return ku("tokenExpired","tokenExpired"),void Eu((()=>n.sessionWillRenewAccessToken(Rh())));(e=>{const{expiresAt:t,issuedAt:n}=e,r=Date.parse(t),i=Date.parse(n),o=Date.now();return o>i+.8*(r-i-Lh)&&o<r})({expiresAt:e,issuedAt:t})&&n.sessionWillRenewAccessToken(Rh())}),Tc);return()=>clearInterval(r)},Oh="amity",Ph=async e=>{const t=Xc();t.log("channel/markerSync");const{data:n}=await t.http.post("/api/v1/markers/sync",{deviceLastSyncAt:e}),{userEntityMarkers:r,userFeedMarkers:i,feedMarkers:o,userMarkers:a}=n,s=gd(a),l=vd(r),c=yd(i),u=t.cache&&Date.now();return t.cache&&ud({userEntityMarkers:l,userFeedMarkers:c,feedMarkers:o,userMarkers:s},{cachedAt:u}),ku("local.feedMarker.fetched",{feedMarkers:o}),ku("local.channelMarker.fetched",{userEntityMarkers:l}),ku("local.subChannelMarker.fetched",{userFeedMarkers:c}),ku("local.userMarker.fetched",{userMarkers:s}),{data:n,hasMore:n.feedMarkers.length>0}},Nh=e=>{const t=Xc();return _u(t,"userMarker/onUserMarkerFetched","local.userMarker.fetched",(t=>{e(t.userMarkers[0])}))};const Fh=e=>{if("object"!==typeof(t=e)||null===t)return e;var t;const n=Object.entries(e).map((t=>{let[n,r]=t;const i=Object.getOwnPropertyDescriptor(e,n);return"function"===typeof(null===i||void 0===i?void 0:i.get)?[n,i.get.call(e)]:[n,r]}));return Object.fromEntries(n)};function jh(e,t){if(null===e||void 0===e||null===t||void 0===t)return e===t;if(e.constructor!==t.constructor)return!1;if(e instanceof Function)return e===t;if(e instanceof RegExp)return e===t;if(e===t||e.valueOf()===t.valueOf())return!0;if(Array.isArray(e)&&e.length!==t.length)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!jh(e[n],t[n]))return!1;return!0}if(e instanceof Date)return!1;if(!(e instanceof Object))return!1;if(!(t instanceof Object))return!1;const n=Object.keys(e);return Object.keys(t).every((e=>-1!==n.indexOf(e)))&&n.every((n=>jh(e[n],t[n])))}const Bh=(e,t,n,r,i,o)=>{const{forceDispatch:a,callbackDataSelector:s,callbackFilter:l}=Object.assign({forceDispatch:!1,callbackDataSelector:e=>e},o),{cache:c}=Xc();let u;c||console.log("For using Live Object feature you need to enable Cache!");let d=!1;const h=[],f=e=>{const{data:n}=e,r=hd(e,["data"]);l&&!l(n,u)||t(Object.assign({data:s(n)},r)),u=Fh(n)};return h.push(...i.map((t=>t((t=>function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e===t[n]&&(u&&!r&&jh(u,t)||f({loading:!1,data:t,origin:"event"}))}(t,a)))))),(()=>{const t=Uc(r,e,!0);Hc(t,(e=>{let{error:t,data:n,loading:r,origin:i,cachedAt:o}=e;-5===o?(f({data:n,origin:i,loading:!1,error:new Yc("Observing unsynced object is not supported by Live Object.",800800,"error")}),d=!0,h.forEach((e=>e()))):d||f({loading:r,data:n,origin:i,error:t}),t&&h.forEach((e=>e()))}))})(),()=>{h.forEach((e=>e()))}},Uh=e=>{const t=Xc();return _u(t,"onChannelCreated","channel.created",(async t=>{const n=await Hd(t);ud(n),e(n.channels[0])}))},zh=e=>{const t=Xc();return _u(t,"onChannelJoined","channel.joined",(async t=>{const n=await Hd(t),{channels:r,channelUsers:i}=n;ud(n),e(r[0],i[0])}))},Hh=e=>{const t=Xc();return _u(t,"onChannelLeft","channel.left",(async t=>{const n=await Hd(t),{channels:r,channelUsers:i}=n;ud(n),e(r[0],i[0])}))},Vh=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Xc(),r=[_u(n,"message/onMessageCreated","message.created",(async t=>{const n=await $d(t),r=n.messages[0];ud(n),e(r)}))];return t&&_u(n,"message/onMessageCreated","local.message.created",(t=>e(t.messages[0]))),()=>{r.forEach((e=>e()))}},qh=e=>{const t=Xc();return _u(t,"onSubChannelCreated","message-feed.created",(async t=>{const n=await th(t);ud(n),e(n.messageFeeds[0])}))},Gh=e=>{const t=Xc(),n=[_u(t,"onSubChannelDeleted","message-feed.deleted",(async t=>{const n=await th(t);ud(n),e(n.messageFeeds[0])})),_u(t,"local.message-feed.deleted","local.message-feed.deleted",(t=>e(t.messageFeeds[0])))];return()=>{n.forEach((e=>e()))}};let Wh=!1,Kh=[],Yh=!1,Qh=null;const Zh=e=>{(!Qh||new Date(e).getTime()>new Date(Qh).getTime())&&(Qh=e)};let $h=[];const Xh=e=>{$h=e},Jh=e=>$h.push(e),ef=async()=>{if(Yh)return;if(0===$h.length)return;Yh=!0,$h=[];const e=await Ph(null==Qh?(new Date).toISOString():Qh);Zh(e.data.userMarkers[0].lastSyncAt),e.hasMore&&$h.push("has_more"),Yh=!1},tf=()=>{Kh.length>0||Kh.push(ih((()=>{$h.push("resume")})),Vh((e=>{eh(e)&&$h.push("new message")}),!1),Uh((()=>$h.push("subchannel is created"))),bh((()=>$h.push("subchannel is deleted"))),zh((()=>$h.push("subchannel is joined"))),Hh((()=>$h.push("subchannel is left"))),qh((()=>$h.push("subchannel is created"))),Gh((()=>setTimeout((()=>$h.push("subchannel is deleted")),2e3))),(e=>{const t=Xc();return _u(t,"feedMarker/onFeedMarkerUpdated","marker.feed-updated",(t=>{ud(t),e(t.feedMarkers[0])}))})((()=>$h.push("feed marker updated"))),(e=>{const t=Xc();return _u(t,"UserMarker/onUserMarkerSync","marker.user-sync",(t=>{const{userMarkers:n,userEntityMarkers:r,userFeedMarkers:i}=t,o=hd(t,["userMarkers","userEntityMarkers","userFeedMarkers"]),a=gd(n),s=vd(r),l=yd(i);ud(Object.assign({userMarkers:a,userEntityMarkers:s,userFeedMarker:l},o)),e(a[0])}))})((()=>$h.push("feed marker updated"))))},nf=()=>{Wh=!1,Xh([]),Kh.forEach((e=>e())),Kh=[]};rh((async()=>{Wh&&await ef()}),2e3);var rf=Object.freeze({__proto__:null,getActiveClient:Xc,getActiveUser:gu,setActiveUser:vu,createClient:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vu,{debugSession:n=Oh,apiEndpoint:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i,o;const a=(e=>{const t="".concat(null===e||void 0===e?void 0:e.trim()).length>0&&!Hu,n=N()(e),r=function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&n(e,i)};return r.__instance__=n,r})(n);a("client/api/createClient",{apiKey:e.replace(/.{5}$/g,"xxxxx"),apiRegion:t});const s=null!==(i=null===r||void 0===r?void 0:r.http)&&void 0!==i?i:Gu("http",t),l=null!==(o=null===r||void 0===r?void 0:r.mqtt)&&void 0!==o?o:Gu("mqtt",t),c=Qu(s),u=(e=>{const t=Rt()(e,{autoConnect:!1,reconnectionDelay:2e3,transports:["websocket"]});return t.on("disconnect",(e=>{"io server disconnect"===e&&t.connect()})),t})(s),d=cd(l),h=Su(),f={version:"".concat(bc),apiKey:e,log:a,cache:{data:{}},http:c,ws:u,mqtt:d,emitter:h,sessionState:"notLoggedIn",accessTokenExpiryWatcher:Dh,sessionHandler:undefined,getFeedSettings:ph,getSocialSettings:mh,getMessagePreviewSetting:fh,use:()=>Jc(f)};try{const t=Xc();if(t.apiKey===e)return t;Jc(f)}catch(E0){Jc(f)}return f},login:Mh,logout:Sh,isConnected:()=>{var e,t;const n=Xc();return n.log("client/api/isConnected",n),!!(n.userId&&(null===(t=String(null===(e=n.http.defaults.headers.common)||void 0===e?void 0:e.Authorization))||void 0===t?void 0:t.length)&&n.ws.connected)},getFeedSettings:ph,renewal:Rh,markerSync:Ph,onConnectionError:kh,onClientDisconnected:e=>kh((t=>{let{code:n}=t;800211===n&&e()})),onClientBanned:xh,onSessionStateChange:nh,getTotalUnreadCount:e=>{const{_id:t}=gu();if(!t)throw new Kc("The _id has not been defined in ActiveUser",8e5,"error");return Bh(t,e,"userId",qd,[Nh],{callbackDataSelector:e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.unreadCount)&&void 0!==t?t:0}})},getUserUnread:e=>{const{_id:t}=gu();if(!t)throw new Kc("The _id has not been defined in ActiveUser",8e5,"error");return Bh(t,e,"userId",qd,[Nh],{callbackDataSelector:e=>{var t;return{unreadCount:null!==(t=null===e||void 0===e?void 0:e.unreadCount)&&void 0!==t?t:0,hasMentioned:!!(null===e||void 0===e?void 0:e.hasMentioned)}}})},getMarkerSyncEvents:()=>$h,setMarkerSyncEvents:Xh,pushMarkerSyncEvent:Jh,markerSyncTrigger:ef,startUnreadSync:async()=>{await(async()=>{const{data:e}=await qd();Zh(e.lastSyncAt)})(),Jh("start syncing"),Wh=!0,tf()},stopUnreadSync:nf,stopUnreadSyncing:()=>(console.warn("`stopUnreadSyncing` has been deprecated, please use `stopUnreadSync` instead"),nf())});const of=async e=>{const t=Xc();let n={};if(e){const{token:t,limit:r}=e;n={limit:r,token:t}}t.log("user/queryBlockedUsers");const{data:r}=await t.http.get("/api/v4/me/user-blocks",{params:n}),{paging:i}=r,o=hd(r,["paging"]),{users:a}=o,s=t.cache&&Date.now();if(t.cache){ud(o,{cachedAt:s});nu(["blockedUsers","query",n],{users:a.map(Gc("user")),paging:i})}const{next:l,previous:c,total:u}=i,d=Pc(l);return{data:a,prevPage:Pc(c),nextPage:d,total:u,cachedAt:s}};of.locally=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,r;const i=Xc();if(i.log("user/queryBlockedUsers.locally"),!i.cache)return;let o={};if(e){const{token:t,limit:n}=e;o={token:t,limit:n}}const a=["blockedUsers","query",o],{data:s,cachedAt:l}=null!==(t=tu(a))&&void 0!==t?t:{},c=null!==(n=null===s||void 0===s?void 0:s.users.map((e=>tu(["user","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==n?n:[],u=Pc(null===s||void 0===s?void 0:s.paging.next),d=Pc(null===s||void 0===s?void 0:s.paging.previous);return c.length>0&&c.length===(null===(r=null===s||void 0===s?void 0:s.users)||void 0===r?void 0:r.length)?{data:c,nextPage:u,prevPage:d,total:null===s||void 0===s?void 0:s.paging.total,cachedAt:l}:void 0};const af=(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log(Cc);const o=Date.now();r("getBlockedUsers(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=null!==a&&void 0!==a?a:Ec,{policy:l=wc}=null!==n&&void 0!==n?n:{},c=[],u=["blockedUsers","collection",{}],d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,r;const i=null===(n=tu(u))||void 0===n?void 0:n.data,o=null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:[];if(!e&&o.length>0&&!(null===i||void 0===i?void 0:i.params.page))return;const a=Uc(of,{limit:s,token:Dc(e||null===i||void 0===i?void 0:i.params.page,"afterbeforeraw")});Hc(a,(e=>{let{data:n,loading:r,error:i,nextPage:a,total:s}=e;const l={loading:r,error:i,params:{page:a,total:s},data:o};n&&(l.data=[...new Set([...o,...n.map(Gc("user"))])]),nu(u,l),(e=>{var n,r;const i=null!==(n=e.data.map((e=>tu(["user","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return Dd.user(t)})))&&void 0!==n?n:[];t({onNextPage:d,data:i,hasNextPage:!!(null===(r=e.params)||void 0===r?void 0:r.page),loading:e.loading,error:e.error})})(l)}),zc(l,kc))};return c.push((()=>{})),d(!0),()=>{r("getCategories(tmpid: ".concat(o,") > dispose")),c.forEach((e=>e())),ou(u)}},sf=(e,t)=>{const n=Xc();return _u(n,e,e,(e=>{var r,i;if(n.cache){ud(e);[...null!==(r=eu(["followers","query"]))&&void 0!==r?r:[],...null!==(i=eu(["followings","query"]))&&void 0!==i?i:[]].filter((t=>{let{key:n}=t;return n[2].userId===e.follows[0].from||n[2].userId===e.follows[0].to})).forEach((e=>{let{key:t,data:n}=e;return iu(t,n,{cachedAt:-1})})),t(e.follows[0])}else t(e.follows[0])}))},lf=e=>sf("follow.created",e),cf=e=>sf("follow.unfollowed",e),uf=e=>sf("follow.followerDeleted",e),df=e=>sf("follow.requested",e),hf=e=>sf("follow.requestCanceled",e),ff=e=>sf("follow.accepted",e),pf=e=>sf("follow.requestDeclined",e),mf=async e=>{var t,n;const r=Xc();r.log("follow/getFollowInfo",e);const{data:i}=await r.http.get(r.userId===e?"/api/v4/me/followInfo":"/api/v5/users/".concat(e,"/followInfo")),o=r.cache&&Date.now(),a="follows"in i?Object.assign(Object.assign({},i.followCounts[0]),{status:null===(n=null===(t=i.follows)||void 0===t?void 0:t[0])||void 0===n?void 0:n.status}):i.followCounts[0];return r.cache&&nu(["followInfo","get",e],a,{cachedAt:o}),{data:a,cachedAt:o}};mf.locally=e=>{const t=Xc();if(t.log("follow/getFollowInfo.locally",e),!t.cache)return;const n=tu(["followInfo","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const gf=e=>{const t=async t=>{const[{data:n},{data:r}]=await Promise.all([mf(t.from),mf(t.to)]);e(n),e(r)},n=[sf("follow.created",t),sf("follow.requested",t),sf("follow.accepted",t),sf("follow.unfollowed",t),sf("follow.requestCanceled",t),sf("follow.requestDeclined",t),sf("follow.followerDeleted",t)];return()=>{n.forEach((e=>e()))}},vf=async(e,t)=>{const n=Xc();n.log("follow/queryF".concat(e.substring(1)),t);const{userId:r,page:i}=t,o=hd(t,["userId","page"]),{data:a}=await n.http.get(n.userId===r?"/api/v4/me/".concat(e):"/api/v4/users/".concat(r,"/").concat(e),{params:Object.assign(Object.assign({},o),{token:Dc(i,"afterbeforeraw")})}),{paging:s}=a,l=hd(a,["paging"]),{follows:c}=l,u=n.cache&&Date.now();if(n.cache){ud(l,{cachedAt:u});const t=["follow","query",Object.assign(Object.assign({},o),{userId:r,options:Object.assign({},i),type:e})];nu(t,{follows:c.map(Gc("follow")),paging:s})}const d=Pc(s.next);return{data:c,cachedAt:u,prevPage:Pc(s.previous),nextPage:d}};vf.locally=(e,t)=>{var n,r;const i=Xc();if(i.log("follow/queryF".concat(e.substring(1),".locally"),t),!i.cache)return;const{page:o}=t,a=hd(t,["page"]),s=["follow","query",Object.assign(Object.assign({},a),{options:Object.assign({},o),type:e})],{data:l,cachedAt:c}=null!==(n=tu(s))&&void 0!==n?n:{};if(!(null===l||void 0===l?void 0:l.follows.length))return;const u=l.follows.map((e=>tu(["follow","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})),d=Pc(null===l||void 0===l?void 0:l.paging.previous),h=Pc(null===l||void 0===l?void 0:l.paging.next);return u.length===(null===(r=null===l||void 0===l?void 0:l.follows)||void 0===r?void 0:r.length)?{data:u,cachedAt:c,prevPage:d,nextPage:h}:void 0};const yf=async e=>vf("followers",e);yf.locally=e=>vf.locally("followers",e);const bf=async e=>vf("following",e);bf.locally=e=>vf.locally("following",e);var Ef=Object.freeze({__proto__:null,blockUser:async e=>{const t=Xc();t.log("user/blockUser",e);const{data:n}=await t.http.post("/api/v4/me/user-blocks/".concat(e)),r=t.cache&&Date.now(),{follows:i,followCounts:o}=n,a={follows:i};return t.cache&&(ud(a,{cachedAt:r}),iu(["followInfo","get",e],o[0],{cachedAt:r})),ku("follow.unfollowed",a),n},unBlockUser:async e=>{const t=Xc();t.log("user/unBlockUser",e);const{data:n}=await t.http.delete("/api/v4/me/user-blocks/".concat(e)),r=t.cache&&Date.now(),{follows:i,followCounts:o}=n,a={follows:i};return t.cache&&(ud(a,{cachedAt:r}),iu(["followInfo","get",e],o[0],{cachedAt:r})),ku("follow.created",a),n},getBlockedUsers:(e,t,n)=>(console.log("Deprecation Notice: UserRepository.Relationship.getBlockedUsers will be deprecated on 9th June 2023, please use UserRepository.getBlockedUsers instead."),af(e,t,n)),follow:async e=>{const t=Xc();t.log("follow/follow",e);const{data:n}=await t.http.post("/api/v4/me/following/".concat(e)),r=t.cache&&Date.now();return t.cache&&ud(n,{cachedAt:r}),ku("accepted"===n.follows[0].status?"follow.created":"follow.requested",n),{data:n.follows[0],cachedAt:r}},unfollow:async e=>{const t=Xc();t.log("follow/unfollow",e);const{data:n}=await t.http.delete("/api/v4/me/following/".concat(e));return t.cache&&ud(n),ku("follow.unfollowed",n),!0},acceptFollower:async e=>{const t=Xc();t.log("follow/acceptFollower",e);const{data:n}=await t.http.post("/api/v4/me/followers/".concat(e));return t.cache&&ud(n),ku("follow.accepted",n),!0},acceptMyFollower:async e=>{const t=Xc();t.log("follow/acceptMyFollower",e);const{data:n}=await t.http.post("/api/v4/me/followers/".concat(e));return t.cache&&ud(n),ku("follow.accepted",n),!0},declineFollower:async e=>{const t=Xc();t.log("follow/declineFollower",e);const{data:n}=await t.http.delete("/api/v4/me/followers/".concat(e));return t.cache&&ud(n),ku("follow.requestDeclined",n),!0},declineMyFollower:async e=>{const t=Xc();t.log("follow/declineMyFollower",e);const{data:n}=await t.http.delete("/api/v4/me/followers/".concat(e));return t.cache&&ud(n),ku("follow.requestDeclined",n),!0},onUserFollowed:lf,onUserUnfollowed:cf,onFollowerDeleted:uf,onFollowerRequested:df,onFollowRequestCanceled:hf,onFollowRequestAccepted:ff,onFollowRequestDeclined:pf,onFollowInfoUpdated:gf,observeFollowInfo:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cache_then_server";const{log:r}=Xc(),i=Date.now();r("observeFollowInfo(tmpid: ".concat(i,") > listen"));const o=(e,n)=>{var r,i;if(t instanceof Function)return t(e);"onFetch"!==n&&(null===(r=t.onEvent)||void 0===r||r.call(t,n,e)),null===(i=t[n])||void 0===i||i.call(t,e)},a=[];return a.push(gf((t=>((t,n)=>{var r;(null===(r=t.data)||void 0===r?void 0:r.userId)===e&&o(t,n)})({data:t,loading:!1,origin:"event"},"onUpdate")))),Hc(Uc(mf,e),(e=>(e.data||e.error)&&o(e,"onFetch")),zc(n)),()=>{r("observeFollowInfo(tmpid: ".concat(i,") > dispose")),a.forEach((e=>e()))}},observeFollowers:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observeFollowers(tmpid: ".concat(r,") > listen"));const i=[],o=(e,n)=>{var r,i;if(t instanceof Function)return t(e);null===(r=t.onEvent)||void 0===r||r.call(t,n,e),null===(i=t[n])||void 0===i||i.call(t,e)};return i.push(df((e=>o(e,"onRequested"))),ff((e=>o(e,"onAccepted"))),pf((e=>o(e,"onDeclined"))),hf((e=>o(e,"onCanceled"))),lf((e=>o(e,"onFollowed"))),cf((e=>o(e,"onUnfollowed"))),uf((e=>o(e,"onDeleted")))),()=>{n("observeFollowers(tmpid: ".concat(r,") > dispose")),i.forEach((e=>e()))}},observeFollowings:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observeFollowings(tmpid: ".concat(r,") > listen"));const i=[],o=(e,n)=>{var r,i;if(t instanceof Function)return t(e);null===(r=t.onEvent)||void 0===r||r.call(t,n,e),null===(i=t[n])||void 0===i||i.call(t,e)};return i.push(df((e=>o(e,"onRequested"))),ff((e=>o(e,"onAccepted"))),pf((e=>o(e,"onDeclined"))),hf((e=>o(e,"onCanceled"))),lf((e=>o(e,"onFollowed"))),cf((e=>o(e,"onUnfollowed"))),uf((e=>o(e,"onDeleted")))),()=>{n("observeFollowings(tmpid: ".concat(r,") > dispose")),i.forEach((e=>e()))}},getFollowers:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log("For using Live Collection feature you need to enable Cache!");const o=Date.now();r("getFollowers(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["follow","collection",{userId:e.userId,type:"follower"}],h=n=>{var r,i;let o=null!==(r=n.data.map((e=>tu(["follow","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==r?r:[];e.status&&"all"!==e.status&&(o=au(o,"status",e.status)),t({onNextPage:p,data:o,hasNextPage:!!(null===(i=n.params)||void 0===i?void 0:i.page),loading:n.loading,error:n.error})},f=t=>n=>{var r;const i=null===(r=tu(d))||void 0===r?void 0:r.data;e.userId===n.to&&i&&(["onDeclined","onCanceled","onUnfollowed","onDeleted"].includes(t)?i.data=i.data.filter((e=>e!==Gc("follow")(n))):["onRequested","onAccepted","onFollowed"].includes(t)&&(i.data=[...new Set([Gc("follow")(n),...i.data])]),nu(d,i),h(i))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n,r,i;const o=null===(t=tu(d))||void 0===t?void 0:t.data,a=null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:[];if(!e&&a.length>0&&!(null===(r=null===o||void 0===o?void 0:o.params)||void 0===r?void 0:r.page))return;const u=Uc(yf,Object.assign(Object.assign({},s),{page:null!==(i=e||null===o||void 0===o?void 0:o.params.page)&&void 0!==i?i:{limit:l}}));Hc(u,(e=>{let{data:t,error:n,loading:r,nextPage:i}=e;const o={loading:r,error:n,params:{page:i},data:a};t&&(o.data=[...new Set([...a,...t.map(Gc("follow"))])]),nu(d,o),h(o)}),zc(c))};return u.push(df(f("onRequested")),ff(f("onAccepted")),pf(f("onDeclined")),hf(f("onCanceled")),lf(f("onFollowed")),cf(f("onUnfollowed")),uf(f("onDeleted"))),p(!0),()=>{r("getFollowers(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}},getFollowings:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log("For using Live Collection feature you need to enable Cache!");const o=Date.now();r("getFollowings(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["follow","collection",{userId:e.userId,type:"following"}],h=n=>{var r,i;let o=null!==(r=n.data.map((e=>tu(["follow","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==r?r:[];e.status&&"all"!==e.status&&(o=au(o,"status",e.status)),t({onNextPage:p,data:o,hasNextPage:!!(null===(i=n.params)||void 0===i?void 0:i.page),loading:n.loading,error:n.error})},f=t=>n=>{var r;const i=null===(r=tu(d))||void 0===r?void 0:r.data;e.userId===n.from&&i&&(["onDeclined","onCanceled","onUnfollowed","onDeleted"].includes(t)?i.data=i.data.filter((e=>e!==Gc("follow")(n))):["onRequested","onAccepted","onFollowed"].includes(t)&&(i.data=[...new Set([Gc("follow")(n),...i.data])]),nu(d,i),h(i))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n,r,i;const o=null===(t=tu(d))||void 0===t?void 0:t.data,a=null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:[];if(!e&&a.length>0&&!(null===(r=null===o||void 0===o?void 0:o.params)||void 0===r?void 0:r.page))return;const u=Uc(bf,Object.assign(Object.assign({},s),{page:null!==(i=e||null===o||void 0===o?void 0:o.params.page)&&void 0!==i?i:{limit:l}}));Hc(u,(e=>{let{data:t,error:n,loading:r,nextPage:i}=e;const o={loading:r,error:n,params:{page:i},data:a};t&&(o.data=[...new Set([...a,...t.map(Gc("follow"))])]),nu(d,o),h(o)}),zc(c))};return u.push(df(f("onRequested")),ff(f("onAccepted")),pf(f("onDeclined")),hf(f("onCanceled")),lf(f("onFollowed")),cf(f("onUnfollowed")),uf(f("onDeleted"))),p(!0),()=>{r("getFollowings(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}},getFollowInfo:(e,t)=>Bh(e,t,"userId",mf,[gf],{forceDispatch:!0}),getMyFollowInfo:e=>{const{userId:t}=gu();return Bh(t,e,"userId",mf,[gf],{forceDispatch:!0})}});const wf=async e=>{const t=Xc();t.log("user/getUsers",e);const n=e.map((e=>encodeURIComponent(e))),{data:r}=await t.http.get("/api/v3/users/list",{params:{userIds:n}}),i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),ku("user.fetched",r),{data:r.users.map((e=>Dd.user(e))),cachedAt:i}};wf.locally=e=>{var t;const n=Xc();if(n.log("user/getUsers.locally",e),!n.cache)return;const r=e.map((e=>tu(["user","get",e]))).filter(Boolean),i=r.map((e=>{let{data:t}=e;return Dd.user(t)})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return(null===r||void 0===r?void 0:r.length)<e.length?void 0:{data:i,cachedAt:o.cachedAt}};const Cf=e=>wh("user.updated",e),Sf=e=>wh("user.flagged",e),Tf=e=>wh("user.unflagged",e),_f=e=>wh("user.flagCleared",e),kf=e=>wh("user.fetched",e),xf=async e=>{const t=Xc();let n;t.log("user/getUser",e),oh("user",e);try{n=(await t.http.get("/api/v3/users/".concat(encodeURIComponent(e)))).data}catch(o){throw Rc(null===o||void 0===o?void 0:o.code)&&dd("user",e),o}const r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{users:i}=n;return ku("user.fetched",n),{data:i.find((t=>t.userId===e)),cachedAt:r}};xf.locally=e=>{const t=Xc();if(t.log("user/getUser.locally",e),!t.cache)return;const n=tu(["user","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const Af=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Xc();t.log("user/queryUsers",e);const{page:n,limit:r=10,displayName:i,filter:o="all",sortBy:a="displayName"}=e,s=hd(e,["page","limit","displayName","filter","sortBy"]),{data:l}=await t.http.get("/api/v3/users",{params:Object.assign(Object.assign({},s),{keyword:i,filter:o,sortBy:a,options:n?{token:n}:{limit:r}})}),{paging:c}=l,u=hd(l,["paging"]),{users:d}=u,h=t.cache&&Date.now();if(t.cache){ud(u,{cachedAt:h});const t=["user","query",Object.assign(Object.assign({},e),{options:{limit:r,token:n}})];nu(t,{users:d.map(Gc("user")),paging:c})}return ku("user.fetched",l),{data:d,cachedAt:h,paging:c}};Af.locally=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n,r;const i=Xc();if(i.log("user/queryUsers.locally",e),!i.cache)return;const{limit:o=10,page:a}=null!==e&&void 0!==e?e:{},s=["user","query",Object.assign(Object.assign({},e),{options:{limit:o,token:a}})],{data:l,cachedAt:c}=null!==(t=tu(s))&&void 0!==t?t:{},u=null!==(n=null===l||void 0===l?void 0:l.users.map((e=>tu(["user","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==n?n:[];return u.length>0&&u.length===(null===(r=null===l||void 0===l?void 0:l.users)||void 0===r?void 0:r.length)?{data:u,cachedAt:c,paging:null===l||void 0===l?void 0:l.paging}:void 0};const If=(e,t)=>{let n=su(e,"displayName",t.displayName);switch(t.sortBy){case"firstCreated":n=n.sort(fu);break;case"lastCreated":n=n.sort(pu);break;default:n=n.map((e=>e.displayName?e:Object.assign(Object.assign({},e),{displayName:""}))).sort(du)}return n},Mf=(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log(Cc);const o=Date.now();r("liveUsers(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["user","collection",rd()],h=function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i,o;const a=null!==(i=n.data.map((e=>tu(["user","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return Dd.user(t)})))&&void 0!==i?i:[];t({onNextPage:p,data:r?If(a,e):a,hasNextPage:!!(null===(o=n.params)||void 0===o?void 0:o.page),loading:n.loading,error:n.error})},f=e=>e=>{var t;const n=null===(t=tu(d))||void 0===t?void 0:t.data;n&&(n.data=[...new Set([e.userId,...n.data])],nu(d,n),h(n,!0))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;const r=null===(t=tu(d))||void 0===t?void 0:t.data,i=null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:[];if(!e&&i.length>0&&!(null===r||void 0===r?void 0:r.params.page))return;const o=e?{limit:l}:{page:null===r||void 0===r?void 0:r.params.page},a=Uc(Af,Object.assign(Object.assign({},s),o));Hc(a,(t=>{let{data:n,error:r,loading:o,paging:a}=t;const s={loading:o,error:r,params:{page:null===a||void 0===a?void 0:a.next},data:i};n&&(s.data=e?n.map(Gc("user")):[...new Set([...i,...n.map(Gc("user"))])]),nu(d,s),h(s)}),zc(c))};return u.push(Cf(f()),Ch(f()),Sf(f()),Tf(f()),_f(f())),p(!0),()=>{r("liveUsers(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}},Rf=async e=>{const t=Xc();let n;t.log("user/getUser",e),oh("user",e);try{n=(await t.http.get("/api/v3/users/".concat(encodeURIComponent(e)))).data}catch(o){throw Rc(null===o||void 0===o?void 0:o.code)&&dd("user",e),o}const r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{users:i}=n;return ku("user.fetched",n),{data:Dd.user(i.find((t=>t.userId===e))),cachedAt:r}};Rf.locally=e=>{const t=Xc();if(t.log("user/getUser.locally",e),!t.cache)return;const n=tu(["user","get",e]);return n?{data:Dd.user(n.data),cachedAt:n.cachedAt}:void 0};const Lf=async e=>{let{viewId:t,viewedType:n,limit:r,token:i}=e;const o=Xc(),a={};i?a.token=i:a.limit=r;const s="/api/v1/analytics/views/".concat("post"===n?"posts":"stories","/").concat(t,"/users"),l=await o.http.get(s,{params:a});return ud(l.data),l.data};var Df=Object.freeze({__proto__:null,Relationship:Ef,getUserByIds:wf,updateUser:async(e,t)=>{const n=Xc();n.log("user/updateUser",e,t);const{data:r}=await n.http.put("/api/v3/users/",Object.assign(Object.assign({userId:e},t),{createNewUserWhenNotFound:!1})),i=n.cache&&Date.now();n.cache&&ud(r,{cachedAt:i});const{users:o}=r;return ku("user.updated",r),{data:o.find((t=>t.userId===e)),cachedAt:i}},flagUser:async e=>{const t=Xc();t.log("user/flagUser",e);const{data:n}=await t.http.post("api/v4/me/flags/".concat(encodeURIComponent(e)));return t.cache&&ud(n),ku("user.flagged",n),!!n},unflagUser:async e=>{const t=Xc();t.log("user/unflag",e);const{data:n}=await t.http.delete("/api/v4/me/flags/".concat(encodeURIComponent(e)));return t.cache&&ud(n),ku("user.unflagged",n),!!n},isUserFlaggedByMe:async e=>{const t=Xc();t.log("user/isUserFlaggedByMe",e);const{data:{isFlagByMe:n}}=await t.http.get("/api/v3/users/".concat(e,"/isFlagByMe"));return n},onUserUpdated:Cf,onUserDeleted:Ch,onUserFlagged:Sf,onUserUnflagged:Tf,onUserFlagCleared:_f,getUser:(e,t)=>Bh(e,(e=>t(Object.assign(Object.assign({},e),{data:e.data?Dd.user(e.data):e.data}))),"userId",xf,[kf,Cf,Ch,Sf,Tf,_f]),getUsers:Mf,observeUser:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observeUser(tmpid: ".concat(r,") > listen"));const i=(n,r)=>{var i,o,a;if((null===(i=n.data)||void 0===i?void 0:i.userId)!==e)return;const s=Object.assign(Object.assign({},n),{data:Dd.user(n.data)});if(t instanceof Function)return t(s);"onFetch"!==r&&(null===(o=t.onEvent)||void 0===o||o.call(t,r,s)),null===(a=t[r])||void 0===a||a.call(t,s)},o=[];return o.push(Cf((e=>i({data:e,loading:!1,origin:"event"},"onUpdate"))),Ch((e=>i({data:e,loading:!1,origin:"event"},"onDelete"))),Sf((e=>i({data:e,loading:!1,origin:"event"},"onFlagged"))),Tf((e=>i({data:e,loading:!1,origin:"event"},"onUnflagged"))),_f((e=>i({data:e,loading:!1,origin:"event"},"onFlagCleared")))),Hc(Uc(Rf,e),(e=>e.data&&i(e,"onFetch"))),()=>{n("observeUser(tmpid: ".concat(r,") > dispose")),o.forEach((e=>e()))}},getBlockedUsers:af,searchUserByDisplayName:(e,t,n)=>Mf(Object.assign(Object.assign({},e),{filter:"all"}),t,n),getViewedUsers:(e,t)=>{const{log:n,cache:r}=Xc(),i=["postViewedUsers","collection",{postId:e.postId}];r||console.log(Cc);const o=Date.now();n("getViewedUsers(tmpid: ".concat(o,") > listen"));const{limit:a,postId:s}=e,l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,r,o;const c=null===(n=tu(i))||void 0===n?void 0:n.data,u=null!==(r=null===c||void 0===c?void 0:c.data)&&void 0!==r?r:[];if(!e&&u.length>0&&!(null===c||void 0===c?void 0:c.params.page))return;const d=Uc(Lf,{viewId:s,viewedType:"post",limit:a||10,token:e||null===(o=null===c||void 0===c?void 0:c.params.page)||void 0===o?void 0:o.next});Hc(d,(e=>{var n,r,o,a,s;let c=null!==(o=null===(r=null===(n=tu(i))||void 0===n?void 0:n.data)||void 0===r?void 0:r.data)&&void 0!==o?o:[];(null===(a=e.data)||void 0===a?void 0:a.users)&&(c=[...new Set([...c,...e.data.users.map((e=>{let{userId:t}=e;return t}))])]);const u={loading:e.loading,params:{page:null===(s=e.data)||void 0===s?void 0:s.paging},data:c||[]};nu(i,u),(e=>{var n,r;let i=[];(null===e||void 0===e?void 0:e.data)&&(i=e.data.map((e=>tu(["user","get",e]))).filter(Boolean).map((e=>null===e||void 0===e?void 0:e.data))||[]),t({onNextPage:l,data:i,hasNextPage:!!(null===(r=null===(n=e.params)||void 0===n?void 0:n.page)||void 0===r?void 0:r.next),loading:e.loading||!1})})(u)}),zc(wc,kc))};return l(!0),()=>{n("getViewedUsers(tmpid: ".concat(o,") > dispose")),ou(i)}},getReachedUsers:(e,t)=>{let n=function(){};const{log:r,cache:i}=Xc(),o=["viewedUsers","collection",{viewId:e.viewId,viewedType:e.viewedType}];i||console.log(Cc);const a=Date.now();r("getReachUsers(tmpid: ".concat(a,") > listen"));const{limit:s,viewId:l,viewedType:c}=e;return n=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var r,i,a;const u=null===(r=tu(o))||void 0===r?void 0:r.data,d=null!==(i=null===u||void 0===u?void 0:u.data)&&void 0!==i?i:[];if(!e&&d.length>0&&!(null===u||void 0===u?void 0:u.params.page))return;const h=Uc(Lf,{viewId:l,viewedType:c,limit:s||10,token:e||null===(a=null===u||void 0===u?void 0:u.params.page)||void 0===a?void 0:a.next});Hc(h,(e=>{var r,i,a,s,l;let c=null!==(a=null===(i=null===(r=tu(o))||void 0===r?void 0:r.data)||void 0===i?void 0:i.data)&&void 0!==a?a:[];(null===(s=e.data)||void 0===s?void 0:s.users)&&(c=[...new Set([...c,...e.data.users.map((e=>{let{userId:t}=e;return t}))])]);const u={loading:e.loading,params:{page:null===(l=e.data)||void 0===l?void 0:l.paging},data:c||[]};nu(o,u),(e=>{var r,i;let o=[];(null===e||void 0===e?void 0:e.data)&&(o=e.data.map((e=>tu(["user","get",e]))).filter(Boolean).map((e=>null===e||void 0===e?void 0:e.data))||[]),t({onNextPage:n,data:o,hasNextPage:!!(null===(i=null===(r=e.params)||void 0===r?void 0:r.page)||void 0===i?void 0:i.next),loading:e.loading||!1})})(u)}),zc(wc,kc))},n(!0),()=>{r("getReachUsers(tmpid: ".concat(a,") > dispose")),ou(o)}}});const Of=async e=>{const t=Xc();t.log("file/getFile",e);const{data:n}=await t.http.get("/api/v3/files/".concat(e)),r=t.cache&&Date.now();return t.cache&&ud({files:[n]},{cachedAt:r}),{data:n,cachedAt:r}};Of.locally=e=>{const t=Xc();if(t.log("file/getFile.locally",e),!t.cache)return;const n=tu(["file","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const Pf=async(e,t,n)=>{const r=Xc();if(r.log("file/uploadVideo",e),!e.getAll("files").length)throw new Error("The formData object must have a `files` key.");t&&e.append("feedType",t);const i="getHeaders"in e?e.getHeaders():{"content-type":"multipart/form-data"},{data:o}=await r.http.post("/api/v4/videos",e,{headers:i,onUploadProgress(e){let{loaded:t,total:r=100}=e;n&&n(Math.round(100*t/r))}}),a=r.cache&&Date.now();return r.cache&&ud({files:o},{cachedAt:a}),{data:o,cachedAt:a}},Nf=async(e,t)=>{const n=Xc();if(n.log("file/uploadImage",e),!e.getAll("files").length)throw new Error("The formData object must have a `files` key.");const r="getHeaders"in e?e.getHeaders():{"content-type":"multipart/form-data"},{data:i}=await n.http.post("/api/v4/images",e,{headers:r,onUploadProgress(e){let{loaded:n,total:r=100}=e;t&&t(Math.round(100*n/r))}}),o=n.cache&&Date.now();return n.cache&&ud({files:i},{cachedAt:o}),{data:i,cachedAt:o}};var Ff=Object.freeze({__proto__:null,getFile:Of,uploadFile:async(e,t)=>{const n=Xc();if(n.log("file/uploadFile",e),!e.getAll("files").length)throw new Error("The formData object must have a `files` key.");const r="getHeaders"in e?e.getHeaders():{"content-type":"multipart/form-data"},{data:i}=await n.http.post("/api/v4/files",e,{headers:r,onUploadProgress(e){let{loaded:n,total:r=100}=e;t&&t(Math.round(100*n/r))}}),o=n.cache&&Date.now();return n.cache&&ud({files:i},{cachedAt:o}),{data:i,cachedAt:o}},deleteFile:async e=>{const t=Xc();return t.log("file/deleteFile",e),await t.http.delete("/api/v3/files/".concat(e)),ou(["file","get",e],!0),{success:!0}},fileUrlWithSize:(e,t)=>"".concat(e,"?size=").concat(t),uploadVideo:Pf,uploadImage:Nf,createImage:async(e,t)=>{const n=Xc();if(n.log("file/createImage",e),!e.getAll("files").length)throw new Error("The formData object must have a `files` key.");const r="getHeaders"in e?e.getHeaders():{"content-type":"multipart/form-data"},{data:i}=await n.http.post("/api/v4/images",e,{headers:r,onUploadProgress(e){let{loaded:n,total:r=100}=e;t&&t(Math.round(100*n/r))}}),o=n.cache&&Date.now();return n.cache&&ud({files:i},{cachedAt:o}),{data:i,cachedAt:o}},createFile:async(e,t)=>{const n=Xc();if(n.log("file/createFile",e),!e.getAll("files").length)throw new Error("The formData object must have a `files` key.");const r="getHeaders"in e?e.getHeaders():{"content-type":"multipart/form-data"},{data:i}=await n.http.post("/api/v4/files",e,{headers:r,onUploadProgress(e){let{loaded:n,total:r=100}=e;t&&t(Math.round(100*n/r))}}),o=n.cache&&Date.now();return n.cache&&ud({files:i},{cachedAt:o}),{data:i,cachedAt:o}},createVideo:async(e,t,n)=>{const r=Xc();if(r.log("file/createVideo",e),!e.getAll("files").length)throw new Error("The formData object must have a `files` key.");t&&e.append("feedType",t);const i="getHeaders"in e?e.getHeaders():{"content-type":"multipart/form-data"},{data:o}=await r.http.post("/api/v4/videos",e,{headers:i,onUploadProgress(e){let{loaded:t,total:r=100}=e;n&&n(Math.round(100*t/r))}}),a=r.cache&&Date.now();return r.cache&&ud({files:o},{cachedAt:a}),{data:o,cachedAt:a}},observeFile:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observeFile(tmpid: ".concat(r,") > listen"));return Hc(Uc(Of,e),(n=>n.data&&((n,r)=>{var i,o,a;if((null===(i=n.data)||void 0===i?void 0:i.fileId)===e){if(t instanceof Function)return t(n);"onFetch"!==r&&(null===(o=t.onEvent)||void 0===o||o.call(t,r,n)),null===(a=t[r])||void 0===a||a.call(t,n)}})(n,"onFetch"))),()=>{n("observeFile(tmpid: ".concat(r,") > dispose"))}}});const jf=(e,t)=>{"message"===e?ku("local.message.updated",{messages:[t]}):"post"===e?ku("post.updated",{posts:[t]}):"comment"===e&&ku("comment.updated",{comments:[t]})},Bf=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Xc();let r;n.log("message/getMessage",e),t||console.log("getMessage will be deprecated on 15th November 2022, please use liveMessage instead."),oh("message",e);try{const{data:t}=await n.http.get("/api/v5/messages/".concat(encodeURIComponent(e)));r=await $d(t)}catch(a){throw Rc(null===a||void 0===a?void 0:a.code)&&dd("message",e),a}const i=n.cache&&Date.now();n.cache&&ud(r,{cachedAt:i});const{messages:o}=r;return ku("local.message.fetched",{messages:o}),{data:o.find((t=>t.messageId===e)),cachedAt:i}};Bf.locally=e=>{const t=Xc();if(t.log("message/getMessage.locally",e),!t.cache)return;const n=tu(["message","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const Uf=async e=>{const t=Xc();let n;t.log("post/getPost",e),oh("post",e);try{n=(await t.http.get("/api/v3/posts/".concat(encodeURIComponent(e)))).data}catch(s){throw Rc(null===s||void 0===s?void 0:s.code)&&dd("post",e),s}const r=pd(n,"communityUsers"),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{posts:o}=r,a=o.find((t=>t.postId===e));return{data:Dd.post(a),cachedAt:i}};Uf.locally=e=>{const t=Xc();if(t.log("post/getPost.locally",e),!t.cache)return;const n=tu(["post","get",e]);return n?{data:Dd.post(n.data),cachedAt:n.cachedAt}:void 0};const zf=async e=>{const t=Xc();let n;t.log("comment/getComment",e),oh("comment",e);try{n=(await t.http.get("/api/v3/comments/".concat(encodeURIComponent(e)))).data}catch(o){throw Rc(null===o||void 0===o?void 0:o.code)&&dd("comment",e),o}const r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{comments:i}=n;return{data:Dd.comment(i.find((t=>t.commentId===e))),cachedAt:r}};zf.locally=e=>{const t=Xc();if(t.log("comment/getComment.locally",e),!t.cache)return;const n=tu(["comment","get",e]);return n?{data:Dd.comment(n.data),cachedAt:n.cachedAt}:void 0};const Hf=(e,t)=>{const n=e.split(".")[0],r=e.split(".")[1];let i=((e,t)=>{var n,r;let i,o;if("post"===t)o="post",i=e.posts[0].postId;else{if("comment"!==t)throw new Error("Unknown event type");o="comment",i=e.comments[0].commentId}return(null===(r=null===(n=tu([o,"get",i]))||void 0===n?void 0:n.data)||void 0===r?void 0:r.myReactions)||[]})(t,n);if(Xc().userId===t.reactor.userId)if("addReaction"===r)i.includes(t.reactor.reactionName)||i.push(t.reactor.reactionName);else{if("removeReaction"!==r)throw new Error("Unknown event type: ".concat(r));i=i.filter((e=>e!==t.reactor.reactionName))}return((e,t,n)=>{const[r]=e[t];return Object.assign(Object.assign({},e),{[t]:[Object.assign(Object.assign({},r),{myReactions:n})]})})(t,"".concat(n,"s"),i)},Vf=async(e,t,n)=>{const r=Xc();if(r.log("reaction/createReaction",{referenceId:t,referenceType:e,reactionName:n}),await r.http.post("/api/v2/reactions",{referenceId:t,referenceType:e,reactionName:n,referenceVersion:"message"===e?5:void 0}),r.cache){const n=tu([e,"get",t]);(null===n||void 0===n?void 0:n.data)&&nu([e,"get",t],n.data,{cachedAt:Date.now()})}return!0};Vf.optimistically=(e,t,n)=>{var r,i,o,a,s;const l=Xc();if(l.log("reaction/createReaction.optimistically",{referenceId:t,referenceType:e,reactionName:n}),!l.cache)return;const c=tu([e,"get",t]);if(!(null===c||void 0===c?void 0:c.data)||(null===(r=c.data.myReactions)||void 0===r?void 0:r.includes(n)))return;const u=Object.assign(Object.assign({},c.data),{reactionsCount:c.data.reactionsCount+1,myReactions:[...null!==(i=c.data.myReactions)&&void 0!==i?i:[],n],reactions:Object.assign(Object.assign({},c.data.reactions),{[n]:(null!==(o=c.data.reactions[n])&&void 0!==o?o:0)+1})});return iu([e,"get",t],u,{cachedAt:-5}),jf(e,u),null!==(s=null===(a=null===u||void 0===u?void 0:u.myReactions)||void 0===a?void 0:a.includes(n))&&void 0!==s&&s};const qf=async(e,t,n)=>{const r=Xc();if(r.log("reaction/removeReaction",{referenceId:t,referenceType:e,reactionName:n}),await r.http.delete("/api/v2/reactions",{data:{referenceId:t,referenceType:e,reactionName:n,referenceVersion:"message"===e?5:void 0}}),r.cache){const n=tu([e,"get",t]);(null===n||void 0===n?void 0:n.data)&&nu([e,"get",t],n.data,{cachedAt:Date.now()})}return!0};qf.optimistically=(e,t,n)=>{var r,i,o,a,s;const l=Xc();if(l.log("reaction/removeReaction.optimistically",{referenceId:t,referenceType:e,reactionName:n}),!l.cache)return;const c=tu([e,"get",t]);if(!(null===c||void 0===c?void 0:c.data)||!(null===(r=c.data.myReactions)||void 0===r?void 0:r.includes(n)))return;const u=Object.assign(Object.assign({},c.data),{reactionsCount:Math.max(0,c.data.reactionsCount-1),myReactions:(null!==(i=c.data.myReactions)&&void 0!==i?i:[]).filter((e=>e!==n)),reactions:Object.assign(Object.assign({},c.data.reactions),{[n]:Math.max(0,(null!==(o=c.data.reactions[n])&&void 0!==o?o:0)-1)})});return iu([e,"get",t],u,{cachedAt:-5}),jf(e,u),null!==(s=!(null===(a=null===u||void 0===u?void 0:u.myReactions)||void 0===a?void 0:a.includes(n)))&&void 0!==s&&s};const Gf=(e,t)=>{const n=Xc();return _u(n,e,e,(r=>{var i;if(n.cache){const{communities:a}=r,s=hd(r,["communities"]),l=pd(s,"communityUsers");if(ud(l),(null===a||void 0===a?void 0:a[0])&&!["post.updated"].includes(e)&&ku("community.updated",{communities:a,categories:[],communityUsers:l.communityUsers,feeds:[],files:[],users:[]}),"post.deleted"===e){const{postId:e,postedUserId:i}=r.posts[0];try{oh("post",e)}catch(o){return}return i!==n.userId&&dd("post",e),t(r.posts[0])}const c=tu(["post","get",r.posts[0].postId]);if(["post.created","post.approved","post.declined"].includes(e)){let t=null===(i=eu(["post","query"]))||void 0===i?void 0:i.filter((e=>{let{key:t}=e;var n;return(null===(n=t[2])||void 0===n?void 0:n.targetId)===c.data.targetId}));"post.declined"===e&&(t=null===t||void 0===t?void 0:t.filter((e=>{let{key:t}=e;var n;return"reviewing"===(null===(n=t[2])||void 0===n?void 0:n.feedType)}))),null===t||void 0===t||t.map((e=>{let{key:t,data:n}=e;return iu(t,n,{cachedAt:-1})}))}t(c.data)}else t(r.posts[0])}))},Wf=e=>Gf("post.created",e),Kf=e=>Gf("post.updated",e),Yf=e=>Gf("post.deleted",e),Qf=e=>Gf("post.approved",e),Zf=e=>Gf("post.declined",e),$f=e=>Gf("post.flagged",e),Xf=e=>Gf("post.unflagged",e),Jf=e=>{const t=Xc();return _u(t,"post.addReaction","post.addReaction",(n=>{if(t.cache){const t=hd(Hf("post.addReaction",n),["reactor"]);ud(t);const r=tu(["post","get",n.posts[0].postId]);e(r.data)}else e(n.posts[0])}))},ep=e=>{const t=Xc();return _u(t,"post.removeReaction","post.removeReaction",(n=>{if(t.cache){const t=hd(Hf("post.removeReaction",n),["reactor"]);ud(t);const r=tu(["post","get",n.posts[0].postId]);e(r.data)}else e(n.posts[0])}))},tp=(e,t)=>{const n=Xc();return _u(n,e,e,(r=>{var i;if(n.cache){ud(r);const n=tu(["comment","get",r.comments[0].commentId]);if(["comment.created"].includes(e)){const e=null===(i=eu(["comment","query"]))||void 0===i?void 0:i.filter((e=>{let{key:t}=e;var r;return(null===(r=t[2])||void 0===r?void 0:r.referenceId)===n.data.referenceId}));null===e||void 0===e||e.map((e=>{let{key:t,data:n}=e;return iu(t,n,{cachedAt:-1})}))}t(Dd.comment(n.data))}else t(Dd.comment(r.comments[0]))}))},np=e=>tp("comment.created",e),rp=e=>tp("comment.updated",e),ip=e=>tp("comment.deleted",e),op=e=>tp("comment.flagged",e),ap=e=>tp("comment.unflagged",e),sp=e=>{const t=Xc();return _u(t,"comment.addReaction","comment.addReaction",(n=>{if(t.cache){const t=hd(Hf("comment.addReaction",n),["reactor"]);ud(t);const r=tu(["comment","get",n.comments[0].commentId]);e(Dd.comment(r.data))}else e(Dd.comment(n.comments[0]))}))},lp=e=>{const t=Xc();return _u(t,"comment.removeReaction","comment.removeReaction",(n=>{if(t.cache){const t=hd(Hf("comment.removeReaction",n),["reactor"]);ud(t);const r=tu(["comment","get",n.comments[0].commentId]);e(Dd.comment(r.data))}else e(Dd.comment(n.comments[0]))}))},cp=(e,t,n)=>{const r=Xc(),i=(r,i,o)=>{r===e&&i===t&&n(o)};if("message"===e){return _u(r,"reaction/onReactorAdded","message.updated",(async e=>{const t=await $d(e);t.reactions[0]&&(ud(t),i("message",t.messages[0].messageId,t.reactions[0]))}))}if("post"===e){return _u(r,"post.addReaction","post.addReaction",(e=>{const{reactor:t}=e,n=hd(e,["reactor"]);ud(n),ud({reactions:[t]}),i("post",e.posts[0].postId,t)}))}return _u(r,"comment.addReaction","comment.addReaction",(e=>{const{reactor:t}=e,n=hd(e,["reactor"]);ud(n),ud({reactions:[t]}),i("comment",e.comments[0].commentId,t)}))},up=(e,t,n)=>{const r=Xc(),i=(r,i,o)=>{r===e&&i===t&&n(o)};if("message"===e){return _u(r,"reaction/onReactorRemoved","message.updated",(async e=>{const t=await $d(e);t.reactions[0]&&(ud(t),i("message",t.messages[0].messageId,t.reactions[0]))}))}if("post"===e){return _u(r,"post.removeReaction","post.removeReaction",(e=>{const{reactor:t}=e,n=hd(e,["reactor"]);ud(n),ud({reactions:[t]}),i("post",e.posts[0].postId,t)}))}return _u(r,"comment.removeReaction","comment.removeReaction",(e=>{const{reactor:t}=e,n=hd(e,["reactor"]);ud(n),ud({reactions:[t]}),i("comment",e.comments[0].commentId,t)}))},dp=async e=>{Xc().log("reaction/queryReactor",e);const t=await(async e=>{const t=Xc();t.log("reaction/queryReactions",e);const n=null!==e&&void 0!==e?e:{},{page:r={limit:10}}=n,i=hd(n,["page"]),{data:o}=await t.http.get("/api/v3/reactions",{params:Object.assign(Object.assign({},i),{referenceVersion:5,options:{token:Dc(r,"afterbeforeraw")}})}),{paging:a}=o,s=hd(o,["paging"]),{reactions:l}=s;ud(Object.assign(Object.assign({},s),{reactions:l})),ud(Object.assign(Object.assign({},s),{reactors:l[0].reactors}));const c=Pc(a.next);return{data:l,prevPage:Pc(a.previous),nextPage:c}})(e),{data:n}=t,r=hd(t,["data"]);return Object.assign(Object.assign({},r),{data:n[0].reactors})};var hp=Object.freeze({__proto__:null,addReaction:Vf,removeReaction:qf,onReactionAdded:(e,t,n)=>{const r=r=>{Gc(e)(r)===t&&n(r)};if("message"===e){const e=Xc(),t=async e=>{var t;const n=await $d(e),i=tu(["message","get",n.messages[0].messageId]),o=(null===(t=null===i||void 0===i?void 0:i.data)||void 0===t?void 0:t.reactionsCount)!==n.messages[0].reactionsCount;ud(n),o&&r(n.messages[0])};return _u(e,"reaction/onReactionAdded","message.updated",t)}return"post"===e?Jf(r):sp(r)},onReactionRemoved:(e,t,n)=>{const r=r=>{Gc(e)(r)===t&&n(r)};if("message"===e){const e=Xc(),t=async e=>{var t;const n=await $d(e),i=tu(["message","get",n.messages[0].messageId]),o=(null===(t=null===i||void 0===i?void 0:i.data)||void 0===t?void 0:t.reactionsCount)!==n.messages[0].reactionsCount;ud(n),o&&r(n.messages[0])};return _u(e,"reaction/onReactionRemoved","message.updated",t)}return"post"===e?ep(r):lp(r)},onReactorAdded:cp,onReactorRemoved:up,getReactions:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log("For using Live Collection feature you need to enable Cache!");const o=Date.now();r("liveReactions(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["reaction","collection",{referenceId:e.referenceId,referenceType:e.referenceType}],h=e=>{var n,r;const i=null!==(n=e.data.map((e=>tu(["reactor","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==n?n:[];t({onNextPage:p,data:i,hasNextPage:!!(null===(r=e.params)||void 0===r?void 0:r.page),loading:e.loading,error:e.error})},f=e=>t=>{var n;const r=null===(n=tu(d))||void 0===n?void 0:n.data;r&&("onAdded"===e?r.data=[...new Set([t.reactionId,...r.data])]:"onRemoved"===e&&(r.data=r.data.filter((e=>e!==t.reactionId))),nu(d,r),h(r))},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n,r,i;const o=null===(t=tu(d))||void 0===t?void 0:t.data,a=null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:[];if(!e&&a.length>0&&!(null===(r=null===o||void 0===o?void 0:o.params)||void 0===r?void 0:r.page))return;const u=Uc(dp,Object.assign(Object.assign({},s),{page:null!==(i=e||null===o||void 0===o?void 0:o.params.page)&&void 0!==i?i:{limit:l}}));Hc(u,(e=>{let{data:t,error:n,loading:r,nextPage:i}=e;const o={loading:r,error:n,params:{page:i},data:a};t&&(o.data=[...new Set([...a,...t.map(Gc("reactor"))])]),nu(d,o),h(o)}),zc(c))};return u.push(cp(s.referenceType,s.referenceId,f("onAdded")),up(s.referenceType,s.referenceId,f("onRemoved"))),p(!0),()=>{r("liveReactions(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}}});const fp=async e=>{const t=Xc();let n;t.log("channel/getChannel",e),oh("channel",e);try{const{data:r}=await t.http.get("/api/v3/channels/".concat(encodeURIComponent(e)));n=await Hd(r)}catch(o){throw Rc(null===o||void 0===o?void 0:o.code)&&dd("channel",e),o}const r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{channels:i}=n;return{data:i.find((t=>t.channelId===e)),cachedAt:r}};fp.locally=e=>{const t=Xc();if(t.log("channel/getChannel.locally",e),!t.cache)return;const n=tu(["channel","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const pp=async e=>{const t=Xc();t.log("message/getMessages",e);const{data:n}=await t.http.get("/api/v5/messages/list",{params:{messageIds:e.map(encodeURIComponent)}}),r=await $d(n),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{messages:o}=r;return ku("local.message.fetched",{messages:o}),{data:o,cachedAt:i}};pp.locally=e=>{var t;const n=Xc();if(n.log("message/getMessages.locally",e),!n.cache)return;const r=e.map((e=>tu(["message","get",e]))).filter(Boolean),i=r.map((e=>{let{data:t}=e;return t})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return(null===r||void 0===r?void 0:r.length)<e.length?void 0:{data:i,cachedAt:o.cachedAt}};const mp=()=>"LOCAL_".concat(rd());let gp;const vp=async e=>{const t=Xc();t.log("message/createMessage",e);const n=e.referenceId||gp||mp();gp=void 0;const{data:r}=await t.http.post("/api/v5/messages",Object.assign(Object.assign({},Xd(e)),{referenceId:n})),i=await $d(r),{messages:o}=i,a=t.cache&&Date.now();return t.cache&&(ou(["message","get",n]),ud(i,{cachedAt:a})),ku("local.message.created",{messages:o}),{data:o[0],cachedAt:a}};vp.optimistically=e=>{var t,n,{referenceId:r}=e,i=hd(e,["referenceId"]);const o=Xc();if(!o.cache)return;gp=r||mp();const a=Object.assign({messageId:gp,uniqueId:gp},i);o.log("message/createMessage.optimistically",a);const s=tu(["subChannel","get",i.subChannelId]);if(s&&(iu(["subChannel","get",i.subChannelId],Object.assign(Object.assign({},s.data),{messageCount:s.data.messageCount+1})),s.data.channelId===s.data.subChannelId)){const e=tu(["channel","get",s.data.channelId]);(null===e||void 0===e?void 0:e.data)&&iu(["channel","get",s.data.channelId],Object.assign(Object.assign({},e.data),{messageCount:(null!==(t=e.data.messageCount)&&void 0!==t?t:0)+1}))}const l=(new Date).toISOString(),c=Object.assign({creatorId:o.userId,channelSegment:(null!==(n=null===s||void 0===s?void 0:s.data.messageCount)&&void 0!==n?n:0)+1,childrenNumber:0,createdAt:l,updatedAt:l},a);return nu(["message","get",c.messageId],c,{cachedAt:-5}),ku("local.message.created",{messages:[c]}),{cachedAt:-5,data:c}};const yp=async(e,t)=>{const n=Xc();n.log("message/updateMessage",t),console.warn("MessageRepository.updateMessage will be replaced with MessageRepository.editMessage");const{data:r}=await n.http.put("/api/v5/messages/".concat(encodeURIComponent(e)),Xd(t)),i=await $d(r),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o});const{messages:a}=i;return ku("local.message.updated",{messages:a}),{data:a.find((t=>t.messageId===e)),cachedAt:o}};yp.optimistically=(e,t)=>{const n=Xc();if(n.log("message/updateMessage.optimistically",t),!n.cache)return;const r=tu(["message","get",e]);if(!r)return;const i=Object.assign(Object.assign(Object.assign({},r.data),t),{updatedAt:(new Date).toISOString()});return iu(["message","get",e],i,{cachedAt:-1}),ku("local.message.updated",{messages:[i]}),{data:i,cachedAt:-1}};const bp=async(e,t)=>{const n=Xc();n.log("message/editMessage",t);const{data:r}=await n.http.put("/api/v5/messages/".concat(encodeURIComponent(e)),Xd(t)),i=await $d(r),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o});const{messages:a}=i;return ku("local.message.updated",{messages:a}),{data:a.find((t=>t.messageId===e)),cachedAt:o}};bp.optimistically=(e,t)=>{const n=Xc();if(n.log("message/editMessage.optimistically",t),!n.cache)return;const r=tu(["message","get",e]);if(!r)return;const i=Object.assign(Object.assign(Object.assign({},r.data),t),{updatedAt:(new Date).toISOString()});return iu(["message","get",e],i,{cachedAt:-1}),ku("local.message.updated",{messages:[i]}),{data:i,cachedAt:-1}};const Ep=async e=>{const t=Xc();t.log("message/deleteMessage",e),await t.http.delete("/api/v5/messages/".concat(encodeURIComponent(e)));const n=await Bf(e);return ku("local.message.deleted",{messages:[n.data]}),n.data};Ep.optimistically=e=>{Xc().log("message/deleteMessage.optimistically",e);const t=tu(["message","get",e]);if(!t)return;const n=Object.assign(Object.assign({},t.data),{isDeleted:!0,updatedAt:(new Date).toISOString()});return iu(["message","get",e],n,{cachedAt:-1}),ku("local.message.deleted",{messages:[n]}),{data:n,cachedAt:-1}};const wp=async e=>{const t=Xc();t.log("message/softDeleteMessage",e),await t.http.delete("/api/v5/messages/".concat(encodeURIComponent(e)));const n=await Bf(e);return ku("local.message.deleted",{messages:[n.data]}),n.data};wp.optimistically=e=>{Xc().log("message/softDeleteMessage.optimistically",e);const t=tu(["message","get",e]);if(!t)return;const n=Object.assign(Object.assign({},t.data),{isDeleted:!0,updatedAt:(new Date).toISOString()});return iu(["message","get",e],n,{cachedAt:-1}),ku("local.message.deleted",{messages:[n]}),{data:n,cachedAt:-1}};const Cp=async e=>{const t=Xc();t.log("user/getReadUsers",e);const{page:n,messageId:r}=e,i=hd(e,["page","messageId"]),{data:o}=await t.http.get("/api/v1/markers/messages/".concat(r,"/read-users"),{params:Object.assign(Object.assign({},i),{options:{token:Dc(n,"afterbeforeraw")}})}),{paging:a,publicUserIds:s,userFeedMarkers:l}=o,c=hd(o,["paging","publicUserIds","userFeedMarkers"]),u=t.cache&&Date.now();if(t.cache){ud(Object.assign(Object.assign({},c),{userFeedMarkers:yd(l)}),{cachedAt:u});const e=["read-user","query",Object.assign(Object.assign({messageId:r},i),{options:Object.assign({},n)})];nu(e,{users:s,paging:a})}let d=[];s.length>0&&({data:d}=await wf(s));return{data:d,cachedAt:u,prevPage:Oc(a.previous),nextPage:Oc(a.next)}};Cp.locally=e=>{var t;const n=Xc();if(n.log("user/getReadUsers.locally",e),!n.cache)return;const{page:r}=e,i=hd(e,["page"]),o=["read-user","query",Object.assign(Object.assign({},i),{options:Object.assign({},r)})],{data:a,cachedAt:s}=null!==(t=tu(o))&&void 0!==t?t:{},l=null===a||void 0===a?void 0:a.users.map((e=>{var t;return null===(t=tu(["user","get",e]))||void 0===t?void 0:t.data}));if(!l||l.some((e=>!e)))return;return{data:l,cachedAt:s,prevPage:Oc(null===a||void 0===a?void 0:a.paging.previous),nextPage:Oc(null===a||void 0===a?void 0:a.paging.next)}};const Sp=async e=>{const t=Xc();t.log("user/getDeliveredUsers",e);const{page:n,messageId:r}=e,i=hd(e,["page","messageId"]),{data:o}=await t.http.get("/api/v1/markers/messages/".concat(r,"/delivered-users"),{params:Object.assign(Object.assign({},i),{options:{token:Dc(n,"afterbeforeraw")}})}),{paging:a,publicUserIds:s,userFeedMarkers:l}=o,c=hd(o,["paging","publicUserIds","userFeedMarkers"]),u=t.cache&&Date.now();if(t.cache){ud(Object.assign(Object.assign({},c),{userFeedMarkers:yd(l)}),{cachedAt:u});const e=["delivered-user","query",Object.assign(Object.assign({messageId:r},i),{options:Object.assign({},n)})];nu(e,{users:s,paging:a})}let d=[];s.length>0&&({data:d}=await wf(s));return{data:d,cachedAt:u,prevPage:Oc(a.previous),nextPage:Oc(a.next)}};Sp.locally=e=>{var t;const n=Xc();if(n.log("user/getDeliveredUsers.locally",e),!n.cache)return;const{page:r}=e,i=hd(e,["page"]),o=["delivered-user","query",Object.assign(Object.assign({},i),{options:Object.assign({},r)})],{data:a,cachedAt:s}=null!==(t=tu(o))&&void 0!==t?t:{},l=null===a||void 0===a?void 0:a.users.map((e=>{var t;return null===(t=tu(["user","get",e]))||void 0===t?void 0:t.data}));if(!l||l.some((e=>!e)))return;return{data:l,cachedAt:s,prevPage:Oc(null===a||void 0===a?void 0:a.paging.previous),nextPage:Oc(null===a||void 0===a?void 0:a.paging.next)}};function Tp(e,t){return e.map((e=>{const n=t.some((t=>function(e,t){const{userId:n}=gu();return e.communityId===t.communityId&&t.userId===n}(e,t)&&"none"!==t.communityMembership));return Object.assign(Object.assign({},e),{isJoined:n})}))}const _p=e=>{var t;return null!==(t=Object.keys(gc).find((t=>e.needApprovalOnPostCreation===gc[t].needApprovalOnPostCreation&&e.onlyAdminCanPost===gc[t].onlyAdminCanPost)))&&void 0!==t?t:"ONLY_ADMIN_CAN_POST"},kp=e=>{const t=e.communities.map((e=>{var{needApprovalOnPostCreation:t,onlyAdminCanPost:n}=e,r=hd(e,["needApprovalOnPostCreation","onlyAdminCanPost"]);return Object.assign({postSetting:_p({needApprovalOnPostCreation:t,onlyAdminCanPost:n})},r)})),n=fd(e.communityUsers),r=Tp(t,n);return Object.assign(Object.assign({},e),{communities:r,communityUsers:n})},xp=e=>{const{postSetting:t,storySetting:n}=e,r=hd(e,["postSetting","storySetting"]);return Object.assign(Object.assign(Object.assign({},r),t?gc[t]:void 0),{allowCommentInStory:!1!==(null===n||void 0===n?void 0:n.enableComment)})},Ap=async e=>{const t=Xc();t.log("community/getCommunities",e);const{data:n}=await t.http.get("/api/v3/communities/list",{params:{communityIds:e}}),r=kp(n),i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),{data:r.communities,cachedAt:i}};Ap.locally=e=>{var t;const n=Xc();if(n.log("community/getCommunities.locally",e),!n.cache)return;const r=e.map((e=>tu(["community","get",e]))).filter(Boolean),i=r.map((e=>{let{data:t}=e;return t})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return(null===r||void 0===r?void 0:r.length)<e.length?void 0:{data:i,cachedAt:o.cachedAt}};const Ip=async e=>{const t=Xc();t.log("community/getCommunity",e);const{data:n}=await t.http.get("/api/v3/communities/".concat(e)),r=kp(n),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{communities:o}=r;return{data:o.find((t=>t.communityId===e)),cachedAt:i}};Ip.locally=e=>{const t=Xc();if(t.log("community/getCommunity.locally",e),!t.cache)return;const n=tu(["community","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const Mp=async e=>{const t=Xc();t.log("channel/getTopTrendingCommunities",e);const{limit:n=5}=null!==e&&void 0!==e?e:{},{data:r}=await t.http.get("/api/v3/communities/top-trending",{params:{options:{limit:n}}}),i=kp(r),{communities:o}=i,a=t.cache&&Date.now();if(t.cache){ud(i,{cachedAt:a});nu(["community","top-trending",{params:{options:{limit:n}}}],{communities:o.map(Gc("community"))})}return{data:o,cachedAt:a}};Mp.locally=e=>{var t,n;const r=Xc();if(r.log("community/getTopTrendingCommunities.locally",e),!r.cache)return;const{limit:i=5}=null!==e&&void 0!==e?e:{},o=["community","top-trending",{params:{options:{limit:i}}}],{data:a,cachedAt:s}=null!==(t=tu(o))&&void 0!==t?t:{};if(!(null===a||void 0===a?void 0:a.communities.length))return;const l=a.communities.map((e=>tu(["community","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t}));return l.length===(null===(n=null===a||void 0===a?void 0:a.communities)||void 0===n?void 0:n.length)?{data:l,cachedAt:s}:void 0};const Rp=(e,t)=>{const n=Xc();return _u(n,e,e,(e=>{const r=kp(e);if(n.cache){ud(r);const e=tu(["community","get",r.communities[0].communityId]);t(e.data)}else t(r.communities[0])}))},Lp=e=>Rp("community.created",e),Dp=e=>Rp("community.updated",e),Op=e=>Rp("community.deleted",e);function Pp(e,t,n){return!!e.permissions.some((e=>e===n))||t.users.find((t=>t.userId===e.userId)).permissions.some((e=>e===n))}function Np(e,t){return"community.joined"===e||"community.left"===e?t.communityUsers[0]:"community.userRemoved"===e?t.communityUsers.filter((e=>"none"===e.communityMembership))[0]:"community.userBanned"===e?t.communityUsers.filter((e=>"banned"===e.communityMembership))[0]:"community.userUnbanned"===e?t.communityUsers.filter((e=>!Pp(e,t,"BAN_COMMUNITY_USER")))[0]:t.communityUsers.filter((e=>!Pp(e,t,"ADD_COMMUNITY_USER")))[0]}const Fp=(e,t)=>{const n=Xc();return _u(n,e,e,(r=>{const i=kp(r),{communities:o,communityUsers:a}=i,s=Tp(o,a);if(i.communities=s,n.cache){ud(i);const n=tu(["community","get",i.communities[0].communityId]),r=tu(["communityUsers","get",Gc("communityUsers")(Np(e,i))]);t(n.data,r.data)}else t(i.communities[0],Np(e,i))}))},jp=e=>Fp("community.userAdded",e),Bp=e=>Fp("community.userRemoved",e),Up=e=>Fp("community.userBanned",e),zp=e=>Fp("community.userChanged",e),Hp=e=>Fp("community.userUnbanned",e),Vp=e=>Fp("community.roleAdded",e),qp=e=>Fp("community.roleRemoved",e),Gp=e=>Fp("community.joined",e),Wp=e=>Fp("community.left",e),Kp=async e=>{const t=Xc();t.log("channel/queryCommunities",e);const n=null!==e&&void 0!==e?e:{},{page:r,limit:i=10}=n,o=hd(n,["page","limit"]),a=null!==o&&void 0!==o?o:{},{displayName:s,membership:l,includeDeleted:c}=a,u=hd(a,["displayName","membership","includeDeleted"]),d=r?{token:r}:i?{limit:i}:void 0,{data:h}=await t.http.get("/api/v3/communities",{params:Object.assign(Object.assign({},u),{isDeleted:Gd(c),keyword:s,filter:l,options:d})}),{paging:f}=h,p=hd(h,["paging"]),m=kp(p),{communities:g}=m,v=t.cache&&Date.now();if(t.cache){ud(m,{cachedAt:v});const e=["community","query",Object.assign(Object.assign({},o),{options:d})];nu(e,{communities:g.map(Gc("community")),paging:f})}return{data:g,cachedAt:v,paging:f}},Yp=async e=>{const t=Xc();t.log("community/getTrendingCommunities",e);const{limit:n=Ec}=null!==e&&void 0!==e?e:{},{data:r}=await t.http.get("/api/v3/communities/top-trending",{params:{options:{limit:n}}}),i=kp(r),{communities:o}=i,a=t.cache&&Date.now();return t.cache&&ud(i,{cachedAt:a}),{data:o,cachedAt:a}},Qp=(e,t,n)=>{let r=e;r=au(r,"displayName",t.displayName),t.includeDeleted||(r=au(r,"isDeleted",!1)),t.categoryId&&(r=r.filter((e=>{var n;return null===(n=e.categoryIds)||void 0===n?void 0:n.includes(t.categoryId)}))),t.tags&&(r=r.filter((e=>{var n;return null===(n=e.tags)||void 0===n?void 0:n.some((e=>{var n;return null===(n=t.tags)||void 0===n?void 0:n.includes(e)}))}))),t.membership&&n&&(r=cu(r,t.membership,n));const i=t.sortBy||"lastCreated";return"lastCreated"!==i&&"firstCreated"!==i||(r=r.sort("lastCreated"===i?pu:fu)),"displayName"===i&&(r=r.map((e=>e.displayName?e:Object.assign(Object.assign({},e),{displayName:""}))).sort(du)),r},Zp=async e=>{const t=Xc();t.log("community/getRecommendedCommunities",e);const{limit:n=Ec}=null!==e&&void 0!==e?e:{},{data:r}=await t.http.get("/api/v3/communities/recommended",{params:{options:{limit:n}}}),i=kp(r),{communities:o}=i,a=t.cache&&Date.now();return t.cache&&ud(i,{cachedAt:a}),{data:o,cachedAt:a}};var $p=Object.freeze({__proto__:null,addRoles:async(e,t,n)=>{const r=Xc();r.log("community/moderation/addRoles",e,t,n);const{data:i}=await r.http.post("/api/v4/communities/".concat(e,"/users/roles"),{communityId:e,roles:t,userIds:n}),o=pd(i,"communityUsers");r.cache&&ud(o);const{communityUsers:a}=o;return!!a.find((n=>n.communityId===e&&t.some((e=>n.roles.includes(e)))))},removeRoles:async(e,t,n)=>{const r=Xc();r.log("community/moderation/removeRoles",e,t,n);const{data:i}=await r.http.delete("/api/v4/communities/".concat(e,"/users/roles"),{data:{communityId:e,roles:t,userIds:n}}),o=pd(i,"communityUsers");r.cache&&ud(o);const{communityUsers:a}=o;return!!a.find((n=>n.communityId===e&&!t.some((e=>n.roles.includes(e)))))},banMembers:async(e,t)=>{const n=Xc();n.log("community/banMembers",{userIds:t,communityId:e});const{data:r}=await n.http.put("/api/v3/communities/".concat(e,"/users/ban"),{userIds:t}),i=pd(r,"communityUsers"),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o});const{communityUsers:a}=i;return{data:a.filter((e=>t.includes(e.userId))),cachedAt:o}},unbanMembers:async(e,t)=>{const n=Xc();n.log("community/unbanMembers",{userIds:t,communityId:e});const{data:r}=await n.http.put("/api/v3/communities/".concat(e,"/users/unban"),{userIds:t}),i=pd(r,"communityUsers"),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o});const{communityUsers:a}=i;return{data:a.filter((e=>t.includes(e.userId))),cachedAt:o}}});const Xp=async e=>{const t=Xc();t.log("community/queryCommunityMembers",e);const n=null!==e&&void 0!==e?e:{},{page:r,limit:i}=n,o=hd(n,["page","limit"]),a=r?{token:r}:i?{limit:i}:void 0,{data:s}=await t.http.get("/api/v3/communities/".concat(o.communityId,"/users"),{params:Object.assign(Object.assign({},o),{options:a})}),{paging:l}=s,c=hd(s,["paging"]),u=pd(c,"communityUsers"),{communityUsers:d}=u,h=t.cache&&Date.now();if(t.cache){ud(u,{cachedAt:h});const e=["communityUsers","query",Object.assign(Object.assign({},o),{options:a})];nu(e,{communityUsers:d.map((e=>{let{communityId:t,userId:n}=e;return Gc("communityUsers")({communityId:t,userId:n})})),paging:l})}return{data:d,cachedAt:h,paging:l}};Xp.locally=e=>{var t,n;const r=Xc();if(r.log("community/queryCommunityMembers",e),!r.cache)return;const i=null!==e&&void 0!==e?e:{},{page:o,limit:a}=i,s=hd(i,["page","limit"]),l=o?{token:o}:a?{limit:a}:void 0,c=["communityUsers","query",Object.assign(Object.assign({},s),{options:l})],{data:u,cachedAt:d}=null!==(t=tu(c))&&void 0!==t?t:{};if(!(null===u||void 0===u?void 0:u.communityUsers.length))return;const h=u.communityUsers.map((e=>tu(["communityUsers","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})),{paging:f}=u;return h.length===(null===(n=null===u||void 0===u?void 0:u.communityUsers)||void 0===n?void 0:n.length)?{data:h,cachedAt:d,paging:f}:void 0};const Jp=(e,t)=>{let n=lu(e,"roles",t.roles);t.memberships&&(n=n.filter((e=>{let{communityMembership:n}=e;return t.memberships.includes(n)}))),t.search&&(n=uu(n,t.search));const r=t.sortBy?t.sortBy:"lastCreated";return n=n.sort("lastCreated"===r?pu:fu),n};var em=Object.freeze({__proto__:null,addMembers:async(e,t)=>{const n=Xc();n.log("community/moderation/addMembers",e,t);const{data:r}=await n.http.post("/api/v3/communities/".concat(e,"/users"),{communityId:e,userIds:t});ku("community.userAdded",r);const i=pd(r,"communityUsers");n.cache&&ud(i);const{communityUsers:o}=i;return!!o.find((t=>t.communityId===e&&"member"===t.communityMembership))},removeMembers:async(e,t)=>{const n=Xc();n.log("community/moderation/removeMembers",e,t);const{data:r}=await n.http.delete("/api/v3/communities/".concat(e,"/users"),{data:{communityId:e,userIds:t}});ku("community.userRemoved",r);const i=pd(r,"communityUsers");n.cache&&ud(i);const{communityUsers:o}=i;return!!o.find((t=>t.communityId===e&&"member"!==t.communityMembership))},applyFilter:Jp,getMembers:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log(Cc);const o=Date.now();r("getMembers(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["communityUsers","collection",s],h=["communityUsers","collection",{communityId:e.communityId}],f=function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i,o;const a=null!==(i=n.data.map((e=>tu(["communityUsers","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==i?i:[];t({onNextPage:m,data:r?Jp(a,e):a,hasNextPage:!!(null===(o=n.params)||void 0===o?void 0:o.page),loading:n.loading,error:n.error})},p=t=>(t,n)=>{var r;if(e.communityId!==n.communityId)return;const i=null===(r=tu(d))||void 0===r?void 0:r.data;if(!i)return;const o=Gc("communityUsers")({communityId:e.communityId,userId:n.userId});i.data=[...new Set([o,...i.data])],nu(d,i),nu(h,i),f(i,!0)},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;const r=null===(t=tu(d))||void 0===t?void 0:t.data,i=null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:[];if(!e&&i.length>0&&!(null===r||void 0===r?void 0:r.params.page))return;const o=Uc(Xp,Object.assign(Object.assign({},s),{limit:e?l:void 0,page:e||null===r||void 0===r?void 0:r.params.page}));Hc(o,(e=>{let{data:t,error:n,loading:r,paging:o}=e;const a={loading:r,error:n,params:{page:null===o||void 0===o?void 0:o.next},data:i};t&&(a.data=[...new Set([...i,...t.map(Gc("communityUsers"))])]),nu(d,a),nu(h,a),f(a)}),zc(c))};return u.push(Wp(p()),Gp(p()),Up(p()),Hp(p()),zp(p()),Vp(p()),qp(p())),m(!0),()=>{r("getMembers(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}},onCommunityUserAdded:jp,onCommunityUserRemoved:Bp,onCommunityUserBanned:Up,onCommunityUserChanged:zp,onCommunityUserUnbanned:Hp,onCommunityUserRoleAdded:Vp,onCommunityUserRoleRemoved:qp,onCommunityJoined:Gp,onCommunityLeft:Wp}),tm=Object.freeze({__proto__:null,Moderation:$p,Membership:em,getCommunityByIds:Ap,createCommunity:async e=>{const t=Xc();t.log("user/createCommunity",e);const{data:n}=await t.http.post("/api/v3/communities/",xp(e));ku("community.created",n);const r=kp(n),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{communities:o}=r;return{data:o[0],cachedAt:i}},updateCommunity:async(e,t)=>{const n=Xc();n.log("community/updateCommunity",e,t);const{data:r}=await n.http.put("/api/v3/communities/".concat(e),xp(t));ku("community.updated",r);const i=kp(r),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o});const{communities:a}=i;return{data:a.find((t=>t.communityId===e)),cachedAt:o}},deleteCommunity:async e=>{const t=Xc();t.log("community/deleteCommunity",e),await t.http.delete("/api/v3/communities/".concat(e));const n=await Ip(e);return ku("community.deleted",{communities:[n.data],categories:[],communityUsers:[],feeds:[],files:[],users:[]}),n.data},joinCommunity:async e=>{const t=Xc();t.log("community/joinCommunity",e);const{data:n}=await t.http.post("/api/v3/communities/".concat(e,"/join"));ku("community.joined",n);const r=kp(n),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{communityUsers:o}=r;return!!o.find((t=>t.communityId===e&&"member"===t.communityMembership))},leaveCommunity:async e=>{const t=Xc();t.log("community/leaveCommunity",e);const{data:n}=await t.http.delete("/api/v3/communities/".concat(e,"/leave"));ku("community.left",n);const r=kp(n),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{communityUsers:o}=r;return!!o.find((t=>t.communityId===e&&"member"!==t.communityMembership))},getTopTrendingCommunities:Mp,onCommunityCreated:Lp,onCommunityUpdated:Dp,onCommunityDeleted:Op,observeCommunity:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observeCommunity(tmpid: ".concat(r,") > listen"));const i=(e,n)=>{var r,i;if(t instanceof Function)return t(e);"onFetch"!==n&&(null===(r=t.onEvent)||void 0===r||r.call(t,n,e)),null===(i=t[n])||void 0===i||i.call(t,e)},o=(t,n)=>{var r;(null===(r=t.data)||void 0===r?void 0:r.communityId)===e&&i(t,n)},a=[];return a.push(Dp((e=>o({data:e,loading:!1,origin:"event"},"onUpdate"))),Op((e=>o({data:e,loading:!1,origin:"event"},"onDelete"))),Gp((e=>o({data:e,loading:!1,origin:"event"},"onJoin"))),Wp((e=>o({data:e,loading:!1,origin:"event"},"onLeft"))),jp((e=>o({data:e,loading:!1,origin:"event"},"onUserAdded"))),Bp((e=>o({data:e,loading:!1,origin:"event"},"onUserRemoved"))),Up((e=>o({data:e,loading:!1,origin:"event"},"onUserBanned"))),Hp((e=>o({data:e,loading:!1,origin:"event"},"onUserUnbanned")))),Hc(Uc(Ip,e),(e=>(e.data||e.error)&&i(e,"onFetch"))),()=>{n("observeCommunity(tmpid: ".concat(r,") > dispose")),a.forEach((e=>e()))}},getCommunities:(e,t,n)=>{const{log:r,cache:i,userId:o}=Xc();i||console.log(Cc);const a=Date.now();r("getCommunities(tmpid: ".concat(a,") > listen"));const{limit:s}=e,l=hd(e,["limit"]),c=null!==s&&void 0!==s?s:Ec,{policy:u=wc}=null!==n&&void 0!==n?n:{},d=[],h=["community","collection",l],f=n=>{var r,i;let a=null!==(r=n.data.map((e=>tu(["community","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==r?r:[];a=su(a,"displayName",e.displayName),e.includeDeleted||(a=au(a,"isDeleted",!1)),e.categoryId&&(a=a.filter((t=>{var n;return null===(n=t.categoryIds)||void 0===n?void 0:n.includes(e.categoryId)}))),e.tags&&(a=a.filter((t=>{var n;return null===(n=t.tags)||void 0===n?void 0:n.some((t=>{var n;return null===(n=e.tags)||void 0===n?void 0:n.includes(t)}))}))),e.membership&&o&&(a=cu(a,e.membership,o));const s=e.sortBy||"lastCreated";"lastCreated"!==s&&"firstCreated"!==s||(a=a.sort("lastCreated"===s?pu:fu)),"displayName"===s&&(a=a.map((e=>e.displayName?e:Object.assign(Object.assign({},e),{displayName:""}))).sort(du)),t({onNextPage:m,data:a,hasNextPage:!!(null===(i=n.params)||void 0===i?void 0:i.page),loading:n.loading,error:n.error})},p=e=>e=>{var t;const n=null===(t=tu(h))||void 0===t?void 0:t.data;n&&(n.data=[...new Set([e.communityId,...n.data])],nu(h,n),f(n))},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;const r=null===(t=tu(h))||void 0===t?void 0:t.data,i=null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:[];if(!e&&i.length>0&&!(null===r||void 0===r?void 0:r.params.page))return;const o=Uc(Kp,Object.assign(Object.assign({},l),{limit:e?c:void 0,page:e||null===r||void 0===r?void 0:r.params.page}));Hc(o,(t=>{let{data:n,error:r,loading:o,paging:a}=t;const s={loading:o,error:r,params:{page:null===a||void 0===a?void 0:a.next},data:i};n&&(s.data=e?n.map(Gc("community")):[...new Set([...i,...n.map(Gc("community"))])]),nu(h,s),f(s)}),zc(u,kc))};return d.push(Lp(p()),Op(p()),Dp(p()),Gp(p()),Wp(p()),zp(p())),m(!0),d.push((()=>ou(h))),()=>{r("getCommunities(tmpid: ".concat(a,") > dispose")),d.forEach((e=>e()))}},getCommunity:(e,t)=>Bh(e,t,"communityId",Ip,[Dp,Op,Gp,Wp,Up,Hp,zp]),getTrendingCommunities:(e,t,n)=>{const{log:r,cache:i,userId:o}=Xc();i||console.log(Cc);const a=Date.now();r("getTrendingCommunities(tmpid: ".concat(a,") > listen"));const{limit:s}=e,l=null!==s&&void 0!==s?s:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["community","top-trending",{params:{options:{limit:l}}}],h=function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i,a;const s=null!==(i=n.data.map((e=>tu(["community","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==i?i:[];t({onNextPage:f,data:r?Qp(s,e,o):s,hasNextPage:!!(null===(a=n.params)||void 0===a?void 0:a.page),loading:n.loading,error:n.error})},f=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,r;const i=null===(n=tu(d))||void 0===n?void 0:n.data,o=null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:[];if(!t&&o.length>0&&!(null===i||void 0===i?void 0:i.params.page))return;const a=Uc(Yp,e);Hc(a,(t=>{let{data:n,error:r,loading:i}=t;const a={loading:i,error:r,params:e,data:o};n&&(a.data=[...new Set([...o,...n.map(Gc("community"))])]),nu(d,a),h(a)}),zc(c,kc))};return u.push(zp((e=>{var t;const n=null===(t=tu(d))||void 0===t?void 0:t.data;n&&(n.data=[...new Set([e.communityId,...n.data])],nu(d,n),h(n))}))),f(!0),u.push((()=>ou(d))),()=>{r("getTrendingCommunities(tmpid: ".concat(a,") > dispose")),u.forEach((e=>e()))}},getRecommendedCommunities:(e,t,n)=>{const{log:r,cache:i,userId:o}=Xc();i||console.log(Cc);const a=Date.now();r("getRecommendedCommunities(tmpid: ".concat(a,") > listen"));const{limit:s}=e;hd(e,["limit"]);const l=null!==s&&void 0!==s?s:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["community","recommended",{params:{options:{limit:l}}}],h=function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var i,a;const s=null!==(i=n.data.map((e=>tu(["community","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==i?i:[];t({onNextPage:f,data:r?Qp(s,e,o):s,hasNextPage:!!(null===(a=n.params)||void 0===a?void 0:a.page),loading:n.loading,error:n.error})},f=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n,r;const i=null===(n=tu(d))||void 0===n?void 0:n.data,o=null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:[];if(!t&&o.length>0&&!(null===i||void 0===i?void 0:i.params.page))return;const a=Uc(Zp,e);Hc(a,(t=>{let{data:n,error:r,loading:i}=t;const a={loading:i,error:r,params:e,data:o};n&&(a.data=[...new Set([...o,...n.map(Gc("community"))])]),nu(d,a),h(a)}),zc(c,kc))};return u.push(zp((e=>{var t;const n=null===(t=tu(d))||void 0===t?void 0:t.data;n&&(n.data=[...new Set([e.communityId,...n.data])],nu(d,n),h(n))}))),f(!0),u.push((()=>ou(d))),()=>{r("getRecommendedCommunities(tmpid: ".concat(a,") > dispose")),u.forEach((e=>e()))}}});const nm=async e=>{const t=Xc();t.log("category/getCategory",e);const{data:n}=await t.http.get("/api/v3/community-categories/".concat(encodeURIComponent(e))),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{categories:i}=n;return{data:Dd.category(i.find((t=>t.categoryId===e))),cachedAt:r}};nm.locally=e=>{const t=Xc();if(t.log("category/getCategory.locally",e),!t.cache)return;const n=tu(["category","get",e]);return n?{data:Dd.category(n.data),cachedAt:n.cachedAt}:void 0};const rm=async e=>{const t=Xc();t.log("category/queryCategories",e);const n=null!==e&&void 0!==e?e:{},{page:r,limit:i,includeDeleted:o}=n,a=hd(n,["page","limit","includeDeleted"]),s=r?{token:r}:i?{limit:i}:void 0,{data:l}=await t.http.get("/api/v3/community-categories",{params:Object.assign(Object.assign({},a),{isDeleted:Gd(o),options:s})}),{paging:c}=l,u=hd(l,["paging"]),{categories:d}=u,h=t.cache&&Date.now();if(t.cache){ud(u,{cachedAt:h});const e=["category","query",Object.assign(Object.assign({},a),{includeDeleted:o,options:s})];nu(e,{categories:d.map(Gc("category")),paging:c})}return{data:d,cachedAt:h,paging:c}};rm.locally=e=>{var t,n;const r=Xc();if(r.log("category/queryCategories.locally",e),!r.cache)return;const i=null!==e&&void 0!==e?e:{},{page:o,limit:a=10}=i,s=hd(i,["page","limit"]),l=o?{token:o}:a?{limit:a}:void 0,c=["category","query",Object.assign(Object.assign({},s),{options:l})],{data:u,cachedAt:d}=null!==(t=tu(c))&&void 0!==t?t:{};if(!(null===u||void 0===u?void 0:u.categories.length))return;const h=u.categories.map((e=>tu(["category","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})),{paging:f}=u;return h.length===(null===(n=null===u||void 0===u?void 0:u.categories)||void 0===n?void 0:n.length)?{data:h,cachedAt:d,paging:f}:void 0};var im=Object.freeze({__proto__:null,getCategory:nm,getCategories:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log(Cc);const o=Date.now();r("getCategories(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["category","collection",{}],h=function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var r,i;const o=null===(r=tu(d))||void 0===r?void 0:r.data,a=null!==(i=null===o||void 0===o?void 0:o.data)&&void 0!==i?i:[];if(!n&&a.length>0&&!(null===o||void 0===o?void 0:o.params.page))return;const u=Uc(rm,Object.assign(Object.assign({},s),{limit:n?l:void 0,page:n||null===o||void 0===o?void 0:o.params.page}));Hc(u,(n=>{let{data:r,error:i,loading:o,paging:s}=n;const l={loading:o,error:i,params:{page:null===s||void 0===s?void 0:s.next},data:a};r&&(l.data=[...new Set([...a,...r.map(Gc("category"))])]),nu(d,l),(n=>{var r,i;let o=null!==(r=n.data.map((e=>tu(["category","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return Dd.category(t)})))&&void 0!==r?r:[];switch(e.includeDeleted||(o=au(o,"isDeleted",!1)),e.sortBy){case"firstCreated":o=o.sort(fu);break;case"lastCreated":o=o.sort(pu);break;default:o=o.sort(hu)}t({onNextPage:h,data:o,hasNextPage:!!(null===(i=n.params)||void 0===i?void 0:i.page),loading:n.loading,error:n.error})})(l)}),zc(c))};return u.push((()=>{})),h(!0),()=>{r("getCategories(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}}});const om=async e=>{const t=Xc();t.log("feed/queryGlobalFeed",e);const n=null!==e&&void 0!==e?e:{},{useCustomRanking:r,page:i,queryToken:o}=n,a=hd(n,["useCustomRanking","page","queryToken"]);r&&console.warn('The param "useCustomRanking" has been deprecated. To get custom ranking feed use FeedRepository.getCustomRankingGlobalFeed instead'),i&&console.warn('The param "page" has been deprecated. Please use "queryToken" instead.');const s=o?{token:o}:i?{token:Dc(i,"skiplimit")}:void 0,{data:l}=await t.http.get("/api/v4/me/global-feeds",{params:Object.assign(Object.assign({},a),{options:s})}),{paging:c}=l,u=hd(l,["paging"]),d=pd(u,"communityUsers"),{posts:h}=d,f=t.cache&&Date.now();if(t.cache){ud(d);const e=["globalFeed","query",Object.assign(Object.assign({},a),{options:Object.assign({},i)})];nu(e,{posts:h.map(Gc("post")),paging:c})}const p=Oc(c.next),m=Oc(c.previous);return{data:h.map(Dd.post),cachedAt:f,prevPage:m,nextPage:p,paging:c}};om.locally=e=>{var t,n;const r=Xc();if(r.log("post/queryGlobalFeed.locally",e),!r.cache)return;const i=null!==e&&void 0!==e?e:{},{page:o}=i,a=hd(i,["page"]),s=["globalFeed","query",Object.assign(Object.assign({},a),{options:Object.assign({},o)})],{data:l,cachedAt:c}=null!==(t=tu(s))&&void 0!==t?t:{};if(!(null===l||void 0===l?void 0:l.posts.length))return;const u=l.posts.map((e=>tu(["post","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})).map(Dd.post),{paging:d}=l,h=Oc(null===l||void 0===l?void 0:l.paging.previous),f=Oc(null===l||void 0===l?void 0:l.paging.next);return u.length===(null===(n=null===l||void 0===l?void 0:l.posts)||void 0===n?void 0:n.length)?{data:u,cachedAt:c,prevPage:h,nextPage:f,paging:d}:void 0};const am=async e=>{const t=Xc();t.log("feed/getCustomRankingGlobalFeed",e);const n=null!==e&&void 0!==e?e:{},{page:r,queryToken:i,limit:o}=n,a=hd(n,["page","queryToken","limit"]),s=i?{token:i}:r?{token:Dc(r,"skiplimit")}:void 0,{data:l}=await t.http.get("/api/v5/me/global-feeds",{params:Object.assign(Object.assign({},a),{limit:i?void 0:o,options:s})}),{paging:c}=l,u=hd(l,["paging"]),d=pd(u,"communityUsers"),{posts:h}=d,f=t.cache&&Date.now();if(t.cache){ud(d);const e=["customGlobalFeed","query",Object.assign(Object.assign({},a),{options:Object.assign({},r)})];nu(e,{posts:h.map(Gc("post")),paging:c})}const p=Oc(c.next),m=Oc(c.previous);return{data:h.map(Dd.post),cachedAt:f,prevPage:m,nextPage:p,paging:c}};am.locally=e=>{var t,n;const r=Xc();if(r.log("post/getCustomRankingGlobalFeed.locally",e),!r.cache)return;const i=null!==e&&void 0!==e?e:{},{page:o}=i,a=hd(i,["page"]),s=["customGlobalFeed","query",Object.assign(Object.assign({},a),{options:Object.assign({},o)})],{data:l,cachedAt:c}=null!==(t=tu(s))&&void 0!==t?t:{};if(!(null===l||void 0===l?void 0:l.posts.length))return;const u=l.posts.map((e=>tu(["post","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})),d=Oc(null===l||void 0===l?void 0:l.paging.previous),h=Oc(null===l||void 0===l?void 0:l.paging.next),{paging:f}=l;return u.length===(null===(n=null===l||void 0===l?void 0:l.posts)||void 0===n?void 0:n.length)?{data:u.map(Dd.post),cachedAt:c,prevPage:d,nextPage:h,paging:f}:void 0};var sm=Object.freeze({__proto__:null,queryGlobalFeed:om,getCustomRankingGlobalFeed:am});const lm=async e=>{const t=Xc();t.log("post/getPostByIds",e);const n=e.map((e=>encodeURIComponent(e)));let r;try{r=(await t.http.get("/api/v3/posts/list",{params:{postIds:n}})).data}catch(a){throw e.forEach((e=>{Rc(null===a||void 0===a?void 0:a.code)&&dd("post",e)})),a}const i=pd(r,"communityUsers"),o=t.cache&&Date.now();return t.cache&&ud(i,{cachedAt:o}),{data:i.posts.map(Dd.post),cachedAt:o}};lm.locally=e=>{var t;const n=Xc();if(n.log("post/getPostByIds.locally",e),!n.cache)return;const r=e.map((e=>tu(["post","get",e]))).filter(Boolean),i=r.map((e=>{let{data:t}=e;return t})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return(null===r||void 0===r?void 0:r.length)<e.length?void 0:{data:i.map(Dd.post),cachedAt:o.cachedAt}};const cm=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r=Xc(),i=await Uf(e);if(await r.http.delete("/api/v4/posts/".concat(encodeURIComponent(e)),{params:{postId:e,permanent:t}}),"community"===i.data.targetType){const e=await Ip(i.data.targetId),t=(null!==(n=eu(["communityUsers","get"]))&&void 0!==n?n:[]).filter((t=>{let{key:n}=t;return"communityUsers"===n[0]&&("get"===n[1]&&("string"===typeof n[2]&&n[2].includes(e.data.communityId)))})).map((e=>{let{data:t}=e;return t}));ku("community.updated",{communities:[e.data],categories:[],communityUsers:t,feeds:[],files:[],users:[]})}const o=Object.assign(Object.assign({},i.data),{isDeleted:!0});return ku("post.deleted",{posts:[o],categories:[],comments:[],communities:[],communityUsers:[],feeds:[],files:[],postChildren:[],users:[]}),t?setTimeout((()=>{dd("post",e)}),0):iu(["post","get",e],{isDeleted:!0}),Dd.post(o)},um=async e=>{const t=Xc();t.log("post/queryPosts",e);const{page:n,limit:r=10,includeDeleted:i}=e,o=hd(e,["page","limit","includeDeleted"]),{dataTypes:a,matchingOnlyParentPost:s}=o,l=n?{token:n}:r?{limit:r}:void 0,{data:c}=await t.http.get("/api/v4/posts",{params:Object.assign(Object.assign({},o),{isDeleted:Gd(i),matchingOnlyParentPost:null!==s&&void 0!==s?s:!(null===a||void 0===a?void 0:a.length),options:l})}),{paging:u}=c,d=hd(c,["paging"]),h=pd(d,"communityUsers"),{posts:f}=d,p=t.cache&&Date.now();if(t.cache){ud(h,{cachedAt:p});const e=["post","query",Object.assign(Object.assign({},o),{options:l})];nu(e,{posts:f.map(Gc("post")),paging:u})}return{data:f.map(Dd.post),cachedAt:p,paging:u}};var dm=Object.freeze({__proto__:null,getPostByIds:lm,createPost:async e=>{const t=Xc();t.log("post/createPost",e),e.dataType&&!["text","image","file","video"].includes(e.dataType)||delete e.dataType;const{data:n}=await t.http.post("/api/v4/posts",e);ku("post.created",n);const r=pd(n,"communityUsers"),i=t.cache&&Date.now();t.cache&&ud(r,{cachedAt:i});const{posts:o}=r;return{data:Dd.post(o[0]),cachedAt:i}},updatePost:async(e,t)=>{const n=Xc();n.log("user/updatePost",t),console.warn("Deprecation: updatePost has been renamed to editPost. Update post API will be deprecated soon.");const{data:r}=await n.http.put("/api/v4/posts/".concat(encodeURIComponent(e)),t),i=pd(r,"communityUsers"),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o}),ku("post.updated",i);const{posts:a}=i;return{data:Dd.post(a.find((t=>t.postId===e))),cachedAt:o}},editPost:async(e,t)=>{const n=Xc();n.log("user/editPost",t);const{data:r}=await n.http.put("/api/v4/posts/".concat(encodeURIComponent(e)),t),i=pd(r,"communityUsers"),o=n.cache&&Date.now();n.cache&&ud(i,{cachedAt:o}),ku("post.updated",i);const{posts:a}=i;return{data:Dd.post(a.find((t=>t.postId===e))),cachedAt:o}},deletePost:cm,softDeletePost:async e=>{Xc().log("post/softDeletePost",e);const t=await cm(e,!1);return Dd.post(t)},hardDeletePost:async e=>{Xc().log("post/hardDeletePost",e);const t=await cm(e,!0);return Dd.post(t)},approvePost:async e=>{const t=Xc();t.log("post/approvePost",e);const{data:n}=await t.http.post("/api/v3/posts/".concat(encodeURIComponent(e),"/approve"));ku("post.approved",n),"community"===n.posts[0].targetType&&ku("community.updated",n);const r=pd(n,"communityUsers"),i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),{data:Dd.post(r.posts.find((t=>t.postId===e))),cachedAt:i}},declinePost:async e=>{const t=Xc();t.log("post/declinePost",e);const{data:n}=await t.http.post("/api/v3/posts/".concat(encodeURIComponent(e),"/decline"));"community"===n.posts[0].targetType&&ku("community.updated",n),ku("post.declined",n);const r=pd(n,"communityUsers"),i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),{data:Dd.post(n.posts.find((t=>t.postId===e))),cachedAt:i}},flagPost:async e=>{const t=Xc();t.log("post/flagPost",e);const{data:n}=await t.http.post("/api/v3/posts/".concat(encodeURIComponent(e),"/flag"));return t.cache&&ud(pd(n,"communityUsers")),ku("post.flagged",n),!!n},unflagPost:async e=>{const t=Xc();t.log("post/unflagPost",e);const{data:n}=await t.http.delete("/api/v3/posts/".concat(encodeURIComponent(e),"/unflag"));return t.cache&&ud(pd(n,"communityUsers")),ku("post.unflagged",n),!!n},isPostFlaggedByMe:async e=>{const t=Xc();t.log("post/isPostFlaggedByMe",e);const{data:{result:n}}=await t.http.get("/api/v3/posts/".concat(e,"/isflagbyme"));return n},onPostCreated:Wf,onPostUpdated:Kf,onPostDeleted:Yf,onPostApproved:Qf,onPostDeclined:Zf,onPostFlagged:$f,onPostUnflagged:Xf,onPostReactionAdded:Jf,onPostReactionRemoved:ep,observePosts:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observePosts(tmpid: ".concat(r,") > listen"));const i=[],o=(n,r)=>{var i,o;if(e.targetId===n.targetId&&e.targetType===n.targetType){if(t instanceof Function)return t(Dd.post(n));null===(i=t.onEvent)||void 0===i||i.call(t,r,Dd.post(n)),null===(o=t[r])||void 0===o||o.call(t,Dd.post(n))}};return i.push(Wf((e=>o(e,"onCreate"))),Kf((e=>o(e,"onUpdate"))),Yf((e=>o(e,"onDelete"))),Qf((e=>o(e,"onApproved"))),Zf((e=>o(e,"onDeclined"))),$f((e=>o(e,"onFlagged"))),Xf((e=>o(e,"onUnflagged"))),Jf((e=>o(e,"onReactionAdded"))),ep((e=>o(e,"onReactionRemoved")))),()=>{n("observePosts(tmpid: ".concat(r,") > dispose")),i.forEach((e=>e()))}},observePost:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cache_then_server";const{log:r}=Xc(),i=Date.now();r("observePost(tmpid: ".concat(i,") > listen"));const o=(e,n)=>{var r,i;if(t instanceof Function)return t(e);"onFetch"!==n&&(null===(r=t.onEvent)||void 0===r||r.call(t,n,e)),null===(i=t[n])||void 0===i||i.call(t,e)},a=(t,n)=>{var r;(null===(r=t.data)||void 0===r?void 0:r.postId)===e&&o(Object.assign(Object.assign({},t),{data:t.data&&Dd.post(t.data)}),n)},s=[];return s.push(Kf((e=>a({data:e,loading:!1,origin:"event"},"onUpdate"))),Yf((e=>a({data:e,loading:!1,origin:"event"},"onDelete"))),Qf((e=>a({data:e,loading:!1,origin:"event"},"onApproved"))),Zf((e=>a({data:e,loading:!1,origin:"event"},"onDeclined"))),$f((e=>a({data:e,loading:!1,origin:"event"},"onFlagged"))),Xf((e=>a({data:e,loading:!1,origin:"event"},"onUnflagged"))),Jf((e=>a({data:e,loading:!1,origin:"event"},"onReactionAdded"))),ep((e=>a({data:e,loading:!1,origin:"event"},"onReactionRemoved")))),Hc(Uc(Uf,e),(e=>(e.data||e.error)&&o(Object.assign(Object.assign({},e),{data:e.data&&Dd.post(e.data)}),"onFetch")),zc(n)),()=>{r("observePosts(tmpid: ".concat(i,") > dispose")),s.forEach((e=>e()))}},getPost:(e,t)=>Bh(e,t,"postId",Uf,[Qf,Zf,Yf,$f,Jf,ep,Xf,Kf]),getPosts:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log(Cc);const o=Date.now();r("getPosts(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["post","collection",{targetId:e.targetId,targetType:e.targetType}],h=n=>{var r,i,o;let a=null!==(r=n.data.map((e=>tu(["post","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return Dd.post(t)})))&&void 0!==r?r:[];const s=e.sortBy?e.sortBy:"lastCreated";var l,c;a=a.sort("lastCreated"===s?pu:fu),e.includeDeleted||(a=au(a,"isDeleted",!1)),e.tags&&(a=a.filter((t=>{var n;return null===(n=t.tags)||void 0===n?void 0:n.some((t=>{var n;return null===(n=e.tags)||void 0===n?void 0:n.includes(t)}))}))),"community"===e.targetType&&e.feedType&&(l=a,c=e.feedType,a=l.filter((e=>{let{targetId:t,feedId:n}=e;var r;const i=null===(r=tu(["feed","get",Gc("feed")({targetId:t,feedId:n})]))||void 0===r?void 0:r.data;return i&&i.feedType===c}))),(null===(i=e.dataTypes)||void 0===i?void 0:i.length)&&(a=((e,t)=>{const n=[];return e.reduce(((e,r)=>{var i;if("text"===r.dataType&&!r.children.length)return e;if(n.includes(r.postId))return e;if((null===t||void 0===t?void 0:t.includes(r.dataType))&&e.push(r),!r.children.length)return e;const o=null===(i=tu(["post","get",r.children[0]]))||void 0===i?void 0:i.data;return o?n.includes(o.postId)?e:(null===t||void 0===t?void 0:t.includes(null===o||void 0===o?void 0:o.dataType))?(n.push(o.postId),e.push(o),e):e:e}),[])})(a,e.dataTypes)),t({onNextPage:p,data:a,hasNextPage:!!(null===(o=n.params)||void 0===o?void 0:o.page),loading:n.loading,error:n.error})},f=t=>n=>{var r,i;const o=null===(r=tu(d))||void 0===r?void 0:r.data;if(o){if(null===n||void 0===n?void 0:n.parentPostId){const t=tu(["post","get",n.parentPostId]);if((null===(i=null===t||void 0===t?void 0:t.data)||void 0===i?void 0:i.targetId)!==e.targetId)return}else{if(e.targetId!==n.targetId)return;if(e.targetType!==n.targetType)return}o.data="onDeclined"===t?o.data.filter((e=>e!==n.postId)):[...new Set([n.postId,...o.data])],nu(d,o),h(o)}},p=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n,r;const i=null===(t=tu(d))||void 0===t?void 0:t.data,o=null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:[];if(!e&&o.length>0&&!(null===(r=null===i||void 0===i?void 0:i.params)||void 0===r?void 0:r.page))return;const a=Uc(um,Object.assign(Object.assign({},s),{limit:e?l:void 0,page:e||null===i||void 0===i?void 0:i.params.page}));Hc(a,(t=>{let{data:n,error:r,loading:i,paging:a}=t;const s={loading:i,error:r,params:{page:null===a||void 0===a?void 0:a.next},data:o};n&&(s.data=e?n.map(Gc("post")):[...new Set([...o,...n.map(Gc("post"))])]),nu(d,s),h(s)}),zc(c,kc))};return u.push(Wf(f("onCreate")),Qf(f("onApproved")),Zf(f("onDeclined")),Yf(f("onDelete")),Kf(f("onUpdate")),$f(f("onFlagged")),Xf(f("onUnflagged")),Jf(f("onReactionAdded")),ep(f("onReactionRemoved"))),p(!0),u.push((()=>ou(d))),()=>{r("getPosts(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}}});const hm=async e=>{const t=Xc();t.log("comment/getCommentByIds",e);const n=e.map((e=>encodeURIComponent(e)));let r;try{r=(await t.http.get("/api/v3/comments/list",{params:{commentIds:n}})).data}catch(o){throw e.forEach((e=>{Rc(null===o||void 0===o?void 0:o.code)&&dd("comment",e)})),o}const i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),{data:r.comments.map((e=>Dd.comment(e))),cachedAt:i}};hm.locally=e=>{var t;const n=Xc();if(n.log("comment/getCommentByIds.locally",e),!n.cache)return;const r=e.map((e=>tu(["comment","get",e]))).filter(Boolean),i=r.map((e=>{let{data:t}=e;return t})),o=null===(t=r.sort(((e,t)=>e.cachedAt<t.cachedAt?-1:1)))||void 0===t?void 0:t[0];return(null===r||void 0===r?void 0:r.length)<e.length?void 0:{data:i.map((e=>Dd.comment(e))),cachedAt:o.cachedAt}};const fm=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Xc(),r=await zf(e);await n.http.delete("/api/v4/comments/".concat(encodeURIComponent(e)),{params:{commentId:e,permanent:t}});const i=Object.assign(Object.assign({},r.data),{isDeleted:!0}),o=await Uf(r.data.referenceId);return ku("post.updated",{posts:[o.data],categories:[],comments:[],communities:[],communityUsers:[],feeds:[],files:[],postChildren:[],users:[]}),ku("comment.deleted",{comments:[i],commentChildren:[],files:[],users:[],communityUsers:[]}),t?Eu((()=>dd("comment",e))):iu(["comment","get",e],{isDeleted:!0}),i},pm=async e=>{const t=Xc();let n;t.log("comment/getComment",e),oh("comment",e);try{n=(await t.http.get("/api/v3/comments/".concat(encodeURIComponent(e)))).data}catch(o){throw Rc(null===o||void 0===o?void 0:o.code)&&dd("comment",e),o}const r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{comments:i}=n;return{data:i.find((t=>t.commentId===e)),cachedAt:r}};pm.locally=e=>{const t=Xc();if(t.log("comment/getComment.locally",e),!t.cache)return;const n=tu(["comment","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const mm=async e=>{const t=Xc();t.log("comment/queryComments",e);const{limit:n=10,includeDeleted:r}=e,i=hd(e,["limit","includeDeleted"]),o={type:i.sortBy||e.limit?"pagination":void 0,limit:e.limit,token:e.page},{data:a}=await t.http.get("/api/v3/comments",{params:Object.assign(Object.assign({},i),{isDeleted:Gd(r),options:o})}),{paging:s}=a,l=hd(a,["paging"]),{comments:c}=l,u=t.cache&&Date.now();if(t.cache){ud(l,{cachedAt:u});const e=["comment","query",Object.assign(Object.assign({},i),{options:{limit:n}})];nu(e,{comments:c.map(Gc("comment")),paging:s})}return{data:c,cachedAt:u,paging:s}};var gm=Object.freeze({__proto__:null,getCommentByIds:hm,createComment:async e=>{const t=Xc();t.log("comment/createComment",e);const{data:n}=await t.http.post("/api/v3/comments",e),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const i=await Uf(e.referenceId);ku("post.updated",{posts:[i.data],categories:[],comments:[],communities:[],communityUsers:[],feeds:[],files:[],postChildren:[],users:[]}),ku("comment.created",n);const{comments:o}=n;return{data:Dd.comment(o[0]),cachedAt:r}},updateComment:async(e,t)=>{const n=Xc();n.log("user/updateComment",t);const{data:r}=await n.http.put("/api/v3/comments/".concat(encodeURIComponent(e)),t),i=n.cache&&Date.now();n.cache&&ud(r,{cachedAt:i}),ku("comment.updated",r);const{comments:o}=r;return{data:Dd.comment(o.find((t=>t.userId===e))),cachedAt:i}},deleteComment:fm,softDeleteComment:async e=>{Xc().log("comment/softDeleteComment",e);return fm(e)},hardDeleteComment:async e=>{Xc().log("comment/hardDeleteComment",e);return fm(e,!0)},flagComment:async e=>{const t=Xc();t.log("comment/flagComment",e);const{data:n}=await t.http.post("/api/v3/comments/".concat(encodeURIComponent(e),"/flag"));return t.cache&&ud(n),ku("comment.flagged",n),!!n},unflagComment:async e=>{const t=Xc();t.log("comment/unflagComment",e);const{data:n}=await t.http.delete("/api/v3/comments/".concat(encodeURIComponent(e),"/unflag"));return t.cache&&ud(n),ku("comment.unflagged",n),!!n},isCommentFlaggedByMe:async e=>{const t=Xc();t.log("comment/isCommentFlaggedByMe",e);const{data:{result:n}}=await t.http.get("/api/v3/comments/".concat(e,"/isflagbyme"));return n},onCommentCreated:np,onCommentUpdated:rp,onCommentDeleted:ip,onCommentFlagged:op,onCommentUnflagged:ap,onCommentReactionAdded:sp,onCommentReactionRemoved:lp,observeComments:(e,t)=>{const{log:n}=Xc(),r=Date.now();n("observeComments(tmpid: ".concat(r,") > listen"));const i=[],o=(n,r)=>{var i,o;if(n.referenceId===e){if(t instanceof Function)return t(n);null===(i=t.onEvent)||void 0===i||i.call(t,r,n),null===(o=t[r])||void 0===o||o.call(t,n)}};return i.push(np((e=>o(e,"onCreate"))),rp((e=>o(e,"onUpdate"))),ip((e=>o(e,"onDelete"))),op((e=>o(e,"onFlagged"))),ap((e=>o(e,"onUnflagged"))),sp((e=>o(e,"onReactionAdded"))),lp((e=>o(e,"onReactionRemoved")))),()=>{n("observeComments(tmpid: ".concat(r,") > dispose")),i.forEach((e=>e()))}},observeComment:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cache_then_server";const{log:r}=Xc(),i=Date.now();r("observeComment(tmpid: ".concat(i,") > listen"));const o=(e,n)=>{var r,i;if(t instanceof Function)return t(e);"onFetch"!==n&&(null===(r=t.onEvent)||void 0===r||r.call(t,n,e)),null===(i=t[n])||void 0===i||i.call(t,e)},a=(t,n)=>{var r;(null===(r=t.data)||void 0===r?void 0:r.commentId)===e&&o(t,n)},s=[];return s.push(rp((e=>a({data:e,loading:!1,origin:"event"},"onUpdate"))),ip((e=>a({data:e,loading:!1,origin:"event"},"onDelete"))),op((e=>a({data:e,loading:!1,origin:"event"},"onFlagged"))),ap((e=>a({data:e,loading:!1,origin:"event"},"onUnflagged"))),sp((e=>a({data:e,loading:!1,origin:"event"},"onReactionAdded"))),lp((e=>a({data:e,loading:!1,origin:"event"},"onReactionRemoved")))),Hc(Uc(pm,e),(e=>(e.data||e.error)&&o(e,"onFetch")),zc(n)),()=>{r("observeComment(tmpid: ".concat(i,") > dispose")),s.forEach((e=>e()))}},getComment:(e,t)=>Bh(e,t,"commentId",pm,[ip,op,sp,lp,ap,rp]),getComments:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log("For using Live Collection feature you need to enable Cache!");const o=Date.now();r("getComments(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),{policy:l=wc}=null!==n&&void 0!==n?n:{},c=[],u=["comment","collection",{referenceId:e.referenceType,referenceType:e.referenceId,parentId:(null===e||void 0===e?void 0:e.parentId)||""}],d=n=>{var r,i;let o=null!==(r=n.data.map((e=>tu(["comment","get",e]))).filter((t=>{let{data:n}=t;return n.parentId===(null===e||void 0===e?void 0:e.parentId)})).filter(Boolean).map((e=>{let{data:t}=e;return Dd.comment(t)})))&&void 0!==r?r:[];e.includeDeleted||(o=au(o,"isDeleted",!1));const a=e.sortBy?e.sortBy:"lastCreated";o=o.sort("lastCreated"===a?pu:fu),t({onNextPage:f,data:o,hasNextPage:!!(null===(i=n.params)||void 0===i?void 0:i.page),loading:n.loading,error:n.error})},h=t=>n=>{var r;const i=null===(r=tu(u))||void 0===r?void 0:r.data;e.referenceId===n.referenceId&&e.referenceType===n.referenceType&&i&&("onCreate"===t?i.data=[...new Set([n.commentId,...i.data])]:"onDelete"===t&&(i.data=i.data.filter((e=>e!==n.commentId))),nu(u,i),d(i))},f=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n,r;const i=null===(t=tu(u))||void 0===t?void 0:t.data,o=null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:[];if(!e&&o.length>0&&!(null===(r=null===i||void 0===i?void 0:i.params)||void 0===r?void 0:r.page))return;const c=Uc(mm,Object.assign(Object.assign({},s),{limit:a,page:e||null===i||void 0===i?void 0:i.params.page}));Hc(c,(t=>{let{data:n,error:r,loading:i,paging:a}=t;const l={loading:i,error:r,params:{page:"lastCreated"===(s.sortBy||"lastCreated")?null===a||void 0===a?void 0:a.next:null===a||void 0===a?void 0:a.previous},data:o};n&&(l.data=e?n.map(Gc("comment")):[...new Set([...o,...n.map(Gc("comment"))])]),nu(u,l),d(l)}),zc(l,kc))};return c.push(np(h("onCreate")),rp(h("onUpdate")),ip(h("onDelete")),op(h("onFlagged")),ap(h("onUnflagged")),sp(h("onReactionAdded")),lp(h("onReactionRemoved"))),f(!0),c.push((()=>ou(u))),()=>{r("getComments(tmpid: ".concat(o,") > dispose")),c.forEach((e=>e()))}}});const vm=async e=>{const t=Xc();t.log("stream/getStream",e);const{data:n}=await t.http.get("/api/v3/video-streaming/".concat(e)),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{videoStreamings:i}=n;return{data:i.find((t=>t.streamId===e)),cachedAt:r}};vm.locally=e=>{const t=Xc();if(t.log("stream/getStream",e),!t.cache)return;const n=tu(["stream","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const ym=e=>{const t=Xc();return _u(t,"stream/onStreamStarted","video-streaming.didStart",(t=>{ud(t),e(t.videoStreamings[0])}))},bm=e=>{const t=Xc();return _u(t,"stream/onStreamStarted","video-streaming.didStop",(t=>{ud(t),e(t.videoStreamings[0])}))},Em=e=>{const t=Xc();return _u(t,"stream/onStreamRecorded","video-streaming.didRecord",(t=>{ud(t),e(t.videoStreamings[0])}))},wm=(e,t)=>Bh(e,t,"streamId",vm,[Em,ym,bm]);wm.locally=e=>{const t=Xc();if(t.log("stream/getStreamById",e),!t.cache)return;const n=tu(["stream","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const Cm=async e=>{const t=Xc();t.log("stream/queryStreams",e);const n=null!==e&&void 0!==e?e:{},{page:r,limit:i}=n,o=hd(n,["page","limit"]),a=r?{token:r}:i?{limit:i}:void 0,{data:s}=await t.http.get("/api/v3/video-streaming",{params:Object.assign(Object.assign({},o),{options:a})}),{paging:l,results:c}=s,{videoStreamings:u}=c,d=t.cache&&Date.now();return t.cache&&ud(c,{cachedAt:d}),{data:u,cachedAt:d,paging:l}};var Sm=Object.freeze({__proto__:null,createStream:async e=>{const t=Xc();t.log("stream/createStream",e);const{data:n}=await t.http.post("/api/v3/video-streaming",e),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{videoStreamings:i}=n;return{data:i[0],cachedAt:r}},updateStream:async(e,t)=>{const n=Xc();n.log("stream/updateStream",e,t);const{data:r}=await n.http.put("/api/v3/video-streaming/".concat(e),t),i=n.cache&&Date.now();n.cache&&ud(r,{cachedAt:i});const{videoStreamings:o}=r;return{data:o.find((t=>t.streamId===e)),cachedAt:i}},deleteStream:async e=>{const t=Xc();t.log("stream/deleteStream",e);const n=await vm(e),{data:r}=await t.http.delete("/api/v3/video-streaming/".concat(e)),{success:i}=r,o=Object.assign(Object.assign({},n.data),{isDeleted:!0});return iu(["stream","get",e],o),i},disposeStream:async e=>{const t=Xc();t.log("stream/disposeStream",e);const{data:n}=await t.http.delete("/api/v3/video-streaming/".concat(e,"/streaming-url")),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{videoStreamings:i}=n;return{data:i.find((t=>t.streamId===e)),cachedAt:r}},queryStreams:async e=>{const t=Xc();t.log("stream/queryStreams",e);const n=null!==e&&void 0!==e?e:{},{page:r}=n,i=hd(n,["page"]),{data:o}=await t.http.get("/api/v3/video-streaming",{params:Object.assign(Object.assign({},i),{options:{token:Dc(r,"skiplimit")}})}),{paging:a,results:s}=o,{videoStreamings:l}=s,c=t.cache&&Date.now();t.cache&&ud(s,{cachedAt:c});const u=Oc(a.next);return{data:l,cachedAt:c,prevPage:Oc(a.previous),nextPage:u}},getStream:vm,onStreamStarted:ym,onStreamStopped:bm,onStreamRecorded:Em,getStreamById:wm,getStreams:(e,t,n)=>{const{log:r,cache:i}=Xc();i||console.log(Cc);const o=Date.now();r("getStreams(tmpid: ".concat(o,") > listen"));const{limit:a}=e,s=hd(e,["limit"]),l=null!==a&&void 0!==a?a:Ec,{policy:c=wc}=null!==n&&void 0!==n?n:{},u=[],d=["streams","collection",e],h=t=>{let n=au(t,"isDeleted",e.isDeleted);return n=n.sort("lastCreated"===e.sortBy?pu:fu),n},f=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,i;const o=null!==(r=e.data.map((e=>tu(["stream","get",e]))).filter(Boolean).map((e=>{let{data:t}=e;return t})))&&void 0!==r?r:[];t({onNextPage:m,data:n?h(o):o,hasNextPage:!!(null===(i=e.params)||void 0===i?void 0:i.page),loading:e.loading,error:e.error})},p=e=>e=>{var t;const n=null===(t=tu(d))||void 0===t?void 0:t.data;n&&(n.data=[...new Set([e.streamId,...n.data])],nu(d,n),f(n,!0))},m=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;const r=null===(t=tu(d))||void 0===t?void 0:t.data,i=null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:[];if(!e&&i.length>0&&!(null===r||void 0===r?void 0:r.params.page))return;const o=Uc(Cm,Object.assign(Object.assign({},s),{limit:e?l:void 0,page:e||null===r||void 0===r?void 0:r.params.page}));Hc(o,(e=>{let{data:t,error:n,loading:r,paging:o}=e;const a={loading:r,error:n,params:{page:null===o||void 0===o?void 0:o.next},data:i};t&&(a.data=[...new Set([...i,...t.map(Gc("stream"))])]),nu(d,a),f(a)}),zc(c))};return u.push(Em(p()),ym(p()),bm(p())),m(!0),()=>{r("getStreams(tmpid: ".concat(o,") > dispose")),u.forEach((e=>e()))}}});const Tm=async e=>{const t=Xc();t.log("poll/getPoll",e);const{data:n}=await t.http.get("/api/v3/polls/".concat(e)),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{polls:i}=n;return{data:i.find((t=>t.pollId===e)),cachedAt:r}};Tm.locally=e=>{const t=Xc();if(t.log("poll/getPoll",e),!t.cache)return;const n=tu(["poll","get",e]);return n?{data:n.data,cachedAt:n.cachedAt}:void 0};const _m=e=>{const t=Xc();return _u(t,"poll/onPollUpdated","poll.updated",(n=>{t.cache&&ud(n),e(n.polls[0])}))},km=e=>{const t=Xc();return _u(t,"poll/onPollDeleted","poll.deleted",(n=>{t.cache&&ud(n),e(n.polls[0])}))};var xm=Object.freeze({__proto__:null,createPoll:async e=>{const t=Xc();t.log("post/createPoll",e);const{data:n}=await t.http.post("/api/v3/polls",e),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r});const{polls:i}=n;return{data:i[0],cachedAt:r}},closePoll:async e=>{const t=Xc();t.log("user/closePoll",e);const{data:n}=await t.http.put("/api/v3/polls/".concat(encodeURIComponent(e)),{status:"closed"}),r=t.cache&&Date.now();t.cache&&ud(n,{cachedAt:r}),ku("poll.updated",n);const{polls:i}=n;return{data:i.find((t=>t.pollId===e)),cachedAt:r}},deletePoll:async e=>{const t=Xc();t.log("poll/deletePoll",e);const n=await Tm(e),{data:r}=await t.http.delete("/api/v3/polls/".concat(e)),{success:i}=r,o=Object.assign(Object.assign({},n.data),{isDeleted:!0});return iu(["poll","get",e],o),ku("poll.deleted",{polls:[o],users:[]}),i},votePoll:async(e,t)=>{const n=Xc();n.log("user/votePoll",e);const{data:r}=await n.http.post("/api/v3/polls/".concat(encodeURIComponent(e),"/votes"),{pollId:e,answerIds:t}),i=n.cache&&Date.now();n.cache&&ud(r,{cachedAt:i});const{polls:o}=r;return ku("poll.updated",r),{data:o.find((t=>t.pollId===e)),cachedAt:i}},onPollUpdated:_m,onPollDeleted:km,observePoll:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cache_then_server";const{log:r}=Xc(),i=Date.now();r("observePoll(tmpid: ".concat(i,") > listen"));const o=(e,n)=>{var r,i;if(t instanceof Function)return t(e);"onFetch"!==n&&(null===(r=t.onEvent)||void 0===r||r.call(t,n,e)),null===(i=t[n])||void 0===i||i.call(t,e)},a=(t,n)=>{var r;(null===(r=t.data)||void 0===r?void 0:r.pollId)===e&&o(t,n)},s=[];return s.push(_m((e=>a({data:e,loading:!1,origin:"event"},"onUpdate"))),km((e=>a({data:e,loading:!1,origin:"event"},"onDelete")))),Hc(Uc(Tm,e),(e=>(e.data||e.error)&&o(e,"onFetch")),zc(n)),()=>{r("observePoll(tmpid: ".concat(i,") > dispose")),s.forEach((e=>e()))}},getPoll:(e,t)=>Bh(e,t,"pollId",Tm,[_m,km])});const Am=async e=>{const t=Xc();t.log("story/getStoryByStoryId",e);const n=tu(["story-reference",e]);if(null===n||void 0===n?void 0:n.data){const{data:e}=n;oh("story",e)}let r;try{r=(await t.http.get("/api/v4/stories/".concat(e))).data}catch(o){throw Rc(null===o||void 0===o?void 0:o.code)&&dd("story",e),o}const i=t.cache&&Date.now();return t.cache&&ud(r,{cachedAt:i}),{data:r.stories[0],cachedAt:i}};Am.locally=e=>{const t=Xc();t.log("story/getStorybyStoryId",e);const n=tu(["story-reference",e]);if(null===n||void 0===n?void 0:n.data){const{data:e}=n;oh("story",e)}const r=t.cache&&Date.now(),i=tu(["story","get",e]);if(i)return{data:i.data,cachedAt:r}};var Im="-ms-",Mm="-moz-",Rm="-webkit-",Lm="comm",Dm="rule",Om="decl",Pm="@import",Nm="@keyframes",Fm="@layer",jm=Math.abs,Bm=String.fromCharCode,Um=Object.assign;function zm(e){return e.trim()}function Hm(e,t){return(e=t.exec(e))?e[0]:e}function Vm(e,t,n){return e.replace(t,n)}function qm(e,t,n){return e.indexOf(t,n)}function Gm(e,t){return 0|e.charCodeAt(t)}function Wm(e,t,n){return e.slice(t,n)}function Km(e){return e.length}function Ym(e){return e.length}function Qm(e,t){return t.push(e),e}function Zm(e,t){return e.filter((function(e){return!Hm(e,t)}))}var $m=1,Xm=1,Jm=0,eg=0,tg=0,ng="";function rg(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:$m,column:Xm,length:a,return:"",siblings:s}}function ig(e,t){return Um(rg("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function og(e){for(;e.root;)e=ig(e.root,{children:[e]});Qm(e,e.siblings)}function ag(){return tg=eg>0?Gm(ng,--eg):0,Xm--,10===tg&&(Xm=1,$m--),tg}function sg(){return tg=eg<Jm?Gm(ng,eg++):0,Xm++,10===tg&&(Xm=1,$m++),tg}function lg(){return Gm(ng,eg)}function cg(){return eg}function ug(e,t){return Wm(ng,e,t)}function dg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hg(e){return $m=Xm=1,Jm=Km(ng=e),eg=0,[]}function fg(e){return ng="",e}function pg(e){return zm(ug(eg-1,vg(91===e?e+2:40===e?e+1:e)))}function mg(e){for(;(tg=lg())&&tg<33;)sg();return dg(e)>2||dg(tg)>3?"":" "}function gg(e,t){for(;--t&&sg()&&!(tg<48||tg>102||tg>57&&tg<65||tg>70&&tg<97););return ug(e,cg()+(t<6&&32==lg()&&32==sg()))}function vg(e){for(;sg();)switch(tg){case e:return eg;case 34:case 39:34!==e&&39!==e&&vg(tg);break;case 40:41===e&&vg(e);break;case 92:sg()}return eg}function yg(e,t){for(;sg()&&e+tg!==57&&(e+tg!==84||47!==lg()););return"/*"+ug(t,eg-1)+"*"+Bm(47===e?e:sg())}function bg(e){for(;!dg(lg());)sg();return ug(e,eg)}function Eg(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function wg(e,t,n,r){switch(e.type){case Fm:if(e.children.length)break;case Pm:case Om:return e.return=e.return||e.value;case Lm:return"";case Nm:return e.return=e.value+"{"+Eg(e.children,r)+"}";case Dm:if(!Km(e.value=e.props.join(",")))return""}return Km(n=Eg(e.children,r))?e.return=e.value+"{"+n+"}":""}function Cg(e,t,n){switch(function(e,t){return 45^Gm(e,0)?(((t<<2^Gm(e,0))<<2^Gm(e,1))<<2^Gm(e,2))<<2^Gm(e,3):0}(e,t)){case 5103:return Rm+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rm+e+e;case 4789:return Mm+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rm+e+Mm+e+Im+e+e;case 5936:switch(Gm(e,t+11)){case 114:return Rm+e+Im+Vm(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rm+e+Im+Vm(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rm+e+Im+Vm(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Rm+e+Im+e+e;case 6165:return Rm+e+Im+"flex-"+e+e;case 5187:return Rm+e+Vm(e,/(\w+).+(:[^]+)/,Rm+"box-$1$2"+Im+"flex-$1$2")+e;case 5443:return Rm+e+Im+"flex-item-"+Vm(e,/flex-|-self/g,"")+(Hm(e,/flex-|baseline/)?"":Im+"grid-row-"+Vm(e,/flex-|-self/g,""))+e;case 4675:return Rm+e+Im+"flex-line-pack"+Vm(e,/align-content|flex-|-self/g,"")+e;case 5548:return Rm+e+Im+Vm(e,"shrink","negative")+e;case 5292:return Rm+e+Im+Vm(e,"basis","preferred-size")+e;case 6060:return Rm+"box-"+Vm(e,"-grow","")+Rm+e+Im+Vm(e,"grow","positive")+e;case 4554:return Rm+Vm(e,/([^-])(transform)/g,"$1"+Rm+"$2")+e;case 6187:return Vm(Vm(Vm(e,/(zoom-|grab)/,Rm+"$1"),/(image-set)/,Rm+"$1"),e,"")+e;case 5495:case 3959:return Vm(e,/(image-set\([^]*)/,Rm+"$1$`$1");case 4968:return Vm(Vm(e,/(.+:)(flex-)?(.*)/,Rm+"box-pack:$3"+Im+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rm+e+e;case 4200:if(!Hm(e,/flex-|baseline/))return Im+"grid-column-align"+Wm(e,t)+e;break;case 2592:case 3360:return Im+Vm(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Hm(e.props,/grid-\w+-end/)}))?~qm(e+(n=n[t].value),"span",0)?e:Im+Vm(e,"-start","")+e+Im+"grid-row-span:"+(~qm(n,"span",0)?Hm(n,/\d+/):+Hm(n,/\d+/)-+Hm(e,/\d+/))+";":Im+Vm(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Hm(e.props,/grid-\w+-start/)}))?e:Im+Vm(Vm(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Vm(e,/(.+)-inline(.+)/,Rm+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Km(e)-1-t>6)switch(Gm(e,t+1)){case 109:if(45!==Gm(e,t+4))break;case 102:return Vm(e,/(.+:)(.+)-([^]+)/,"$1"+Rm+"$2-$3$1"+Mm+(108==Gm(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qm(e,"stretch",0)?Cg(Vm(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Vm(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,a,s){return Im+n+":"+r+s+(i?Im+n+"-span:"+(o?a:+a-+r)+s:"")+e}));case 4949:if(121===Gm(e,t+6))return Vm(e,":",":"+Rm)+e;break;case 6444:switch(Gm(e,45===Gm(e,14)?18:11)){case 120:return Vm(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Rm+(45===Gm(e,14)?"inline-":"")+"box$3$1"+Rm+"$2$3$1"+Im+"$2box$3")+e;case 100:return Vm(e,":",":"+Im)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Vm(e,"scroll-","scroll-snap-")+e}return e}function Sg(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Om:return void(e.return=Cg(e.value,e.length,n));case Nm:return Eg([ig(e,{value:Vm(e.value,"@","@"+Rm)})],r);case Dm:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Hm(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":og(ig(e,{props:[Vm(t,/:(read-\w+)/,":"+Mm+"$1")]})),og(ig(e,{props:[t]})),Um(e,{props:Zm(n,r)});break;case"::placeholder":og(ig(e,{props:[Vm(t,/:(plac\w+)/,":"+Rm+"input-$1")]})),og(ig(e,{props:[Vm(t,/:(plac\w+)/,":"+Mm+"$1")]})),og(ig(e,{props:[Vm(t,/:(plac\w+)/,Im+"input-$1")]})),og(ig(e,{props:[t]})),Um(e,{props:Zm(n,r)})}return""}))}}function Tg(e){return fg(_g("",null,null,null,[""],e=hg(e),0,[0],e))}function _g(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",E=i,w=o,C=r,S=b;g;)switch(p=y,y=sg()){case 40:if(108!=p&&58==Gm(S,d-1)){-1!=qm(S+=Vm(pg(y),"&","&\f"),"&\f",jm(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=pg(y);break;case 9:case 10:case 13:case 32:S+=mg(p);break;case 92:S+=gg(cg()-1,7);continue;case 47:switch(lg()){case 42:case 47:Qm(xg(yg(sg(),cg()),t,n,l),l);break;default:S+="/"}break;case 123*m:s[c++]=Km(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Vm(S,/\f/g,"")),f>0&&Km(S)-d&&Qm(f>32?Ag(S+";",r,n,d-1,l):Ag(Vm(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(Qm(C=kg(S,t,n,c,u,i,s,b,E=[],w=[],d,o),o),123===y)if(0===u)_g(S,t,C,C,E,o,d,s,w);else switch(99===h&&110===Gm(S,3)?100:h){case 100:case 108:case 109:case 115:_g(e,C,C,r&&Qm(kg(e,C,C,0,0,i,s,b,i,E=[],d,w),w),i,w,d,s,r?E:w);break;default:_g(S,C,C,C,[""],w,0,s,w)}}c=u=f=0,m=v=1,b=S="",d=a;break;case 58:d=1+Km(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ag())continue;switch(S+=Bm(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(Km(S)-1)*v,v=1;break;case 64:45===lg()&&(S+=pg(sg())),h=lg(),u=d=Km(b=S+=bg(cg())),y++;break;case 45:45===p&&2==Km(S)&&(m=0)}}return o}function kg(e,t,n,r,i,o,a,s,l,c,u,d){for(var h=i-1,f=0===i?o:[""],p=Ym(f),m=0,g=0,v=0;m<r;++m)for(var y=0,b=Wm(e,h+1,h=jm(g=a[m])),E=e;y<p;++y)(E=zm(g>0?f[y]+" "+b:Vm(b,/&\f/g,f[y])))&&(l[v++]=E);return rg(e,t,n,0===i?Dm:s,l,c,u,d)}function xg(e,t,n,r){return rg(e,t,n,Lm,Bm(tg),Wm(e,2,-2),0,r)}function Ag(e,t,n,r,i){return rg(e,t,n,Om,Wm(e,0,r),Wm(e,r+1,-1),r,i)}var Ig,Mg,Rg,Lg=n(1428);function Dg(e){return e.type===Mg.literal}function Og(e){return e.type===Mg.argument}function Pg(e){return e.type===Mg.number}function Ng(e){return e.type===Mg.date}function Fg(e){return e.type===Mg.time}function jg(e){return e.type===Mg.select}function Bg(e){return e.type===Mg.plural}function Ug(e){return e.type===Mg.pound}function zg(e){return e.type===Mg.tag}function Hg(e){return!(!e||"object"!==typeof e||e.type!==Rg.number)}function Vg(e){return!(!e||"object"!==typeof e||e.type!==Rg.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Ig||(Ig={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Mg||(Mg={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Rg||(Rg={}));var qg=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Gg=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Wg(e){var t={};return e.replace(Gg,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"long":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Kg=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var Yg=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Qg=/^(@+)?(\+|#+)?[rs]?$/g,Zg=/(\*)(0+)|(#+)(0+)|(0+)/g,$g=/^(0+)$/;function Xg(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(Qg,(function(e,n,r){return"string"!==typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"===typeof r?r.length:0)),""})),t}function Jg(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function ev(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!$g.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function tv(e){var t=Jg(e);return t||{}}function nv(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,Lg.__assign)((0,Lg.__assign)((0,Lg.__assign)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return(0,Lg.__assign)((0,Lg.__assign)({},e),tv(t))}),{}));continue;case"engineering":t=(0,Lg.__assign)((0,Lg.__assign)((0,Lg.__assign)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return(0,Lg.__assign)((0,Lg.__assign)({},e),tv(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Zg,(function(e,n,r,i,o,a){if(n)t.minimumIntegerDigits=r.length;else{if(i&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if($g.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Yg.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Yg,(function(e,n,r,i,o,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var o=i.options[0];"w"===o?t=(0,Lg.__assign)((0,Lg.__assign)({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=(0,Lg.__assign)((0,Lg.__assign)({},t),Xg(o)))}else if(Qg.test(i.stem))t=(0,Lg.__assign)((0,Lg.__assign)({},t),Xg(i.stem));else{var a=Jg(i.stem);a&&(t=(0,Lg.__assign)((0,Lg.__assign)({},t),a));var s=ev(i.stem);s&&(t=(0,Lg.__assign)((0,Lg.__assign)({},t),s))}}return t}var rv,iv={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function ov(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(iv[n||""]||iv[r||""]||iv["".concat(r,"-001")]||iv["001"])[0]}var av=new RegExp("^".concat(qg.source,"*")),sv=new RegExp("".concat(qg.source,"*$"));function lv(e,t){return{start:e,end:t}}var cv=!!String.prototype.startsWith&&"_a".startsWith("a",1),uv=!!String.fromCodePoint,dv=!!Object.fromEntries,hv=!!String.prototype.codePointAt,fv=!!String.prototype.trimStart,pv=!!String.prototype.trimEnd,mv=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},gv=!0;try{gv="a"===(null===(rv=Tv("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===rv?void 0:rv[0])}catch(rW){gv=!1}var vv,yv=cv?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},bv=uv?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,o=0;i>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Ev=dv?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],a=i[1];t[o]=a}return t},wv=hv?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},Cv=fv?function(e){return e.trimStart()}:function(e){return e.replace(av,"")},Sv=pv?function(e){return e.trimEnd()}:function(e){return e.replace(sv,"")};function Tv(e,t){return new RegExp(e,t)}if(gv){var _v=Tv("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");vv=function(e,t){var n;return _v.lastIndex=t,null!==(n=_v.exec(e)[1])&&void 0!==n?n:""}}else vv=function(e,t){for(var n=[];;){var r=wv(e,t);if(void 0===r||Av(r)||Iv(r))break;n.push(r),t+=r>=65536?2:1}return bv.apply(void 0,n)};var kv=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((o=this.parseArgument(e,n)).err)return o;r.push(o.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Ig.UNMATCHED_CLOSING_TAG,lv(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&xv(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;r.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;r.push(o.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:Mg.pound,location:lv(a,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Mg.literal,value:"<".concat(r,"/>"),location:lv(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var o=i.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!xv(this.char()))return this.error(Ig.INVALID_TAG,lv(a,this.clonePosition()));var s=this.clonePosition();return r!==this.parseTagName()?this.error(Ig.UNMATCHED_CLOSING_TAG,lv(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Mg.tag,value:r,children:o,location:lv(n,this.clonePosition())},err:null}:this.error(Ig.INVALID_TAG,lv(a,this.clonePosition())))}return this.error(Ig.UNCLOSED_TAG,lv(n,this.clonePosition()))}return this.error(Ig.INVALID_TAG,lv(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var o=this.tryParseUnquoted(e,t);if(o)r+=o;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var s=lv(n,this.clonePosition());return{val:{type:Mg.literal,value:r,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(xv(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return bv.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),bv(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Ig.EXPECT_ARGUMENT_CLOSING_BRACE,lv(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Ig.EMPTY_ARGUMENT,lv(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Ig.MALFORMED_ARGUMENT,lv(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Ig.EXPECT_ARGUMENT_CLOSING_BRACE,lv(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Mg.argument,value:r,location:lv(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Ig.EXPECT_ARGUMENT_CLOSING_BRACE,lv(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(Ig.MALFORMED_ARGUMENT,lv(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=vv(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:lv(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,s=this.clonePosition();switch(a){case"":return this.error(Ig.EXPECT_ARGUMENT_TYPE,lv(o,s));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(f=Sv(v.val)).length)return this.error(Ig.EXPECT_ARGUMENT_STYLE,lv(this.clonePosition(),this.clonePosition()));l={style:f,styleLocation:lv(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(r)).err)return y;var u=lv(r,this.clonePosition());if(l&&yv(null===l||void 0===l?void 0:l.style,"::",0)){var d=Cv(l.style.slice(2));if("number"===a)return(v=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?v:{val:{type:Mg.number,value:n,location:u,style:v.val},err:null};if(0===d.length)return this.error(Ig.EXPECT_DATE_TIME_SKELETON,u);var h=d;this.locale&&(h=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if("j"===i){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var a=1+(1&o),s=o<2?1:3+(o>>1),l=ov(t);for("H"!=l&&"k"!=l||(s=0);s-- >0;)n+="a";for(;a-- >0;)n=l+n}else n+="J"===i?"H":i}return n}(d,this.locale));var f={type:Rg.dateTime,pattern:h,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?Wg(h):{}};return{val:{type:"date"===a?Mg.date:Mg.time,value:n,location:u,style:f},err:null}}return{val:{type:"number"===a?Mg.number:"date"===a?Mg.date:Mg.time,value:n,location:u,style:null!==(i=null===l||void 0===l?void 0:l.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var p=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Ig.EXPECT_SELECT_ARGUMENT_OPTIONS,lv(p,(0,Lg.__assign)({},p)));this.bumpSpace();var m=this.parseIdentifierIfPossible(),g=0;if("select"!==a&&"offset"===m.value){if(!this.bumpIf(":"))return this.error(Ig.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,lv(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(Ig.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ig.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),m=this.parseIdentifierIfPossible(),g=v.val}var y,b=this.tryParsePluralOrSelectOptions(e,a,t,m);if(b.err)return b;if((y=this.tryParseArgumentClose(r)).err)return y;var E=lv(r,this.clonePosition());return"select"===a?{val:{type:Mg.select,value:n,options:Ev(b.val),location:E},err:null}:{val:{type:Mg.plural,value:n,options:Ev(b.val),offset:g,pluralType:"plural"===a?"cardinal":"ordinal",location:E},err:null};default:return this.error(Ig.INVALID_ARGUMENT_TYPE,lv(o,s))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Ig.EXPECT_ARGUMENT_CLOSING_BRACE,lv(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Ig.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,lv(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(Kg).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var o=i[0],a=i.slice(1),s=0,l=a;s<l.length;s++)if(0===l[s].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:a})}return t}(e)}catch(r){return this.error(Ig.INVALID_NUMBER_SKELETON,t)}return{val:{type:Rg.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?nv(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,o=!1,a=[],s=new Set,l=r.value,c=r.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(Ig.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ig.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=lv(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(s.has(l))return this.error("select"===t?Ig.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Ig.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(o=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Ig.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Ig.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,lv(this.clonePosition(),this.clonePosition()));var f=this.parseMessage(e+1,t,n);if(f.err)return f;var p=this.tryParseArgumentClose(h);if(p.err)return p;a.push([l,{value:f.val,location:lv(h,this.clonePosition())}]),s.add(l),this.bumpSpace(),l=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===a.length?this.error("select"===t?Ig.EXPECT_SELECT_ARGUMENT_SELECTOR:Ig.EXPECT_PLURAL_ARGUMENT_SELECTOR,lv(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(Ig.MISSING_OTHER_CLAUSE,lv(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,o=10*o+(a-48),this.bump()}var s=lv(r,this.clonePosition());return i?mv(o*=n)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=wv(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(yv(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Av(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!==n&&void 0!==n?n:null},e}();function xv(e){return e>=97&&e<=122||e>=65&&e<=90}function Av(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Iv(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Mv(e){e.forEach((function(e){if(delete e.location,jg(e)||Bg(e))for(var t in e.options)delete e.options[t].location,Mv(e.options[t].value);else Pg(e)&&Hg(e.style)||(Ng(e)||Fg(e))&&Vg(e.style)?delete e.style.location:zg(e)&&Mv(e.children)}))}function Rv(e,t){void 0===t&&(t={}),t=(0,Lg.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new kv(e,t).parse();if(n.err){var r=SyntaxError(Ig[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null===t||void 0===t?void 0:t.captureLocation)||Mv(n.val),n.val}function Lv(e,t){var n=t&&t.cache?t.cache:Uv,r=t&&t.serializer?t.serializer:Fv;return(t&&t.strategy?t.strategy:Nv)(e,{cache:n,serializer:r})}function Dv(e,t,n,r){var i,o=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),a=t.get(o);return"undefined"===typeof a&&(a=e.call(this,r),t.set(o,a)),a}function Ov(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return"undefined"===typeof o&&(o=e.apply(this,r),t.set(i,o)),o}function Pv(e,t,n,r,i){return n.bind(t,e,r,i)}function Nv(e,t){return Pv(e,this,1===e.length?Dv:Ov,t.cache.create(),t.serializer)}var Fv=function(){return JSON.stringify(arguments)};function jv(){this.cache=Object.create(null)}jv.prototype.get=function(e){return this.cache[e]},jv.prototype.set=function(e,t){this.cache[e]=t};var Bv,Uv={create:function(){return new jv}},zv={variadic:function(e,t){return Pv(e,this,Ov,t.cache.create(),t.serializer)},monadic:function(e,t){return Pv(e,this,Dv,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Bv||(Bv={}));var Hv,Vv=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return(0,Lg.__extends)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),qv=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Bv.INVALID_VALUE,i)||this}return(0,Lg.__extends)(t,e),t}(Vv),Gv=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Bv.INVALID_VALUE,r)||this}return(0,Lg.__extends)(t,e),t}(Vv),Wv=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Bv.MISSING_VALUE,n)||this}return(0,Lg.__extends)(t,e),t}(Vv);function Kv(e){return"function"===typeof e}function Yv(e,t,n,r,i,o,a){if(1===e.length&&Dg(e[0]))return[{type:Hv.literal,value:e[0].value}];for(var s=[],l=0,c=e;l<c.length;l++){var u=c[l];if(Dg(u))s.push({type:Hv.literal,value:u.value});else if(Ug(u))"number"===typeof o&&s.push({type:Hv.literal,value:n.getNumberFormat(t).format(o)});else{var d=u.value;if(!i||!(d in i))throw new Wv(d,a);var h=i[d];if(Og(u))h&&"string"!==typeof h&&"number"!==typeof h||(h="string"===typeof h||"number"===typeof h?String(h):""),s.push({type:"string"===typeof h?Hv.literal:Hv.object,value:h});else if(Ng(u)){var f="string"===typeof u.style?r.date[u.style]:Vg(u.style)?u.style.parsedOptions:void 0;s.push({type:Hv.literal,value:n.getDateTimeFormat(t,f).format(h)})}else if(Fg(u)){f="string"===typeof u.style?r.time[u.style]:Vg(u.style)?u.style.parsedOptions:r.time.medium;s.push({type:Hv.literal,value:n.getDateTimeFormat(t,f).format(h)})}else if(Pg(u)){(f="string"===typeof u.style?r.number[u.style]:Hg(u.style)?u.style.parsedOptions:void 0)&&f.scale&&(h*=f.scale||1),s.push({type:Hv.literal,value:n.getNumberFormat(t,f).format(h)})}else{if(zg(u)){var p=u.children,m=u.value,g=i[m];if(!Kv(g))throw new Gv(m,"function",a);var v=g(Yv(p,t,n,r,i,o).map((function(e){return e.value})));Array.isArray(v)||(v=[v]),s.push.apply(s,v.map((function(e){return{type:"string"===typeof e?Hv.literal:Hv.object,value:e}})))}if(jg(u)){if(!(y=u.options[h]||u.options.other))throw new qv(u.value,h,Object.keys(u.options),a);s.push.apply(s,Yv(y.value,t,n,r,i))}else if(Bg(u)){var y;if(!(y=u.options["=".concat(h)])){if(!Intl.PluralRules)throw new Vv('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Bv.MISSING_INTL_API,a);var b=n.getPluralRules(t,{type:u.pluralType}).select(h-(u.offset||0));y=u.options[b]||u.options.other}if(!y)throw new qv(u.value,h,Object.keys(u.options),a);s.push.apply(s,Yv(y.value,t,n,r,i,h-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Hv.literal&&t.type===Hv.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function Qv(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=function(e,t){return t?(0,Lg.__assign)((0,Lg.__assign)((0,Lg.__assign)({},e||{}),t||{}),Object.keys(e).reduce((function(n,r){return n[r]=(0,Lg.__assign)((0,Lg.__assign)({},e[r]),t[r]||{}),n}),{})):e}(e[r],t[r]),n}),(0,Lg.__assign)({},e)):e}function Zv(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Hv||(Hv={}));var $v,Xv=function(){function e(t,n,r,i){var o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Hv.literal&&"string"===typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Yv(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=o.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"===typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=i||{},s=(a.formatters,(0,Lg.__rest)(a,["formatters"]));this.ast=e.__parse(t,(0,Lg.__assign)((0,Lg.__assign)({},s),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Qv(e.formats,r),this.formatters=i&&i.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Lv((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,Lg.__spreadArray)([void 0],t,!1)))}),{cache:Zv(e.number),strategy:zv.variadic}),getDateTimeFormat:Lv((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,Lg.__spreadArray)([void 0],t,!1)))}),{cache:Zv(e.dateTime),strategy:zv.variadic}),getPluralRules:Lv((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,Lg.__spreadArray)([void 0],t,!1)))}),{cache:Zv(e.pluralRules),strategy:zv.variadic})}}(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if("undefined"!==typeof Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"===typeof e?e:e[0])}},e.__parse=Rv,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}($v||($v={}));var Jv=function(e){function t(n,r,i){var o=this,a=i?i instanceof Error?i:new Error(String(i)):void 0;return(o=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,"\n").concat(a?"\n".concat(a.message,"\n").concat(a.stack):""))||this).code=n,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return(0,Lg.__extends)(t,e),t}(Error),ey=function(e){function t(t,n){return e.call(this,$v.UNSUPPORTED_FORMATTER,t,n)||this}return(0,Lg.__extends)(t,e),t}(Jv),ty=function(e){function t(t,n){return e.call(this,$v.INVALID_CONFIG,t,n)||this}return(0,Lg.__extends)(t,e),t}(Jv),ny=function(e){function t(t,n){return e.call(this,$v.MISSING_DATA,t,n)||this}return(0,Lg.__extends)(t,e),t}(Jv),ry=function(e){function t(t,n,r){var i=e.call(this,$v.FORMAT_ERROR,"".concat(t,"\nLocale: ").concat(n,"\n"),r)||this;return i.locale=n,i}return(0,Lg.__extends)(t,e),t}(Jv),iy=function(e){function t(t,n,r,i){var o=e.call(this,"".concat(t,"\nMessageID: ").concat(null===r||void 0===r?void 0:r.id,"\nDefault Message: ").concat(null===r||void 0===r?void 0:r.defaultMessage,"\nDescription: ").concat(null===r||void 0===r?void 0:r.description,"\n"),n,i)||this;return o.descriptor=r,o.locale=n,o}return(0,Lg.__extends)(t,e),t}(ry),oy=function(e){function t(t,n){var r=e.call(this,$v.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(n,'", using ').concat(t.defaultMessage?"default message (".concat("string"===typeof t.defaultMessage?t.defaultMessage:t.defaultMessage.map((function(e){var t;return null!==(t=e.value)&&void 0!==t?t:JSON.stringify(e)})).join(),")"):"id"," as fallback."))||this;return r.descriptor=t,r}return(0,Lg.__extends)(t,e),t}(Jv);function ay(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var sy={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){0},onWarn:function(e){0}};function ly(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function cy(e,t,n,r){var i,o=e&&e[t];if(o&&(i=o[n]),i)return i;r(new ey("No ".concat(t," format named: ").concat(n)))}function uy(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}function dy(e){uy(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var hy=(0,Lg.__assign)((0,Lg.__assign)({},sy),{textComponent:t.Fragment});function fy(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}n(7325);var py="undefined"===typeof window||window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?t.createContext(null):window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=t.createContext(null)),my=(py.Consumer,py.Provider),gy=py;function vy(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=(0,Lg.__assign)({timeZone:t},e[r]),n}),{})}function yy(e,t){return Object.keys((0,Lg.__assign)((0,Lg.__assign)({},e),t)).reduce((function(n,r){return n[r]=(0,Lg.__assign)((0,Lg.__assign)({},e[r]||{}),t[r]||{}),n}),{})}function by(e,t){if(!t)return e;var n=Xv.formats;return(0,Lg.__assign)((0,Lg.__assign)((0,Lg.__assign)({},n),e),{date:yy(vy(n.date,t),vy(e.date||{},t)),time:yy(vy(n.time,t),vy(e.time||{},t))})}var Ey=function(e,t,n,r,i){var o=e.locale,a=e.formats,s=e.messages,l=e.defaultLocale,c=e.defaultFormats,u=e.fallbackOnEmptyString,d=e.onError,h=e.timeZone,f=e.defaultRichTextElements;void 0===n&&(n={id:""});var p=n.id,m=n.defaultMessage;uy(!!p,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var g=String(p),v=s&&Object.prototype.hasOwnProperty.call(s,g)&&s[g];if(Array.isArray(v)&&1===v.length&&v[0].type===Mg.literal)return v[0].value;if(!r&&v&&"string"===typeof v&&!f)return v.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=(0,Lg.__assign)((0,Lg.__assign)({},f),r||{}),a=by(a,h),c=by(c,h),!v){if(!1===u&&""===v)return v;if((!m||o&&o.toLowerCase()!==l.toLowerCase())&&d(new oy(n,o)),m)try{return t.getMessageFormat(m,l,c,i).format(r)}catch(y){return d(new iy('Error formatting default message for: "'.concat(g,'", rendering default message verbatim'),o,n,y)),"string"===typeof m?m:g}return g}try{return t.getMessageFormat(v,o,a,(0,Lg.__assign)({formatters:t},i||{})).format(r)}catch(y){d(new iy('Error formatting message: "'.concat(g,'", using ').concat(m?"default message":"id"," as fallback."),o,n,y))}if(m)try{return t.getMessageFormat(m,l,c,i).format(r)}catch(y){d(new iy('Error formatting the default message for: "'.concat(g,'", rendering message verbatim'),o,n,y))}return"string"===typeof v?v:"string"===typeof m?m:g},wy=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function Cy(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=a&&cy(i,"number",a,o)||{};return t(r,ay(n,wy,s))}function Sy(e,t,n,r){void 0===r&&(r={});try{return Cy(e,t,r).format(n)}catch(i){e.onError(new ry("Error formatting number.",e.locale,i))}return String(n)}function Ty(e,t,n,r){void 0===r&&(r={});try{return Cy(e,t,r).formatToParts(n)}catch(i){e.onError(new ry("Error formatting number.",e.locale,i))}return[]}var _y=["numeric","style"];function ky(e,t,n,r,i){void 0===i&&(i={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new Vv('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',Bv.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,i=e.formats,o=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&cy(i,"relative",a,o)||{};return t(r,ay(n,_y,s))}(e,t,i).format(n,r)}catch(o){e.onError(new ry("Error formatting relative time.",e.locale,o))}return String(n)}var xy=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Ay(e,t,n,r){var i=e.locale,o=e.formats,a=e.onError,s=e.timeZone;void 0===r&&(r={});var l=r.format,c=(0,Lg.__assign)((0,Lg.__assign)({},s&&{timeZone:s}),l&&cy(o,t,l,a)),u=ay(r,xy,c);return"time"!==t||u.hour||u.minute||u.second||u.timeStyle||u.dateStyle||(u=(0,Lg.__assign)((0,Lg.__assign)({},u),{hour:"numeric",minute:"numeric"})),n(i,u)}function Iy(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Ay(e,"date",t,a).format(s)}catch(l){e.onError(new ry("Error formatting date.",e.locale,l))}return String(s)}function My(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Ay(e,"time",t,a).format(s)}catch(l){e.onError(new ry("Error formatting time.",e.locale,l))}return String(s)}function Ry(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=n[2],s=void 0===a?{}:a,l=e.timeZone,c=e.locale,u=e.onError,d=ay(s,xy,l?{timeZone:l}:{});try{return t(c,d).formatRange(i,o)}catch(h){u(new ry("Error formatting date time range.",e.locale,h))}return String(i)}function Ly(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Ay(e,"date",t,a).formatToParts(s)}catch(l){e.onError(new ry("Error formatting date.",e.locale,l))}return[]}function Dy(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],a=void 0===o?{}:o,s="string"===typeof i?new Date(i||0):i;try{return Ay(e,"time",t,a).formatToParts(s)}catch(l){e.onError(new ry("Error formatting time.",e.locale,l))}return[]}var Oy=["type"];function Py(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.PluralRules||o(new Vv('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Bv.MISSING_INTL_API));var a=ay(r,Oy);try{return t(i,a).select(n)}catch(s){o(new ry("Error formatting plural.",i,s))}return"other"}var Ny=["type","style"],Fy=Date.now();function jy(e,t,n,r){void 0===r&&(r={});var i=By(e,t,n,r).reduce((function(e,t){var n=t.value;return"string"!==typeof n?e.push(n):"string"===typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===i.length?i[0]:0===i.length?"":i}function By(e,t,n,r){var i=e.locale,o=e.onError;void 0===r&&(r={}),Intl.ListFormat||o(new Vv('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',Bv.MISSING_INTL_API));var a=ay(r,Ny);try{var s={},l=n.map((function(e,t){if("object"===typeof e){var n=function(e){return"".concat(Fy,"_").concat(e,"_").concat(Fy)}(t);return s[n]=e,n}return String(e)}));return t(i,a).formatToParts(l).map((function(e){return"literal"===e.type?e:(0,Lg.__assign)((0,Lg.__assign)({},e),{value:s[e.value]||e.value})}))}catch(c){o(new ry("Error formatting list.",i,c))}return n}var Uy=["style","type","fallback","languageDisplay"];function zy(e,t,n,r){var i=e.locale,o=e.onError;Intl.DisplayNames||o(new Vv('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',Bv.MISSING_INTL_API));var a=ay(r,Uy);try{return t(i,a).of(n)}catch(s){o(new ry("Error formatting display name.",i,s))}}function Hy(e){var t;e.onWarn&&e.defaultRichTextElements&&"string"===typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&e.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function Vy(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=Lv((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,Lg.__spreadArray)([void 0],t,!1)))}),{cache:ly(e.dateTime),strategy:zv.variadic}),o=Lv((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,Lg.__spreadArray)([void 0],t,!1)))}),{cache:ly(e.number),strategy:zv.variadic}),a=Lv((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,Lg.__spreadArray)([void 0],t,!1)))}),{cache:ly(e.pluralRules),strategy:zv.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:Lv((function(e,t,n,r){return new Xv(e,t,n,(0,Lg.__assign)({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:a}},r||{}))}),{cache:ly(e.message),strategy:zv.variadic}),getRelativeTimeFormat:Lv((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,(0,Lg.__spreadArray)([void 0],e,!1)))}),{cache:ly(e.relativeTime),strategy:zv.variadic}),getPluralRules:a,getListFormat:Lv((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,(0,Lg.__spreadArray)([void 0],e,!1)))}),{cache:ly(e.list),strategy:zv.variadic}),getDisplayNames:Lv((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,(0,Lg.__spreadArray)([void 0],e,!1)))}),{cache:ly(e.displayNames),strategy:zv.variadic})}}(t),r=(0,Lg.__assign)((0,Lg.__assign)({},sy),e),i=r.locale,o=r.defaultLocale,a=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&a?a(new ny('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&a&&a(new ny('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(a&&a(new ty('"locale" was not configured, using "'.concat(o,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),Hy(r),(0,Lg.__assign)((0,Lg.__assign)({},r),{formatters:n,formatNumber:Sy.bind(null,r,n.getNumberFormat),formatNumberToParts:Ty.bind(null,r,n.getNumberFormat),formatRelativeTime:ky.bind(null,r,n.getRelativeTimeFormat),formatDate:Iy.bind(null,r,n.getDateTimeFormat),formatDateToParts:Ly.bind(null,r,n.getDateTimeFormat),formatTime:My.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:Ry.bind(null,r,n.getDateTimeFormat),formatTimeToParts:Dy.bind(null,r,n.getDateTimeFormat),formatPlural:Py.bind(null,r,n.getPluralRules),formatMessage:Ey.bind(null,r,n),$t:Ey.bind(null,r,n),formatList:jy.bind(null,r,n.getListFormat),formatListToParts:By.bind(null,r,n.getListFormat),formatDisplayName:zy.bind(null,r,n.getDisplayNames)})}function qy(e){return e?Object.keys(e).reduce((function(n,r){var i,o=e[r];return n[r]=Kv(o)?(i=o,function(e){return i(t.Children.toArray(e))}):o,n}),{}):e}var Gy=function(e,n,r,i){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];var s=qy(i),l=Ey.apply(void 0,(0,Lg.__spreadArray)([e,n,r,s],o,!1));return Array.isArray(l)?t.Children.toArray(l):l},Wy=function(e,t){var n=e.defaultRichTextElements,r=(0,Lg.__rest)(e,["defaultRichTextElements"]),i=qy(n),o=Vy((0,Lg.__assign)((0,Lg.__assign)((0,Lg.__assign)({},hy),r),{defaultRichTextElements:i}),t),a={locale:o.locale,timeZone:o.timeZone,fallbackOnEmptyString:o.fallbackOnEmptyString,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i};return(0,Lg.__assign)((0,Lg.__assign)({},o),{formatMessage:Gy.bind(null,a,o.formatters),$t:Gy.bind(null,a,o.formatters)})};function Ky(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var Yy=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t.state={cache:t.cache,intl:Wy(Ky(t.props),t.cache),prevConfig:Ky(t.props)},t}return(0,Lg.__extends)(n,e),n.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,i=Ky(e);return fy(n,i)?null:{intl:Wy(i,r),prevConfig:i}},n.prototype.render=function(){return dy(this.state.intl),t.createElement(my,{value:this.state.intl},this.props.children)},n.displayName="IntlProvider",n.defaultProps=hy,n}(t.PureComponent);const Qy=Yy;function Zy(){var e=t.useContext(gy);return dy(e),e}function $y(e){var n=Zy(),r=n.formatMessage,i=n.textComponent,o=void 0===i?t.Fragment:i,a=e.id,s=e.description,l=e.defaultMessage,c=e.values,u=e.children,d=e.tagName,h=void 0===d?o:d,f=r({id:a,description:s,defaultMessage:l},c,{ignoreTag:e.ignoreTag});return"function"===typeof u?u(Array.isArray(f)?f:[f]):h?t.createElement(h,null,t.Children.toArray(f)):t.createElement(t.Fragment,null,f)}$y.displayName="FormattedMessage";var Xy=t.memo($y,(function(e,t){var n=e.values,r=(0,Lg.__rest)(e,["values"]),i=t.values,o=(0,Lg.__rest)(t,["values"]);return fy(i,n)&&fy(r,o)}));Xy.displayName="MemoizedFormattedMessage";const Jy=Xy;var eb,tb;!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(eb||(eb={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(tb||(tb={}));var nb=function(e){var t=Zy(),n=e.value,r=e.children,i=(0,Lg.__rest)(e,["value","children"]);return r(t.formatNumberToParts(n,i))};nb.displayName="FormattedNumberParts";function rb(e){var t=function(t){var n=Zy(),r=t.value,i=t.children,o=(0,Lg.__rest)(t,["value","children"]),a="string"===typeof r?new Date(r||0):r;return i("formatDate"===e?n.formatDateToParts(a,o):n.formatTimeToParts(a,o))};return t.displayName=tb[e],t}function ib(e){var n=function(n){var r=Zy(),i=n.value,o=n.children,a=(0,Lg.__rest)(n,["value","children"]),s=r[e](i,a);if("function"===typeof o)return o(s);var l=r.textComponent||t.Fragment;return t.createElement(l,null,s)};return n.displayName=eb[e],n}nb.displayName="FormattedNumberParts";var ob=ib("formatDate"),ab=(ib("formatTime"),ib("formatNumber"),ib("formatList"),ib("formatDisplayName"),rb("formatDate"),rb("formatTime"),n(8834)),sb=n.n(ab);function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lb(e,t)}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cb(e)}function ub(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ub=function(){return!!e})()}function db(e){var t="function"===typeof Map?new Map:void 0;return db=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(ub())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&lb(i,n.prototype),i}(e,arguments,cb(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lb(n,e)},db(e)}var hb=function(e){var t,n;function r(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,lb(t,n),r}(db(Error));function fb(e){return Math.round(255*e)}function pb(e,t,n){return fb(e)+","+fb(t)+","+fb(n)}function mb(e,t,n,r){if(void 0===r&&(r=pb),0===t)return r(n,n,n);var i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var u=n-o/2;return r(s+u,l+u,c+u)}var gb={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var vb=/^#[a-fA-F0-9]{6}$/,yb=/^#[a-fA-F0-9]{8}$/,bb=/^#[a-fA-F0-9]{3}$/,Eb=/^#[a-fA-F0-9]{4}$/,wb=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Cb=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,Sb=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Tb=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function _b(e){if("string"!==typeof e)throw new hb(3);var t=function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return gb[t]?"#"+gb[t]:e}(e);if(t.match(vb))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(yb)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(bb))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Eb)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=wb.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=Cb.exec(t.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=Sb.exec(t);if(a){var s="rgb("+mb(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=wb.exec(s);if(!l)throw new hb(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=Tb.exec(t.substring(0,50));if(c){var u="rgb("+mb(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=wb.exec(u);if(!d)throw new hb(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new hb(5)}function kb(e){return function(e){var t,n=e.red/255,r=e.green/255,i=e.blue/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;if(o===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var l=o-a,c=s>.5?l/(2-o-a):l/(o+a);switch(o){case n:t=(r-i)/l+(r<i?6:0);break;case r:t=(i-n)/l+2;break;default:t=(n-r)/l+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(_b(e))}var xb=n(9738),Ab=n.n(xb),Ib=n(1932);function Mb(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rb(){return Rb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(this,arguments)}function Lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Db(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ob(e,t){return Ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ob(e,t)}function Pb(e){return Pb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(e)}function Nb(e){return Nb="function"===typeof Symbol&&"symbol"===Pb(Symbol.iterator)?function(e){return Pb(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Pb(e)},Nb(e)}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fb(e)}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bb=n(4617),Ub=n.n(Bb);function zb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(t7){i=!0,o=t7}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vb(e){return Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(e)}function qb(e){var t=function(e,t){if("object"!=Vb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vb(t)?t:String(t)}function Gb(e,t,n){return(t=qb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kb(e){return function(e){if(Array.isArray(e))return Wb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return Wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yb=function(e){return e===Object(e)?Object.keys(e):[]},Qb=function(e){return e===Object(e)?Object.values(e):[]};function Zb(e,t){var n=Object.assign({},e);return Jb(e)&&Jb(t)&&Yb(t).forEach((function(r){Jb(t[r])&&r in e?n[r]=Zb(e[r],t[r]):Object.assign(n,Gb({},r,t[r]))})),n}var $b=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Zb(e,t)}),e)},Xb=function(e,t){var n=Object.assign({},e);if(t)for(var r=0;r<t.length;r++)delete n[t[r]];return n},Jb=function(e){return e===Object(e)&&!(e instanceof Date)&&!Array.isArray(e)},eE=function(e){return"&"===e[0]},tE=function(e){return!eE(e)},nE=function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},rE=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Yb(e),r={},i=0,o=n.length;i<o;i+=1){var a=n[i];("[object Object]"!==Object.prototype.toString.call(e[a])||":"===a[0]||"@"===a[0]||t.indexOf(a)>=0)&&(r[a]=e[a])}return r},iE=function(e,t){for(var n=t.map(nE),r=Yb(e),i={},o=0,a=r.length;o<a;o+=1){var s=r[o];(t.indexOf(s)>=0||n.indexOf(nE(s))>=0)&&(i[s]=e[s])}return i},oE=function e(t,n){for(var r=$b.apply(void 0,[{},Xb(t,n)].concat(Kb(Qb(iE(t,n))))),i=Yb(r).filter(eE),o=0,a=i.length;o<a;o+=1){var s=i[o],l=e(r[s],n);n.indexOf(s)>=0?(delete r[s],r=$b({},r,l)):r[s]=l}return r};function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach((function(t){Gb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lE=["animationName"];const cE=function(e){var t=e.style,n=e.className;return sE(sE({},t?{style:rE(t,lE)}:{}),n?{className:n}:{})};var uE=(0,t.createContext)(cE);uE.Provider;const dE=function(e){if(!e)return[];if("string"===typeof e)return[e];if(!Array.isArray(e)){var t=e;return Yb(e).reduce((function(e,n){return e.concat(t[n]?[n]:[])}),[])}return e};var hE={};const fE=function(e){return function(t,n){var r,i=n||hE;e.memoize=e.memoize||new WeakMap,e.memoize.has(i)?r=e.memoize.get(i):(r={},e.memoize.set(i,r));var o=dE(t).join(" ");return o in r?r[o]:r[o]=e(t||[],n)}};function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pE(Object(n),!0).forEach((function(t){Gb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const gE=function e(t){var n=t.style,r=t.className,i=t.classNames,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cE,a=r||function(e){var t=e&&Yb(e)[0];return t&&t.split("__")[0].split("--")[0]}(i)||(null===n||void 0===n?void 0:n.className),s="function"===typeof n?n:fE((function(t,r){var s=dE(t);Ub()(Array.isArray(s),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),Ub()(!r||Jb(r),"Optional second parameter must be a plain object.");var l=s.filter(eE),c=s.filter(tE),u=c.length>0?function(e){return Qb(iE(e,c))}:function(e){return[e]},d=function(){return u(oE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l))},h=function(e,t,n){if(e){var r=e.split(" ")[0],i=[].concat(Kb(0===t.length?n.map((function(e){return"".concat(r,"--").concat(e.substring(1))})):[]),Kb(t.map((function(e){return"".concat(r,"__").concat(e)}))));return 0===t.length?[e].concat(Kb(i)):i}}(a,c,l);return e(mE(mE(mE({},(n||r)&&{style:$b.apply(void 0,[{}].concat(Kb(d(r)),Kb(d(n))))}),h&&{className:h.join(" ")}),i&&{classNames:i}),o)})),l=mE({},"function"===typeof n?n:{style:n}),c=Kb(new Set([].concat(Kb(l.className?l.className.split(" "):[]),Kb(a?a.split(" "):[])))),u=i?(c.map((function(e){return i[e]}))||[]).filter(Boolean):c,d=o(mE(mE({},l),u.length>0?{className:u.join(" ")}:{}));return Object.assign(s,d),s};const vE=function(e,n,r){var i=n.style,o=n.className,a=n.classNames,s=(0,t.useContext)(uE);return(0,t.useMemo)((function(){return gE({style:i,className:o,classNames:a},s)}),[i,o,a,s])(r,e)},yE=vE;function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bE(Object(n),!0).forEach((function(t){Gb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const wE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return EE(EE(EE({},e),"function"===typeof t?t:{}),{},{style:EE(EE({},e.style),"function"===typeof t?t.style:t)})}),{})};var CE=n(5340),SE=n.n(CE),TE=n(4164),_E=n.t(TE,2),kE=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},xE="__id__",AE="__display__",IE=function(e,t){Ub()("id"===t||"display"===t,'Second arg must be either "id" or "display", got: "'.concat(t,'"'));var n=e.indexOf(AE),r=e.indexOf(xE);return n<0&&(n=null),r<0&&(r=null),Ub()(null!==n||null!==r,"The markup '".concat(e,"' does not contain either of the placeholders '__id__' or '__display__'")),null!==n&&null!==r?"id"===t&&r<=n||"display"===t&&n<=r?0:1:0},ME=function(e){var t=0;return e.indexOf("__id__")>=0&&t++,e.indexOf("__display__")>=0&&t++,t},RE=function(){},LE=function(e,t,n){for(var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:RE,o=function(e){var t=/^\/(.+)\/(\w+)?$/;return new RegExp(e.map((function(e){var n=zb(t.exec(e.toString()),3),r=n[1],i=n[2];return Ub()(!i,"RegExp flags are not supported. Change /".concat(r,"/").concat(i," into /").concat(r,"/")),"(".concat(r,")")})).join("|"),"g")}(t.map((function(e){return e.regex}))),a=2,s=t.map((function(e){var t=e.markup,n=a;return a+=ME(t)+1,n})),l=0,c=0;null!==(r=o.exec(e));){var u=s.find((function(e){return!!r[e]})),d=s.indexOf(u),h=t[d],f=h.markup,p=h.displayTransform,m=u+IE(f,"id"),g=u+IE(f,"display"),v=r[m],y=p(v,r[g]),b=e.substring(l,r.index);i(b,l,c),c+=b.length,n(r[0],r.index,c,v,y,d,l),c+=y.length,l=o.lastIndex}l<e.length&&i(e.substring(l),l,c)},DE=function(e,t){var n="";return LE(e,t,(function(e,t,r,i,o){n+=o}),(function(e){n+=e})),n},OE=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START";if("number"!==typeof n)return n;return LE(e,t,(function(e,t,o,a,s,l,c){void 0===r&&o+s.length>n&&(r="NULL"===i?null:t+("END"===i?e.length:0))}),(function(e,t,i){void 0===r&&i+e.length>=n&&(r=t+n-i)})),void 0===r?e.length:r},PE=function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},NE=function(e,t,n){var r=n,i=!1;if(LE(e,t,(function(e,t,o,a,s,l,c){o<=n&&o+s.length>n&&(r=o,i=!0)})),i)return r},FE=function(e,t){var n=[];return LE(e,t,(function(e,t,r,i,o,a,s){n.push({id:i,display:o,childIndex:a,index:t,plainTextIndex:r})})),n},jE=function(e,t){return"".concat(e,"-").concat(t)},BE=function(e){return Object.values(e).reduce((function(e,t){return e+t.results.length}),0)},UE=function(e){var t=kE(e),n=e[e.indexOf(AE)+AE.length],r=e[e.indexOf(xE)+xE.length];return new RegExp(t.replace(AE,"([^".concat(kE(n||""),"]+?)")).replace(xE,"([^".concat(kE(r||""),"]+?)")))},zE=function(e){return t.Children.toArray(e).map((function(e){var t=e.props,n=t.markup,r=t.regex,i=t.displayTransform;return{markup:n,regex:r?HE(r,n):UE(n),displayTransform:i||function(e,t){return t||e}}}))},HE=function(e,t){var n=new RegExp(e.toString()+"|").exec("").length-1,r=ME(t);return Ub()(n===r,"Number of capturing groups in RegExp ".concat(e.toString()," (").concat(n,") does not match the number of placeholders in the markup '").concat(t,"' (").concat(r,")")),e},VE=[{base:"A",letters:/(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g},{base:"AA",letters:/(&#42802;|[\uA732])/g},{base:"AE",letters:/(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g},{base:"AO",letters:/(&#42804;|[\uA734])/g},{base:"AU",letters:/(&#42806;|[\uA736])/g},{base:"AV",letters:/(&#42808;|&#42810;|[\uA738\uA73A])/g},{base:"AY",letters:/(&#42812;|[\uA73C])/g},{base:"B",letters:/(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g},{base:"C",letters:/(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g},{base:"D",letters:/(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g},{base:"DZ",letters:/(&#497;|&#452;|[\u01F1\u01C4])/g},{base:"Dz",letters:/(&#498;|&#453;|[\u01F2\u01C5])/g},{base:"E",letters:/(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g},{base:"F",letters:/(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g},{base:"G",letters:/(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g},{base:"H",letters:/(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g},{base:"I",letters:/(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g},{base:"J",letters:/(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g},{base:"K",letters:/(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g},{base:"L",letters:/(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g},{base:"LJ",letters:/(&#455;|[\u01C7])/g},{base:"Lj",letters:/(&#456;|[\u01C8])/g},{base:"M",letters:/(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g},{base:"N",letters:/(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g},{base:"NJ",letters:/(&#458;|[\u01CA])/g},{base:"Nj",letters:/(&#459;|[\u01CB])/g},{base:"O",letters:/(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g},{base:"OE",letters:/(&#338;|[\u0152])/g},{base:"OI",letters:/(&#418;|[\u01A2])/g},{base:"OO",letters:/(&#42830;|[\uA74E])/g},{base:"OU",letters:/(&#546;|[\u0222])/g},{base:"P",letters:/(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g},{base:"Q",letters:/(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g},{base:"R",letters:/(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g},{base:"S",letters:/(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g},{base:"T",letters:/(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g},{base:"TH",letters:/(&#222;|[\u00DE])/g},{base:"TZ",letters:/(&#42792;|[\uA728])/g},{base:"U",letters:/(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g},{base:"V",letters:/(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g},{base:"VY",letters:/(&#42848;|[\uA760])/g},{base:"W",letters:/(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g},{base:"X",letters:/(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g},{base:"Y",letters:/(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g},{base:"Z",letters:/(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g},{base:"a",letters:/(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g},{base:"aa",letters:/(&#42803;|[\uA733])/g},{base:"ae",letters:/(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g},{base:"ao",letters:/(&#42805;|[\uA735])/g},{base:"au",letters:/(&#42807;|[\uA737])/g},{base:"av",letters:/(&#42809;|&#42811;|[\uA739\uA73B])/g},{base:"ay",letters:/(&#42813;|[\uA73D])/g},{base:"b",letters:/(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g},{base:"c",letters:/(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g},{base:"d",letters:/(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g},{base:"dz",letters:/(&#499;|&#454;|[\u01F3\u01C6])/g},{base:"e",letters:/(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g},{base:"f",letters:/(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g},{base:"g",letters:/(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g},{base:"h",letters:/(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g},{base:"hv",letters:/(&#405;|[\u0195])/g},{base:"i",letters:/(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g},{base:"ij",letters:/(&#307;|[\u0133])/g},{base:"j",letters:/(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g},{base:"k",letters:/(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g},{base:"l",letters:/(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g},{base:"lj",letters:/(&#457;|[\u01C9])/g},{base:"m",letters:/(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g},{base:"n",letters:/(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g},{base:"nj",letters:/(&#460;|[\u01CC])/g},{base:"o",letters:/(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g},{base:"oe",letters:/(&#339;|[\u0153])/g},{base:"oi",letters:/(&#419;|[\u01A3])/g},{base:"ou",letters:/(&#547;|[\u0223])/g},{base:"oo",letters:/(&#42831;|[\uA74F])/g},{base:"p",letters:/(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g},{base:"q",letters:/(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g},{base:"r",letters:/(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g},{base:"s",letters:/(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g},{base:"ss",letters:/(&#223;|[\u00DF])/g},{base:"t",letters:/(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g},{base:"th",letters:/(&#254;|[\u00FE])/g},{base:"tz",letters:/(&#42793;|[\uA729])/g},{base:"u",letters:/(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g},{base:"v",letters:/(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g},{base:"vy",letters:/(&#42849;|[\uA761])/g},{base:"w",letters:/(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g},{base:"x",letters:/(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g},{base:"y",letters:/(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g},{base:"z",letters:/(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g}],qE=function(e){return function(e){var t=e;return VE.forEach((function(e){t=t.replace(e.letters,e.base)})),t}(e).toLowerCase()},GE=function(e,t,n){return n?qE(e).indexOf(qE(t)):e.toLowerCase().indexOf(t.toLowerCase())},WE=function(e){return"number"===typeof e},KE=["style","className","classNames"];function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YE(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZE(e,n){return function(r){var i=function(i){var o=i.style,a=i.className,s=i.classNames,l=Hb(i,KE),c=n?n(l):void 0,u=yE(e,{style:o,className:a,classNames:s},c);return t.createElement(r,Rb({},l,{style:u}))},o=r.displayName||r.name||"Component";return i.displayName="defaultStyle(".concat(o,")"),t.forwardRef((function(e,t){return i(QE(QE({},e),{},{ref:t}))}))}}function $E(e){var n=e.selectionStart,r=e.selectionEnd,i=e.value,o=void 0===i?"":i,a=e.onCaretPositionChange,s=e.containerRef,l=e.children,c=(e.singleLine,e.style),u=zb((0,t.useState)({left:void 0,top:void 0}),2),d=u[0],h=u[1],f=zb((0,t.useState)(),2),p=f[0],m=f[1];(0,t.useEffect)((function(){v()}));var g,v=function(){if(p){var e=p.offsetLeft,t=p.offsetTop;if(d.left!==e||d.top!==t){var n={left:e,top:t};h(n),a(n)}}},y=zE(l);r===n&&(g=OE(o,y,n,"START"));var b=[],E={},w=b,C=0,S=function(e,n){return t.createElement("span",Rb({},c("substring"),{key:n}),e)},T=function(e,n,r,i){var o={id:e,display:n,key:i},a=t.Children.toArray(l)[r];return t.cloneElement(a,o)};return LE(o,y,(function(e,t,n,r,i,o,a){var s=function(e,t){return e.hasOwnProperty(t)?e[t]++:e[t]=0,t+"_"+e[t]}(E,r);w.push(T(r,i,o,s))}),(function(e,t,n){if(WE(g)&&g>=t&&g<=t+e.length){var r=g-t;w.push(S(e.substring(0,r),C)),w=[S(e.substring(r),C)]}else w.push(S(e,C));C++})),w.push(" "),w!==b&&b.push(function(e){return t.createElement("span",Rb({},c("caret"),{ref:m,key:"caret"}),e)}(w)),t.createElement("div",Rb({},c,{ref:s}),b)}$E.propTypes={selectionStart:SE().number,selectionEnd:SE().number,value:SE().string.isRequired,onCaretPositionChange:SE().func.isRequired,containerRef:SE().oneOfType([SE().func,SE().shape({current:"undefined"===typeof Element?SE().any:SE().instanceOf(Element)})]),children:SE().oneOfType([SE().element,SE().arrayOf(SE().element)]).isRequired};var XE=ZE({position:"relative",boxSizing:"border-box",width:"100%",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word",border:"1px solid transparent",textAlign:"start","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},(function(e){return{"&singleLine":e.singleLine}}))($E);function JE(e){var n=e.id,r=e.focused,i=e.ignoreAccents,o=e.index,a=e.onClick,s=e.onMouseEnter,l=e.query,c=e.renderSuggestion,u=e.suggestion,d=e.style,h=(e.className,e.classNames,{onClick:a,onMouseEnter:s}),f=function(){if("string"===typeof u)return u;var e=u.id,t=u.display;return void 0!==e&&t?t:e},p=function(e){var n=GE(e,l,i);return-1===n?t.createElement("span",d("display"),e):t.createElement("span",d("display"),e.substring(0,n),t.createElement("b",d("highlight"),e.substring(n,n+l.length)),e.substring(n+l.length))};return t.createElement("li",Rb({id:n,role:"option","aria-selected":r},h,d),function(){var e=f(),t=p(e);return c?c(u,l,t,o,r):t}())}JE.propTypes={id:SE().string.isRequired,query:SE().string.isRequired,index:SE().number.isRequired,ignoreAccents:SE().bool,suggestion:SE().oneOfType([SE().string,SE().shape({id:SE().oneOfType([SE().string,SE().number]).isRequired,display:SE().string})]).isRequired,renderSuggestion:SE().func,focused:SE().bool};var ew=ZE({cursor:"pointer"},(function(e){return{"&focused":e.focused}}))(JE);function tw(e){var n=e.style,r=e.className,i=e.classNames,o=yE(nw,{style:n,className:r,classNames:i}),a=o("spinner");return t.createElement("div",o,t.createElement("div",a,t.createElement("div",a(["element","element1"])),t.createElement("div",a(["element","element2"])),t.createElement("div",a(["element","element3"])),t.createElement("div",a(["element","element4"])),t.createElement("div",a(["element","element5"]))))}var nw={};function rw(e){var n=e.id,r=e.suggestions,i=void 0===r?{}:r,o=e.a11ySuggestionsListLabel,a=e.focusIndex,s=e.position,l=e.left,c=e.right,u=e.top,d=e.scrollFocusedIntoView,h=e.isLoading,f=e.isOpened,p=e.onSelect,m=void 0===p?function(){return null}:p,g=e.ignoreAccents,v=e.containerRef,y=e.children,b=e.style,E=e.customSuggestionsContainer,w=e.onMouseDown,C=e.onMouseEnter,S=zb((0,t.useState)(void 0),2),T=S[0],_=S[1];(0,t.useEffect)((function(){if(T&&!(T.offsetHeight>=T.scrollHeight)&&d){var e=T.scrollTop,t=T.children[a].getBoundingClientRect(),n=t.top,r=t.bottom,i=T.getBoundingClientRect().top;r=r-i+e,(n=n-i+e)<e?T.scrollTop=n:r>T.offsetHeight&&(T.scrollTop=r-T.offsetHeight)}}),[a,d,T]);var k=function(e,r,i){var o=i===a,s=r.childIndex,l=r.query,c=t.Children.toArray(y)[s].props.renderSuggestion;return t.createElement(ew,{style:b("item"),key:"".concat(s,"-").concat(I(e)),id:jE(n,i),query:l,index:i,ignoreAccents:g,renderSuggestion:c,suggestion:e,focused:o,onClick:function(){return A(e,r)},onMouseEnter:function(){return x(i)}})},x=function(e,t){C&&C(e)},A=function(e,t){m(e,t)},I=function(e){return"string"===typeof e?e:e.id};return f?t.createElement("div",Rb({},wE({position:s||"absolute",left:l,right:c,top:u},b),{onMouseDown:w,ref:v}),function(){var e=t.createElement("ul",Rb({ref:_,id:n,role:"listbox","aria-label":o},b("list")),Object.values(i).reduce((function(e,t){var n=t.results,r=t.queryInfo;return[].concat(Mb(e),Mb(n.map((function(t,n){return k(t,r,e.length+n)}))))}),[]));return E?E(e):e}(),function(){if(h)return t.createElement(tw,{style:b("loadingIndicator")})}()):null}rw.propTypes={id:SE().string.isRequired,suggestions:SE().object.isRequired,a11ySuggestionsListLabel:SE().string,focusIndex:SE().number,position:SE().string,left:SE().number,right:SE().number,top:SE().number,scrollFocusedIntoView:SE().bool,isLoading:SE().bool,isOpened:SE().bool.isRequired,onSelect:SE().func,ignoreAccents:SE().bool,customSuggestionsContainer:SE().func,containerRef:SE().oneOfType([SE().func,SE().shape({current:"undefined"===typeof Element?SE().any:SE().instanceOf(Element)})])};var iw=ZE({zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100,list:{margin:0,padding:0,listStyleType:"none"}})(rw);function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fb(e);if(t){var i=Fb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==Nb(t)&&"function"!==typeof t?Db(e):t}(this,n)}}var lw={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},cw=!1,uw={singleLine:SE().bool,allowSpaceInQuery:SE().bool,allowSuggestionsAboveCursor:SE().bool,forceSuggestionsAboveCursor:SE().bool,ignoreAccents:SE().bool,a11ySuggestionsListLabel:SE().string,value:SE().string,onKeyDown:SE().func,customSuggestionsContainer:SE().func,onSelect:SE().func,onBlur:SE().func,onChange:SE().func,suggestionsPortalHost:"undefined"===typeof Element?SE().any:SE().PropTypes.instanceOf(Element),inputRef:SE().oneOfType([SE().func,SE().shape({current:"undefined"===typeof Element?SE().any:SE().instanceOf(Element)})]),children:SE().oneOfType([SE().element,SE().arrayOf(SE().element)]).isRequired},dw=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ob(e,t)}(a,e);var n,r,i,o=sw(a);function a(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),jb(Db(n=o.call(this,e)),"setContainerElement",(function(e){n.containerElement=e})),jb(Db(n),"getInputProps",(function(){var e,t=n.props,r=t.readOnly,i=t.disabled,o=t.style,a=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(t=[]).concat.apply(t,r);return Object.keys(e).reduce((function(t,n){return e.hasOwnProperty(n)&&!o.includes(n)&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}(n.props,["style","classNames","className"],(e=uw)===Object(e)?Object.keys(e):[]);return aw(aw(aw(aw({},a),o("input")),{},{value:n.getPlainText(),onScroll:n.updateHighlighterScroll},!r&&!i&&{onChange:n.handleChange,onSelect:n.handleSelect,onKeyDown:n.handleKeyDown,onBlur:n.handleBlur,onCompositionStart:n.handleCompositionStart,onCompositionEnd:n.handleCompositionEnd}),n.isOpened()&&{role:"combobox","aria-controls":n.uuidSuggestionsOverlay,"aria-expanded":!0,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":jE(n.uuidSuggestionsOverlay,n.state.focusIndex)})})),jb(Db(n),"renderControl",(function(){var e=n.props,r=e.singleLine,i=e.style,o=n.getInputProps();return t.createElement("div",i("control"),n.renderHighlighter(),r?n.renderInput(o):n.renderTextarea(o))})),jb(Db(n),"renderInput",(function(e){return t.createElement("input",Rb({type:"text",ref:n.setInputRef},e))})),jb(Db(n),"renderTextarea",(function(e){return t.createElement("textarea",Rb({ref:n.setInputRef},e))})),jb(Db(n),"setInputRef",(function(e){n.inputElement=e;var t=n.props.inputRef;"function"===typeof t?t(e):t&&(t.current=e)})),jb(Db(n),"setSuggestionsElement",(function(e){n.suggestionsElement=e})),jb(Db(n),"renderSuggestionsOverlay",(function(){if(!WE(n.state.selectionStart))return null;var e=n.state.suggestionsPosition,r=e.position,i=e.left,o=e.top,a=e.right,s=t.createElement(iw,{id:n.uuidSuggestionsOverlay,style:n.props.style("suggestions"),position:r,left:i,top:o,right:a,focusIndex:n.state.focusIndex,scrollFocusedIntoView:n.state.scrollFocusedIntoView,containerRef:n.setSuggestionsElement,suggestions:n.state.suggestions,customSuggestionsContainer:n.props.customSuggestionsContainer,onSelect:n.addMention,onMouseDown:n.handleSuggestionsMouseDown,onMouseEnter:n.handleSuggestionsMouseEnter,isLoading:n.isLoading(),isOpened:n.isOpened(),ignoreAccents:n.props.ignoreAccents,a11ySuggestionsListLabel:n.props.a11ySuggestionsListLabel},n.props.children);return n.props.suggestionsPortalHost?TE.createPortal(s,n.props.suggestionsPortalHost):s})),jb(Db(n),"renderHighlighter",(function(){var e=n.state,r=e.selectionStart,i=e.selectionEnd,o=n.props,a=o.singleLine,s=o.children,l=o.value,c=o.style;return t.createElement(XE,{containerRef:n.setHighlighterElement,style:c("highlighter"),value:l,singleLine:a,selectionStart:r,selectionEnd:i,onCaretPositionChange:n.handleCaretPositionChange},s)})),jb(Db(n),"setHighlighterElement",(function(e){n.highlighterElement=e})),jb(Db(n),"handleCaretPositionChange",(function(e){n.setState({caretPosition:e})})),jb(Db(n),"getPlainText",(function(){return DE(n.props.value||"",zE(n.props.children))})),jb(Db(n),"executeOnChange",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o,a;return n.props.onChange?(o=n.props).onChange.apply(o,[e].concat(r)):n.props.valueLink?(a=n.props.valueLink).requestChange.apply(a,[e.target.value].concat(r)):void 0})),jb(Db(n),"handleChange",(function(e){if((cw=!1,document.documentMode)&&(document.activeElement&&document.activeElement.contentDocument||document).activeElement!==e.target)return;var t=n.props.value||"",r=zE(n.props.children),i=e.target.value,o=n.state.selectionStart;null==o&&(o=e.target.selectionStart);var a=n.state.selectionEnd;null==a&&(a=e.target.selectionEnd);var s=function(e,t,n,r){var i=n.selectionStartBefore,o=n.selectionEndBefore,a=n.selectionEndAfter,s=DE(e,r),l=s.length-t.length;"undefined"===i&&(i=a+l),"undefined"===o&&(o=i),i===o&&o===a&&s.length===t.length&&(i-=1);var c=t.slice(i,a),u=Math.min(i,a),d=o;i===a&&(d=Math.max(o,i+l));var h=OE(e,r,u,"START"),f=OE(e,r,d,"END"),p=OE(e,r,u,"NULL"),m=OE(e,r,d,"NULL"),g=null===p||null===m,v=PE(e,h,f,c);if(!g){var y=DE(v,r);if(y!==t){for(u=0;t[u]===y[u];)u++;c=t.slice(u,a),d=s.lastIndexOf(t.substring(a)),h=OE(e,r,u,"START"),f=OE(e,r,d,"END"),v=PE(e,h,f,c)}}return v}(t,i,{selectionStartBefore:o,selectionEndBefore:a,selectionEndAfter:e.target.selectionEnd},r);i=DE(s,r);var l=e.target.selectionStart,c=e.target.selectionEnd,u=!1,d=NE(t,r,l);void 0!==d&&n.state.selectionEnd>d&&(c=l=d+(e.nativeEvent.data?e.nativeEvent.data.length:0),u=!0),n.setState({selectionStart:l,selectionEnd:c,setSelectionAfterMentionChange:u});var h=FE(s,r);e.nativeEvent.isComposing&&l===c&&n.updateMentionsQueries(n.inputElement.value,l);var f={target:{value:s}};n.executeOnChange(f,s,i,h)})),jb(Db(n),"handleSelect",(function(e){if(n.setState({selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd}),!cw){var t=n.inputElement;e.target.selectionStart===e.target.selectionEnd?n.updateMentionsQueries(t.value,e.target.selectionStart):n.clearSuggestions(),n.updateHighlighterScroll(),n.props.onSelect(e)}})),jb(Db(n),"handleKeyDown",(function(e){if(0!==BE(n.state.suggestions)&&n.suggestionsElement)switch(Object.values(lw).indexOf(e.keyCode)>=0&&(e.preventDefault(),e.stopPropagation()),e.keyCode){case lw.ESC:return void n.clearSuggestions();case lw.DOWN:return void n.shiftFocus(1);case lw.UP:return void n.shiftFocus(-1);case lw.RETURN:case lw.TAB:return void n.selectFocused();default:return}else n.props.onKeyDown(e)})),jb(Db(n),"shiftFocus",(function(e){var t=BE(n.state.suggestions);n.setState({focusIndex:(t+n.state.focusIndex+e)%t,scrollFocusedIntoView:!0})})),jb(Db(n),"selectFocused",(function(){var e=n.state,t=e.suggestions,r=e.focusIndex,i=Object.values(t).reduce((function(e,t){var n=t.results,r=t.queryInfo;return[].concat(Mb(e),Mb(n.map((function(e){return{result:e,queryInfo:r}}))))}),[])[r],o=i.result,a=i.queryInfo;n.addMention(o,a),n.setState({focusIndex:0})})),jb(Db(n),"handleBlur",(function(e){var t=n._suggestionsMouseDown;n._suggestionsMouseDown=!1,t||n.setState({selectionStart:null,selectionEnd:null}),window.setTimeout((function(){n.updateHighlighterScroll()}),1),n.props.onBlur(e,t)})),jb(Db(n),"handleSuggestionsMouseDown",(function(e){n._suggestionsMouseDown=!0})),jb(Db(n),"handleSuggestionsMouseEnter",(function(e){n.setState({focusIndex:e,scrollFocusedIntoView:!1})})),jb(Db(n),"updateSuggestionsPosition",(function(){var e=n.state.caretPosition,t=n.props,r=t.suggestionsPortalHost,i=t.allowSuggestionsAboveCursor,o=t.forceSuggestionsAboveCursor;if(e&&n.suggestionsElement){var a=n.suggestionsElement,s=n.highlighterElement,l=s.getBoundingClientRect(),c=hw(s,"font-size"),u={left:l.left+e.left,top:l.top+e.top+c},d=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(a){var h={};if(r){h.position="fixed";var f=u.left,p=u.top;f-=hw(a,"margin-left"),p-=hw(a,"margin-top"),f-=s.scrollLeft,p-=s.scrollTop;var m=Math.max(document.documentElement.clientWidth,window.innerWidth||0);f+a.offsetWidth>m?h.left=Math.max(0,m-a.offsetWidth):h.left=f,i&&p+a.offsetHeight>d&&a.offsetHeight<p-c||o?h.top=Math.max(0,p-a.offsetHeight-c):h.top=p}else{var g=e.left-s.scrollLeft,v=e.top-s.scrollTop;g+a.offsetWidth>n.containerElement.offsetWidth?h.right=0:h.left=g,i&&u.top-s.scrollTop+a.offsetHeight>d&&a.offsetHeight<l.top-c-s.scrollTop||o?h.top=v-a.offsetHeight-c:h.top=v}h.left===n.state.suggestionsPosition.left&&h.top===n.state.suggestionsPosition.top&&h.position===n.state.suggestionsPosition.position||n.setState({suggestionsPosition:h})}}})),jb(Db(n),"updateHighlighterScroll",(function(){var e=n.inputElement,t=n.highlighterElement;e&&t&&(t.scrollLeft=e.scrollLeft,t.scrollTop=e.scrollTop,t.height=e.height)})),jb(Db(n),"handleCompositionStart",(function(){cw=!0})),jb(Db(n),"handleCompositionEnd",(function(){cw=!1})),jb(Db(n),"setSelection",(function(e,t){if(null!==e&&null!==t){var r=n.inputElement;if(r.setSelectionRange)r.setSelectionRange(e,t);else if(r.createTextRange){var i=r.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}})),jb(Db(n),"updateMentionsQueries",(function(e,r){n._queryId++,n.suggestions={},n.setState({suggestions:{}});var i=n.props.value||"",o=n.props.children,a=zE(o),s=OE(i,a,r,"NULL");if(null!==s){var l=function(e,t){var n=FE(e,t),r=n[n.length-1];return r?r.plainTextIndex+r.display.length:0}(i.substring(0,s),a),c=e.substring(l,r);t.Children.forEach(o,(function(t,r){if(t){var i=function(e){if(e instanceof RegExp)return e;var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowSpaceInQuery,n=kE(e);return new RegExp("(?:^|\\s)(".concat(n,"([^").concat(t?"":"\\s").concat(n,"]*))$"))}(t.props.trigger,n.props),o=c.match(i);if(o){var a=l+c.indexOf(o[1],o.index);n.queryData(o[2],r,a,a+o[1].length,e)}}}))}})),jb(Db(n),"clearSuggestions",(function(){n._queryId++,n.suggestions={},n.setState({suggestions:{},focusIndex:0})})),jb(Db(n),"queryData",(function(e,r,i,o,a){var s=n.props,l=s.children,c=s.ignoreAccents,u=function(e,t){return e instanceof Array?function(n,r){for(var i=[],o=0,a=e.length;o<a;++o){var s=e[o].display||e[o].id;GE(s,n,t)>=0&&i.push(e[o])}return i}:e}(t.Children.toArray(l)[r].props.data,c),d=u(e,n.updateSuggestions.bind(null,n._queryId,r,e,i,o,a));d instanceof Array&&n.updateSuggestions(n._queryId,r,e,i,o,a,d)})),jb(Db(n),"updateSuggestions",(function(e,t,r,i,o,a,s){if(e===n._queryId){n.suggestions=aw(aw({},n.suggestions),{},jb({},t,{queryInfo:{childIndex:t,query:r,querySequenceStart:i,querySequenceEnd:o,plainTextValue:a},results:s}));var l=n.state.focusIndex,c=BE(n.suggestions);n.setState({suggestions:n.suggestions,focusIndex:l>=c?Math.max(c-1,0):l})}})),jb(Db(n),"addMention",(function(e,r){var i=e.id,o=e.display,a=r.childIndex,s=r.querySequenceStart,l=r.querySequenceEnd,c=r.plainTextValue,u=n.props.value||"",d=zE(n.props.children),h=t.Children.toArray(n.props.children)[a].props,f=h.markup,p=h.displayTransform,m=h.appendSpaceOnAdd,g=h.onAdd,v=OE(u,d,s,"START"),y=v+l-s,b=function(e,t,n){return e.replace(xE,t).replace(AE,n)}(f,i,o);m&&(b+=" ");var E=PE(u,v,y,b);n.inputElement.focus();var w=p(i,o);m&&(w+=" ");var C=s+w.length;n.setState({selectionStart:C,selectionEnd:C,setSelectionAfterMentionChange:!0});var S={target:{value:E}},T=FE(E,d),_=PE(c,s,l,w);n.executeOnChange(S,E,_,T),g&&g(i,o,v,y),n.clearSuggestions()})),jb(Db(n),"isLoading",(function(){var e=!1;return t.Children.forEach(n.props.children,(function(t){e=e||t&&t.props.isLoading})),e})),jb(Db(n),"isOpened",(function(){return WE(n.state.selectionStart)&&(0!==BE(n.state.suggestions)||n.isLoading())})),jb(Db(n),"_queryId",0),n.suggestions={},n.uuidSuggestionsOverlay=Math.random().toString(16).substring(2),n.handleCopy=n.handleCopy.bind(Db(n)),n.handleCut=n.handleCut.bind(Db(n)),n.handlePaste=n.handlePaste.bind(Db(n)),n.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:{},setSelectionAfterHandlePaste:!1},n}return n=a,r=[{key:"componentDidMount",value:function(){document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste),this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(e,t){t.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd)),this.state.setSelectionAfterHandlePaste&&(this.setState({setSelectionAfterHandlePaste:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){return t.createElement("div",Rb({ref:this.setContainerElement},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"handlePaste",value:function(e){if(e.target===this.inputElement&&this.supportsClipboardActions(e)){e.preventDefault();var t=this.state,n=t.selectionStart,r=t.selectionEnd,i=this.props,o=i.value,a=i.children,s=zE(a),l=OE(o,s,n,"START"),c=OE(o,s,r,"END"),u=e.clipboardData.getData("text/react-mentions"),d=e.clipboardData.getData("text/plain"),h=PE(o,l,c,u||d).replace(/\r/g,""),f=DE(h,s),p={target:aw(aw({},e.target),{},{value:h})};this.executeOnChange(p,h,f,FE(h,s));var m=(NE(o,s,n)||n)+DE(u||d,s).length;this.setState({selectionStart:m,selectionEnd:m,setSelectionAfterHandlePaste:!0})}}},{key:"saveSelectionToClipboard",value:function(e){var t=this.inputElement.selectionStart,n=this.inputElement.selectionEnd,r=this.props,i=r.children,o=r.value,a=zE(i),s=OE(o,a,t,"START"),l=OE(o,a,n,"END");e.clipboardData.setData("text/plain",e.target.value.slice(t,n)),e.clipboardData.setData("text/react-mentions",o.slice(s,l))}},{key:"supportsClipboardActions",value:function(e){return!!e.clipboardData}},{key:"handleCopy",value:function(e){e.target===this.inputElement&&this.supportsClipboardActions(e)&&(e.preventDefault(),this.saveSelectionToClipboard(e))}},{key:"handleCut",value:function(e){if(e.target===this.inputElement&&this.supportsClipboardActions(e)){e.preventDefault(),this.saveSelectionToClipboard(e);var t=this.state,n=t.selectionStart,r=t.selectionEnd,i=this.props,o=i.children,a=i.value,s=zE(o),l=OE(a,s,n,"START"),c=OE(a,s,r,"END"),u=[a.slice(0,l),a.slice(c)].join(""),d=DE(u,s),h={target:aw(aw({},e.target),{},{value:d})};this.executeOnChange(h,u,d,FE(a,s))}}}],r&&Lb(n.prototype,r),i&&Lb(n,i),a}(t.Component);jb(dw,"propTypes",uw),jb(dw,"defaultProps",{ignoreAccents:!1,singleLine:!1,allowSuggestionsAboveCursor:!1,onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}});var hw=function(e,t){var n=parseFloat(window.getComputedStyle(e,null).getPropertyValue(t));return isFinite(n)?n:0},fw=ZE({position:"relative",overflowY:"visible",input:{display:"block",width:"100%",position:"absolute",margin:0,top:0,left:0,boxSizing:"border-box",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit"},"&multiLine":{input:aw({height:"100%",bottom:0,overflow:"hidden",resize:"none"},"undefined"!==typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent)?{marginTop:1,marginLeft:-3}:null)}},(function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}}))(dw),pw={fontWeight:"inherit"},mw=function(e){var n=e.display,r=e.style,i=e.className,o=e.classNames,a=yE(pw,{style:r,className:i,classNames:o});return t.createElement("strong",a,n)};function gw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=gw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}mw.propTypes={onAdd:SE().func,onRemove:SE().func,renderSuggestion:SE().func,trigger:SE().oneOfType([SE().string,SE().instanceOf(RegExp)]),markup:SE().string,displayTransform:SE().func,allowSpaceInQuery:SE().bool,isLoading:SE().bool},mw.defaultProps={trigger:"@",markup:"@[__display__](__id__)",displayTransform:function(e,t){return t||e},onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};const vw=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=gw(e))&&(r&&(r+=" "),r+=t);return r};function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}const bw=t.useLayoutEffect;var Ew=function(e,t){"function"!==typeof e?e.current=t:e(t)};const ww=function(e,n){var r=(0,t.useRef)();return(0,t.useCallback)((function(t){e.current=t,r.current&&Ew(r.current,null),r.current=n,n&&Ew(n,t)}),[n])};var Cw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Sw=function(e){Object.keys(Cw).forEach((function(t){e.style.setProperty(t,Cw[t],"important")}))},Tw=null,_w=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var kw=function(){},xw=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Aw=!!document.documentElement.currentStyle,Iw=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,xw.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(Aw&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})};function Mw(e,n,r){var i=function(e){var n=t.useRef(e);return bw((function(){n.current=e})),n}(r);t.useLayoutEffect((function(){var t=function(e){return i.current(e)};if(e)return e.addEventListener(n,t),function(){return e.removeEventListener(n,t)}}),[])}var Rw=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Lw=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,o=e.minRows,a=e.onChange,s=void 0===a?kw:a,l=e.onHeightChange,c=void 0===l?kw:l,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Rw),d=void 0!==u.value,h=t.useRef(null),f=ww(h,n),p=t.useRef(0),m=t.useRef(),g=function(){var e=h.current,t=r&&m.current?m.current:Iw(e);if(t){m.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Tw||((Tw=document.createElement("textarea")).setAttribute("tabindex","-1"),Tw.setAttribute("aria-hidden","true"),Sw(Tw)),null===Tw.parentNode&&document.body.appendChild(Tw);var i=e.paddingSize,o=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;Tw.style[t]=a[t]})),Sw(Tw),Tw.value=t;var l=_w(Tw,e);Tw.value=t,l=_w(Tw,e),Tw.value="x";var c=Tw.scrollHeight-i,u=c*n;"border-box"===s&&(u=u+i+o),l=Math.max(u,l);var d=c*r;return"border-box"===s&&(d=d+i+o),[l=Math.min(d,l),c]}(t,e.value||e.placeholder||"x",o,i),a=n[0],s=n[1];p.current!==a&&(p.current=a,e.style.setProperty("height",a+"px","important"),c(a,{rowHeight:s}))}};return t.useLayoutEffect(g),function(e){Mw(window,"resize",e)}(g),function(e){Mw(document.fonts,"loadingdone",e)}(g),t.createElement("textarea",yw({},u,{onChange:function(e){d||g(),s(e)},ref:f}))},Dw=t.forwardRef(Lw);const Ow=t.createContext({}),Pw=!0;function Nw(e){let{baseColor:t,highlightColor:n,width:r,height:i,borderRadius:o,circle:a,direction:s,duration:l,enableAnimation:c=Pw}=e;const u={};return"rtl"===s&&(u["--animation-direction"]="reverse"),"number"===typeof l&&(u["--animation-duration"]="".concat(l,"s")),c||(u["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(u.width=r),"string"!==typeof i&&"number"!==typeof i||(u.height=i),"string"!==typeof o&&"number"!==typeof o||(u.borderRadius=o),a&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof n&&(u["--highlight-color"]=n),u}function Fw(e){let{count:n=1,wrapper:r,className:i,containerClassName:o,containerTestId:a,circle:s=!1,style:l,...c}=e;var u,d,h;const f=t.useContext(Ow),p={...c};for(const[t,w]of Object.entries(c))"undefined"===typeof w&&delete p[t];const m={...f,...p,circle:s},g={...l,...Nw(m)};let v="react-loading-skeleton";i&&(v+=" ".concat(i));const y=null!==(u=m.inline)&&void 0!==u&&u,b=[],E=Math.ceil(n);for(let w=0;w<E;w++){let e=g;if(E>n&&w===E-1){const t=null!==(d=e.width)&&void 0!==d?d:"100%",r=n%1,i="number"===typeof t?t*r:"calc(".concat(t," * ").concat(r,")");e={...e,width:i}}const r=t.createElement("span",{className:v,style:e,key:w},"\u200c");y?b.push(r):b.push(t.createElement(t.Fragment,{key:w},r,t.createElement("br",null)))}return t.createElement("span",{className:o,"data-testid":a,"aria-live":"polite","aria-busy":null!==(h=m.enableAnimation)&&void 0!==h?h:Pw},r?b.map(((e,n)=>t.createElement(r,{key:n},e))):b)}var jw=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Bw(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||jw(r)&&jw(i)))return!1;var r,i;return!0}const Uw=function(e,t){var n;void 0===t&&(t=Bw);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};var zw=n(6879),Hw=n.n(zw),Vw=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),qw="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Gw="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Ww="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Gw):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Kw=["top","right","bottom","left","width","height","size","weight"],Yw="undefined"!==typeof MutationObserver,Qw=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Ww(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){qw&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Yw?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){qw&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;Kw.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Zw=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},$w=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Gw},Xw=iC(0,0,0,0);function Jw(e){return parseFloat(e)||0}function eC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Jw(e["border-"+n+"-width"])}),0)}function tC(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Xw;var r=$w(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Jw(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Jw(r.width),l=Jw(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=eC(r,"left","right")+o),Math.round(l+a)!==n&&(l-=eC(r,"top","bottom")+a)),!function(e){return e===$w(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return iC(i.left,i.top,s,l)}var nC="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof $w(e).SVGGraphicsElement}:function(e){return e instanceof $w(e).SVGElement&&"function"===typeof e.getBBox};function rC(e){return qw?nC(e)?function(e){var t=e.getBBox();return iC(0,0,t.width,t.height)}(e):tC(e):Xw}function iC(e,t,n,r){return{x:e,y:t,width:n,height:r}}var oC=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=iC(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=rC(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),aC=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Zw(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);Zw(this,{target:e,contentRect:n})},sC=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Vw,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof $w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new oC(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof $w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new aC(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),lC="undefined"!==typeof WeakMap?new WeakMap:new Vw,cC=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Qw.getInstance(),r=new sC(t,n,this);lC.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){cC.prototype[e]=function(){var t;return(t=lC.get(this))[e].apply(t,arguments)}}));const uC="undefined"!==typeof Gw.ResizeObserver?Gw.ResizeObserver:cC;const dC={characters:{tokenizeString:null,isAtomic:function(e){return e.length<=1}},words:{tokenizeString:function(e){return e.match(/(\s*\S[\S\xA0]*)/g)},isAtomic:function(e){return/^\s*[\S\xA0]*\s*$/.test(e)}}};var hC=function(e){return e.children||null};hC.__rtm_atom=!0;var fC,pC,mC=function(e){return!(!e||!e.type||!0!==e.type.__rtm_atom)},gC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),vC="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var bC=!0,EC=!1,wC=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n)return r;if("string"===typeof n)return r+n;if(mC(n))return r+"<Atom>";var i=Array.isArray(n)?n:n.props.children||"";return r+t.Children.map(i,(function(t){return e(t)})).join("")},CC=function e(n){return!(null!=n&&!["string","number"].includes("undefined"===typeof n?"undefined":vC(n))&&!mC(n))||"function"!==typeof n.type&&(!n.props||!n.props.children||t.Children.toArray(n.props.children).reduce((function(t,n){return t&&e(n)}),!0))},SC=(pC=fC=function(e){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.lineHeight=null,r.splitDirectionSeq=[],r.shouldTruncate=!0,r.wasLastCharTested=!1,r.endFound=!1,r.latestThatFits=null,r.onTruncateCalled=!1,r.toStringMemo=Uw(wC),r.childrenWithRefMemo=Uw(r.childrenElementWithRef),r.validateTreeMemo=Uw(CC),r.onTruncate=function(e){r.onTruncateCalled||(r.onTruncateCalled=!0,r.props.onTruncate(e))},r.handleResize=function(e,t){if(t&&t.disconnect(),!e)return null;var n=!0,i=t||new uC((function(){n?n=!1:(r.shouldTruncate=!1,r.latestThatFits=null,r.setState({text:r.origText},(function(){r.shouldTruncate=!0,r.onTruncateCalled=!1,r.truncate()})))}));return i.observe(e),i},r.setRef=function(e){var t=r.el!==e;r.el=e,t&&(r.resizeObserver=r.handleResize(e,r.resizeObserver))},r.state={text:r.childrenWithRefMemo(r.props.children)},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),n.prototype.componentDidMount=function(){this.isValid&&(this.lineHeight=this.props.lineHeight||Hw()(this.el),this.truncate())},n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.shouldTruncate=!1,this.latestThatFits=null,this.setState({text:this.childrenWithRefMemo(e.children)},(function(){t.isValid&&(t.lineHeight=e.lineHeight||Hw()(t.el),t.shouldTruncate=!0,t.truncate())}))},n.prototype.componentDidUpdate=function(){if(!1!==this.shouldTruncate&&!1!==this.isValid)return this.endFound?null!==this.latestThatFits&&this.state.text!==this.latestThatFits?void this.setState({text:this.latestThatFits}):void this.onTruncate(!0):void(this.splitDirectionSeq.length&&(this.fits()?(this.latestThatFits=this.state.text,this.splitDirectionSeq.splice(this.splitDirectionSeq.length-1,1,EC,bC)):this.splitDirectionSeq.push(bC),this.tryToFit(this.origText,this.splitDirectionSeq)))},n.prototype.componentWillUnmount=function(){this.lineHeight=null,this.latestThatFits=null,this.splitDirectionSeq=[]},n.prototype.truncate=function(){if(this.fits())return this.shouldTruncate=!1,void this.onTruncate(!1);this.truncateOriginalText()},n.prototype.childrenElementWithRef=function(e){var n=t.Children.only(e);return t.cloneElement(n,{ref:this.setRef,style:yC({wordWrap:"break-word"},n.props.style)})},n.prototype.truncateOriginalText=function(){this.endFound=!1,this.splitDirectionSeq=[bC],this.wasLastCharTested=!1,this.tryToFit(this.origText,this.splitDirectionSeq)},n.prototype.tryToFit=function(e,n){if(e.props.children){var r=this.split(e,n,!0),i="function"===typeof this.props.ellipsis?this.props.ellipsis(r):this.props.ellipsis;i="object"===("undefined"===typeof i?"undefined":vC(i))?t.cloneElement(i,{key:"ellipsis"}):i;var o=r.props.children,a=[].concat(o,i),s=wC(o)!==this.toStringMemo(this.props.children);this.setState({text:yC({},r,{props:yC({},r.props,{children:s?a:o})})})}},n.prototype.split=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return!e||mC(e)?(this.endFound=!0,e):"string"===typeof e?this.splitString(e,t,r):Array.isArray(e)?this.splitArray(e,t,r):function(e,t,n,r){return yC({},e,{props:yC({},e.props,{style:yC({},e.props.style,n?{display:(e.props.style||{}).display||"block"}:2===r?{display:(e.props.style||{}).display||"inline-block"}:{}),children:t})})}(e,this.split(e.props.children,t,!1,r+1),n,r)},n.prototype.splitString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!t.length)return e;if(t.length&&this.policy.isAtomic(e))return this.wasLastCharTested?this.endFound=!0:this.wasLastCharTested=!0,e;if(this.policy.tokenizeString)return this.splitArray(this.policy.tokenizeString(e),t,n).join("");var r=t[0],i=t.slice(1),o=Math.ceil(e.length/2),a=e.substring(0,o);if(r===bC)return this.splitString(a,i,n);var s=e.substring(o);return a+this.splitString(s,i,n)},n.prototype.splitArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!t.length)return e;if(1===e.length)return[this.split(e[0],t,!1,n)];var r=t[0],i=t.slice(1),o=Math.ceil(e.length/2),a=e.slice(0,o);if(r===bC)return this.splitArray(a,i,n);var s=e.slice(o);return a.concat(this.splitArray(s,i,n))},n.prototype.fits=function(){var e=this.props.lines,t=this.el.getBoundingClientRect().height;return e>=Math.round(t/parseFloat(this.lineHeight))},n.prototype.render=function(){return this.state.text},gC(n,[{key:"isValid",get:function(){return this.validateTreeMemo(this.props.children)}},{key:"origText",get:function(){return this.childrenWithRefMemo(this.props.children)}},{key:"policy",get:function(){return dC[this.props.tokenize]||dC.characters}}]),n}(t.Component),fC.Atom=hC,fC.defaultProps={lines:1,ellipsis:"...",lineHeight:"",onTruncate:function(){},tokenize:"characters"},pC);SC.propTypes={};const TC="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_C="\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2",kC=(e,t)=>{for(const n in t)e[n]=t[n];return e},xC="numeric",AC="ascii",IC="alpha",MC="asciinumeric",RC="alphanumeric",LC="domain",DC="emoji",OC="scheme",PC="slashscheme",NC="whitespace";function FC(e,t){return e in t||(t[e]=[]),t[e]}function jC(e,t,n){t[xC]&&(t[MC]=!0,t[RC]=!0),t[AC]&&(t[MC]=!0,t[IC]=!0),t[MC]&&(t[RC]=!0),t[IC]&&(t[RC]=!0),t[RC]&&(t[LC]=!0),t[DC]&&(t[LC]=!0);for(const r in t){const t=FC(r,n);t.indexOf(e)<0&&t.push(e)}}function BC(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}BC.groups={},BC.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],i=t.jr[r][1];if(i&&n.test(e))return i}return t.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){let i;return r=r||BC.groups,t&&t.j?i=t:(i=new BC(t),n&&r&&jC(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||BC.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let a,s=i.go(e);if(s?(a=new BC,kC(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new BC,o){if(r)if(a.t&&"string"===typeof a.t){const e=kC(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(a.t,r),n);jC(o,e,r)}else n&&jC(o,n,r);a.t=o}return i.j[e]=a,a}};const UC=(e,t,n,r,i)=>e.ta(t,n,r,i),zC=(e,t,n,r,i)=>e.tr(t,n,r,i),HC=(e,t,n,r,i)=>e.ts(t,n,r,i),VC=(e,t,n,r,i)=>e.tt(t,n,r,i),qC="WORD",GC="UWORD",WC="LOCALHOST",KC="TLD",YC="UTLD",QC="SCHEME",ZC="SLASH_SCHEME",$C="NUM",XC="WS",JC="NL",eS="OPENBRACE",tS="CLOSEBRACE",nS="OPENBRACKET",rS="CLOSEBRACKET",iS="OPENPAREN",oS="CLOSEPAREN",aS="OPENANGLEBRACKET",sS="CLOSEANGLEBRACKET",lS="FULLWIDTHLEFTPAREN",cS="FULLWIDTHRIGHTPAREN",uS="LEFTCORNERBRACKET",dS="RIGHTCORNERBRACKET",hS="LEFTWHITECORNERBRACKET",fS="RIGHTWHITECORNERBRACKET",pS="FULLWIDTHLESSTHAN",mS="FULLWIDTHGREATERTHAN",gS="AMPERSAND",vS="APOSTROPHE",yS="ASTERISK",bS="AT",ES="BACKSLASH",wS="BACKTICK",CS="CARET",SS="COLON",TS="COMMA",_S="DOLLAR",kS="DOT",xS="EQUALS",AS="EXCLAMATION",IS="HYPHEN",MS="PERCENT",RS="PIPE",LS="PLUS",DS="POUND",OS="QUERY",PS="QUOTE",NS="SEMI",FS="SLASH",jS="TILDE",BS="UNDERSCORE",US="EMOJI",zS="SYM";var HS=Object.freeze({__proto__:null,WORD:qC,UWORD:GC,LOCALHOST:WC,TLD:KC,UTLD:YC,SCHEME:QC,SLASH_SCHEME:ZC,NUM:$C,WS:XC,NL:JC,OPENBRACE:eS,CLOSEBRACE:tS,OPENBRACKET:nS,CLOSEBRACKET:rS,OPENPAREN:iS,CLOSEPAREN:oS,OPENANGLEBRACKET:aS,CLOSEANGLEBRACKET:sS,FULLWIDTHLEFTPAREN:lS,FULLWIDTHRIGHTPAREN:cS,LEFTCORNERBRACKET:uS,RIGHTCORNERBRACKET:dS,LEFTWHITECORNERBRACKET:hS,RIGHTWHITECORNERBRACKET:fS,FULLWIDTHLESSTHAN:pS,FULLWIDTHGREATERTHAN:mS,AMPERSAND:gS,APOSTROPHE:vS,ASTERISK:yS,AT:bS,BACKSLASH:ES,BACKTICK:wS,CARET:CS,COLON:SS,COMMA:TS,DOLLAR:_S,DOT:kS,EQUALS:xS,EXCLAMATION:AS,HYPHEN:IS,PERCENT:MS,PIPE:RS,PLUS:LS,POUND:DS,QUERY:OS,QUOTE:PS,SEMI:NS,SLASH:FS,TILDE:jS,UNDERSCORE:BS,EMOJI:US,SYM:zS});const VS=/[a-z]/,qS=/\p{L}/u,GS=/\p{Emoji}/u,WS=/\d/,KS=/\s/;const YS="\n",QS="\ufe0f",ZS="\u200d";let $S=null,XS=null;function JS(e,t,n,r,i){let o;const a=t.length;for(let s=0;s<a-1;s++){const n=t[s];e.j[n]?o=e.j[n]:(o=new BC(r),o.jr=i.slice(),e.j[n]=o),e=o}return o=new BC(n),o.jr=i.slice(),e.j[t[a-1]]=o,o}function eT(e){const t=[],n=[];let r=0;for(;r<e.length;){let i=0;for(;"0123456789".indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+i),10);t>0;t--)n.pop();r+=i}else n.push(e[r]),r++}return t}const tT={defaultProtocol:"http",events:null,format:rT,formatHref:rT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function nT(e,t){void 0===t&&(t=null);let n=kC({},tT);e&&(n=kC(n,e instanceof nT?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function rT(e){return e}nT.prototype={o:tT,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let i=this.o[e];return i?("object"===typeof i?(i=n.t in i?i[n.t]:tT[e],"function"===typeof i&&r&&(i=i(t,n))):"function"===typeof i&&r&&(i=i(t,n.t,n)),i):i},getObj(e,t,n){let r=this.o[e];return"function"===typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};var iT=Object.freeze({__proto__:null,defaults:tT,Options:nT,assign:kC});function oT(e,t){this.t="token",this.v=e,this.tk=t}function aT(e,t){class n extends oT{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}oT.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=tT.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&kC(a,u),{tagName:i,attributes:a,content:o,eventListeners:d}}};const sT=aT("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),lT=aT("text"),cT=aT("nl"),uT=aT("url",{isLink:!0,toHref(e){return void 0===e&&(e=tT.defaultProtocol),this.hasProtocol()?this.v:"".concat(e,"://").concat(this.v)},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==WC&&e[1].t===SS}});const dT=e=>new BC(e);function hT(e,t,n){const r=n[0].s,i=n[n.length-1].e;return new e(t.slice(r,i),n)}"undefined"!==typeof console&&console&&console.warn;const fT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pT(){fT.scanner=function(e){void 0===e&&(e=[]);const t={};BC.groups=t;const n=new BC;null==$S&&($S=eT(TC)),null==XS&&(XS=eT(_C)),VC(n,"'",vS),VC(n,"{",eS),VC(n,"}",tS),VC(n,"[",nS),VC(n,"]",rS),VC(n,"(",iS),VC(n,")",oS),VC(n,"<",aS),VC(n,">",sS),VC(n,"\uff08",lS),VC(n,"\uff09",cS),VC(n,"\u300c",uS),VC(n,"\u300d",dS),VC(n,"\u300e",hS),VC(n,"\u300f",fS),VC(n,"\uff1c",pS),VC(n,"\uff1e",mS),VC(n,"&",gS),VC(n,"*",yS),VC(n,"@",bS),VC(n,"`",wS),VC(n,"^",CS),VC(n,":",SS),VC(n,",",TS),VC(n,"$",_S),VC(n,".",kS),VC(n,"=",xS),VC(n,"!",AS),VC(n,"-",IS),VC(n,"%",MS),VC(n,"|",RS),VC(n,"+",LS),VC(n,"#",DS),VC(n,"?",OS),VC(n,'"',PS),VC(n,"/",FS),VC(n,";",NS),VC(n,"~",jS),VC(n,"_",BS),VC(n,"\\",ES);const r=zC(n,WS,$C,{[xC]:!0});zC(r,WS,r);const i=zC(n,VS,qC,{[AC]:!0});zC(i,VS,i);const o=zC(n,qS,GC,{[IC]:!0});zC(o,VS),zC(o,qS,o);const a=zC(n,KS,XC,{[NC]:!0});VC(n,YS,JC,{[NC]:!0}),VC(a,YS),zC(a,KS,a);const s=zC(n,GS,US,{[DC]:!0});zC(s,GS,s),VC(s,QS,s);const l=VC(s,ZS);zC(l,GS,s);const c=[[VS,i]],u=[[VS,null],[qS,o]];for(let d=0;d<$S.length;d++)JS(n,$S[d],KC,qC,c);for(let d=0;d<XS.length;d++)JS(n,XS[d],YC,GC,u);jC(KC,{tld:!0,ascii:!0},t),jC(YC,{utld:!0,alpha:!0},t),JS(n,"file",QC,qC,c),JS(n,"mailto",QC,qC,c),JS(n,"http",ZC,qC,c),JS(n,"https",ZC,qC,c),JS(n,"ftp",ZC,qC,c),JS(n,"ftps",ZC,qC,c),jC(QC,{scheme:!0,ascii:!0},t),jC(ZC,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let d=0;d<e.length;d++){const t=e[d][0],r=e[d][1]?{[OC]:!0}:{[PC]:!0};t.indexOf("-")>=0?r[LC]=!0:VS.test(t)?WS.test(t)?r[MC]=!0:r[AC]=!0:r[xC]=!0,HC(n,t,t,r)}return HC(n,"localhost",WC,{ascii:!0}),n.jd=new BC(zS),{start:n,tokens:kC({groups:t},HS)}}(fT.customSchemes);for(let e=0;e<fT.tokenQueue.length;e++)fT.tokenQueue[e][1]({scanner:fT.scanner});fT.parser=function(e){let{groups:t}=e;const n=t.domain.concat([gS,yS,bS,ES,wS,CS,_S,xS,IS,$C,MS,RS,LS,DS,FS,zS,jS,BS]),r=[vS,SS,TS,kS,AS,OS,PS,NS,aS,sS,eS,tS,rS,nS,iS,oS,lS,cS,uS,dS,hS,fS,pS,mS],i=[gS,vS,yS,ES,wS,CS,_S,xS,IS,eS,tS,MS,RS,LS,DS,OS,FS,zS,jS,BS],o=dT(),a=VC(o,jS);UC(a,i,a),UC(a,t.domain,a);const s=dT(),l=dT(),c=dT();UC(o,t.domain,s),UC(o,t.scheme,l),UC(o,t.slashscheme,c),UC(s,i,a),UC(s,t.domain,s);const u=VC(s,bS);VC(a,bS,u),VC(l,bS,u),VC(c,bS,u);const d=VC(a,kS);UC(d,i,a),UC(d,t.domain,a);const h=dT();UC(u,t.domain,h),UC(h,t.domain,h);const f=VC(h,kS);UC(f,t.domain,h);const p=dT(sT);UC(f,t.tld,p),UC(f,t.utld,p),VC(u,WC,p);const m=VC(h,IS);UC(m,t.domain,h),UC(p,t.domain,h),VC(p,kS,f),VC(p,IS,m);const g=VC(p,SS);UC(g,t.numeric,sT);const v=VC(s,IS),y=VC(s,kS);UC(v,t.domain,s),UC(y,i,a),UC(y,t.domain,s);const b=dT(uT);UC(y,t.tld,b),UC(y,t.utld,b),UC(b,t.domain,s),UC(b,i,a),VC(b,kS,y),VC(b,IS,v),VC(b,bS,u);const E=VC(b,SS),w=dT(uT);UC(E,t.numeric,w);const C=dT(uT),S=dT();UC(C,n,C),UC(C,r,S),UC(S,n,C),UC(S,r,S),VC(b,FS,C),VC(w,FS,C);const T=VC(l,SS),_=VC(c,SS),k=VC(_,FS),x=VC(k,FS);UC(l,t.domain,s),VC(l,kS,y),VC(l,IS,v),UC(c,t.domain,s),VC(c,kS,y),VC(c,IS,v),UC(T,t.domain,C),VC(T,FS,C),UC(x,t.domain,C),UC(x,n,C),VC(x,FS,C);const A=[[eS,tS],[nS,rS],[iS,oS],[aS,sS],[lS,cS],[uS,dS],[hS,fS],[pS,mS]];for(let I=0;I<A.length;I++){const[e,t]=A[I],i=VC(C,e);VC(S,e,i),VC(i,t,C);const o=dT(uT);UC(i,n,o);const a=dT();UC(i,r),UC(o,n,o),UC(o,r,a),UC(a,n,o),UC(a,r,a),VC(o,t,C),VC(a,t,C)}return VC(o,WC,b),VC(o,JC,cT),{start:o,tokens:HS}}(fT.scanner.tokens);for(let e=0;e<fT.pluginQueue.length;e++)fT.pluginQueue[e][1]({scanner:fT.scanner,parser:fT.parser});fT.initialized=!0}function mT(e){return fT.initialized||pT(),function(e,t,n){let r=n.length,i=0,o=[],a=[];for(;i<r;){let s=e,l=null,c=null,u=0,d=null,h=-1;for(;i<r&&!(l=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(c=l||s.go(n[i].t));)l=null,s=c,s.accepts()?(h=0,d=s):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(hT(lT,t,a)),a=[]),i-=h,u-=h;const e=d.t,r=n.slice(i-u,i);o.push(hT(e,t,r))}}return a.length>0&&o.push(hT(lT,t,a)),o}(fT.parser.start,e,function(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let i,o=e.charCodeAt(r),a=o<55296||o>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,i=[];let o=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,h=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,h=0,u=s):d>=0&&(d+=n[a].length,h++),c+=n[a].length,o+=n[a].length,a++;o-=d,a-=h,c-=d,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}(fT.scanner.start,e))}function gT(e,n,r){if(0===t.Children.count(e.props.children))return e;const i=[];t.Children.forEach(e.props.children,(e=>{"string"===typeof e?i.push.apply(i,function(e,n,r){const i=mT(e),o=[];for(let a=0;a<i.length;a++){const e=i[a];if("nl"===e.t&&n.get("nl2br")){const e="__linkify-el-".concat(r.elementId++);o.push(t.createElement("br",{key:e}))}else if(e.isLink&&n.check(e)){let i=n.render(e);if(!("key"in i.props)){const e="__linkify-el-".concat(r.elementId++),n=iT.assign({key:e},i.props);i=t.cloneElement(i,n)}o.push(i)}else o.push(e.toString())}return o}(e,n,r)):t.isValidElement(e)?"string"===typeof e.type&&n.ignoreTags.indexOf(e.type.toUpperCase())>=0?i.push(e):i.push(gT(e,n,r)):i.push(e)}));const o="__linkify-el-".concat(r.elementId++),a=iT.assign({key:o},e.props);return t.cloneElement(e,a,i)}const vT=e=>{let n=0;const r={key:"__linkify-wrapper"};for(const t in e)"options"!==t&&"as"!==t&&"tagName"!==t&&"children"!==t&&(r[t]=e[t]);const i=new nT(e.options,(e=>{let{tagName:r,attributes:i,content:o}=e;return i.key="__linkify-lnk-".concat(n++),i.class&&(i.className=i.class,delete i.class),t.createElement(r,i,o)})),o=e.as||e.tagName||t.Fragment||"span",a=e.children;return gT(t.createElement(o,r,a),i,{elementId:0})};function yT(e){const t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;const n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;{const[e,t,...r]=n.map((e=>parseInt(e))),i=[e,t-1,...r];return new Date(Date.UTC(...i))}}function bT(e,t,n){return e+" "+(1!==e?t+"s":t)+" "+n}function ET(){return ET=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ET.apply(this,arguments)}const wT=3600,CT=86400,ST=604800,TT=2592e3,_T=31536e3,kT=()=>Date.now();function xT(e){let{date:n,formatter:r=bT,component:i="time",live:o=!0,minPeriod:a=0,maxPeriod:s=ST,title:l,now:c=kT,...u}=e;const[d,h]=(0,t.useState)(c());(0,t.useEffect)((()=>{if(!o)return;const e=(()=>{const e=yT(n).valueOf();if(!e)return console.warn("[react-timeago] Invalid Date provided"),0;const t=Math.round(Math.abs(d-e)/1e3),r=t<60?1e3:t<wT?6e4:t<CT?36e5:1e3*ST,i=Math.min(Math.max(r,1e3*a),1e3*s);return i?setTimeout((()=>{h(c())}),i):0})();return()=>{e&&clearTimeout(e)}}),[n,o,s,a,c,d]);const f=i,p=yT(n).valueOf();if(!p)return null;const m=Math.round(Math.abs(d-p)/1e3),g=p<d?"ago":"from now",[v,y]=m<60?[Math.round(m),"second"]:m<wT?[Math.round(m/60),"minute"]:m<CT?[Math.round(m/wT),"hour"]:m<ST?[Math.round(m/CT),"day"]:m<TT?[Math.round(m/ST),"week"]:m<_T?[Math.round(m/TT),"month"]:[Math.round(m/_T),"year"],b="undefined"===typeof l?"string"===typeof n?n:yT(n).toISOString().substr(0,16).replace("T"," "):l,E="time"===f?{...u,dateTime:yT(n).toISOString()}:u,w=bT.bind(null,v,y,g);return t.createElement(f,ET({},E,{title:b}),r(v,y,g,p,w,c))}var AT=n(546),IT=n(6154),MT=n.n(IT),RT=e=>"checkbox"===e.type,LT=e=>e instanceof Date,DT=e=>null==e;const OT=e=>"object"===typeof e;var PT=e=>!DT(e)&&!Array.isArray(e)&&OT(e)&&!LT(e),NT=e=>PT(e)&&e.target?RT(e.target)?e.target.checked:e.target.value:e,FT=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),jT=e=>{const t=e.constructor&&e.constructor.prototype;return PT(t)&&t.hasOwnProperty("isPrototypeOf")},BT="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function UT(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(BT&&(e instanceof Blob||e instanceof FileList)||!n&&!PT(e))return e;if(t=n?[]:{},n||jT(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=UT(e[n]));else t=e}return t}var zT=e=>Array.isArray(e)?e.filter(Boolean):[],HT=e=>void 0===e,VT=(e,t,n)=>{if(!t||!PT(e))return n;const r=zT(t.split(/[,[\].]+?/)).reduce(((e,t)=>DT(e)?e:e[t]),e);return HT(r)||r===e?HT(e[t])?n:e[t]:r},qT=e=>"boolean"===typeof e;const GT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},WT={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},KT="max",YT="min",QT="maxLength",ZT="minLength",$T="pattern",XT="required",JT="validate",e_=t.createContext(null),t_=()=>t.useContext(e_);var n_=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==WT.all&&(t._proxyFormState[i]=!r||WT.all),n&&(n[i]=!0),e[i]}});return i},r_=e=>PT(e)&&!Object.keys(e).length,i_=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return r_(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!r||WT.all)))},o_=e=>Array.isArray(e)?e:[e],a_=(e,t,n)=>!e||!t||e===t||o_(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function s_(e){const n=t.useRef(e);n.current=e,t.useEffect((()=>{const t=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{t&&t.unsubscribe()}}),[e.disabled])}var l_=e=>"string"===typeof e,c_=(e,t,n,r,i)=>l_(e)?(r&&t.watch.add(e),VT(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),VT(n,e)))):(r&&(t.watchAll=!0),n);var u_=e=>/^\w*$/.test(e),d_=e=>zT(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h_=(e,t,n)=>{let r=-1;const i=u_(t)?[t]:d_(t),o=i.length,a=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==a){const n=e[t];o=PT(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=o,e=e[t]}return e};function f_(e){const n=t_(),{name:r,disabled:i,control:o=n.control,shouldUnregister:a}=e,s=FT(o._names.array,r),l=function(e){const n=t_(),{control:r=n.control,name:i,defaultValue:o,disabled:a,exact:s}=e||{},l=t.useRef(i);l.current=i,s_({disabled:a,subject:r._subjects.values,next:e=>{a_(l.current,e.name,s)&&u(UT(c_(l.current,r._names,e.values||r._formValues,!1,o)))}});const[c,u]=t.useState(r._getWatch(i,o));return t.useEffect((()=>r._removeUnmounted())),c}({control:o,name:r,defaultValue:VT(o._formValues,r,VT(o._defaultValues,r,e.defaultValue)),exact:!0}),c=function(e){const n=t_(),{control:r=n.control,disabled:i,name:o,exact:a}=e||{},[s,l]=t.useState(r._formState),c=t.useRef(!0),u=t.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=t.useRef(o);return d.current=o,s_({disabled:i,next:e=>c.current&&a_(d.current,e.name,a)&&i_(e,u.current,r._updateFormState)&&l({...r._formState,...e}),subject:r._subjects.state}),t.useEffect((()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1})),[r]),n_(s,r,u.current,!1)}({control:o,name:r}),u=t.useRef(o.register(r,{...e.rules,value:l,...qT(e.disabled)?{disabled:e.disabled}:{}}));return t.useEffect((()=>{const e=o._options.shouldUnregister||a,t=(e,t)=>{const n=VT(o._fields,e);n&&(n._f.mount=t)};if(t(r,!0),e){const e=UT(VT(o._options.defaultValues,r));h_(o._defaultValues,r,e),HT(VT(o._formValues,r))&&h_(o._formValues,r,e)}return()=>{(s?e&&!o._state.action:e)?o.unregister(r):t(r,!1)}}),[r,o,s,a]),t.useEffect((()=>{VT(o._fields,r)&&o._updateDisabledField({disabled:i,fields:o._fields,name:r,value:VT(o._fields,r)._f.value})}),[i,r,o]),{field:{name:r,value:l,...qT(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:t.useCallback((e=>u.current.onChange({target:{value:NT(e),name:r},type:GT.CHANGE})),[r]),onBlur:t.useCallback((()=>u.current.onBlur({target:{value:VT(o._formValues,r),name:r},type:GT.BLUR})),[r,o]),ref:e=>{const t=VT(o._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!VT(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!VT(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!VT(c.touchedFields,r)},error:{enumerable:!0,get:()=>VT(c.errors,r)}})}}const p_=e=>e.render(f_(e));var m_=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},g_=e=>({isOnSubmit:!e||e===WT.onSubmit,isOnBlur:e===WT.onBlur,isOnChange:e===WT.onChange,isOnAll:e===WT.all,isOnTouch:e===WT.onTouched}),v_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const y_=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=VT(e,i);if(n){const{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;y_(o,t)}else PT(o)&&y_(o,t)}}};var b_=(e,t,n)=>{const r=zT(VT(e,n));return h_(r,"root",t[n]),h_(e,n,r),e},E_=e=>"file"===e.type,w_=e=>"function"===typeof e,C_=e=>{if(!BT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},S_=e=>l_(e),T_=e=>"radio"===e.type,__=e=>e instanceof RegExp;const k_={value:!1,isValid:!1},x_={value:!0,isValid:!0};var A_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!HT(e[0].attributes.value)?HT(e[0].value)||""===e[0].value?x_:{value:e[0].value,isValid:!0}:x_:k_}return k_};const I_={isValid:!1,value:null};var M_=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),I_):I_;function R_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(S_(e)||Array.isArray(e)&&e.every(S_)||qT(e)&&!e)return{type:n,message:S_(e)?e:"",ref:t}}var L_=e=>PT(e)&&!__(e)?e:{value:e,message:""},D_=async(e,t,n,r,i)=>{const{ref:o,refs:a,required:s,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,y=VT(t,p);if(!g||v)return{};const b=a?a[0]:o,E=e=>{r&&b.reportValidity&&(b.setCustomValidity(qT(e)?"":e||""),b.reportValidity())},w={},C=T_(o),S=RT(o),T=C||S,_=(m||E_(o))&&HT(o.value)&&HT(y)||C_(o)&&""===o.value||""===y||Array.isArray(y)&&!y.length,k=m_.bind(null,p,n,w),x=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:QT,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ZT;const a=e?t:n;w[p]={type:e?r:i,message:a,ref:o,...k(e?r:i,a)}};if(i?!Array.isArray(y)||!y.length:s&&(!T&&(_||DT(y))||qT(y)&&!y||S&&!A_(a).isValid||C&&!M_(a).isValid)){const{value:e,message:t}=S_(s)?{value:!!s,message:s}:L_(s);if(e&&(w[p]={type:XT,message:t,ref:b,...k(XT,t)},!n))return E(t),w}if(!_&&(!DT(u)||!DT(d))){let e,t;const r=L_(d),i=L_(u);if(DT(y)||isNaN(y)){const n=o.valueAsDate||new Date(y),a=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;l_(r.value)&&y&&(e=s?a(y)>a(r.value):l?y>r.value:n>new Date(r.value)),l_(i.value)&&y&&(t=s?a(y)<a(i.value):l?y<i.value:n<new Date(i.value))}else{const n=o.valueAsNumber||(y?+y:y);DT(r.value)||(e=n>r.value),DT(i.value)||(t=n<i.value)}if((e||t)&&(x(!!e,r.message,i.message,KT,YT),!n))return E(w[p].message),w}if((l||c)&&!_&&(l_(y)||i&&Array.isArray(y))){const e=L_(l),t=L_(c),r=!DT(e.value)&&y.length>+e.value,i=!DT(t.value)&&y.length<+t.value;if((r||i)&&(x(r,e.message,t.message),!n))return E(w[p].message),w}if(h&&!_&&l_(y)){const{value:e,message:t}=L_(h);if(__(e)&&!y.match(e)&&(w[p]={type:$T,message:t,ref:o,...k($T,t)},!n))return E(t),w}if(f)if(w_(f)){const e=R_(await f(y,t),b);if(e&&(w[p]={...e,...k(JT,e.message)},!n))return E(e.message),w}else if(PT(f)){let e={};for(const r in f){if(!r_(e)&&!n)break;const i=R_(await f[r](y,t),b,r);i&&(e={...i,...k(r,i.message)},E(i.message),n&&(w[p]=e))}if(!r_(e)&&(w[p]={ref:b,...e},!n))return w}return E(!0),w};function O_(e,t){const n=Array.isArray(t)?t:u_(t)?[t]:d_(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=HT(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(PT(r)&&r_(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!HT(e[t]))return!1;return!0}(r))&&O_(e,n.slice(0,-1)),e}var P_=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},N_=e=>DT(e)||!OT(e);function F_(e,t){if(N_(e)||N_(t))return e===t;if(LT(e)&&LT(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(LT(n)&&LT(e)||PT(n)&&PT(e)||Array.isArray(n)&&Array.isArray(e)?!F_(n,e):n!==e)return!1}}return!0}var j_=e=>"select-multiple"===e.type,B_=e=>T_(e)||RT(e),U_=e=>C_(e)&&e.isConnected,z_=e=>{for(const t in e)if(w_(e[t]))return!0;return!1};function H_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(PT(e)||n)for(const r in e)Array.isArray(e[r])||PT(e[r])&&!z_(e[r])?(t[r]=Array.isArray(e[r])?[]:{},H_(e[r],t[r])):DT(e[r])||(t[r]=!0);return t}function V_(e,t,n){const r=Array.isArray(e);if(PT(e)||r)for(const i in e)Array.isArray(e[i])||PT(e[i])&&!z_(e[i])?HT(t)||N_(n[i])?n[i]=Array.isArray(e[i])?H_(e[i],[]):{...H_(e[i])}:V_(e[i],DT(t)?{}:t[i],n[i]):n[i]=!F_(e[i],t[i]);return n}var q_=(e,t)=>V_(e,t,H_(t)),G_=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return HT(e)?e:n?""===e?NaN:e?+e:e:r&&l_(e)?new Date(e):i?i(e):e};function W_(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return E_(t)?t.files:T_(t)?M_(e.refs).value:j_(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):RT(t)?A_(e.refs).value:G_(HT(t.value)?e.ref.value:t.value,e)}var K_=(e,t,n,r)=>{const i={};for(const o of e){const e=VT(t,o);e&&h_(i,o,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Y_=e=>HT(e)?e:__(e)?e.source:PT(e)?__(e.value)?e.value.source:e.value:e,Q_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Z_(e,t,n){const r=VT(e,n);if(r||u_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),o=VT(t,r),a=VT(e,r);if(o&&!Array.isArray(o)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}var $_=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),X_=(e,t)=>!zT(VT(e,t)).length&&O_(e,t);const J_={mode:WT.onSubmit,reValidateMode:WT.onChange,shouldFocusError:!0};function ek(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={...J_,...t},i={submitCount:0,isDirty:!1,isLoading:w_(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},o={},a=(PT(r.defaultValues)||PT(r.values))&&UT(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:UT(a),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:P_(),array:P_(),state:P_()},f=g_(r.mode),p=g_(r.reValidateMode),m=r.criteriaMode===WT.all,g=async e=>{if(d.isValid||e){const e=r.resolver?r_((await w()).errors):await C(o,!0);e!==i.isValid&&h.state.next({isValid:e})}},v=e=>d.isValidating&&h.state.next({isValidating:e}),y=(e,t,n,r)=>{const i=VT(o,e);if(i){const o=VT(s,e,HT(n)?VT(a,e):n);HT(o)||r&&r.defaultChecked||t?h_(s,e,t?o:W_(i._f)):_(e,o),l.mount&&g()}},b=(e,t,n,r,s)=>{let l=!1,c=!1;const u={name:e},f=!(!VT(o,e)||!VT(o,e)._f.disabled);if(!n||r){d.isDirty&&(c=i.isDirty,i.isDirty=u.isDirty=S(),l=c!==u.isDirty);const n=f||F_(VT(a,e),t);c=!(f||!VT(i.dirtyFields,e)),n||f?O_(i.dirtyFields,e):h_(i.dirtyFields,e,!0),u.dirtyFields=i.dirtyFields,l=l||d.dirtyFields&&c!==!n}if(n){const t=VT(i.touchedFields,e);t||(h_(i.touchedFields,e,n),u.touchedFields=i.touchedFields,l=l||d.touchedFields&&t!==n)}return l&&s&&h.state.next(u),l?u:{}},E=(n,r,o,a)=>{const s=VT(i.errors,n),l=d.isValid&&qT(r)&&i.isValid!==r;var c;if(t.delayError&&o?(c=()=>((e,t)=>{h_(i.errors,e,t),h.state.next({errors:i.errors})})(n,o),e=e=>{clearTimeout(u),u=setTimeout(c,e)},e(t.delayError)):(clearTimeout(u),e=null,o?h_(i.errors,n,o):O_(i.errors,n)),(o?!F_(s,o):s)||!r_(a)||l){const e={...a,...l&&qT(r)?{isValid:r}:{},errors:i.errors,name:n};i={...i,...e},h.state.next(e)}v(!1)},w=async e=>r.resolver(s,r.context,K_(e||c.mount,o,r.criteriaMode,r.shouldUseNativeValidation)),C=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const o in e){const a=e[o];if(a){const{_f:e,...o}=a;if(e){const o=c.array.has(e.name),l=await D_(a,s,m,r.shouldUseNativeValidation&&!t,o);if(l[e.name]&&(n.valid=!1,t))break;!t&&(VT(l,e.name)?o?b_(i.errors,l,e.name):h_(i.errors,e.name,l[e.name]):O_(i.errors,e.name))}o&&await C(o,t,n)}}return n.valid},S=(e,t)=>(e&&t&&h_(s,e,t),!F_(R(),a)),T=(e,t,n)=>c_(e,c,{...l.mount?s:HT(t)?a:l_(e)?{[e]:t}:t},n,t),_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=VT(o,e);let i=t;if(r){const n=r._f;n&&(!n.disabled&&h_(s,e,G_(t,n)),i=C_(n.ref)&&DT(t)?"":t,j_(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?RT(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach((e=>e.checked=e.value===i)):E_(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||h.values.next({name:e,values:{...s}})))}(n.shouldDirty||n.shouldTouch)&&b(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&M(e)},k=(e,t,n)=>{for(const r in t){const i=t[r],a="".concat(e,".").concat(r),s=VT(o,a);!c.array.has(e)&&N_(i)&&(!s||s._f)||LT(i)?_(a,i,n):k(a,i,n)}},x=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=VT(o,e),f=c.array.has(e),p=UT(t);h_(s,e,p),f?(h.array.next({name:e,values:{...s}}),(d.isDirty||d.dirtyFields)&&r.shouldDirty&&h.state.next({name:e,dirtyFields:q_(a,s),isDirty:S(e,p)})):!u||u._f||DT(p)?_(e,p,r):k(e,p,r),v_(e,c)&&h.state.next({...i}),h.values.next({name:e,values:{...s}}),!l.mount&&n()},A=async t=>{const n=t.target;let a=n.name,l=!0;const u=VT(o,a),y=e=>{l=Number.isNaN(e)||e===VT(s,a,e)};if(u){let S,T;const _=n.type?W_(u._f):NT(t),k=t.type===GT.BLUR||t.type===GT.FOCUS_OUT,x=!Q_(u._f)&&!r.resolver&&!VT(i.errors,a)&&!u._f.deps||$_(k,VT(i.touchedFields,a),i.isSubmitted,p,f),A=v_(a,c,k);h_(s,a,_),k?(u._f.onBlur&&u._f.onBlur(t),e&&e(0)):u._f.onChange&&u._f.onChange(t);const I=b(a,_,k,!1),R=!r_(I)||A;if(!k&&h.values.next({name:a,type:t.type,values:{...s}}),x)return d.isValid&&g(),R&&h.state.next({name:a,...A?{}:I});if(!k&&A&&h.state.next({...i}),v(!0),r.resolver){const{errors:e}=await w([a]);if(y(_),l){const t=Z_(i.errors,o,a),n=Z_(e,o,t.name||a);S=n.error,a=n.name,T=r_(e)}}else S=(await D_(u,s,m,r.shouldUseNativeValidation))[a],y(_),l&&(S?T=!1:d.isValid&&(T=await C(o,!0)));l&&(u._f.deps&&M(u._f.deps),E(a,T,S,I))}},I=(e,t)=>{if(VT(i.errors,t)&&e.focus)return e.focus(),1},M=async function(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=o_(e);if(v(!0),r.resolver){const r=await(async e=>{const{errors:t}=await w(e);if(e)for(const n of e){const e=VT(t,n);e?h_(i.errors,n,e):O_(i.errors,n)}else i.errors=t;return t})(HT(e)?e:s);t=r_(r),n=e?!s.some((e=>VT(r,e))):t}else e?(n=(await Promise.all(s.map((async e=>{const t=VT(o,e);return await C(t&&t._f?{[e]:t}:t)})))).every(Boolean),(n||i.isValid)&&g()):n=t=await C(o);return h.state.next({...!l_(e)||d.isValid&&t!==i.isValid?{}:{name:e},...r.resolver||!e?{isValid:t}:{},errors:i.errors,isValidating:!1}),a.shouldFocus&&!n&&y_(o,I,e?s:c.mount),n},R=e=>{const t={...a,...l.mount?s:{}};return HT(e)?t:l_(e)?VT(t,e):e.map((e=>VT(t,e)))},L=(e,t)=>({invalid:!!VT((t||i).errors,e),isDirty:!!VT((t||i).dirtyFields,e),isTouched:!!VT((t||i).touchedFields,e),error:VT((t||i).errors,e)}),D=(e,t,n)=>{const r=(VT(o,e,{_f:{}})._f||{}).ref;h_(i.errors,e,{...t,ref:r}),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of e?o_(e):c.mount)c.mount.delete(n),c.array.delete(n),t.keepValue||(O_(o,n),O_(s,n)),!t.keepError&&O_(i.errors,n),!t.keepDirty&&O_(i.dirtyFields,n),!t.keepTouched&&O_(i.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&O_(a,n);h.values.next({values:{...s}}),h.state.next({...i,...t.keepDirty?{isDirty:S()}:{}}),!t.keepIsValid&&g()},P=e=>{let{disabled:t,name:n,field:r,fields:i,value:o}=e;if(qT(t)){const e=t?void 0:HT(o)?W_(r?r._f:VT(i,n)._f):o;h_(s,n,e),b(n,e,!1,!1,!0)}},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=VT(o,e);const i=qT(t.disabled);return h_(o,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),c.mount.add(e),n?P({field:n,disabled:t.disabled,name:e,value:t.value}):y(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.progressive?{required:!!t.required,min:Y_(t.min),max:Y_(t.max),minLength:Y_(t.minLength),maxLength:Y_(t.maxLength),pattern:Y_(t.pattern)}:{},name:e,onChange:A,onBlur:A,ref:i=>{if(i){N(e,t),n=VT(o,e);const r=HT(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,s=B_(r),l=n._f.refs||[];if(s?l.find((e=>e===r)):r===n._f.ref)return;h_(o,e,{_f:{...n._f,...s?{refs:[...l.filter(U_),r,...Array.isArray(VT(a,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),y(e,!1,void 0,r)}else n=VT(o,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!FT(c.array,e)||!l.action)&&c.unMount.add(e)}}},F=()=>r.shouldFocusError&&y_(o,I,c.mount),j=(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let a=UT(s);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await w();i.errors=e,a=t}else await C(o);O_(i.errors,"root"),r_(i.errors)?(h.state.next({errors:{}}),await e(a,n)):(t&&await t({...i.errors},n),F(),setTimeout(F)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:r_(i.errors),submitCount:i.submitCount+1,errors:i.errors})},B=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=e?UT(e):a,f=UT(u),p=e&&!r_(e)?f:a;if(r.keepDefaultValues||(a=u),!r.keepValues){if(r.keepDirtyValues)for(const e of c.mount)VT(i.dirtyFields,e)?h_(p,e,VT(s,e)):x(e,VT(p,e));else{if(BT&&HT(e))for(const e of c.mount){const t=VT(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(C_(e)){const t=e.closest("form");if(t){t.reset();break}}}}o={}}s=t.shouldUnregister?r.keepDefaultValues?UT(a):{}:UT(p),h.array.next({values:{...p}}),h.values.next({values:{...p}})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&n(),l.mount=!d.isValid||!!r.keepIsValid,l.watch=!!t.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||F_(e,a)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?q_(a,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1})},U=(e,t)=>B(w_(e)?e(s):e,t);return{control:{register:N,unregister:O,getFieldState:L,handleSubmit:j,setError:D,_executeSchema:w,_getWatch:T,_getDirty:S,_updateValid:g,_removeUnmounted:()=>{for(const e of c.unMount){const t=VT(o,e);t&&(t._f.refs?t._f.refs.every((e=>!U_(e))):!U_(t._f.ref))&&O(e)}c.unMount=new Set},_updateFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(l.action=!0,u&&Array.isArray(VT(o,e))){const t=n(VT(o,e),r.argA,r.argB);c&&h_(o,e,t)}if(u&&Array.isArray(VT(i.errors,e))){const t=n(VT(i.errors,e),r.argA,r.argB);c&&h_(i.errors,e,t),X_(i.errors,e)}if(d.touchedFields&&u&&Array.isArray(VT(i.touchedFields,e))){const t=n(VT(i.touchedFields,e),r.argA,r.argB);c&&h_(i.touchedFields,e,t)}d.dirtyFields&&(i.dirtyFields=q_(a,s)),h.state.next({name:e,isDirty:S(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else h_(s,e,t)},_updateDisabledField:P,_getFieldArray:e=>zT(VT(l.mount?s:a,e,t.shouldUnregister?VT(a,e,[]):[])),_reset:B,_resetDefaultValues:()=>w_(r.defaultValues)&&r.defaultValues().then((e=>{U(e,r.resetOptions),h.state.next({isLoading:!1})})),_updateFormState:e=>{i={...i,...e}},_disableForm:e=>{qT(e)&&(h.state.next({disabled:e}),y_(o,((t,n)=>{let r=e;const i=VT(o,n);i&&qT(i._f.disabled)&&(r||(r=i._f.disabled)),t.disabled=r}),0,!1))},_subjects:h,_proxyFormState:d,_setErrors:e=>{i.errors=e,h.state.next({errors:i.errors,isValid:!1})},get _fields(){return o},get _formValues(){return s},get _state(){return l},set _state(e){l=e},get _defaultValues(){return a},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:M,register:N,handleSubmit:j,watch:(e,t)=>w_(e)?h.values.subscribe({next:n=>e(T(void 0,t),n)}):T(e,t,!0),setValue:x,getValues:R,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};VT(o,e)&&(HT(t.defaultValue)?x(e,UT(VT(a,e))):(x(e,t.defaultValue),h_(a,e,UT(t.defaultValue))),t.keepTouched||O_(i.touchedFields,e),t.keepDirty||(O_(i.dirtyFields,e),i.isDirty=t.defaultValue?S(e,UT(VT(a,e))):S()),t.keepError||(O_(i.errors,e),d.isValid&&g()),h.state.next({...i}))},clearErrors:e=>{e&&o_(e).forEach((e=>O_(i.errors,e))),h.state.next({errors:e?i.errors:{}})},unregister:O,setError:D,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=VT(o,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:L}}function tk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.useRef(),r=t.useRef(),[i,o]=t.useState({isDirty:!1,isValidating:!1,isLoading:w_(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:w_(e.defaultValues)?void 0:e.defaultValues});n.current||(n.current={...ek(e,(()=>o((e=>({...e}))))),formState:i});const a=n.current.control;return a._options=e,s_({subject:a._subjects.state,next:e=>{i_(e,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),t.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),t.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,i.isDirty]),t.useEffect((()=>{e.values&&!F_(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,o((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),t.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),t.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),n.current.formState=n_(i,a),n.current}var nk,rk=function(e){var n=e.as,r=e.errors,i=e.name,o=e.message,a=e.render,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(e,["as","errors","name","message","render"]),l=t_(),c=VT(r||l.formState.errors,i);if(!c)return null;var u=c.message,d=c.types,h=Object.assign({},s,{children:u||o});return t.isValidElement(n)?t.cloneElement(n,h):a?a({message:u||o,messages:d}):t.createElement(n||t.Fragment,h)},ik=new Uint8Array(16);function ok(){if(!nk&&!(nk="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nk(ik)}const ak=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const sk=function(e){return"string"===typeof e&&ak.test(e)};for(var lk=[],ck=0;ck<256;++ck)lk.push((ck+256).toString(16).substr(1));const uk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(lk[e[t+0]]+lk[e[t+1]]+lk[e[t+2]]+lk[e[t+3]]+"-"+lk[e[t+4]]+lk[e[t+5]]+"-"+lk[e[t+6]]+lk[e[t+7]]+"-"+lk[e[t+8]]+lk[e[t+9]]+"-"+lk[e[t+10]]+lk[e[t+11]]+lk[e[t+12]]+lk[e[t+13]]+lk[e[t+14]]+lk[e[t+15]]).toLowerCase();if(!sk(n))throw TypeError("Stringified UUID is invalid");return n};const dk=function(e,t,n){var r=(e=e||{}).random||(e.rng||ok)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return uk(r)};var hk=function(e,t){return hk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},hk(e,t)};var fk=function(){return fk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fk.apply(this,arguments)};var pk="Pixel",mk="Percent",gk={unit:mk,value:.8};function vk(e){return"number"===typeof e?{unit:mk,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:pk,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:mk,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),gk):(console.warn("scrollThreshold should be string or number"),gk)}var yk=function(e){function n(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function l(){var l=this,c=Date.now()-a,u=arguments;function d(){a=Date.now(),n.apply(l,u)}o||(r&&!i&&d(),s(),void 0===r&&c>e?d():!0!==t&&(i=setTimeout(r?function(){i=void 0}:d,void 0===r?e-c:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),o=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}hk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},n.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},n.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},n.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?fk(fk({},t),{prevDataLength:e.dataLength}):null},n.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=vk(t);return r.unit===pk?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},n.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=vk(t);return r.unit===pk?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},n.prototype.render=function(){var e=this,n=fk({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return t.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},t.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:n},this.props.pullDownToRefresh&&t.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},t.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},n}(t.Component);const bk=yk;var Ek,wk,Ck=n(6966),Sk=function(e,t,n){if(e&&"reportValidity"in e){var r=VT(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Tk=function(e,t){var n=function(n){var r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Sk(r.ref,n,e):r.refs&&r.refs.forEach((function(t){return Sk(t,n,e)}))};for(var r in t.fields)n(r)},_k=function(e,t){t.shouldUseNativeValidation&&Tk(e,t);var n={};for(var r in e){var i=VT(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(kk(t.names||Object.keys(e),r)){var a=Object.assign({},VT(n,r));h_(a,"root",o),h_(n,r,a)}else h_(n,r,o)}return n},kk=function(e,t){return e.some((function(e){return e.startsWith(t+".")}))},xk=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var s=r.unionErrors[0].errors[0];n[a]={message:s.message,type:s.code}}else n[a]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=n[a].types,c=l&&l[r.code];n[a]=m_(a,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n},Ak=function(e,t,n){return void 0===n&&(n={}),function(r,i,o){try{return Promise.resolve(function(i,a){try{var s=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then((function(e){return o.shouldUseNativeValidation&&Tk({},o),{errors:{},values:n.raw?r:e}}))}catch(e){return a(e)}return s&&s.then?s.then(void 0,a):s}(0,(function(e){if(function(e){return null!=e.errors}(e))return{values:{},errors:_k(xk(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e})))}catch(e){return Promise.reject(e)}}};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(Ek||(Ek={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(wk||(wk={}));const Ik=Ek.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mk=e=>{switch(typeof e){case"undefined":return Ik.undefined;case"string":return Ik.string;case"number":return isNaN(e)?Ik.nan:Ik.number;case"boolean":return Ik.boolean;case"function":return Ik.function;case"bigint":return Ik.bigint;case"symbol":return Ik.symbol;case"object":return Array.isArray(e)?Ik.array:null===e?Ik.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?Ik.promise:"undefined"!==typeof Map&&e instanceof Map?Ik.map:"undefined"!==typeof Set&&e instanceof Set?Ik.set:"undefined"!==typeof Date&&e instanceof Date?Ik.date:Ik.object;default:return Ik.unknown}},Rk=Ek.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Lk extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ek.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Lk.create=e=>new Lk(e);const Dk=(e,t)=>{let n;switch(e.code){case Rk.invalid_type:n=e.received===Ik.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case Rk.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Ek.jsonStringifyReplacer));break;case Rk.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Ek.joinValues(e.keys,", "));break;case Rk.invalid_union:n="Invalid input";break;case Rk.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Ek.joinValues(e.options));break;case Rk.invalid_enum_value:n="Invalid enum value. Expected ".concat(Ek.joinValues(e.options),", received '").concat(e.received,"'");break;case Rk.invalid_arguments:n="Invalid function arguments";break;case Rk.invalid_return_type:n="Invalid function return type";break;case Rk.invalid_date:n="Invalid date";break;case Rk.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Ek.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case Rk.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case Rk.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case Rk.custom:n="Invalid input";break;case Rk.invalid_intersection_types:n="Intersection results could not be merged";break;case Rk.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case Rk.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ek.assertNever(e)}return{message:n}};let Ok=Dk;function Pk(){return Ok}const Nk=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],a={...i,path:o};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(a,{data:t,defaultError:s}).message;return{...i,path:o,message:i.message||s}};function Fk(e,t){const n=Nk({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Pk(),Dk].filter((e=>!!e))});e.common.issues.push(n)}class jk{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Bk;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t)n.push({key:await r.key,value:await r.value});return jk.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return Bk;if("aborted"===i.status)return Bk;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const Bk=Object.freeze({status:"aborted"}),Uk=e=>({status:"dirty",value:e}),zk=e=>({status:"valid",value:e}),Hk=e=>"aborted"===e.status,Vk=e=>"dirty"===e.status,qk=e=>"valid"===e.status,Gk=e=>"undefined"!==typeof Promise&&e instanceof Promise;var Wk;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(Wk||(Wk={}));class Kk{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yk=(e,t)=>{if(qk(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Lk(e.common.issues);return this._error=t,this._error}}};function Qk(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:"undefined"===typeof t.data?{message:null!==r&&void 0!==r?r:t.defaultError}:{message:null!==n&&void 0!==n?n:t.defaultError},description:i}}class Zk{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Mk(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Mk(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new jk,ctx:{common:e.parent.common,data:e.data,parsedType:Mk(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Gk(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mk(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Yk(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mk(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Gk(r)?r:Promise.resolve(r));return Yk(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),o=()=>r.addIssue({code:Rk.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Px({schema:this,typeName:qx.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Nx.create(this,this._def)}nullable(){return Fx.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bx.create(this,this._def)}promise(){return Ox.create(this,this._def)}or(e){return Sx.create([this,e],this._def)}and(e){return _x.create(this,e,this._def)}transform(e){return new Px({...Qk(this._def),schema:this,typeName:qx.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new jx({...Qk(this._def),innerType:this,defaultValue:t,typeName:qx.ZodDefault})}brand(){return new zx({typeName:qx.ZodBranded,type:this,...Qk(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Bx({...Qk(this._def),innerType:this,catchValue:t,typeName:qx.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Hx.create(this,e)}readonly(){return Vx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $k=/^c[^\s-]{8,}$/i,Xk=/^[a-z][a-z0-9]*$/,Jk=/^[0-9A-HJKMNP-TV-Z]{26}$/,ex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tx=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let nx;const rx=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ix=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;function ox(e,t){return!("v4"!==t&&t||!rx.test(e))||!("v6"!==t&&t||!ix.test(e))}class ax extends Zk{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ik.string){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.string,received:t.parsedType}),Bk}const t=new jk;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?Fk(n,{code:Rk.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Fk(n,{code:Rk.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)tx.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"email",code:Rk.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)nx||(nx=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),nx.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"emoji",code:Rk.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)ex.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"uuid",code:Rk.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)$k.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"cuid",code:Rk.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)Xk.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"cuid2",code:Rk.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)Jk.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"ulid",code:Rk.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(Bu){n=this._getOrReturnCtx(e,n),Fk(n,{validation:"url",code:Rk.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"regex",code:Rk.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){((r=i).precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(r.precision,"}(([+-]\\d{2}(:?\\d{2})?)|Z)$")):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(r.precision,"}Z$")):0===r.precision?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else"ip"===i.kind?ox(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Fk(n,{validation:"ip",code:Rk.invalid_string,message:i.message}),t.dirty()):Ek.assertNever(i);var r;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:Rk.invalid_string,...Wk.errToObj(n)})}_addCheck(e){return new ax({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Wk.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Wk.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Wk.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Wk.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Wk.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Wk.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Wk.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Wk.errToObj(e)})}datetime(e){var t;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,...Wk.errToObj(null===e||void 0===e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Wk.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...Wk.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Wk.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Wk.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Wk.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Wk.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Wk.errToObj(t)})}nonempty(e){return this.min(1,Wk.errToObj(e))}trim(){return new ax({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ax({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ax({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function sx(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}ax.create=e=>{var t;return new ax({checks:[],typeName:qx.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Qk(e)})};class lx extends Zk{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ik.number){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.number,received:t.parsedType}),Bk}let t;const n=new jk;for(const r of this._def.checks)if("int"===r.kind)Ek.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==sx(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.not_finite,message:r.message}),n.dirty()):Ek.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wk.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wk.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wk.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wk.toString(t))}setLimit(e,t,n,r){return new lx({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Wk.toString(r)}]})}_addCheck(e){return new lx({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Wk.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Wk.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Wk.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Wk.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Wk.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wk.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Wk.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Wk.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Wk.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Ek.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}lx.create=e=>new lx({checks:[],typeName:qx.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Qk(e)});class cx extends Zk{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Ik.bigint){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.bigint,received:t.parsedType}),Bk}let t;const n=new jk;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Fk(t,{code:Rk.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Ek.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Wk.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Wk.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Wk.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Wk.toString(t))}setLimit(e,t,n,r){return new cx({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Wk.toString(r)}]})}_addCheck(e){return new cx({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Wk.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Wk.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Wk.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Wk.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Wk.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}cx.create=e=>{var t;return new cx({checks:[],typeName:qx.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...Qk(e)})};class ux extends Zk{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ik.boolean){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.boolean,received:t.parsedType}),Bk}return zk(e.data)}}ux.create=e=>new ux({typeName:qx.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...Qk(e)});class dx extends Zk{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ik.date){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.date,received:t.parsedType}),Bk}if(isNaN(e.data.getTime())){return Fk(this._getOrReturnCtx(e),{code:Rk.invalid_date}),Bk}const t=new jk;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Fk(n,{code:Rk.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Ek.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dx({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Wk.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Wk.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}dx.create=e=>new dx({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:qx.ZodDate,...Qk(e)});class hx extends Zk{_parse(e){if(this._getType(e)!==Ik.symbol){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.symbol,received:t.parsedType}),Bk}return zk(e.data)}}hx.create=e=>new hx({typeName:qx.ZodSymbol,...Qk(e)});class fx extends Zk{_parse(e){if(this._getType(e)!==Ik.undefined){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.undefined,received:t.parsedType}),Bk}return zk(e.data)}}fx.create=e=>new fx({typeName:qx.ZodUndefined,...Qk(e)});class px extends Zk{_parse(e){if(this._getType(e)!==Ik.null){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.null,received:t.parsedType}),Bk}return zk(e.data)}}px.create=e=>new px({typeName:qx.ZodNull,...Qk(e)});class mx extends Zk{constructor(){super(...arguments),this._any=!0}_parse(e){return zk(e.data)}}mx.create=e=>new mx({typeName:qx.ZodAny,...Qk(e)});class gx extends Zk{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zk(e.data)}}gx.create=e=>new gx({typeName:qx.ZodUnknown,...Qk(e)});class vx extends Zk{_parse(e){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.never,received:t.parsedType}),Bk}}vx.create=e=>new vx({typeName:qx.ZodNever,...Qk(e)});class yx extends Zk{_parse(e){if(this._getType(e)!==Ik.undefined){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.void,received:t.parsedType}),Bk}return zk(e.data)}}yx.create=e=>new yx({typeName:qx.ZodVoid,...Qk(e)});class bx extends Zk{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Ik.array)return Fk(t,{code:Rk.invalid_type,expected:Ik.array,received:t.parsedType}),Bk;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Fk(t,{code:e?Rk.too_big:Rk.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Fk(t,{code:Rk.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Fk(t,{code:Rk.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Kk(t,e,t.path,n))))).then((e=>jk.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new Kk(t,e,t.path,n))));return jk.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new bx({...this._def,minLength:{value:e,message:Wk.toString(t)}})}max(e,t){return new bx({...this._def,maxLength:{value:e,message:Wk.toString(t)}})}length(e,t){return new bx({...this._def,exactLength:{value:e,message:Wk.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ex(e){if(e instanceof Cx){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Nx.create(Ex(r))}return new Cx({...e._def,shape:()=>t})}return e instanceof bx?new bx({...e._def,type:Ex(e.element)}):e instanceof Nx?Nx.create(Ex(e.unwrap())):e instanceof Fx?Fx.create(Ex(e.unwrap())):e instanceof kx?kx.create(e.items.map((e=>Ex(e)))):e}bx.create=(e,t)=>new bx({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qx.ZodArray,...Qk(t)});class Cx extends Zk{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Ek.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Ik.object){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.object,received:t.parsedType}),Bk}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof vx&&"strip"===this._def.unknownKeys))for(const s in n.data)i.includes(s)||o.push(s);const a=[];for(const s of i){const e=r[s],t=n.data[s];a.push({key:{status:"valid",value:s},value:e._parse(new Kk(n,t,n.path,s)),alwaysSet:s in n.data})}if(this._def.catchall instanceof vx){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of o)a.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)o.length>0&&(Fk(n,{code:Rk.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new Kk(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>jk.mergeObjectSync(t,e))):jk.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return Wk.errToObj,new Cx({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,o,a;const s=null!==(o=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=Wk.errToObj(e).message)&&void 0!==a?a:s}:{message:s}}}:{}})}strip(){return new Cx({...this._def,unknownKeys:"strip"})}passthrough(){return new Cx({...this._def,unknownKeys:"passthrough"})}extend(e){return new Cx({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Cx({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:qx.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Cx({...this._def,catchall:e})}pick(e){const t={};return Ek.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Cx({...this._def,shape:()=>t})}omit(e){const t={};return Ek.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Cx({...this._def,shape:()=>t})}deepPartial(){return Ex(this)}partial(e){const t={};return Ek.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Cx({...this._def,shape:()=>t})}required(e){const t={};return Ek.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Nx;)e=e._def.innerType;t[n]=e}})),new Cx({...this._def,shape:()=>t})}keyof(){return Rx(Ek.objectKeys(this.shape))}}Cx.create=(e,t)=>new Cx({shape:()=>e,unknownKeys:"strip",catchall:vx.create(),typeName:qx.ZodObject,...Qk(t)}),Cx.strictCreate=(e,t)=>new Cx({shape:()=>e,unknownKeys:"strict",catchall:vx.create(),typeName:qx.ZodObject,...Qk(t)}),Cx.lazycreate=(e,t)=>new Cx({shape:e,unknownKeys:"strip",catchall:vx.create(),typeName:qx.ZodObject,...Qk(t)});class Sx extends Zk{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new Lk(e.ctx.common.issues)));return Fk(t,{code:Rk.invalid_union,unionErrors:n}),Bk}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new Lk(e)));return Fk(t,{code:Rk.invalid_union,unionErrors:i}),Bk}}get options(){return this._def.options}}Sx.create=(e,t)=>new Sx({options:e,typeName:qx.ZodUnion,...Qk(t)});function Tx(e,t){const n=Mk(e),r=Mk(t);if(e===t)return{valid:!0,data:e};if(n===Ik.object&&r===Ik.object){const n=Ek.objectKeys(t),r=Ek.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const o of r){const n=Tx(e[o],t[o]);if(!n.valid)return{valid:!1};i[o]=n.data}return{valid:!0,data:i}}if(n===Ik.array&&r===Ik.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Tx(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===Ik.date&&r===Ik.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class _x extends Zk{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Hk(e)||Hk(r))return Bk;const i=Tx(e.value,r.value);return i.valid?((Vk(e)||Vk(r))&&t.dirty(),{status:t.value,value:i.data}):(Fk(n,{code:Rk.invalid_intersection_types}),Bk)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_x.create=(e,t,n)=>new _x({left:e,right:t,typeName:qx.ZodIntersection,...Qk(n)});class kx extends Zk{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ik.array)return Fk(n,{code:Rk.invalid_type,expected:Ik.array,received:n.parsedType}),Bk;if(n.data.length<this._def.items.length)return Fk(n,{code:Rk.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Bk;!this._def.rest&&n.data.length>this._def.items.length&&(Fk(n,{code:Rk.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Kk(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>jk.mergeArray(t,e))):jk.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new kx({...this._def,rest:e})}}kx.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kx({items:e,typeName:qx.ZodTuple,rest:null,...Qk(t)})};class xx extends Zk{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ik.map)return Fk(n,{code:Rk.invalid_type,expected:Ik.map,received:n.parsedType}),Bk;const r=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(((e,t)=>{let[o,a]=e;return{key:r._parse(new Kk(n,o,n.path,[t,"key"])),value:i._parse(new Kk(n,a,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of o){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return Bk;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of o){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return Bk;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}xx.create=(e,t,n)=>new xx({valueType:t,keyType:e,typeName:qx.ZodMap,...Qk(n)});class Ax extends Zk{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ik.set)return Fk(n,{code:Rk.invalid_type,expected:Ik.set,received:n.parsedType}),Bk;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Fk(n,{code:Rk.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Fk(n,{code:Rk.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Bk;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>i._parse(new Kk(n,e,n.path,t))));return n.common.async?Promise.all(a).then((e=>o(e))):o(a)}min(e,t){return new Ax({...this._def,minSize:{value:e,message:Wk.toString(t)}})}max(e,t){return new Ax({...this._def,maxSize:{value:e,message:Wk.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ax.create=(e,t)=>new Ax({valueType:e,minSize:null,maxSize:null,typeName:qx.ZodSet,...Qk(t)});class Ix extends Zk{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ix.create=(e,t)=>new Ix({getter:e,typeName:qx.ZodLazy,...Qk(t)});class Mx extends Zk{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Fk(t,{received:t.data,code:Rk.invalid_literal,expected:this._def.value}),Bk}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Rx(e,t){return new Lx({values:e,typeName:qx.ZodEnum,...Qk(t)})}Mx.create=(e,t)=>new Mx({value:e,typeName:qx.ZodLiteral,...Qk(t)});class Lx extends Zk{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Fk(t,{expected:Ek.joinValues(n),received:t.parsedType,code:Rk.invalid_type}),Bk}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Fk(t,{received:t.data,code:Rk.invalid_enum_value,options:n}),Bk}return zk(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Lx.create(e)}exclude(e){return Lx.create(this.options.filter((t=>!e.includes(t))))}}Lx.create=Rx;class Dx extends Zk{_parse(e){const t=Ek.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ik.string&&n.parsedType!==Ik.number){const e=Ek.objectValues(t);return Fk(n,{expected:Ek.joinValues(e),received:n.parsedType,code:Rk.invalid_type}),Bk}if(-1===t.indexOf(e.data)){const e=Ek.objectValues(t);return Fk(n,{received:n.data,code:Rk.invalid_enum_value,options:e}),Bk}return zk(e.data)}get enum(){return this._def.values}}Dx.create=(e,t)=>new Dx({values:e,typeName:qx.ZodNativeEnum,...Qk(t)});class Ox extends Zk{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ik.promise&&!1===t.common.async)return Fk(t,{code:Rk.invalid_type,expected:Ik.promise,received:t.parsedType}),Bk;const n=t.parsedType===Ik.promise?t.data:Promise.resolve(t.data);return zk(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Ox.create=(e,t)=>new Ox({type:e,typeName:qx.ZodPromise,...Qk(t)});class Px extends Zk{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qx.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{Fk(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Bk:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Bk:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qk(e))return e;const o=r.transform(e.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>qk(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}Ek.assertNever(r)}}Px.create=(e,t,n)=>new Px({schema:e,typeName:qx.ZodEffects,effect:t,...Qk(n)}),Px.createWithPreprocess=(e,t,n)=>new Px({schema:t,effect:{type:"preprocess",transform:e},typeName:qx.ZodEffects,...Qk(n)});class Nx extends Zk{_parse(e){return this._getType(e)===Ik.undefined?zk(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nx.create=(e,t)=>new Nx({innerType:e,typeName:qx.ZodOptional,...Qk(t)});class Fx extends Zk{_parse(e){return this._getType(e)===Ik.null?zk(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fx.create=(e,t)=>new Fx({innerType:e,typeName:qx.ZodNullable,...Qk(t)});class jx extends Zk{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Ik.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}jx.create=(e,t)=>new jx({innerType:e,typeName:qx.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Qk(t)});class Bx extends Zk{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Gk(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Lk(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Lk(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Bx.create=(e,t)=>new Bx({innerType:e,typeName:qx.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Qk(t)});class Ux extends Zk{_parse(e){if(this._getType(e)!==Ik.nan){const t=this._getOrReturnCtx(e);return Fk(t,{code:Rk.invalid_type,expected:Ik.nan,received:t.parsedType}),Bk}return{status:"valid",value:e.data}}}Ux.create=e=>new Ux({typeName:qx.ZodNaN,...Qk(e)});Symbol("zod_brand");class zx extends Zk{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Hx extends Zk{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Bk:"dirty"===e.status?(t.dirty(),Uk(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Bk:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Hx({in:e,out:t,typeName:qx.ZodPipeline})}}class Vx extends Zk{_parse(e){const t=this._def.innerType._parse(e);return qk(t)&&(t.value=Object.freeze(t.value)),t}}Vx.create=(e,t)=>new Vx({innerType:e,typeName:qx.ZodReadonly,...Qk(t)});Cx.lazycreate;var qx;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(qx||(qx={}));const Gx=ax.create,Wx=(lx.create,Ux.create,cx.create,ux.create),Kx=(dx.create,hx.create,fx.create,px.create,mx.create,gx.create,vx.create,yx.create,bx.create,Cx.create);Cx.strictCreate,Sx.create,_x.create,kx.create,xx.create,Ax.create,Ix.create,Mx.create,Lx.create,Dx.create,Ox.create,Px.create,Nx.create,Fx.create,Px.createWithPreprocess,Hx.create;var Yx=n(3965),Qx=n(5828);n(7841);function Zx(e){return Zx="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(e)}function $x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xx(e,t,n[t])}))}return e}function eA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(t7){i=!0,o=t7}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var tA=function(){},nA={},rA={},iA={mark:tA,measure:tA};try{"undefined"!==typeof window&&(nA=window),"undefined"!==typeof document&&(rA=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(iA=performance)}catch(n7){}var oA=(nA.navigator||{}).userAgent,aA=void 0===oA?"":oA,sA=nA,lA=rA,cA=iA,uA=(sA.document,!!lA.documentElement&&!!lA.head&&"function"===typeof lA.addEventListener&&"function"===typeof lA.createElement),dA=(~aA.indexOf("MSIE")||aA.indexOf("Trident/"),"___FONT_AWESOME___"),hA="fa",fA="svg-inline--fa",pA="data-fa-i2svg",mA=(function(){try{return!0}catch(n7){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),gA=mA.concat([11,12,13,14,15,16,17,18,19,20]),vA={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yA=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",vA.GROUP,vA.SWAP_OPACITY,vA.PRIMARY,vA.SECONDARY].concat(mA.map((function(e){return"".concat(e,"x")}))).concat(gA.map((function(e){return"w-".concat(e)}))),sA.FontAwesomeConfig||{});if(lA&&"function"===typeof lA.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=eA(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=lA.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(yA[r]=i)}))}var bA=Jx({},{familyPrefix:hA,replacementClass:fA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},yA);bA.autoReplaceSvg||(bA.observeMutations=!1);var EA=Jx({},bA);sA.FontAwesomeConfig=EA;var wA=sA||{};wA[dA]||(wA[dA]={}),wA[dA].styles||(wA[dA].styles={}),wA[dA].hooks||(wA[dA].hooks={}),wA[dA].shims||(wA[dA].shims=[]);var CA=wA[dA],SA=[];uA&&((lA.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(lA.readyState)||lA.addEventListener("DOMContentLoaded",(function e(){lA.removeEventListener("DOMContentLoaded",e),1,SA.map((function(e){return e()}))})));var TA,_A="pending",kA="settled",xA="fulfilled",AA="rejected",IA=function(){},MA="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,RA="undefined"===typeof setImmediate?setTimeout:setImmediate,LA=[];function DA(){for(var e=0;e<LA.length;e++)LA[e][0](LA[e][1]);LA=[],TA=!1}function OA(e,t){LA.push([e,t]),TA||(TA=!0,RA(DA,0))}function PA(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"===typeof i){n=xA;try{r=i(r)}catch(n7){BA(o,n7)}}NA(o,r)||(n===xA&&FA(o,r),n===AA&&BA(o,r))}function NA(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===Zx(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?jA(e,r):FA(e,r))}),(function(t){n||(n=!0,BA(e,t))})),!0}}catch(n7){return n||BA(e,n7),!0}return!1}function FA(e,t){e!==t&&NA(e,t)||jA(e,t)}function jA(e,t){e._state===_A&&(e._state=kA,e._data=t,OA(zA,e))}function BA(e,t){e._state===_A&&(e._state=kA,e._data=t,OA(HA,e))}function UA(e){e._then=e._then.forEach(PA)}function zA(e){e._state=xA,UA(e)}function HA(e){e._state=AA,UA(e),!e._handled&&MA&&n.g.process.emit("unhandledRejection",e._data,e)}function VA(e){n.g.process.emit("rejectionHandled",e)}function qA(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof qA===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){BA(t,e)}try{e((function(e){FA(t,e)}),n)}catch(n7){n(n7)}}(e,this)}qA.prototype={constructor:qA,_state:_A,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(IA),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===AA&&MA&&OA(VA,this)),this._state===xA||this._state===AA?OA(PA,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},qA.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new qA((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)}))},qA.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new qA((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},qA.resolve=function(e){return e&&"object"===Zx(e)&&e.constructor===qA?e:new qA((function(t){t(e)}))},qA.reject=function(e){return new qA((function(t,n){n(e)}))};var GA={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function WA(e){if(e&&uA){var t=lA.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=lA.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return lA.head.insertBefore(t,r),e}}var KA="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function YA(){for(var e=12,t="";e-- >0;)t+=KA[62*Math.random()|0];return t}function QA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ZA(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function $A(e){return e.size!==GA.size||e.x!==GA.x||e.y!==GA.y||e.rotate!==GA.rotate||e.flipX||e.flipY}function XA(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var JA={x:0,y:0,width:"100%",height:"100%"};function eI(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function tI(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,m=p.width,g=p.height,v="fak"===i,y=v?"":"fa-w-".concat(Math.ceil(m/g*16)),b=[EA.replacementClass,o?"".concat(EA.familyPrefix,"-").concat(o):"",y].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),E={children:[],attributes:Jx({},d.attributes,{"data-prefix":i,"data-icon":o,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(E.attributes[pA]=""),l&&E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(u||YA())},children:[l]});var C=Jx({},E,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:Jx({},w,d.styles)}),S=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.maskId,s=e.transform,l=i.width,c=i.icon,u=o.width,d=o.icon,h=XA({transform:s,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:Jx({},JA,{fill:"white"})},p=c.children?{children:c.children.map(eI)}:{},m={tag:"g",attributes:Jx({},h.inner),children:[eI(Jx({tag:c.tag,attributes:Jx({},c.attributes,h.path)},p))]},g={tag:"g",attributes:Jx({},h.outer),children:[m]},v="mask-".concat(a||YA()),y="clip-".concat(a||YA()),b={tag:"mask",attributes:Jx({},JA,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(E,{tag:"rect",attributes:Jx({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},JA)}),{children:n,attributes:r}}(C):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=ZA(e.styles);if(o.length>0&&(n.style=o),$A(i)){var a=XA({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:Jx({},a.outer),children:[{tag:"g",attributes:Jx({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Jx({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(C),T=S.children,_=S.attributes;return C.children=T,C.attributes=_,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Jx({},i,{id:!0===o?"".concat(t,"-").concat(EA.familyPrefix,"-").concat(n):o}),children:r}]}]}(C):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if($A(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=ZA(Jx({},o,{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(C)}var nI=function(){},rI=(EA.measurePerformance&&cA&&cA.mark&&cA.measure,function(e,t,n,r){var i,o,a,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<l;i++)a=c(a,e[o=s[i]],o,e);return a});function iI(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof CA.hooks.addPack||r?CA.styles[e]=Jx({},CA.styles[e]||{},i):CA.hooks.addPack(e,i),"fas"===e&&iI("fa",t)}var oI=CA.styles,aI=CA.shims,sI=function(){var e=function(e){return rI(oI,(function(t,n,r){return t[r]=rI(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in oI;rI(aI,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e}),{})};sI();CA.styles;function lI(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function cI(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?QA(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(QA(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(cI).join(""),"</").concat(t,">")}var uI=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function dI(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}dI.prototype=Object.create(Error.prototype),dI.prototype.constructor=dI;var hI={fill:"currentColor"},fI={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},pI={tag:"path",attributes:Jx({},hI,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},mI=Jx({},fI,{attributeName:"opacity"});Jx({},hI,{cx:"256",cy:"364",r:"28"}),Jx({},fI,{attributeName:"r",values:"28;14;28;28;14;28;"}),Jx({},mI,{values:"1;0;1;1;0;1;"}),Jx({},hI,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Jx({},mI,{values:"1;0;0;0;0;1;"}),Jx({},hI,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Jx({},mI,{values:"0;0;1;1;0;0;"}),CA.styles;function gI(e){var t=e[0],n=e[1],r=eA(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(EA.familyPrefix,"-").concat(vA.GROUP)},children:[{tag:"path",attributes:{class:"".concat(EA.familyPrefix,"-").concat(vA.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(EA.familyPrefix,"-").concat(vA.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}CA.styles;var vI='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function yI(){var e=hA,t=fA,n=EA.familyPrefix,r=EA.replacementClass,i=vI;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var bI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Jx({},e.definitions[t]||{},i[t]),iI(t,i[t]),sI()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a})),e}}],n&&$x(t.prototype,n),r&&$x(t,r),e}();function EI(){EA.autoAddCss&&!TI&&(WA(yI()),TI=!0)}function wI(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return cI(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(uA){var t=lA.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function CI(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return lI(SI.definitions,n,r)||lI(CA.styles,n,r)}var SI=new bI,TI=!1,_I={transform:function(e){return uI(e)}},kI=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:CI(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:CI(i||{})),e(r,Jx({},n,{mask:i}))}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?GA:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.title,d=void 0===u?null:u,h=t.titleId,f=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,g=t.attributes,v=void 0===g?{}:g,y=t.styles,b=void 0===y?{}:y;if(e){var E=e.prefix,w=e.iconName,C=e.icon;return wI(Jx({type:"icon"},e),(function(){return EI(),EA.autoA11y&&(d?v["aria-labelledby"]="".concat(EA.replacementClass,"-title-").concat(f||YA()):(v["aria-hidden"]="true",v.focusable="false")),tI({icons:{main:gI(C),mask:s?gI(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:w,transform:Jx({},GA,r),symbol:o,title:d,maskId:c,titleId:f,extra:{attributes:v,styles:b,classes:m}})}))}}));function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(n),!0).forEach((function(t){MI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function II(e){return II="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},II(e)}function MI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LI(e){return function(e){if(Array.isArray(e))return DI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return DI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OI(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var PI=["style"];var NI=!1;try{NI=!0}catch(n7){}function FI(e){return e&&"object"===II(e)&&e.prefix&&e.iconName&&e.icon?e:_I.icon?_I.icon(e):null===e?null:e&&"object"===II(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function jI(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?MI({},e,t):{}}var BI=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,o=e.className,a=e.title,s=e.titleId,l=e.maskId,c=FI(n),u=jI("classes",[].concat(LI(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,o=e.bounce,a=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,E=(MI(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),"undefined"!==typeof v&&null!==v),MI(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),MI(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),MI(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(E).map((function(e){return E[e]?e:null})).filter((function(e){return e}))}(e)),LI(o.split(" ")))),d=jI("transform","string"===typeof e.transform?_I.transform(e.transform):e.transform),h=jI("mask",FI(r)),f=kI(c,AI(AI(AI(AI({},u),d),h),{},{symbol:i,title:a,titleId:s,maskId:l}));if(!f)return function(){var e;!NI&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){BI.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),qz(p[0],m)}));BI.displayName="FontAwesomeIcon",BI.propTypes={beat:SE().bool,border:SE().bool,beatFade:SE().bool,bounce:SE().bool,className:SE().string,fade:SE().bool,flash:SE().bool,mask:SE().oneOfType([SE().object,SE().array,SE().string]),maskId:SE().string,fixedWidth:SE().bool,inverse:SE().bool,flip:SE().oneOf([!0,!1,"horizontal","vertical","both"]),icon:SE().oneOfType([SE().object,SE().array,SE().string]),listItem:SE().bool,pull:SE().oneOf(["right","left"]),pulse:SE().bool,rotation:SE().oneOf([0,90,180,270]),shake:SE().bool,size:SE().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:SE().bool,spinPulse:SE().bool,spinReverse:SE().bool,symbol:SE().oneOfType([SE().bool,SE().string]),title:SE().string,titleId:SE().string,transform:SE().oneOfType([SE().string,SE().object]),swapOpacity:SE().bool},BI.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var UI,zI,HI,VI,qI,GI,WI,KI,YI,QI,ZI,$I,XI,JI,eM,tM,nM,rM,iM,oM,aM,sM,lM,cM,uM,dM,hM,fM,pM,mM,gM,vM,yM,bM,EM,wM,CM,SM,TM,_M,kM,xM,AM,IM,MM,RM,LM,DM,OM,PM,NM,FM,jM,BM,UM,zM,HM,VM,qM,GM,WM,KM,YM,QM,ZM,$M,XM,JM,eR,tR,nR,rR,iR,oR,aR,sR,lR,cR,uR,dR,hR,fR,pR,mR,gR,vR,yR,bR,ER,wR,CR,SR,TR,_R,kR,xR,AR,IR,MR,RR,LR,DR,OR,PR,NR,FR,jR,BR,UR,zR,HR,VR,qR,GR,WR,KR,YR,QR,ZR,$R,XR,JR,eL,tL,nL,rL,iL,oL,aL,sL,lL,cL,uL,dL,hL,fL,pL,mL,gL,vL,yL,bL,EL,wL,CL,SL,TL,_L,kL,xL,AL,IL,ML,RL,LL,DL,OL,PL,NL,FL,jL,BL,UL,zL,HL,VL,qL,GL,WL,KL,YL,QL,ZL,$L,XL,JL,eD,tD,nD,rD,iD,oD,aD,sD,lD,cD,uD,dD,hD,fD,pD,mD,gD,vD,yD,bD,ED,wD,CD,SD,TD,_D,kD,xD,AD,ID,MD,RD,LD,DD,OD,PD,ND,FD,jD,BD,UD,zD,HD,VD,qD,GD,WD,KD,YD,QD,ZD,$D,XD,JD,eO,tO,nO,rO,iO,oO,aO,sO,lO,cO,uO,dO,hO,fO,pO,mO,gO,vO,yO,bO,EO,wO,CO,SO,TO,_O,kO,xO,AO,IO,MO,RO,LO,DO,OO,PO,NO,FO,jO,BO,UO,zO,HO,VO,qO,GO,WO,KO,YO,QO,ZO,$O,XO,JO,eP,tP,nP,rP,iP,oP,aP,sP,lP,cP,uP,dP,hP,fP,pP,mP,gP,vP,yP,bP,EP,wP,CP,SP,TP,_P,kP,xP,AP,IP,MP,RP,LP,DP,OP,PP,NP,FP,jP,BP,UP,zP,HP,VP,qP,GP,WP,KP,YP,QP,ZP,$P,XP,JP,eN,tN,nN,rN,iN,oN,aN,sN,lN,cN,uN,dN,hN,fN,pN,mN,gN,vN,yN,bN,EN,wN,CN,SN,TN,_N,kN,xN,AN,IN,MN,RN,LN,DN,ON,PN,NN,FN,jN,BN,UN,zN,HN,VN,qN,GN,WN,KN,YN,QN,ZN,$N,XN,JN,eF,tF,nF,rF,iF,oF,aF,sF,lF,cF,uF,dF,hF,fF,pF,mF,gF,vF,yF,bF,EF,wF,CF,SF,TF,_F,kF,xF,AF,IF,MF,RF,LF,DF,OF,PF,NF,FF,jF,BF,UF,zF,HF,VF,qF,GF,WF,KF,YF,QF,ZF,$F,XF,JF,ej,tj,nj,rj,ij,oj,aj,sj,lj,cj,uj,dj,hj,fj,pj,mj,gj,vj,yj,bj,Ej,wj,Cj,Sj,Tj,_j,kj,xj,Aj,Ij,Mj,Rj,Lj,Dj,Oj,Pj,Nj,Fj,jj,Bj,Uj,zj,Hj,Vj,qj,Gj,Wj,Kj,Yj,Qj,Zj,$j,Xj,Jj,eB,tB,nB,rB,iB,oB,aB,sB,lB,cB,uB,dB,hB,fB,pB,mB,gB,vB,yB,bB,EB,wB,CB,SB,TB,_B,kB,xB,AB,IB,MB,RB,LB,DB,OB,PB,NB,FB,jB,BB,UB,zB,HB,VB,qB,GB,WB,KB,YB,QB,ZB,$B,XB,JB,eU,tU,nU,rU,iU,oU,aU,sU,lU,cU,uU,dU,hU,fU,pU,mU,gU,vU,yU,bU,EU,wU,CU,SU,TU,_U,kU,xU,AU,IU,MU,RU,LU,DU,OU,PU,NU,FU,jU,BU,UU,zU,HU,VU,qU,GU,WU,KU,YU,QU,ZU,$U,XU,JU,ez,tz,nz,rz,iz,oz,az,sz,lz,cz,uz,dz,hz,fz,pz,mz,gz,vz,yz,bz,Ez,wz,Cz,Sz,Tz,_z,kz,xz,Az,Iz,Mz,Rz,Lz,Dz,Oz,Pz,Nz,Fz,jz,Bz,Uz,zz,Hz,Vz,qz=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=OI(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[OI(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,l=RI(r,PI);return o.attrs.style=AI(AI({},o.attrs.style),s),t.apply(void 0,[n.tag,AI(AI({},o.attrs),l)].concat(LI(i)))}.bind(null,t.createElement),Gz={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},Wz=Object.create,Kz=Object.defineProperty,Yz=Object.defineProperties,Qz=Object.getOwnPropertyDescriptor,Zz=Object.getOwnPropertyDescriptors,$z=Object.getOwnPropertyNames,Xz=Object.getOwnPropertySymbols,Jz=Object.getPrototypeOf,eH=Object.prototype.hasOwnProperty,tH=Object.prototype.propertyIsEnumerable,nH=(e,t,n)=>t in e?Kz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rH=(e,t)=>{for(var n in t||(t={}))eH.call(t,n)&&nH(e,n,t[n]);if(Xz)for(var n of Xz(t))tH.call(t,n)&&nH(e,n,t[n]);return e},iH=(e,t)=>Yz(e,Zz(t));n(2409);var oH=(e,t)=>{var n={};for(var r in e)eH.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xz)for(var r of Xz(e))t.indexOf(r)<0&&tH.call(e,r)&&(n[r]=e[r]);return n},aH=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{s(n.next(e))}catch(t){i(t)}},a=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())})),sH=((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports))(((e,t)=>{t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}})),lH=function(){return lH=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lH.apply(this,arguments)};function cH(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var uH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;!function(e){var t=Object.create(null)}((function(e){return uH.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));((e,t,n)=>{n=null!=e?Wz(Jz(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of $z(t))!eH.call(e,i)&&i!==n&&Kz(e,i,{get:()=>t[i],enumerable:!(r=Qz(t,i))||r.enumerable})})(!t&&e&&e.__esModule?n:Kz(n,"default",{value:e,enumerable:!0}),e)})(sH());var dH={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hH="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",fH="active",pH="data-styled-version",mH="6.1.8",gH="/*!sc*/\n",vH="undefined"!=typeof window&&"HTMLElement"in window,yH=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),bH=(new Set,Object.freeze([])),EH=Object.freeze({});var wH=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),CH=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,SH=/(^-|-$)/g;function TH(e){return e.replace(CH,"-").replace(SH,"")}var _H=/(a)(d)/gi,kH=52,xH=function(e){return String.fromCharCode(e+(e>25?39:97))};function AH(e){var t,n="";for(t=Math.abs(e);t>kH;t=t/kH|0)n=xH(t%kH)+n;return(xH(t%kH)+n).replace(_H,"$1-$2")}var IH,MH=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},RH=function(e){return MH(5381,e)};function LH(e){return"string"==typeof e&&!0}var DH="function"==typeof Symbol&&Symbol.for,OH=DH?Symbol.for("react.memo"):60115,PH=DH?Symbol.for("react.forward_ref"):60112,NH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BH=((IH={})[PH]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IH[OH]=jH,IH);function UH(e){return("type"in(t=e)&&t.type.$$typeof)===OH?jH:"$$typeof"in e?BH[e.$$typeof]:NH;var t}var zH=Object.defineProperty,HH=Object.getOwnPropertyNames,VH=Object.getOwnPropertySymbols,qH=Object.getOwnPropertyDescriptor,GH=Object.getPrototypeOf,WH=Object.prototype;function KH(e,t,n){if("string"!=typeof t){if(WH){var r=GH(t);r&&r!==WH&&KH(e,r,n)}var i=HH(t);VH&&(i=i.concat(VH(t)));for(var o=UH(e),a=UH(t),s=0;s<i.length;++s){var l=i[s];if(!(l in FH||n&&n[l]||a&&l in a||o&&l in o)){var c=qH(t,l);try{zH(e,l,c)}catch(u){}}}}return e}function YH(e){return"function"==typeof e}function QH(e){return"object"==typeof e&&"styledComponentId"in e}function ZH(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function $H(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function XH(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function JH(e,t,n){if(void 0===n&&(n=!1),!n&&!XH(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=JH(e[r],t[r]);else if(XH(t))for(var r in t)e[r]=JH(e[r],t[r]);return e}function eV(e,t){Object.defineProperty(e,"toString",{value:t})}function tV(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var nV=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw tV(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(gH);return t},e}(),rV=new Map,iV=new Map,oV=1,aV=function(e){if(rV.has(e))return rV.get(e);for(;iV.has(oV);)oV++;var t=oV++;return rV.set(e,t),iV.set(t,e),t},sV=function(e,t){oV=t+1,rV.set(e,t),iV.set(t,e)},lV="style[".concat(hH,"][").concat(pH,'="').concat(mH,'"]'),cV=new RegExp("^".concat(hH,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),uV=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},dV=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(gH),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(cV);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(sV(u,c),uV(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};var hV=function(e){var t=document.head,r=e||t,i=document.createElement("style"),o=function(e){var t=Array.from(e.querySelectorAll("style[".concat(hH,"]")));return t[t.length-1]}(r),a=void 0!==o?o.nextSibling:null;i.setAttribute(hH,fH),i.setAttribute(pH,mH);var s=n.nc;return s&&i.setAttribute("nonce",s),r.insertBefore(i,a),i},fV=function(){function e(e){this.element=hV(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw tV(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(gw){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),pV=function(){function e(e){this.element=hV(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),mV=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),gV=vH,vV={isServer:!vH,useCSSOMInjection:!yH},yV=function(){function e(e,t,n){void 0===e&&(e=EH),void 0===t&&(t={});var r=this;this.options=lH(lH({},vV),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&vH&&gV&&(gV=!1,function(e){for(var t=document.querySelectorAll(lV),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(hH)!==fH&&(dV(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),eV(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i,o=(i=n,iV.get(i));if(void 0===o)return"continue";var a=e.names.get(o),s=t.getGroup(n);if(void 0===a||0===s.length)return"continue";var l="".concat(hH,".g").concat(n,'[id="').concat(o,'"]'),c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+="".concat(e,","))})),r+="".concat(s).concat(l,'{content:"').concat(c,'"}').concat(gH)},o=0;o<n;o++)i(o);return r}(r)}))}return e.registerId=function(e){return aV(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(lH(lH({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new mV(n):t?new fV(n):new pV(n)}(this.options),new nV(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(aV(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(aV(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(aV(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),bV=/&/g,EV=/^\s*\/\/.*$/gm;function wV(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=wV(e.children,t)),e}))}var CV=new yV,SV=function(e){var t,n,r,i=void 0===e?EH:e,o=i.options,a=void 0===o?EH:o,s=i.plugins,l=void 0===s?bH:s,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===Dm&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(bV,n).replace(r,c))})),a.prefix&&u.push(Sg),u.push(wg);var d=function(e,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(EV,""),c=Tg(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);a.namespace&&(c=wV(c,a.namespace));var d,h=[];return Eg(c,function(e){var t=Ym(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(u.concat((d=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),h};return d.hash=l.length?l.reduce((function(e,t){return t.name||tV(15),MH(e,t.name)}),5381).toString():"",d}(),TV=t.createContext({shouldForwardProp:void 0,styleSheet:CV,stylis:SV});function _V(){return(0,t.useContext)(TV)}TV.Consumer,t.createContext(void 0);var kV=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=SV);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,eV(this,(function(){throw tV(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=SV),this.name+e.hash},e}(),xV=function(e){return e>="A"&&e<="Z"};function AV(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;xV(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var IV=function(e){return null==e||!1===e||""===e},MV=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!IV(o)&&(Array.isArray(o)&&o.isCss||YH(o)?r.push("".concat(AV(i),":"),o,";"):XH(o)?r.push.apply(r,cH(cH(["".concat(i," {")],MV(o),!1),["}"],!1)):r.push("".concat(AV(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in dH||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function RV(e,t,n,r){return IV(e)?[]:QH(e)?[".".concat(e.styledComponentId)]:YH(e)?!YH(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:RV(e(t),t,n,r):e instanceof kV?n?(e.inject(n,r),[e.getName(r)]):[e]:XH(e)?MV(e):Array.isArray(e)?Array.prototype.concat.apply(bH,e.map((function(e){return RV(e,t,n,r)}))):[e.toString()];var i}var LV=RH(mH),DV=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(YH(n)&&!QH(n))return!1}return!0}(e),this.componentId=t,this.baseHash=MH(LV,t),this.baseStyle=n,yV.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=ZH(r,this.staticRulesId);else{var i=$H(RV(this.rules,e,t,n)),o=AH(MH(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=ZH(r,o),this.staticRulesId=o}else{for(var s=MH(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=$H(RV(u,e,t,n));s=MH(s,d+c),l+=d}}if(l){var h=AH(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(l,".".concat(h),void 0,this.componentId)),r=ZH(r,h)}}return r},e}(),OV=t.createContext(void 0);function PV(e){var n=t.useContext(OV),r=(0,t.useMemo)((function(){return function(e,t){if(!e)throw tV(14);if(YH(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw tV(8);return t?lH(lH({},t),e):e}(e.theme,n)}),[e.theme,n]);return e.children?t.createElement(OV.Provider,{value:r},e.children):null}OV.Consumer;var NV={};new Set;function FV(e,n,r){var i,o=QH(e),a=e,s=!LH(e),l=n.attrs,c=void 0===l?bH:l,u=n.componentId,d=void 0===u?function(e,t){var n="string"!=typeof e?"sc":TH(e);NV[n]=(NV[n]||0)+1;var r="".concat(n,"-").concat(function(e){return AH(RH(e)>>>0)}(mH+n+NV[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):u,h=n.displayName,f=void 0===h?LH(i=e)?"styled.".concat(i):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(i),")"):h,p=n.displayName&&n.componentId?"".concat(TH(n.displayName),"-").concat(n.componentId):n.componentId||d,m=o&&a.attrs?a.attrs.concat(c).filter(Boolean):c,g=n.shouldForwardProp;if(o&&a.shouldForwardProp){var v=a.shouldForwardProp;if(n.shouldForwardProp){var y=n.shouldForwardProp;g=function(e,t){return v(e,t)&&y(e,t)}}else g=v}var b=new DV(r,p,o?a.componentStyle:void 0);function E(e,n){return function(e,n,r){var i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=t.useContext(OV),d=_V(),h=e.shouldForwardProp||d.shouldForwardProp,f=function(e,t,n){return void 0===n&&(n=EH),e.theme!==n.theme&&e.theme||t||n.theme}(n,u,a)||EH,p=function(e,t,n){for(var r,i=lH(lH({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var a=YH(r=e[o])?r(i):r;for(var s in a)i[s]="className"===s?ZH(i[s],a[s]):"style"===s?lH(lH({},i[s]),a[s]):a[s]}return t.className&&(i.className=ZH(i.className,t.className)),i}(i,n,f),m=p.as||c,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:h&&!h(v,m)||(g[v]=p[v]));var y=function(e,t){var n=_V();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,p),b=ZH(s,l);return y&&(b+=" "+y),p.className&&(b+=" "+p.className),g[LH(m)&&!wH.has(m)?"class":"className"]=b,g.ref=r,(0,t.createElement)(m,g)}(w,e,n)}E.displayName=f;var w=t.forwardRef(E);return w.attrs=m,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=g,w.foldedComponentIds=o?ZH(a.foldedComponentIds,a.styledComponentId):"",w.styledComponentId=p,w.target=o?a.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=o?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)JH(e,i[r],!0);return e}({},a.defaultProps,e):e}}),eV(w,(function(){return".".concat(w.styledComponentId)})),s&&KH(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function jV(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var BV=function(e){return Object.assign(e,{isCss:!0})};function UV(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(YH(e)||XH(e))return BV(RV(jV(bH,cH([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?RV(r):BV(RV(jV(r,t)))}function zV(e,t,n){if(void 0===n&&(n=EH),!t)throw tV(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,UV.apply(void 0,cH([r],i,!1)))};return r.attrs=function(r){return zV(e,t,lH(lH({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return zV(e,t,lH(lH({},n),r))},r}var HV=function(e){return zV(FV,e)},VV=HV;wH.forEach((function(e){VV[e]=HV(e)}));"__sc-".concat(hH,"__");var qV,GV,WV="url(\"data:image/svg+xml,%3Csvg width='100%25' height='100%25' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23D9E5FC'/%3E%3Cpath d='M28 21C28 20.4688 27.5312 20 27 20H22C21.4375 20 21 20.4688 21 21V26C21 26.5625 21.4375 27 22 27H27C27.5312 27 28 26.5625 28 26V21ZM14 19C11.7812 19 10 20.8125 10 23C10 25.2188 11.7812 27 14 27C16.1875 27 18 25.2188 18 23C18 20.8125 16.1875 19 14 19ZM26.9688 17C27.75 17 28.25 16.1875 27.8438 15.5L24.875 10.5C24.4688 9.84375 23.5 9.84375 23.0938 10.5L20.125 15.5C19.7188 16.1875 20.2188 17 21 17H26.9688Z' fill='white'/%3E%3C/svg%3E%0A\");",KV="url(\"data:image/svg+xml,%3Csvg width='100%25' height='100%25' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23D9E5FC'/%3E%3Cpath d='M19.8462 12C20.7625 12 21.6413 12.356 22.2893 12.9898C22.9373 13.6235 23.3013 14.4831 23.3013 15.3793C23.3013 16.2756 22.9373 17.1351 22.2893 17.7688C21.6413 18.4026 20.7625 18.7586 19.8462 18.7586C18.9298 18.7586 18.051 18.4026 17.403 17.7688C16.755 17.1351 16.391 16.2756 16.391 15.3793C16.391 14.4831 16.755 13.6235 17.403 12.9898C18.051 12.356 18.9298 12 19.8462 12ZM12.9359 14.4138C13.4887 14.4138 14.0021 14.5586 14.4463 14.8193C14.2982 16.2 14.7128 17.571 15.5618 18.6428C15.0682 19.5697 14.081 20.2069 12.9359 20.2069C12.1504 20.2069 11.3972 19.9017 10.8418 19.3585C10.2864 18.8153 9.97436 18.0786 9.97436 17.3103C9.97436 16.5421 10.2864 15.8054 10.8418 15.2622C11.3972 14.719 12.1504 14.4138 12.9359 14.4138ZM26.7564 14.4138C27.5419 14.4138 28.2951 14.719 28.8505 15.2622C29.4059 15.8054 29.7179 16.5421 29.7179 17.3103C29.7179 18.0786 29.4059 18.8153 28.8505 19.3585C28.2951 19.9017 27.5419 20.2069 26.7564 20.2069C25.6113 20.2069 24.6241 19.5697 24.1305 18.6428C24.9795 17.571 25.3941 16.2 25.246 14.8193C25.6903 14.5586 26.2036 14.4138 26.7564 14.4138ZM13.4295 24.3103C13.4295 22.3117 16.3022 20.6897 19.8462 20.6897C23.3901 20.6897 26.2628 22.3117 26.2628 24.3103V26H13.4295V24.3103ZM8 26V24.5517C8 23.2097 9.86577 22.08 12.3929 21.7517C11.8105 22.4083 11.4551 23.3159 11.4551 24.3103V26H8ZM31.6923 26H28.2372V24.3103C28.2372 23.3159 27.8818 22.4083 27.2994 21.7517C29.8265 22.08 31.6923 23.2097 31.6923 24.5517V26Z' fill='white'/%3E%3C/svg%3E%0A\");",YV="url(\"data:image/svg+xml,%3Csvg width='100%25' height='100%25' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='40' height='40' rx='20' fill='%23D9E5FC'/%3E%3Cpath d='M23.1255 13.1312C22.385 12.4069 21.3806 12 20.3333 12C19.2861 12 18.2817 12.4069 17.5412 13.1312C16.8006 13.8555 16.3846 14.8378 16.3846 15.8621C16.3846 16.8864 16.8006 17.8687 17.5412 18.593C18.2817 19.3172 19.2861 19.7241 20.3333 19.7241C21.3806 19.7241 22.385 19.3172 23.1255 18.593C23.866 17.8687 24.2821 16.8864 24.2821 15.8621C24.2821 14.8378 23.866 13.8555 23.1255 13.1312Z' fill='white'/%3E%3Cpath d='M20.3333 21.931C16.2831 21.931 13 23.7848 13 26.069V28H27.6667V26.069C27.6667 23.7848 24.3836 21.931 20.3333 21.931Z' fill='white'/%3E%3C/svg%3E\");",QV=e=>t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 8 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M1.46094 6.33203C1.63281 6.33203 1.77344 6.26172 1.97656 6.16406L6.82422 3.82812C7.18359 3.65234 7.33594 3.45312 7.33594 3.18359C7.33594 2.91406 7.18359 2.71484 6.82422 2.53906L1.97656 0.203125C1.77344 0.105469 1.62891 0.0351562 1.45703 0.0351562C1.12109 0.0351562 0.863281 0.292969 0.863281 0.714844L0.867188 5.65625C0.867188 6.07422 1.125 6.33203 1.46094 6.33203Z",fill:"#636878"})),ZV=e=>t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M11.824 4.72708L8.63343 7.84786C8.39883 8.05439 8.04692 8.05439 7.83578 7.82492L7.31965 7.32008C7.08504 7.11356 7.08504 6.74641 7.31965 6.53989L8.75073 5.25486L0.56305 5.25486C0.234605 5.25486 0 5.00244 0 4.70413V0.560002C0 0.250721 0.250722 0 0.560002 0L1.31683 4.36807e-06C1.62611 5.39397e-06 1.87683 0.250726 1.87683 0.560004V3.4191L8.75073 3.4191L7.31965 2.11113C7.08504 1.9046 7.08504 1.53745 7.31965 1.33093L7.83578 0.826096C8.04692 0.596627 8.39883 0.596627 8.63343 0.803149L11.824 3.92393C12.0587 4.1534 12.0587 4.49761 11.824 4.72708Z",fill:"#636878"})),$V=e=>t.createElement("svg",rH({width:"48",height:"32",viewBox:"0 0 48 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M46 0H7.33333C6.16667 0 5.33333 0.916667 5.33333 2V2.66667H2C0.833333 2.66667 0 3.58333 0 4.66667V28C0 30.25 1.75 32 4 32H46C47.0833 32 48 31.1667 48 30V2C48 0.916667 47.0833 0 46 0ZM2.66667 28V5.33333H5.33333V28C5.33333 28.75 4.66667 29.3333 4 29.3333C3.25 29.3333 2.66667 28.75 2.66667 28ZM45.3333 29.3333H7.75C7.83333 29 8 28.4167 8 28.0833V28V2.66667H45.3333V29.3333Z",fill:"#A5A9B5"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0231 10.3277L20.0159 10.3366L20.0094 10.3459C19.8498 10.575 19.7771 10.8433 19.8232 11.1079C19.8691 11.3716 20.0275 11.5989 20.2679 11.7554L21.0576 12.3368L21.0728 12.3454C21.498 12.5896 22.0853 12.5106 22.426 12.103L22.4273 12.1014C22.8645 11.5715 23.2846 11.1881 23.7898 10.9333C24.2937 10.6791 24.9063 10.5409 25.7453 10.5409C28.061 10.5409 28.9327 11.6808 28.9327 12.5977C28.9327 13.0993 28.7034 13.4644 28.3052 13.8072C27.9932 14.0759 27.6072 14.3074 27.1754 14.5663L27.1754 14.5664C27.0311 14.6529 26.8817 14.7425 26.7282 14.8376C26.1341 15.2057 25.5066 15.6423 25.0306 16.2624C24.548 16.891 24.2326 17.6923 24.2326 18.7681C24.2326 19.3702 24.7618 19.7677 25.2632 19.7677H26.2274C26.8061 19.7677 27.258 19.3542 27.258 18.7681C27.258 18.2649 27.489 17.8879 27.8895 17.5308C28.2112 17.244 28.6129 16.9941 29.0603 16.7157L29.0603 16.7157C29.1919 16.6339 29.3274 16.5496 29.466 16.4612C30.0584 16.0832 30.684 15.6419 31.1589 15.0321C31.6406 14.4135 31.9582 13.6337 31.9582 12.5977C31.9582 11.0185 31.2094 9.76304 30.0556 8.91183C28.9084 8.0656 27.3647 7.61914 25.7453 7.61914C24.3484 7.61914 23.2438 7.88697 22.3194 8.36743C21.3964 8.84713 20.6724 9.52886 20.0231 10.3277ZM21.2259 12.0787L20.4426 11.5021C20.0944 11.2799 20.0256 10.8973 20.2363 10.5603C20.0258 10.8973 20.0947 11.2797 20.4427 11.5018L21.2261 12.0785C21.5274 12.2515 21.9492 12.1938 22.1902 11.9055C23.0941 10.8098 23.998 10.2331 25.7455 10.2331C28.1558 10.2331 29.2404 11.4441 29.2404 12.5975C29.2404 12.9349 29.1534 13.22 29.003 13.4709C29.1533 13.22 29.2403 12.935 29.2403 12.5977C29.2403 11.4444 28.1556 10.2334 25.7453 10.2334C23.9978 10.2334 23.0939 10.8101 22.1901 11.9057C21.949 12.1941 21.5272 12.2517 21.2259 12.0787ZM25.0838 16.7238C24.7512 17.2542 24.5401 17.9128 24.5401 18.7681C24.5401 19.1718 24.9017 19.4601 25.2632 19.4601H26.2274C26.4954 19.4601 26.7148 19.3437 26.8391 19.1552C26.7148 19.3435 26.4955 19.4599 26.2275 19.4599H25.2634C24.9018 19.4599 24.5403 19.1715 24.5403 18.7678C24.5403 17.9127 24.7513 17.2542 25.0838 16.7238ZM27.2171 17.8382C27.5662 17.2823 28.2162 16.8782 28.9129 16.4451C29.6965 15.9578 30.5394 15.4338 31.0797 14.6156C30.5394 15.4336 29.6966 15.9576 28.913 16.4448C28.2162 16.878 27.5662 17.2822 27.2171 17.8382ZM25.8056 20.5366C24.6772 20.5366 23.8108 21.4184 23.8108 22.4588C23.8108 23.5639 24.6844 24.381 25.8056 24.381C26.8591 24.381 27.8003 23.5709 27.8003 22.4588C27.8003 21.4113 26.8664 20.5366 25.8056 20.5366ZM24.363 21.6208C24.2067 21.868 24.1183 22.1563 24.1183 22.4588C24.1183 23.3815 24.8414 24.0735 25.8056 24.0735C26.4076 24.0735 26.9562 23.7665 27.2554 23.2888C26.9561 23.7663 26.4077 24.0732 25.8057 24.0732C24.8416 24.0732 24.1185 23.3812 24.1185 22.4585C24.1185 22.1562 24.2068 21.8679 24.363 21.6208Z",fill:"#A5A9B5"})),XV=e=>t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M6.6875 9.3125C9.00195 9.3125 10.9062 7.4375 10.9062 5.09375C10.9062 2.7793 9.00195\n    0.875 6.6875 0.875C4.34375 0.875 2.46875 2.7793 2.46875 5.09375C2.46875 7.4375 4.34375 9.3125\n    6.6875 9.3125ZM6.6875 2.28125C8.21094 2.28125 9.5 3.57031 9.5 5.09375C9.5 6.64648 8.21094\n    7.90625 6.6875 7.90625C5.13477 7.90625 3.875 6.64648 3.875 5.09375C3.875 3.57031 5.13477\n    2.28125 6.6875 2.28125ZM1.53125 14.4688V13.7363C1.53125 12.3301 2.64453 11.1875 4.05078\n    11.1875C4.49023 11.1875 5.16406 11.6562 6.6875 11.6562C7.94727 11.6562 8.73828 11.3047\n    9.03125 11.2461C9.08984 10.748 9.17773 10.25 9.35352 9.81055C8.41602 9.78125 8.09375 10.25\n    6.6875 10.25C5.28125 10.25 4.90039 9.78125 4.05078 9.78125C1.88281 9.78125 0.125 11.5684\n    0.125 13.7363V14.4688C0.125 15.2598 0.740234 15.875 1.53125 15.875H10.9355C10.4668 15.4941\n    10.0859 15.0254 9.76367 14.4688H1.53125ZM14.6562 7.4375C12.3125 7.4375 10.4375 9.3418 10.4375\n    11.6562C10.4375 14 12.3125 15.875 14.6562 15.875C16.9707 15.875 18.875 14 18.875 11.6562C18.875\n    9.3418 16.9707 7.4375 14.6562 7.4375ZM16.5312 11.8613C16.5312 12.0078 16.3848 12.125 16.2383\n    12.125H14.4512C14.3047 12.125 14.1875 12.0078 14.1875 11.8613V9.60547C14.1875 9.45898 14.3047\n    9.3125 14.4512 9.3125H14.832C14.9785 9.3125 15.125 9.45898 15.125\n    9.60547V11.1875H16.2383C16.3848 11.1875 16.5312 11.334 16.5312 11.4805V11.8613Z",fill:"#292B32"})),JV=e=>t.createElement("svg",rH({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("g",{opacity:"0.3"},t.createElement("circle",{cx:"20",cy:"20",r:"20",fill:"black"})),t.createElement("path",{d:"M16 13V27L27 20L16 13Z",fill:"white"})),eq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M256 504c137 0 248-111 248-248S393 8 256 8 8 119 8 256s111 248 248 248zM40 256c0-118.7\n      96.1-216 216-216 118.7 0 216 96.1 216 216 0 118.7-96.1 216-216 216-118.7\n      0-216-96.1-216-216zm331.7-18l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8\n      35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM192 335.8V176.9c0-4.7 5.1-7.6 9.1-5.1l134.5\n      81.7c3.9 2.4 3.8 8.1-.1 10.3L201 341c-4 2.3-9-.6-9-5.2z"})),tq="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTUwIiBoZWlnaHQ9IjMxMSIgdmlld0JveD0iMCAwIDU1MCAzMTEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yMTU6MzI3NjEpIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAxXzIxNTozMjc2MSkiPgo8cGF0aCBkPSJNLTIgMTQuODA5Nkg0MjUuMTk4VjMxMUgtMlYxNC44MDk2WiIgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMC40Ii8+CjxyZWN0IHg9Ii04OC41Nzg2IiB5PSItMjUwLjYyMyIgd2lkdGg9IjY1MC40OCIgaGVpZ2h0PSI1ODIuMTI4IiBmaWxsPSIjMzk1MkVFIi8+CjxwYXRoIG9wYWNpdHk9IjAuMTIiIGQ9Ik01OTMuNzE5IDIxNy43NDJDNTk3LjY5IDE0Ni42OTEgNTQzLjAwNyA2NS4xNTg4IDQ2OS43NjkgNTUuOTE5MkM0NjguNDgxIDU1LjczNjYgNDY3LjE4OCA1NS41OTQgNDY1Ljg1MiA1NS40NDU2QzM2MC43NjMgNDMuOTc4IDM0NS41NDggMTcyLjIyMiAyNDkuMzkgMTgwLjg1M0MxNTMuMjggMTg5LjQ1MSA4NC41OTEyIDExMS42NTMgLTMyLjE0MjEgMTUyLjQxOEMtMTM2Ljk3MSAxODkuMDMgLTE3OC4yMzQgNDI4LjY2MiAxMjIuMTcyIDQ1Ni45OTVDMzYyLjYxIDQ3OS42NDQgNTgxLjg4OSA0MjkuNzIzIDU5My43MTkgMjE3Ljc0MloiIGZpbGw9IiNFM0U4RkYiLz4KPHJlY3QgeD0iLTg4LjU3ODYiIHk9IjI5Ni4xOSIgd2lkdGg9IjU5NC42NTkiIGhlaWdodD0iODguODU3MSIgZmlsbD0iI0ZCQUNDMiIvPgo8cGF0aCBkPSJNMjcxLjM3NiAzMDIuOTUxQzI3Mi4xMjEgMzAwLjU3MSAyNzIuNTQ2IDI5OC4wNzIgMjcyLjU0NiAyOTUuNTE0QzI3Mi41NDYgMjc3LjY0NyAyNTMuMTQyIDI2My4xNzEgMjI5LjE5MyAyNjMuMTcxQzIyMy40NzggMjYzLjE3MSAyMTguMDI5IDI2NC4wMDQgMjEzLjAzMiAyNjUuNTExQzIwOC40MDcgMjU1LjIxOSAxOTUuMzgzIDI0Ny44MjIgMTgwLjAxOSAyNDcuODIyQzE3OC41MDQgMjQ3LjgyMiAxNzcuMDQyIDI0Ny45MDEgMTc1LjU4IDI0OC4wNEMxNzIuMTI1IDIxOC43OSAxMzkuMjQ1IDE5NS44NjYgOTkuMTYxNSAxOTUuODY2QzU3LjMyMzkgMTk1Ljg2NiAyMy4zMjc0IDIyMC44NTMgMjIuNDc2OCAyNTEuOTI3QzMuOTUwMjUgMjU4LjYxIC04LjgzNDk2IDI3Mi43NjkgLTguODM0OTYgMjg5LjE2OEMtOC44MzQ5NiAyOTQuMDA3IC03LjcxODU4IDI5OC42NDcgLTUuNjcxODggMzAyLjk1MUgyNzEuMzc2WiIgZmlsbD0iI0ZCQUNDMiIvPgo8cGF0aCBkPSJNMjQyLjUzMSAyOTguMzk0QzI0Mi4wNTggMjk2Ljg3NSAyNDEuNzg4IDI5NS4yOCAyNDEuNzg4IDI5My42NDdDMjQxLjc4OCAyODIuMjQzIDI1NC4xMjEgMjczLjAwMiAyNjkuMzQ0IDI3My4wMDJDMjcyLjk3NiAyNzMuMDAyIDI3Ni40NCAyNzMuNTM0IDI3OS42MTYgMjc0LjQ5NkMyODIuNTU2IDI2Ny45MjcgMjkwLjgzNSAyNjMuMjA1IDMwMC42IDI2My4yMDVDMzAxLjU2MyAyNjMuMjA1IDMwMi40OTIgMjYzLjI1NiAzMDMuNDIyIDI2My4zNDVDMzA1LjYxOCAyNDQuNjc0IDMyNi41MTcgMjMwLjA0MiAzNTEuOTk2IDIzMC4wNDJDMzc4LjU4OSAyMzAuMDQyIDQwMC4xOTggMjQ1Ljk5MSA0MDAuNzM4IDI2NS44MjVDNDEyLjUxNCAyNzAuMDkxIDQyMC42NDEgMjc5LjEyOSA0MjAuNjQxIDI4OS41OTdDNDIwLjY0MSAyOTIuNjg1IDQxOS45MzIgMjk1LjY0NyA0MTguNjMxIDI5OC4zOTRIMjQyLjUzMVoiIGZpbGw9IiNGQkFDQzIiLz4KPHBhdGggZD0iTS0wLjIyNjU2MiAzMzEuNTA2QzIuOTkxIDMyNy40NTQgNC44MzQ5OCAzMjIuNzk4IDQuODM0OTggMzE3LjgzOUM0LjgzNDk4IDMwMi4yOTEgLTEzLjE5MDkgMjg5LjY5IC0zNS40MzE2IDI4OS42OUMtMzkuMDI1NSAyODkuNjkgLTQyLjUwNjUgMjkwLjAxOSAtNDUuODE4MiAyOTAuNjM3Qy01Mi44OTMgMjc3LjI2IC03MS4zMTQxIDI2Ny43MTEgLTkyLjkzMzkgMjY3LjcxMUMtMTE3LjQxNCAyNjcuNzExIC0xMzcuNzkyIDI3OS45NTcgLTE0Mi4yNTEgMjk2LjE0OUMtMTQ1LjM3NSAyOTUuNjA5IC0xNDguNjMgMjk1LjMyIC0xNTEuOTc5IDI5NS4zMkMtMTc0LjIyIDI5NS4zMiAtMTkyLjI0NiAzMDcuOTIxIC0xOTIuMjQ2IDMyMy40NjlDLTE5Mi4yNDYgMzI2LjI1NyAtMTkxLjY2MiAzMjguOTY3IC0xOTAuNTcxIDMzMS41MDZILTAuMjI2NTYyWiIgZmlsbD0iI0ZCQUNDMiIvPgo8cGF0aCBkPSJNNTkyLjE1NSAzMjEuMjUzQzU5NS4zNzIgMzE3LjIwMSA1OTcuMjE2IDMxMi41NDUgNTk3LjIxNiAzMDcuNTg2QzU5Ny4yMTYgMjkyLjAzOSA1NzkuMTkgMjc5LjQzOCA1NTYuOTUgMjc5LjQzOEM1NTMuMzU2IDI3OS40MzggNTQ5Ljg3NSAyNzkuNzY2IDU0Ni41NjMgMjgwLjM4NUM1MzkuNDg4IDI2Ny4wMDcgNTIxLjA2NyAyNTcuNDU4IDQ5OS40NDcgMjU3LjQ1OEM0NzQuOTY4IDI1Ny40NTggNDU0LjU5IDI2OS43MDQgNDUwLjEzIDI4NS44OTZDNDQ3LjAwNyAyODUuMzU3IDQ0My43NTIgMjg1LjA2NyA0NDAuNDAyIDI4NS4wNjdDNDE4LjE2MiAyODUuMDY3IDQwMC4xMzYgMjk3LjY2OCA0MDAuMTM2IDMxMy4yMTZDNDAwLjEzNiAzMTYuMDA0IDQwMC43MTkgMzE4LjcxNCA0MDEuODEgMzIxLjI1M0g1OTIuMTU1WiIgZmlsbD0iI0ZCQUNDMiIvPgo8ZyBvcGFjaXR5PSIwLjUiIGNsaXAtcGF0aD0idXJsKCNjbGlwMl8yMTU6MzI3NjEpIj4KPHBhdGggZD0iTTIwOS4wMSAxOTAuNzM4QzIxMS4wODkgMTkyLjgzMyAyMTQuNjY5IDE5NC4yMiAyMTcuODE5IDE5My41NThDMjE4LjA4OSAxOTMuNDk4IDIxOC4zNTggMTkzLjQyOCAyMTguNjI3IDE5My4zMzZDMjE5Ljk0OSAxOTIuODg5IDIyMS4xNjQgMTkyLjA0MSAyMjIuMTE3IDE5MC42NzhDMjIzLjU3MyAxODguNjAzIDIyNC40MTMgMTg1LjMyIDIyNC4wOTcgMTgwLjQ2M0MyMjMuNTcyIDE3Mi40MzQgMjIwLjIwMSAxNjkuMDAxIDIxNi45NjcgMTY3LjU3M0MyMTMuNzMzIDE2Ni4xNDUgMjEwLjYyNSAxNjYuNzMyIDIxMC42MjUgMTY2LjczMkMxOTguMDgxIDE2OS44MjcgMjA0LjQ3MyAxODYuMTg3IDIwOS4wMSAxOTAuNzM4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIxNy44MDMgMTkzLjIxQzIxNy44MDMgMTkzLjIxIDIxNi44MzQgMTk0LjcwMiAyMTcuMTMzIDE5NC44MjRDMjE3LjQzMiAxOTQuOTQ2IDIxNy40NDUgMTk0LjYwOCAyMTguMjE3IDE5NC43MDFDMjE4Ljk4OSAxOTQuNzk1IDIxOC44ODEgMTk0Ljc4OCAyMTkuMjczIDE5NC42MzVDMjE5LjY2NSAxOTQuNDgyIDIxOS43MTIgMTk0LjA1OCAyMTkuNzEyIDE5NC4wNThMMjE4LjYwNyAxOTIuOTE1TDIxNy44MDMgMTkzLjIxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIxOC42OTkgMTkzLjc3NEMyMTYuNjQ1IDE5NS44NTIgMjE1Ljg0NiAxOTkuMTAxIDIxNy4yMjQgMjAxLjUzNEMyMTcuOTQ4IDIwMi44MTggMjE5LjE3IDIwMy43NjggMjIwLjQwOCAyMDQuNjM3QzIyMS42NDUgMjA1LjUwNiAyMjIuOTMyIDIwNi4zNCAyMjMuODU3IDIwNy40OTdDMjI0Ljc5MyAyMDguNjUxIDIyNS4zMjcgMjEwLjIwMyAyMjQuODIzIDIxMS42MjRDMjI0LjMyOCAyMTMuMDMxIDIyMi41NjIgMjE0LjA4MyAyMjEuMTI3IDIxMy41MzhDMjIwLjg1NCAyMTMuNDMyIDIyMC42MDcgMjEzLjI4NiAyMjAuNDM0IDIxMy4wNjdDMjE5LjkwOSAyMTIuNDIzIDIyMC4yNTIgMjExLjM4MiAyMjAuOTY5IDIxMC44OTNDMjIyLjExNiAyMTAuMTIgMjIzLjgwNCAyMTAuNjAxIDIyNC42MzcgMjExLjYyN0MyMjUuNDkyIDIxMi42NDggMjI1LjY1OSAyMTQuMDQxIDIyNS42NDEgMjE1LjM1QzIyNS42MjYgMjE2LjY2OCAyMjUuNDYyIDIxOC4wMDMgMjI1Ljc1MSAyMTkuMjc3QzIyNi40NDUgMjIyLjM3NyAyMjkuNjIxIDIyNC40ODUgMjMwLjQzOSAyMjcuNTY1QzIzMC45MjEgMjI5LjM3MSAyMzAuNTQ3IDIzMS4zOTQgMjMxLjM0IDIzMy4wODgiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMC40NTU2NzgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIvPgo8L2c+CjxnIG9wYWNpdHk9IjAuNSIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAzXzIxNTozMjc2MSkiPgo8cGF0aCBkPSJNMzM1Ljc1MiAxMjYuNTUyQzMzNS4zOTcgMTI3LjI3MSAzMzUuMDM3IDEyNy45NjYgMzM0LjY3MiAxMjguNjM5QzMzMi43NTUgMTMyLjA4NiAzMzAuNTAyIDEzNC45NjMgMzI4LjU3MSAxMzYuNTk3QzMyNS4yNSAxMzkuNDE0IDMxOS44NjUgMTQwLjk5IDMxNS4zNyAxMzkuNTY5QzMxNS4yNjggMTM5LjU0NyAzMTUuMTYgMTM5LjUwMSAzMTUuMDY2IDEzOS40NjRDMzE0Ljc4OSAxMzkuMzc1IDMxNC41MTYgMTM5LjI1IDMxNC4yNDMgMTM5LjEyNEwzMTQuMjI4IDEzOS4xMTZDMzEzLjQ3OSAxMzguNzgyIDMxMi43NjIgMTM4LjMzMiAzMTIuMDk2IDEzNy43OTVDMzA4LjYwNyAxMzQuOTYxIDMwNi41MjkgMTI5LjIyOSAzMDguMTIyIDExOS4yNkMzMDkuNDM5IDExMS4xMDUgMzEyLjQxMyAxMDYuMzUyIDMxNS43MzkgMTAzLjY1NUMzMjIuMDY3IDk4LjUxMTUgMzI5LjY3NCAxMDAuNzE3IDMyOS42NzQgMTAwLjcxN0MzNDEuNzY3IDEwNS4wMzUgMzQwLjIzNiAxMTcuMjU0IDMzNS43NTIgMTI2LjU1MloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMTQuMjExIDEzOS4xNDRDMzE0LjIxMSAxMzkuMTQ0IDMxMS43MiAxMzkuOTM3IDMxMS45MzMgMTQwLjM1NkMzMTIuMTUxIDE0MC43OTggMzEyLjQ4OCAxNDAuMzk5IDMxMy4yNTYgMTQxLjI0OUMzMTQuMDI0IDE0Mi4wOTggMzEzLjkxMyAxNDEuOTkzIDMxNC41MDMgMTQyLjE3M0MzMTUuMDg0IDE0Mi4zNjcgMzE1LjUzNSAxNDEuOTM5IDMxNS41MzUgMTQxLjkzOUwzMTUuMzcgMTM5LjU2OUwzMTQuMjExIDEzOS4xNDRaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzEzLjIxOSAxNDEuMjQ2QzMwOC45MzMgMTQzLjYzNyAzMDYuMTM3IDE1MC4wMyAzMDUuODU2IDE1NC43NTJDMzA1LjcyMiAxNTcuMDM5IDMwNi40MTYgMTU5LjQ5NCAzMDguMjA0IDE2MC45MzdDMzA5LjEgMTYxLjY3IDMxMC4yMjIgMTYyLjA5MiAzMTEuMzcgMTYyLjI3OEMzMTIuNzU1IDE2Mi40ODkgMzE0LjQ2NSAxNjIuMTU5IDMxNS4wMjggMTYwLjg2N0MzMTUuNDU0IDE1OS45IDMxNS4wMiAxNTguNjg4IDMxNC4yIDE1OC4wMjFDMzEzLjM4MSAxNTcuMzU0IDMxMi4yNTUgMTU3LjE2MiAzMTEuMTk4IDE1Ny4yNDVDMzA1LjI0MiAxNTcuNzQgMzAyLjUxNiAxNjUuMDQ5IDMwMi4wNDQgMTcwLjEyMUMzMDEuNjkxIDE3My45NjUgMzAyLjE1MiAxNzguMTYzIDMwMy40NDkgMTgxLjc3NkMzMDUuODM2IDE4OC40MTEgMzA2LjE0NCAxOTMuNjA0IDMwMi4zNjggMTk5Ljc1N0MzMDEuMTYzIDIwMS43MyAyOTkuODgzIDIwMy42OTcgMjk5LjE0NSAyMDUuODkzQzI5OC40MjEgMjA4LjA5NyAyOTguMzA2IDIxMC42MDkgMjk5LjQxNSAyMTIuNjM0IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjAuNDU1Njc4IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiLz4KPC9nPgo8cGF0aCBkPSJNMTM2LjAyNCA1MS40NDc1QzEzNi40MDIgNTMuMzQ2MSAxMzUuMTQ2IDU1LjE5OTQgMTMzLjIyMyA1NS41ODE5QzEzMS4zIDU1Ljk2NDQgMTI5LjQzMSA1NC43MzI2IDEyOS4wNTMgNTIuODM0QzEyOC42NzUgNTAuOTM1NCAxMjkuOTMxIDQ5LjA4MjEgMTMxLjg1NCA0OC42OTk2QzEzMy43NzcgNDguMzE3MSAxMzUuNjQ2IDQ5LjU0ODkgMTM2LjAyNCA1MS40NDc1WiIgZmlsbD0iI0ZERTVERSIvPgo8cGF0aCBkPSJNNDQuMzI5NiAxOTkuMzg4QzQ0LjY0NDUgMjAwLjk3MiA0My41OTc0IDIwMi41MzEgNDEuOTc2MSAyMDIuODUzQzQwLjM1NDkgMjAzLjE3NSAzOC43OTA5IDIwMi4xMzYgMzguNDc2IDIwMC41NTNDMzguMTYxMSAxOTguOTY5IDM5LjIwODMgMTk3LjQxIDQwLjgyOTUgMTk3LjA4OEM0Mi40NTA3IDE5Ni43NjUgNDQuMDE0NyAxOTcuODA1IDQ0LjMyOTYgMTk5LjM4OFoiIHN0cm9rZT0iI0ZERTVERSIgc3Ryb2tlLXdpZHRoPSIxLjEzOTE5Ii8+CjxwYXRoIGQ9Ik0xNjUuMDAyIDE4My40MThMMTY1LjAwNSAxODMuNDE3QzE2Ni42MiAxODMuMDg2IDE2OC4xODUgMTg0LjEyMiAxNjguNTAyIDE4NS43MThDMTY4LjgxNyAxODcuMzAxIDE2Ny43NyAxODguODYgMTY2LjE0OSAxODkuMTgzQzE2NC41MjcgMTg5LjUwNSAxNjIuOTYzIDE4OC40NjYgMTYyLjY0OCAxODYuODgyQzE2Mi4zMzMgMTg1LjI5OSAxNjMuMzgxIDE4My43NCAxNjUuMDAyIDE4My40MThaIiBzdHJva2U9IiNGREU1REUiIHN0cm9rZS13aWR0aD0iMS4xMzkxOSIvPgo8cGF0aCBkPSJNMjc2LjY0MyA2OC40MzQzTDI3Ni42NDYgNjguNDMzN0MyNzguMjYxIDY4LjEwMyAyNzkuODI2IDY5LjEzODkgMjgwLjE0MyA3MC43MzQ3QzI4MC40NTggNzIuMzE4IDI3OS40MTEgNzMuODc2OSAyNzcuNzkgNzQuMTk5M0MyNzYuMTY4IDc0LjUyMTggMjc0LjYwNCA3My40ODIzIDI3NC4yODkgNzEuODk5QzI3My45NzUgNzAuMzE1NiAyNzUuMDIyIDY4Ljc1NjggMjc2LjY0MyA2OC40MzQzWiIgc3Ryb2tlPSIjRkRFNURFIiBzdHJva2Utd2lkdGg9IjEuMTM5MTkiLz4KPHBhdGggb3BhY2l0eT0iMC40IiBkPSJNMzg3LjA4MyAxMzEuNjQ3TDM5MS42MTggMTM0Ljg2MUMzOTEuNjE4IDEzNC44NjEgMzkyLjMwMSAxMzguMjkxIDM4OC45ODMgMTM5Ljc3QzM4NS42NjUgMTQxLjI0OCAzODMuNTI1IDE0My4wNTMgMzg0LjI1OSAxNDUuMzc0QzM4NC4yNTkgMTQ1LjM3NCAzODAuMTk2IDE0NC41MzQgMzc5Ljg5MiAxNDEuNTc4QzM3OS41NzcgMTM4LjYyNCAzODMuNTM1IDEzOC45MzYgMzg1LjQ2NyAxMzYuMDg1QzM4Ny4zOTkgMTMzLjIzMyAzODcuMDgzIDEzMS42NDcgMzg3LjA4MyAxMzEuNjQ3WiIgZmlsbD0iI0Y2RjVGMyIvPgo8cGF0aCBkPSJNNTkuMjAyNiAyMzkuNTgyTDU2Ljg1MzYgMjQ0LjYxQzU2Ljg1MzYgMjQ0LjYxIDUzLjU3NjYgMjQ1Ljk0NyA1MS40ODAxIDI0My4wMjJDNDkuMzk0NCAyNDAuMDk0IDQ3LjIwNjIgMjM4LjM2NiA0NS4wMzU4IDIzOS41NDFDNDUuMDM1OCAyMzkuNTQxIDQ1LjEyMDUgMjM1LjQzOCA0Ny45OTE3IDIzNC41NkM1MC44NzM3IDIzMy42NzkgNTEuMjg4NiAyMzcuNTcyIDU0LjQ4OTUgMjM4Ljg4N0M1Ny42OTAzIDI0MC4yMDMgNTkuMjAyNiAyMzkuNTgyIDU5LjIwMjYgMjM5LjU4MloiIGZpbGw9IiNGRkQ0MDAiLz4KPHBhdGggZD0iTTk3LjA4OTMgMjE5LjkyMkw5OS42NiAyMjQuODE2Qzk5LjY2IDIyNC44MTYgOTguNzA2NCAyMjguMTg4IDk1LjA3MyAyMjguMDQ0QzkxLjQ0NDIgMjI3Ljg5MSA4OC43MTIxIDIyOC41NDggODguMzExNiAyMzAuOTU3Qzg4LjMxMTYgMjMwLjk1NyA4NS4wODMzIDIyOC4zOTQgODYuMTUzMyAyMjUuNjE4Qzg3LjIyNzggMjIyLjgzMiA5MC41OTY3IDIyNC44NzcgOTMuNjI0NyAyMjMuMTc5Qzk2LjY1MjcgMjIxLjQ4IDk3LjA4OTMgMjE5LjkyMiA5Ny4wODkzIDIxOS45MjJaIiBmaWxsPSIjRkRFNURFIi8+CjxwYXRoIG9wYWNpdHk9IjAuNCIgZD0iTTM2NC4zNTQgMTc0Ljc0N0wzNjEuODE1IDE3OS42ODJDMzYxLjgxNSAxNzkuNjgyIDM1OC40ODkgMTgwLjg5MyAzNTYuNTA2IDE3Ny44OUMzNTQuNTIzIDE3NC44ODYgMzUyLjQxMyAxNzMuMDc0IDM1MC4xOTkgMTc0LjE2NUMzNTAuMTk5IDE3NC4xNjUgMzUwLjQ0MSAxNzAuMDY5IDM1My4zNDQgMTY5LjMwMUMzNTYuMjU3IDE2OC41MyAzNTYuNTM0IDE3Mi40MzQgMzU5LjY3MSAxNzMuODczQzM2Mi44MTkgMTc1LjMxMSAzNjQuMzU0IDE3NC43NDcgMzY0LjM1NCAxNzQuNzQ3WiIgZmlsbD0iI0Y2RjVGMyIvPgo8cGF0aCBkPSJNMTQ2LjI1MyAxMTQuNDM3TDE0My43MTMgMTE5LjM3MUMxNDMuNzEzIDExOS4zNzEgMTQwLjM4OCAxMjAuNTgyIDEzOC40MDQgMTE3LjU3OUMxMzYuNDMyIDExNC41NzMgMTM0LjMxMiAxMTIuNzY0IDEzMi4wOTggMTEzLjg1NEMxMzIuMDk4IDExMy44NTQgMTMyLjM0IDEwOS43NTggMTM1LjI0MiAxMDguOTlDMTM4LjE1NiAxMDguMjIgMTM4LjQyMiAxMTIuMTI2IDE0MS41NyAxMTMuNTYzQzE0NC43MTggMTE1IDE0Ni4yNTMgMTE0LjQzNyAxNDYuMjUzIDExNC40MzdaIiBmaWxsPSIjRjhEQTNBIi8+CjxwYXRoIGQ9Ik0zNS4zNzY0IDU4LjYwNzhMMzcuNzgyNCA2My42MDlDMzcuNzgyNCA2My42MDkgMzYuNzQzNSA2Ni45OTI0IDMzLjE1MTcgNjYuNzYzOUMyOS41NjQ3IDY2LjUyNTQgMjYuODQyNCA2Ny4xMjYxIDI2LjM3OCA2OS41NDk5QzI2LjM3OCA2OS41NDk5IDIzLjI1NTQgNjYuODg3NiAyNC4zOTI3IDY0LjEwODdDMjUuNTM0OCA2MS4zMTk4IDI4LjgxMTEgNjMuNDYyNSAzMS44NTU3IDYxLjgxNzNDMzQuOTAwMyA2MC4xNzIgMzUuMzc2NCA1OC42MDc4IDM1LjM3NjQgNTguNjA3OFoiIGZpbGw9IiNGOERBM0EiLz4KPHBhdGggZD0iTTM1OS43MSAxMDYuNjYxTDM2My43MjQgMTAyLjgwMUMzNjMuNzI0IDEwMi44MDEgMzY3LjI2MiAxMDIuNzE0IDM2OC4xNDggMTA2LjE5NEMzNjkuMDMzIDEwOS42NzMgMzcwLjQzOSAxMTIuMDYzIDM3Mi44ODQgMTExLjczM0MzNzIuODg0IDExMS43MzMgMzcxLjMyNSAxMTUuNTQyIDM2OC4zMiAxMTUuMzQ0QzM2NS4zMTYgMTE1LjE0NSAzNjYuMzM0IDExMS4zNTQgMzYzLjg0MiAxMDguOTlDMzYxLjM1IDEwNi42MjYgMzU5LjcxIDEwNi42NjEgMzU5LjcxIDEwNi42NjFaIiBmaWxsPSIjRkZENDAwIi8+CjxlbGxpcHNlIG9wYWNpdHk9IjAuNiIgY3g9IjI1NS40NTgiIGN5PSIyNzguNTMzIiByeD0iMzAuNzU4MiIgcnk9IjMuOTg3MTgiIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjAuMTIiLz4KPHBhdGggZD0iTTI3OS4wMTYgMjc2LjQ3NUwyNzYuODY0IDIxMC43NTFMMjMxLjUzNSAyNjUuNjY1QzIzMS41MzUgMjY1LjY2NSAyNDkuMTMxIDI4Ny4yODYgMjc5LjAxNiAyNzYuNDc1WiIgZmlsbD0iIzEyMUU2QSIvPgo8cGF0aCBkPSJNMjY0LjE5IDI0Ny44NjRDMjY0LjE5IDI1MC44MDYgMjYxLjgwNCAyNTMuMTkyIDI1OC44NjEgMjUzLjE5MkMyNTUuOTE4IDI1My4xOTIgMjUzLjUzMiAyNTAuODA2IDI1My41MzIgMjQ3Ljg2NEMyNTMuNTMyIDI0NC45MjEgMjU1LjkxOCAyNDIuNTM1IDI1OC44NjEgMjQyLjUzNUMyNjEuODA0IDI0Mi41MzUgMjY0LjE5IDI0NC45MjEgMjY0LjE5IDI0Ny44NjRaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMuMzY4NTUiLz4KPHBhdGggZD0iTTI3Ny43MjUgMjM5LjExN0MyNzIuNzA0IDIzOS4zNTYgMjY4LjQ5NiAyMzUuNDMzIDI2OC4yNTcgMjMwLjQxMUMyNjguMDE4IDIyNS4zODggMjcyLjA4MiAyMjIuMzgyIDI3Ny4xMDIgMjIyLjE0M0wyNzcuNzI1IDIzOS4xMTdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjU3LjgzNCAyNzIuODg4QzI2MC41MjcgMjcyLjg4OCAyNjIuNzExIDI3MC43MDMgMjYyLjcxMSAyNjguMDA4QzI2Mi43MTEgMjY1LjMxNCAyNjAuNTI3IDI2My4xMjkgMjU3LjgzNCAyNjMuMTI5QzI1NS4xNCAyNjMuMTI5IDI1Mi45NTcgMjY1LjMxNCAyNTIuOTU3IDI2OC4wMDhDMjUyLjk1NyAyNzAuNzAzIDI1NS4xNCAyNzIuODg4IDI1Ny44MzQgMjcyLjg4OFoiIGZpbGw9IndoaXRlIi8+CjwvZz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMTU6MzI3NjEiPgo8cmVjdCB3aWR0aD0iNTUzLjY0OCIgaGVpZ2h0PSIzMTEiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMikiLz4KPC9jbGlwUGF0aD4KPGNsaXBQYXRoIGlkPSJjbGlwMV8yMTU6MzI3NjEiPgo8cmVjdCB3aWR0aD0iNTUzLjY0OCIgaGVpZ2h0PSIzMTEiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMikiLz4KPC9jbGlwUGF0aD4KPGNsaXBQYXRoIGlkPSJjbGlwMl8yMTU6MzI3NjEiPgo8cmVjdCB3aWR0aD0iMjUuODYyNCIgaGVpZ2h0PSI2OS43MTAzIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTk4LjQ5OCAxNjkuODU0KSByb3RhdGUoLTE1LjU4NjQpIi8+CjwvY2xpcFBhdGg+CjxjbGlwUGF0aCBpZD0iY2xpcDNfMjE1OjMyNzYxIj4KPHJlY3Qgd2lkdGg9IjQzLjMxNDgiIGhlaWdodD0iMTEyLjE0NCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyMC4wNjYgOTQuNTUzMSkgcm90YXRlKDMxLjAwOTEpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==",nq=e=>t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 14 3",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M13.1875 0.125H0.8125C0.496094 0.125 0.25 0.40625 0.25 0.6875V1.8125C0.25 2.12891 0.496094\n      2.375 0.8125 2.375H13.1875C13.4688 2.375 13.75 2.12891 13.75 1.8125V0.6875C13.75 0.40625\n      13.4688 0.125 13.1875 0.125Z",fill:"#A5A9B5"})),rq=e=>t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M14.1875 0.375H1.8125C0.863281 0.375 0.125 1.14844 0.125 2.0625V14.4375C0.125 15.3867\n      0.863281 16.125 1.8125 16.125H14.1875C15.1016 16.125 15.875 15.3867 15.875\n      14.4375V2.0625C15.875 1.14844 15.1016 0.375 14.1875 0.375ZM14.1875\n      14.4375H1.8125V2.0625H14.1875V14.4375ZM4.34375 12.75H4.90625C5.1875 12.75 5.46875 12.5039\n      5.46875 12.1875V7.6875C5.46875 7.40625 5.1875 7.125 4.90625 7.125H4.34375C4.02734 7.125\n      3.78125 7.40625 3.78125 7.6875V12.1875C3.78125 12.5039 4.02734 12.75 4.34375 12.75ZM7.71875\n      12.75H8.28125C8.5625 12.75 8.84375 12.5039 8.84375 12.1875V4.3125C8.84375 4.03125 8.5625\n      3.75 8.28125 3.75H7.71875C7.40234 3.75 7.15625 4.03125 7.15625 4.3125V12.1875C7.15625\n      12.5039 7.40234 12.75 7.71875 12.75ZM11.0938 12.75H11.6562C11.9375 12.75 12.2188 12.5039\n      12.2188 12.1875V9.9375C12.2188 9.65625 11.9375 9.375 11.6562 9.375H11.0938C10.7773 9.375\n      10.5312 9.65625 10.5312 9.9375V12.1875C10.5312 12.5039 10.7773 12.75 11.0938 12.75Z",fill:"#292B32"})),iq=e=>t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M8 16C12.3857 16 16 12.3793 16 7.99581C16 3.62074 12.3774 0 8 0C3.61426 0 0 3.62074 0\n      7.99581C0 12.3793 3.62264 16 8 16ZM5.12369 11.4573C4.79665 11.4573 4.54507 11.1975 4.54507\n      10.879C4.54507 10.7197 4.60377 10.5773 4.71279 10.4767L7.1782 8.00419L4.71279 5.53169C4.60377\n      5.43112 4.54507 5.28863 4.54507 5.12939C4.54507 4.80251 4.79665 4.55946 5.12369\n      4.55946C5.28302 4.55946 5.41719 4.61812 5.52621 4.72708L8 7.1912L10.4822 4.72708C10.5996\n      4.60136 10.7338 4.54269 10.8847 4.54269C11.2034 4.54269 11.4633 4.80251 11.4633\n      5.12101C11.4633 5.28025 11.413 5.40597 11.2872 5.52331L8.81342 8.00419L11.2872\n      10.4599C11.3962 10.5773 11.4549 10.7114 11.4549 10.879C11.4549 11.1975 11.2034 11.4573\n      10.8763 11.4573C10.7086 11.4573 10.566 11.3903 10.457 11.2813L8 8.81718L5.53459\n      11.2813C5.43396 11.3903 5.28302 11.4573 5.12369 11.4573Z",fill:"#898E9E"})),oq=e=>{var n=e,{bg:r="#fff",fg:i="#cacaca",children:o}=n,a=oH(n,["bg","fg","children"]);return t.createElement("svg",rH({width:"100%",height:"100%",viewBox:"0 0 24 28",fill:"none",vectorEffect:"non-scaling-stroke",xmlns:"http://www.w3.org/2000/svg"},a),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.24993 27.8542c-1.158 0-2.099997-.9263-2.099997-2.065V2.21031c0-1.13809.941997-2.064421 2.099997-2.064421H16.4999c.1614 0 .3114.060667.423.172084l6.7506 6.631917c.114.112.1764.26075.1764.41883V25.7892c0 1.1387-.942 2.065-2.1 2.065H2.24993z",fill:r}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4999.00010681H2.24991C1.00911.00010681-.00009155.99119-.00009155 2.21036V25.7899c0 1.2185 1.00920155 2.2102 2.25000155 2.2102H21.7499c1.2402 0 2.25-.9917 2.25-2.2102V7.36877c0-.196-.0792-.38266-.2196-.5215l-6.75-6.63133c-.141-.1394165-.3312-.21583319-.5304-.21583319zm0 .29162219c.1206 0 .2328.0455.3168.1295l6.75 6.631331c.0864.084.1332.19659.1332.31617V25.7898c0 1.0576-.8748 1.9186-1.95 1.9186H2.24995c-1.0752 0-1.950005-.861-1.950005-1.9186V2.21031c0-1.05758.874805-1.918581 1.950005-1.918581H16.4999z",fill:i}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9999 7.36861c0-.196-.0792-.38267-.2196-.5215l-6.75-6.631338c-.141-.1394164-.3312-.21583304-.5304-.21583304h-.4878V5.63727c0 1.21858 1.0092 2.21025 2.25 2.21025h5.7378v-.47891z",fill:i}),o)},aq=e=>{var n=e,{color:r="#FFB400"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M6.75698 23.3835c-.0936.0595-.2088.0951-.3456.1079-.1368.0117-.2736.0304-.4104.0549-.0648.0105-.1278.025-.189.0443-.0612.0198-.1152.0461-.162.0787-.0468.0339-.0834.077-.1104.1313-.027.0548-.0408.1202-.0408.1972 0 .0665.0198.1225.0594.168.0396.0455.087.081.1428.1073.0564.0262.1176.0449.1842.0554.066.0105.1266.0152.1806.0152.0684 0 .1422-.0082.2214-.0257.0792-.0175.1542-.0472.2244-.0892.0702-.042.1284-.0957.1752-.1605.0468-.0647.0702-.144.0702-.2385v-.4463zm.6156.756c0 .0735.0102.126.0294.1569.0198.0321.0588.0473.117.0473h.0642c.0252 0 .054-.0029.0864-.0099v.4147c-.0216.007-.0498.0146-.0834.0233-.0348.0094-.0696.017-.1056.024-.036.007-.072.0116-.108.0157-.036.0035-.0666.0053-.0918.0053-.126 0-.2304-.0245-.3126-.0735-.0834-.049-.1374-.1348-.1626-.2573-.1224.1155-.2724.1989-.4506.252-.1788.0525-.3504.0788-.516.0788-.126 0-.2466-.0164-.3618-.0502-.1152-.0333-.2166-.0823-.3054-.147-.0876-.0642-.1578-.147-.21-.2468-.0522-.0997-.0786-.2158-.0786-.3488 0-.168.0318-.3045.0942-.4095.0636-.105.1458-.1872.2484-.2467s.2184-.1027.3456-.129c.1278-.0262.2568-.046.3864-.0606.1116-.0204.2178-.0356.3186-.0444.1008-.0081.1902-.0233.2676-.0443.0768-.021.1386-.0537.183-.0974.045-.0438.0678-.1091.0678-.1966 0-.077-.0192-.14-.0564-.189-.0384-.049-.0852-.0863-.141-.1126-.0552-.0262-.1176-.0443-.186-.0525-.0678-.0093-.1332-.014-.1938-.014-.1728 0-.3156.0356-.4272.1056-.1116.07-.1746.1785-.189.3255h-.6156c.0108-.175.054-.3202.1296-.4357.0756-.1155.1722-.2083.2892-.2783.1164-.07.249-.119.3966-.147.1476-.028.2988-.042.4536-.042.1368 0 .2718.014.405.042.1332.028.2532.0735.3594.1359.1056.0636.1914.1447.2562.2444.0648.0998.0972.2217.0972.3646v1.3971zM10.6235 24.7433h-.6048v-.378h-.0108c-.07556.1365-.18836.2456-.33776.3278-.1494.0823-.3018.1237-.4566.1237-.3666 0-.6318-.0881-.7962-.2654-.1638-.1768-.2454-.4433-.2454-.8003v-1.722h.615v1.6642c0 .2374.0474.406.141.5034.0936.098.225.147.3942.147.1296 0 .2376-.0186.324-.0571.0864-.0391.1566-.0899.2106-.1552.054-.0648.0924-.1423.1158-.2333.0234-.091.03536-.189.03536-.294v-1.575h.6156v2.7142zM11.8868 23.4149c0 .1155.015.2298.0462.3412.0306.112.0774.2118.1404.2993.063.0875.1434.1575.24.21.0972.0525.2124.0787.3456.0787.1374 0 .255-.028.354-.084.099-.0554.18-.1289.243-.2205.063-.091.1098-.1936.1404-.3068.03-.1137.0462-.2304.0462-.3494 0-.301-.0696-.5355-.2082-.7035-.1386-.168-.327-.252-.564-.252-.1446 0-.2658.0286-.3648.0869-.099.0578-.1806.133-.243.2258-.0636.0927-.108.1977-.135.315-.0276.1172-.0408.2368-.0408.3593zm2.1492 1.3282h-.5832v-.3675h-.0102c-.0834.1575-.204.2701-.3624.339-.1578.0682-.3258.102-.5022.102-.2196 0-.411-.0373-.5748-.1125-.1638-.0753-.3-.178-.4074-.3075-.1086-.1295-.1896-.2829-.2436-.459-.0534-.1768-.0804-.3664-.0804-.57 0-.245.0336-.4567.1026-.6352.0684-.1785.159-.3255.2724-.441.1134-.1155.243-.2007.3888-.2543.1458-.0543.294-.0817.4452-.0817.087 0 .1746.0082.2652.0239.0894.0152.1764.0408.2586.0758.0828.035.1596.08.2298.1336.0702.0543.1284.119.1752.1925h.0114v-1.386h.615v3.7479zM14.8571 24.7433h.615V22.029h-.615v2.7143zm0-3.1815h.615v-.567h-.615v.567zM17.5569 24.344c.1368 0 .2556-.028.3564-.084.1008-.0555.1836-.129.2484-.22.0648-.0915.1122-.1942.1428-.3074.0306-.1137.0462-.2298.0462-.3488 0-.1161-.0156-.2316-.0462-.3465-.0306-.1155-.078-.2182-.1428-.308-.0648-.0887-.1476-.1616-.2484-.2176-.1008-.0554-.2196-.084-.3564-.084-.1374 0-.2556.0286-.3564.084-.1008.056-.1836.1289-.2484.2176-.0648.0898-.1122.1925-.1434.308-.0306.1149-.0456.2304-.0456.3465 0 .119.015.2351.0456.3488.0312.1132.0786.2159.1434.3074.0648.091.1476.1645.2484.22.1008.056.219.084.3564.084zm0 .473c-.2232 0-.4224-.0361-.5964-.1079-.1752-.0717-.3222-.1709-.4428-.2969-.1212-.126-.213-.2759-.2754-.4509-.0636-.1756-.0948-.3681-.0948-.5775 0-.2071.0312-.3973.0948-.5728.0624-.175.1542-.3255.2754-.451.1206-.126.2676-.2251.4428-.2969.174-.0717.3732-.1079.5964-.1079.2232 0 .4218.0362.5964.1079.1746.0718.3222.1709.4428.2969.1212.1255.2124.276.2754.451.063.1755.0948.3657.0948.5728 0 .2094-.0318.4019-.0948.5775-.063.175-.1542.3249-.2754.4509-.1206.126-.2682.2252-.4428.2969-.1746.0718-.3732.1079-.5964.1079zM14.397 16.224c-.723 0-1.203-.294-1.203-.4882 0-.1943.48-.4883 1.203-.4883.723 0 1.203.294 1.203.4883 0 .1942-.48.4882-1.203.4882zm-4.79398 1.2478c-.723 0-1.203-.294-1.203-.4883 0-.1942.48-.4882 1.203-.4882.72298 0 1.20298.294 1.20298.4882 0 .1943-.48.4883-1.20298.4883zm6.48778-6.933c-.0684-.056-.1578-.0787-.2478-.0624l-4.794 1.1194c-.141.0269-.243.147-.243.287v4.2951c-.3156-.1645-.7296-.266-1.20298-.266-1.0278 0-1.803.4609-1.803 1.0716 0 .6113.7752 1.0716 1.803 1.0716 1.02778 0 1.80298-.4603 1.80298-1.0716v-4.8597l4.194-1.0075v3.8139c-.3156-.1651-.7296-.266-1.203-.266-1.0278 0-1.803.4602-1.803 1.0716 0 .6107.7752 1.0715 1.803 1.0715s1.803-.4608 1.803-1.0715v-4.9724c0-.0869-.0402-.1691-.1092-.2246z",clipRule:"evenodd"}))},sq=e=>{var n=e,{color:r="#5856D6"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,d:"M10.5224 24.0681c0 .0785.0098.1346.0295.1683.0236.0336.0669.0504.1299.0504h.0709c.0276 0 .0591-.0037.0945-.0112v.4431c-.0236.0075-.0551.015-.0945.0225-.0354.0112-.0728.0205-.1122.028-.0394.0075-.0787.0131-.1181.0168-.0394.0038-.0728.0056-.1004.0056-.1378 0-.252-.0261-.3425-.0785-.09057-.0523-.14962-.1439-.17718-.2748-.13386.1234-.29921.2131-.49606.2692-.19291.0561-.37991.0841-.56101.0841-.1378 0-.26968-.0186-.39567-.056-.12598-.0337-.23818-.0842-.3366-.1515-.09449-.071-.17126-.1589-.23032-.2636-.05511-.1084-.08267-.2337-.08267-.3758 0-.1795.03346-.3253.10039-.4375.07087-.1122.16141-.2001.27165-.2636.11417-.0636.24015-.1085.37795-.1346.14173-.03.28346-.0524.42519-.0674.12204-.0224.23818-.0373.34842-.0448.11023-.0112.20669-.0281.28936-.0505.08662-.0224.15354-.0561.20079-.101.05118-.0486.07677-.1196.07677-.2131 0-.0823-.02166-.1496-.06496-.2019-.03937-.0524-.09055-.0916-.15354-.1178-.05906-.0299-.12599-.0486-.20079-.0561-.0748-.0112-.14567-.0168-.21259-.0168-.18898 0-.34449.0374-.46653.1121-.12205.0748-.19094.1907-.20669.3478h-.67322c.01181-.187.05906-.3421.14173-.4655.08268-.1234.18701-.2225.31299-.2973.12992-.0748.27558-.1272.437-.1571.16141-.0299.32677-.0448.49605-.0448.14961 0 .29724.0149.44291.0448.14567.0299.27563.0786.38973.1459.1181.0673.2126.1551.2835.2636.0709.1047.1063.2337.1063.387v1.492zm-.67323-.8077c-.10236.0636-.22834.1028-.37795.1178-.1496.0112-.29921.0299-.44881.0561-.07086.0112-.13976.028-.20669.0505-.06693.0187-.12598.0467-.17716.0841-.05118.0336-.09252.0804-.12402.1402-.02755.0561-.04133.1253-.04133.2075 0 .0711.02165.1309.06496.1795.0433.0486.09448.0879.15354.1178.06299.0262.12992.0449.20078.0561.0748.0112.14173.0168.20079.0168.0748 0 .1555-.0093.24212-.028.08661-.0187.16732-.0505.24212-.0954.07874-.0448.1437-.1009.19488-.1682.05118-.0711.07677-.1571.07677-.258v-.4768zM10.9456 21.8133h.7323l.7736 2.2267h.0118l.7441-2.2267h.6968l-1.0925 2.8998h-.7559l-1.1102-2.8998zM14.3268 20.7083H15v.6058h-.6732v-.6058zm0 1.105H15v2.8998h-.6732v-2.8998zM16.7812 11.6666c-.1125 0-.225.0365-.3375.1094L14.4 13.0521v-1.0938c0-.4739-.45-.875-.975-.875H7.55623c-.525 0-.95625.4011-.95625.875v5.2682c0 .474.43125.8568.95625.8568H13.425c.525 0 .975-.3828.975-.8568v-1.0937l2.0437 1.276c.1125.0729.225.0912.3375.0912.3188 0 .6-.237.6-.5651V12.25c.0188-.3464-.2812-.5834-.6-.5834zM13.8 17.2265c0 .1459-.1875.2735-.375.2735H7.55623c-.1875 0-.35625-.1276-.35625-.2735v-5.2682c0-.1458.16875-.2917.35625-.2917H13.425c.1875 0 .375.1459.375.2917v5.2682zm3-.2916l-.0375-.0183L14.4 15.4401v-1.6953l2.4-1.4948v4.6849z"}))},lq=e=>{var n=e,{color:r="#00BED4"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M9.6869 22.9368c-.0252-.1674-.0942-.2946-.2082-.3803-.1128-.0858-.2556-.1289-.429-.1289-.0792 0-.1638.0134-.2538.0396-.09.0263-.1722.0753-.2478.147-.0762.0718-.1392.1715-.1896.2993-.0504.1277-.0756.2952-.0756.5011 0 .1126.0138.224.0408.3366.0264.112.0702.2117.129.2986.06.0881.1362.1587.2298.2124.0936.0548.207.0816.3408.0816.1794 0 .3276-.0542.4452-.1621.1164-.1091.1896-.2608.2184-.4568h.6156c-.0576.3529-.1956.6236-.4128.8108-.2178.1873-.507.2812-.8664.2812-.2202 0-.4134-.0362-.5808-.1079-.168-.0718-.309-.1698-.4242-.294-.1152-.1243-.2022-.2724-.2622-.4439-.0588-.1715-.0888-.357-.0888-.5565 0-.2024.0288-.3932.0864-.5717.0576-.1791.144-.3337.2592-.4649.1152-.1313.2586-.2345.4296-.3098.171-.0752.3714-.1131.6018-.1131.162 0 .3162.0204.4614.0606.1458.0403.2754.101.3894.1809.1128.0805.2058.1826.2784.3051.0714.1225.1146.2677.129.4351h-.6156zM11.4043 23.8717c.0174.175.0864.2975.2052.3675.1188.07.2604.105.4266.105.057 0 .123-.0041.1968-.0134.0738-.0088.1434-.0251.2082-.0496.0648-.0245.1176-.0601.159-.1073.042-.0473.0606-.1097.057-.1867-.0036-.077-.0324-.14-.087-.189-.0534-.049-.123-.0881-.207-.1178-.0852-.0304-.1812-.0555-.2892-.0765-.108-.021-.2178-.0437-.33-.0682-.1146-.0245-.2256-.0543-.3312-.0893-.1068-.035-.2022-.0822-.2868-.1417-.084-.0595-.1518-.1353-.2022-.2281-.051-.0927-.0756-.2077-.0756-.3442 0-.147.0366-.2706.1104-.3704.0738-.0997.1674-.1796.2814-.2415.1128-.0606.2388-.1038.3774-.1283.1386-.0245.2712-.0368.3972-.0368.144 0 .2814.0146.4128.0444.1314.0303.2502.0781.3564.1446.1068.0665.1944.1535.2646.2596.0702.1074.1146.2357.1326.3862h-.6426c-.0288-.1435-.0966-.2398-.2022-.2888-.1068-.049-.228-.074-.3654-.074-.0426 0-.0942.004-.1536.011-.0594.007-.1152.0199-.1674.0391-.0522.0199-.096.0473-.1326.0846-.0354.0362-.0534.0846-.0534.1441 0 .0735.0264.133.078.1785.0522.0455.1212.0828.2052.1126.0846.0303.1812.0554.2892.0764.1074.021.2196.0437.3342.0682.1122.0245.2214.0543.33.0893.108.035.204.0822.2892.1417.084.0595.1524.1348.2046.2258.0522.091.0786.203.0786.3354 0 .1616-.0378.2981-.1134.4101-.0756.112-.174.203-.294.273-.1212.07-.255.1207-.4026.1522s-.294.0473-.4374.0473c-.1764 0-.3396-.0193-.4884-.0578-.1494-.0385-.2796-.0974-.3894-.1755-.1092-.0794-.1962-.1774-.2586-.294-.0636-.1173-.0972-.2567-.1002-.4177h.6156zM13.6021 22.0288h.669l.708 2.0843h.0108l.6798-2.0843h.6378l-.999 2.7143h-.6918l-1.0146-2.7143zM10.2 17.472h6v-1.1667h-6v1.1667zm-2.39999 0h1.8v-1.1667h-1.8v1.1667zm0-5.25h1.8v-1.1667h-1.8v1.1667zm2.39999 0h6v-1.1667h-6v1.1667zm0 1.75h6v-1.1667h-6v1.1667zm0 1.75h6v-1.1667h-6v1.1667zm-2.39999-1.75h1.8v-1.1667h-1.8v1.1667zm0 1.75h1.8v-1.1667h-1.8v1.1667zM16.5 10.472H7.50001c-.1656 0-.3.1307-.3.2917v7c0 .1616.1344.2916.3.2916H16.5c.1662 0 .3-.13.3-.2916v-7c0-.161-.1338-.2917-.3-.2917z",clipRule:"evenodd"}))},cq=e=>{var n=e,{color:r="#999"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M16.4998 11.0549H7.49977c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h9.00003c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM16.4998 12.8049H7.49977c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h9.00003c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM16.4998 14.5549H7.49977c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h9.00003c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM13.4998 16.3049H7.49977c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h6.00003c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM13.4998 18.0549H7.49977c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h6.00003c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916z",clipRule:"evenodd"}))},uq=e=>{var n=e,{color:r="#0E86FE"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M7.84262 23.4149c0 .1155.015.2298.0462.3412.03.112.0774.2118.1404.2993.063.0875.1428.1575.24.21.0972.0525.2124.0787.3456.0787.1368 0 .2544-.028.3534-.084.0996-.0554.1806-.1289.2436-.2205.063-.091.1098-.1936.1404-.3068.03-.1138.0456-.2304.0456-.3494 0-.301-.069-.5355-.2076-.7035-.1386-.168-.327-.252-.5646-.252-.144 0-.2652.0286-.3642.0869-.099.0577-.1806.133-.2436.2257-.063.0928-.1074.1978-.1344.315-.0276.1173-.0408.2369-.0408.3594zm2.1492 1.3282h-.5832v-.3675h-.0108c-.0828.1575-.2034.2701-.3618.3389-.1584.0683-.3258.1021-.5022.1021-.2196 0-.411-.0373-.5748-.1126-.1644-.0752-.3-.1779-.408-.3074-.108-.1295-.189-.2829-.243-.4591-.054-.1767-.081-.3663-.081-.5699 0-.245.0342-.4567.1026-.6352.0684-.1785.1596-.3255.273-.441.1134-.1155.243-.2007.3888-.2544.1458-.0542.294-.0816.4452-.0816.0864 0 .1746.0081.2646.0239.09.0152.1764.0408.2592.0758.0828.035.1596.0799.2298.1336.0702.0543.1284.119.1752.1925h.0108v-1.386h.6156v3.7479zM12.0763 24.344c.1368 0 .2556-.028.3564-.084.1008-.0555.1836-.129.2484-.22.0648-.0915.1128-.1942.1434-.3074.03-.1137.0456-.2298.0456-.3488 0-.1161-.0156-.2316-.0456-.3465-.0306-.1155-.0786-.2182-.1434-.308-.0648-.0887-.1476-.1616-.2484-.2176-.1008-.0554-.2196-.084-.3564-.084s-.2556.0286-.3564.084c-.1008.056-.1836.1289-.2484.2176-.0648.0898-.1122.1925-.1434.308-.03.1149-.0456.2304-.0456.3465 0 .119.0156.2351.0456.3488.0312.1132.0786.2159.1434.3074.0648.091.1476.1645.2484.22.1008.056.2196.084.3564.084zm0 .473c-.2232 0-.4224-.0361-.5964-.1079-.1752-.0717-.3222-.1709-.4428-.2969-.1212-.126-.2124-.2759-.2754-.4509-.063-.1756-.0948-.3681-.0948-.5775 0-.2071.0318-.3973.0948-.5728.063-.175.1542-.3255.2754-.451.1206-.126.2676-.2251.4428-.2969.174-.0717.3732-.1079.5964-.1079.2232 0 .4224.0362.597.1079.1746.0718.3222.1709.4422.2969.1212.1255.2124.276.2754.451.063.1755.0948.3657.0948.5728 0 .2094-.0318.4019-.0948.5775-.063.175-.1542.3249-.2754.4509-.12.126-.2676.2252-.4422.2969-.1746.0718-.3738.1079-.597.1079zM16.0182 22.9369c-.0252-.1674-.0948-.2946-.2082-.3803-.1134-.0858-.2562-.129-.429-.129-.0792 0-.1638.0135-.2538.0397-.09.0263-.1728.0753-.2484.147-.0756.0718-.1386.1715-.189.2993-.0504.1277-.0756.2951-.0756.501 0 .1126.0132.224.0408.3366.0264.112.0696.2118.129.2987.0594.0881.1362.1587.2298.2123.0936.0549.207.0817.3402.0817.18 0 .3282-.0543.4452-.1622.117-.1091.1902-.2607.219-.4567h.6156c-.0576.3529-.1956.6236-.4134.8108-.2178.1873-.5064.2812-.8664.2812-.2196 0-.4128-.0362-.5808-.1079-.1674-.0718-.3084-.1698-.4236-.294-.1152-.1243-.2028-.2725-.2622-.444-.0594-.1715-.0888-.357-.0888-.5565 0-.2024.0288-.3931.0864-.5716.0576-.1791.144-.3337.2592-.4649.1152-.1313.258-.2345.429-.3098.171-.0752.372-.1132.6024-.1132.162 0 .3162.0205.4614.0607.1458.0403.2754.1009.3888.1808.1134.0805.2064.1826.2784.3051.072.1225.1152.2678.1296.4352h-.6156zM16.5001 11.0549H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h8.99997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM14.7001 12.8049H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h7.19997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM16.5001 14.5549H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h8.99997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM14.7001 16.3049H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h7.19997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM16.5001 18.0549H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h8.99997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916z",clipRule:"evenodd"}))},dq=e=>{var n=e,{color:r="#5C6070"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,d:"M16.2375 15.235l-.6-.3463c0-.1276.0187-.3281.0187-.4557 0-.1094-.0187-.3099-.0187-.4375l.6-.3464c.1875-.0911.2625-.3099.2062-.4922-.2062-.6927-.5812-1.3125-1.0687-1.8229-.15-.1458-.375-.1823-.5625-.0729l-.6.3463c-.2063-.164-.5625-.3645-.8063-.4557v-.6745c0-.2187-.1312-.3828-.3375-.4375-.7125-.16403-1.4437-.16403-2.1562 0-.2063.0547-.3375.2188-.3375.4375v.6745c-.2438.0912-.6.2917-.80625.4557l-.6-.3463c-.1875-.1094-.4125-.0729-.5625.0729-.4875.5104-.8625 1.1302-1.06875 1.8229-.05625.1823.01875.4011.20625.4922l.6.3464c0 .1276-.01875.3281-.01875.4375 0 .1276.01875.3281.01875.4557l-.6.3463c-.1875.0912-.2625.3099-.20625.4922.20625.6927.58125 1.3125 1.06875 1.823.15.1458.375.1822.5625.0729l.6-.3464c.20625.1641.56245.3646.80625.4557v.6745c0 .2188.1312.3828.3375.4375.7125.1641 1.4437.1641 2.1562 0 .2063-.0547.3375-.2187.3375-.4375v-.6745c.2438-.0911.6-.2916.8063-.4557l.6.3464c.1875.1093.4125.0729.5625-.0729.4875-.5105.8625-1.1303 1.0687-1.823.0563-.1823-.0187-.401-.2062-.4922zm-1.2188 1.823l-.8812-.4922c-.5063.4375-.675.5286-1.3313.7656v.9661c-.225.0547-.5812.0912-.8062.0912-.2438 0-.6-.0365-.825-.0912v-.9661c-.6375-.2187-.825-.3281-1.33125-.7656l-.88125.4922c-.35625-.4011-.6375-.875-.825-1.3855l.88125-.4739c-.13125-.6563-.13125-.8568 0-1.513l-.88125-.474c.1875-.5104.46875-.9844.825-1.3854l.88125.4922c.50625-.4375.69375-.5469 1.33125-.7656v-.9662c.225-.0547.5812-.0911.825-.0911.225 0 .5812.0364.8062.0911v.9662c.6375.2187.825.3281 1.3313.7656l.8812-.4922c.3563.401.6375.875.825 1.3854l-.8812.474c.1312.6562.1312.8567 0 1.513l.8812.4739c-.1875.5105-.4687.9844-.825 1.3855zM12 12.683c-.9938 0-1.8.802-1.8 1.75 0 .9661.8062 1.75 1.8 1.75.975 0 1.8-.7839 1.8-1.75 0-.948-.825-1.75-1.8-1.75zm0 2.9166c-.675 0-1.2-.5104-1.2-1.1666 0-.6381.525-1.1667 1.2-1.1667.6562 0 1.2.5286 1.2 1.1667 0 .6562-.5438 1.1666-1.2 1.1666zM9.35869 22.837c-.00757-.0994-.0303-.1951-.06817-.2872-.03408-.092-.08332-.1712-.1477-.2375-.06059-.0699-.13633-.1251-.22723-.1656-.0871-.0442-.18557-.0663-.29539-.0663-.11362 0-.21777.0202-.31244.0607-.0909.0368-.17043.0902-.2386.1602-.06438.0663-.1174.1454-.15906.2375-.03787.092-.0587.1914-.06248.2982h1.51107zm-1.51107.4142c0 .1105.01514.2173.04544.3204.03409.1031.08332.1933.1477.2706.06438.0773.14581.1399.24427.1878.09847.0442.21587.0663.35221.0663.18936 0 .34084-.0387.45446-.116.1174-.081.2045-.2007.26131-.359h.61352c-.03408.1546-.09279.2927-.1761.4142-.08332.1215-.18368.2246-.30108.3093-.1174.081-.24995.1417-.39765.1822-.14392.0442-.2954.0663-.45446.0663-.23102 0-.43553-.0368-.61352-.1104-.178-.0737-.32948-.1768-.45446-.3093-.12119-.1326-.21397-.2909-.27836-.475-.06059-.1841-.09089-.3866-.09089-.6075 0-.2025.03219-.394.09657-.5744.06817-.1841.16285-.3443.28404-.4805.12498-.1399.27457-.2504.44878-.3314.17421-.081.37114-.1215.5908-.1215.23101 0 .43741.0479.6192.1436.18557.0921.33895.2154.46014.37.12118.1547.20829.3333.26131.5358.05685.1988.07195.405.04545.6185H7.84762zM11.2882 23.0138l-1.0168-1.3532h.7839l.6135.8782.642-.8782h.7498l-.9998 1.32 1.1248 1.5354h-.7783l-.7441-1.0549-.7215 1.0549h-.7612l1.1077-1.5022zM15.5664 22.837c-.0075-.0994-.0303-.1951-.0681-.2872-.0341-.092-.0833-.1712-.1477-.2375-.0606-.0699-.1364-.1251-.2273-.1656-.0871-.0442-.1855-.0663-.2953-.0663-.1137 0-.2178.0202-.3125.0607-.0909.0368-.1704.0902-.2386.1602-.0644.0663-.1174.1454-.159.2375-.0379.092-.0587.1914-.0625.2982h1.511zm-1.511.4142c0 .1105.0151.2173.0454.3204.0341.1031.0833.1933.1477.2706.0644.0773.1458.1399.2443.1878.0985.0442.2159.0663.3522.0663.1894 0 .3408-.0387.4545-.116.1174-.081.2045-.2007.2613-.359h.6135c-.0341.1546-.0928.2927-.1761.4142-.0833.1215-.1837.2246-.3011.3093-.1174.081-.2499.1417-.3976.1822-.144.0442-.2954.0663-.4545.0663-.231 0-.4355-.0368-.6135-.1104-.178-.0737-.3295-.1768-.4545-.3093-.1212-.1326-.214-.2909-.2783-.475-.0606-.1841-.0909-.3866-.0909-.6075 0-.2025.0322-.394.0965-.5744.0682-.1841.1629-.3443.2841-.4805.125-.1399.2745-.2504.4488-.3314.1742-.081.3711-.1215.5908-.1215.231 0 .4374.0479.6192.1436.1855.0921.3389.2154.4601.37.1212.1547.2083.3333.2613.5358.0568.1988.072.405.0454.6185h-2.1586z"}))},hq=e=>{var n=e,{color:r="#1E3868"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M6.58255 20.9949h.6156v1.3913h.0108c.0756-.1225.1878-.2252.3372-.3074.1494-.0823.3162-.1237.4998-.1237.306 0 .5478.077.7242.2316.1758.154.264.3844.264.6924v1.8643h-.615v-1.7062c-.0078-.2135-.0546-.3687-.141-.4649-.0858-.0963-.2214-.1447-.405-.1447-.1038 0-.198.0187-.2802.0554-.0834.0368-.1536.0875-.2112.1528-.0576.0642-.1026.1406-.135.2275-.0324.0881-.0486.1809-.0486.2789v1.6012h-.6156v-3.7485zM9.53622 22.0289h.46438v-.8138h.6162v.8138h.5562v.4462h-.5562v1.449c0 .063.0024.1173.0078.1628s.018.084.0378.1161c.0198.0309.0492.0542.0888.0705.0402.0158.0942.0234.1626.0234.0426 0 .0858-.0006.1296-.0024.0426-.0017.0858-.0081.1296-.018v.462c-.069.0064-.135.0134-.1998.0204-.0654.007-.1314.0105-.1998.0105-.1626 0-.2928-.0146-.3918-.0449-.099-.0298-.1764-.0735-.2328-.1313-.0552-.0572-.093-.1301-.1128-.2176-.0198-.0875-.0318-.1872-.0354-.2992v-1.6013h-.46438v-.4462zM11.7505 22.0289h.5832v.378h.0162c.0462-.0665.0972-.1278.1512-.1838.054-.056.114-.1032.1806-.1417.0666-.0385.1434-.0688.2298-.0916s.1854-.0344.297-.0344c.1692 0 .327.0373.4722.1102.1458.0735.2496.1873.3102.3413.1044-.14.225-.2503.3624-.3308.1362-.0805.3078-.1207.5124-.1207.2958 0 .525.07.6888.21.1638.1406.246.3745.246.7035v1.8742h-.6156v-1.5849c0-.1091-.0036-.2082-.0108-.2969-.0078-.0898-.0282-.1662-.0618-.2316-.0348-.0641-.0858-.1143-.1542-.1493-.069-.035-.162-.0525-.2808-.0525-.2094 0-.3606.063-.4536.189-.0936.126-.1404.3045-.1404.5355v1.5907h-.6162v-1.743c0-.189-.0348-.3313-.1044-.4275-.0708-.0963-.1998-.1447-.3864-.1447-.0792 0-.156.0157-.2298.0472s-.1386.077-.1944.1365c-.0558.0601-.1008.1336-.135.2205-.0342.0875-.0516.1873-.0516.2993v1.6117h-.615v-2.7142zM16.5996 24.7433h.615v-3.7485h-.615v3.7485zM14.7001 16.5972c-.069 0-.1386-.0234-.195-.0706-.126-.105-.141-.2888-.033-.4107l1.6332-1.8521-1.6332-1.852c-.108-.1225-.093-.3063.033-.4113.1248-.1044.3144-.0904.423.0321l1.8 2.0417c.096.1085.096.27 0 .3791l-1.8 2.0417c-.06.0671-.1434.1021-.228.1021zM9.30013 16.5972c-.0846 0-.168-.035-.228-.1021l-1.8-2.0417c-.096-.1091-.096-.2706 0-.3791l1.8-2.0417c.1092-.1225.2988-.1365.423-.0321.126.105.141.2888.033.4113l-1.6332 1.852 1.6332 1.8521c.108.1219.093.3057-.033.4107-.0564.0472-.126.0706-.195.0706zM10.2001 18.0549c-.045 0-.0906-.0099-.1344-.0309-.14818-.0717-.20758-.2473-.13378-.3908l3.59998-7c.075-.1447.2538-.2013.4026-.1307.1482.0723.2076.2473.1338.392l-3.6 7c-.0528.1015-.1584.1604-.2682.1604z",clipRule:"evenodd"}))},fq=e=>{var n=e,{color:r="#999"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M7.8002 16.0901c.0078-.007.0168-.0105.024-.0181l2.0952-2.3012 3.3666 3.7007H7.8002v-1.3814zm6.2862 1.3814l-3.9426-4.3342c-.0564-.0624-.138-.098-.2244-.098-.0858 0-.1674.0356-.225.098l-1.8942 2.0819v-4.1644h8.4v6.4167h-2.1138zm2.4138-7h-9c-.1656 0-.3.1306-.3.2916v7c0 .1616.1344.2917.3.2917h9c.1656 0 .3-.1301.3-.2917v-7c0-.161-.1344-.2916-.3-.2916z",clipRule:"evenodd"}),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M13.7527 13.95c-.3306 0-.6-.2614-.6-.5834s.2694-.5833.6-.5833c.3312 0 .6.2613.6.5833 0 .322-.2688.5834-.6.5834zm0-1.75c-.6618 0-1.2.5232-1.2 1.1666 0 .6434.5382 1.1667 1.2 1.1667.6624 0 1.2-.5233 1.2-1.1667 0-.6434-.5376-1.1666-1.2-1.1666z",clipRule:"evenodd"}),t.createElement("path",{fill:r,d:"M7.79999 20.4167h.60366v.5484h-.60366v-.5484zm0 1.0003h.60366v2.6253h-.60366V21.417zM9.06137 21.417h.57189v.3656h.01589c.04589-.0643.09531-.1235.14826-.1777.05296-.0542.1112-.0999.17475-.1371.06704-.0372.14294-.066.22774-.0863.0847-.0237.1818-.0356.2912-.0356.1659 0 .3195.0356.4607.1067.1447.0711.2471.1811.3071.33.1024-.1354.2206-.242.3548-.3199.1341-.0778.3018-.1168.503-.1168.2895 0 .5137.0677.6725.2031.1624.1355.2436.3623.2436.6805v1.8128h-.6036v-1.5335c0-.105-.0036-.1997-.0106-.2844-.0071-.088-.0283-.1625-.0636-.2234-.0318-.0643-.0812-.1134-.1482-.1473-.0671-.0338-.1589-.0508-.2754-.0508-.2048 0-.353.061-.4448.1829-.0918.1218-.1377.2945-.1377.5179v1.5386h-.6036v-1.6859c0-.1828-.0353-.3199-.1059-.4113-.0671-.0948-.1924-.1422-.376-.1422-.0777 0-.1536.0153-.2277.0457-.0706.0305-.13415.0745-.19063.1321-.05295.0575-.09708.1286-.13238.2132-.03177.0847-.04766.1812-.04766.2895v1.5589h-.60366V21.417zM16.2 23.9052c0 .3961-.1165.6906-.3495.8836-.2295.1963-.5613.2945-.9955.2945-.1377 0-.2771-.0135-.4183-.0406-.1377-.0271-.2648-.0728-.3813-.1371-.113-.0643-.2083-.149-.2859-.2539-.0777-.105-.1236-.2336-.1377-.3859h.6037c.0176.0812.0476.1472.09.198.0423.0508.0918.0897.1482.1168.0601.0305.1254.0491.196.0559.0706.0101.1447.0152.2224.0152.2435 0 .4218-.0576.5348-.1727.1129-.1151.1694-.2809.1694-.4976v-.4012h-.0106c-.0847.1456-.2012.259-.3494.3403-.1448.0812-.3019.1218-.4713.1218-.2189 0-.406-.0355-.5613-.1066-.1518-.0745-.2789-.1743-.3813-.2996-.0988-.1286-.1712-.2759-.2171-.4418-.0459-.1659-.0688-.3436-.0688-.5332 0-.176.0282-.3436.0847-.5027.0565-.1591.1377-.2979.2436-.4164.1059-.1219.2347-.2183.3865-.2894.1554-.0711.3301-.1067.5243-.1067.1729 0 .3318.0356.4765.1067.1448.0677.256.176.3336.325h.0106v-.3606H16.2v2.4882zm-1.3397-.3199c.1341 0 .2471-.0254.3389-.0762.0953-.0541.1712-.1235.2277-.2082.06-.088.1024-.1861.1271-.2945.0282-.1117.0423-.2234.0423-.3351 0-.1117-.0141-.2201-.0423-.325-.0283-.105-.0724-.1981-.1324-.2793-.0565-.0812-.1324-.1456-.2277-.193-.0918-.0474-.203-.0711-.3336-.0711-.1342 0-.2471.0271-.3389.0813-.0918.0542-.1659.1252-.2224.2133-.0565.0846-.0971.1828-.1218.2945-.0247.1083-.0371.2167-.0371.325 0 .1083.0142.2149.0424.3199.0282.1016.0706.193.1271.2742.06.0813.1341.1473.2224.198.0918.0508.2012.0762.3283.0762z"}))},pq=e=>{var n=e,{color:r="#5856D6"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,d:"M6.60001 21.9499h.60975v.3853h.01694c.04893-.0677.10163-.1302.15809-.1873.05646-.057.11856-.1052.18631-.1445.07152-.0392.15244-.0695.24278-.0909.09033-.025.19384-.0375.31052-.0375.17691 0 .34064.0375.49119.1124.15433.0749.26348.1909.32747.3478.10915-.1427.23524-.2551.37827-.3371.14303-.0821.32182-.1231.53636-.1231.30861 0 .54761.0714.71701.2141.1732.1427.2597.3817.2597.7171v1.9105h-.6436v-1.6162c0-.1106-.0038-.2105-.0113-.2997-.0075-.0927-.0301-.1712-.0677-.2354-.0339-.0678-.0866-.1196-.15813-.1552-.07151-.0357-.16937-.0535-.29358-.0535-.21831 0-.3764.0642-.47426.1926-.09786.1285-.14679.3104-.14679.5459v1.6215H8.3954V22.94c0-.1927-.03764-.3372-.11291-.4335-.07152-.0999-.20514-.1498-.40086-.1498-.08281 0-.16373.016-.24278.0481-.07528.0321-.14303.0785-.20325.1392-.05646.0606-.10351.1355-.14115.2247-.03387.0892-.05081.1909-.05081.3051v1.6429h-.64363v-2.7668zM12.8507 24.7917c-.2334 0-.4423-.0357-.6267-.1071-.1807-.0749-.335-.1766-.463-.305-.1242-.1285-.2202-.2819-.2879-.4603-.064-.1783-.096-.3746-.096-.5886 0-.2105.032-.405.096-.5834.0677-.1784.1637-.3318.2879-.4602.128-.1285.2823-.2284.463-.2997.1844-.0749.3933-.1124.6267-.1124.2333 0 .4404.0375.621.1124.1845.0713.3388.1712.463.2997.128.1284.224.2818.2879.4602.0678.1784.1017.3729.1017.5834 0 .214-.0339.4103-.1017.5886-.0639.1784-.1599.3318-.2879.4603-.1242.1284-.2785.2301-.463.305-.1806.0714-.3877.1071-.621.1071zm0-.4817c.143 0 .2672-.0285.3726-.0856s.192-.132.2597-.2248c.0678-.0927.1167-.1962.1468-.3104.0339-.1177.0508-.2372.0508-.3585 0-.1178-.0169-.2355-.0508-.3533-.0301-.1177-.079-.2212-.1468-.3104-.0677-.0927-.1543-.1676-.2597-.2247-.1054-.0571-.2296-.0856-.3726-.0856s-.2673.0285-.3726.0856c-.1054.0571-.192.132-.2598.2247-.0677.0892-.1185.1927-.1524.3104-.0301.1178-.0452.2355-.0452.3533 0 .1213.0151.2408.0452.3585.0339.1142.0847.2177.1524.3104.0678.0928.1544.1677.2598.2248.1053.0571.2296.0856.3726.0856zM14.5714 21.9499h.7001l.7396 2.1246h.0113l.7114-2.1246H17.4l-1.0445 2.7668h-.7227l-1.0614-2.7668zM16.7813 11.6666c-.1125 0-.225.0365-.3375.1094L14.4 13.0521v-1.0938c0-.4739-.45-.875-.975-.875H7.55626c-.525 0-.95625.4011-.95625.875v5.2682c0 .474.43125.8568.95625.8568H13.425c.525 0 .975-.3828.975-.8568v-1.0937l2.0438 1.276c.1125.0729.225.0912.3375.0912.3187 0 .6-.237.6-.5651V12.25c.0187-.3464-.2813-.5834-.6-.5834zM13.8 17.2265c0 .1459-.1875.2735-.375.2735H7.55626c-.1875 0-.35625-.1276-.35625-.2735v-5.2682c0-.1458.16875-.2917.35625-.2917H13.425c.1875 0 .375.1459.375.2917v5.2682zm3-.2916l-.0375-.0183L14.4 15.4401v-1.6953l2.4-1.4948v4.6849z"}))},mq=e=>{var n=e,{color:r="#FFB400"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M6.59998 22.2436h.60542v.3955h.01618c.04853-.0696.1008-.1337.1568-.1923.056-.0586.11822-.108.18791-.1483.06906-.0403.14809-.072.23831-.0958.08898-.0238.19164-.036.308-.036.17484 0 .33849.039.48969.1153.1512.0769.25822.1959.32169.3571.10826-.1465.23333-.2619.3752-.3461.14186-.0842.31982-.1263.532-.1263.30672 0 .54382.0732.71432.2197.1692.1471.2545.3918.2545.736v1.9609h-.6378v-1.6582c0-.1141-.0044-.2179-.0118-.3106-.0075-.094-.0293-.174-.0641-.2423-.0355-.0671-.08899-.1196-.1593-.1563-.07156-.0366-.16862-.0549-.29182-.0549-.21654 0-.37334.0659-.4704.1978-.09707.1318-.14498.3185-.14498.5602v1.6643h-.63902v-1.8236c0-.1977-.03609-.3466-.10889-.4473-.07343-.1007-.20658-.1514-.40071-.1514-.08214 0-.16178.0165-.23769.0495-.07654.0329-.14374.0805-.2016.1428-.05849.0628-.10454.1397-.14063.2307-.03484.0915-.05288.1959-.05288.3131v1.6862h-.6384v-2.8397zM13.732 23.49c0-.1131-.0169-.223-.0527-.3296-.0352-.1067-.0879-.2009-.1576-.2839-.071-.0819-.1582-.1481-.2643-.1987-.1055-.0501-.2266-.0749-.3633-.0749-.2812 0-.4928.0808-.6354.2424-.1426.1621-.2142.3765-.2142.6447 0 .1261.0189.2429.056.3512.0371.1088.0931.2014.1667.279.0742.0776.1634.139.2669.1842.1028.0453.2233.0679.36.0679.1523 0 .2819-.0259.3874-.0776.1054-.0517.192-.119.2604-.2014.0683-.0819.1172-.1756.1465-.2806.0293-.1056.0436-.2128.0436-.3227zM11.4 22.2345h.6334v.3393h.0111c.0944-.1454.2246-.2494.3932-.3124.168-.063.349-.0948.5449-.0948.2377 0 .446.0345.6237.104.1778.0694.3256.1653.4421.2865.1172.1207.2057.2623.2643.4239.058.1616.0873.3345.0873.5187 0 .1681-.0267.3313-.0788.4896-.0527.1584-.1328.2979-.2402.4191-.1075.1217-.2435.2181-.4076.2908-.1641.0733-.3574.1094-.5794.1094-.0983 0-.196-.007-.2936-.0221-.0977-.014-.1915-.0377-.2806-.07-.0905-.0323-.1732-.0733-.2494-.1234-.0762-.0506-.14-.1093-.1907-.1772h-.0118v1.2507H11.4v-3.4321zM15.957 22.7047c.0907.0037.1814-.0037.2721-.0224.0907-.0181.1716-.0511.2429-.0979.0713-.0474.1285-.1116.1722-.1938.0437-.0823.0659-.1833.0659-.303 0-.1683-.0492-.3029-.1485-.4039-.0988-.101-.2256-.1515-.3811-.1515-.0972 0-.1814.0225-.2526.068-.0718.0442-.1307.1047-.1776.182-.047.0767-.0815.1621-.1042.2581-.0227.0953-.0324.1932-.0292.2942h-.5538c.0059-.1902.0372-.3678.0923-.5299.0551-.1626.1306-.3041.2262-.4238.095-.1191.2111-.2132.3471-.2805.136-.0673.2899-.1004.4615-.1004.1328 0 .2629.0219.3908.0667.1285.0449.243.1104.3455.1964.1015.086.1836.1957.2451.3285.0615.1327.0923.2848.0923.4569 0 .1988-.0389.3714-.1166.5186-.0777.1483-.1992.2555-.3644.3228v.0112c.1944.0449.3455.1559.454.3341.1085.1777.163.3934.163.6483 0 .1864-.0323.354-.0971.5011-.0648.1484-.1523.2737-.2624.3765-.1101.1029-.238.182-.3838.2387-.1457.0555-.2996.0836-.4615.0836-.1976 0-.3698-.0324-.5177-.0985-.1474-.0648-.2704-.1577-.3687-.2774-.0993-.1197-.1743-.2636-.2262-.4313-.0518-.1689-.0799-.3559-.0826-.5616h.5539c-.0065.2393.0442.4388.1528.5977.1085.159.2715.2381.4885.2381.1846 0 .339-.061.4642-.182.1242-.1215.1868-.2948.1868-.5192 0-.1533-.0259-.2742-.0777-.3646-.0519-.0898-.1199-.1577-.2041-.2045-.0842-.0467-.1792-.076-.2839-.0872-.1058-.0106-.2133-.0144-.3234-.0106v-.4775zM14.397 16.2524c-.723 0-1.203-.294-1.203-.4882 0-.1943.48-.4883 1.203-.4883.723 0 1.203.294 1.203.4883 0 .1942-.48.4882-1.203.4882zM9.60299 17.5c-.723 0-1.203-.2939-1.203-.4882 0-.1942.48-.4882 1.203-.4882.72301 0 1.20301.294 1.20301.4882 0 .1943-.48.4882-1.20301.4882zm6.48781-6.9324c-.0684-.056-.1578-.0788-.2478-.0624l-4.794 1.1193c-.141.0268-.243.147-.243.287v4.2948c-.3156-.1645-.7296-.266-1.20301-.266-1.0278 0-1.803.4608-1.803 1.0715 0 .6113.7752 1.0715 1.803 1.0715 1.02781 0 1.80301-.4602 1.80301-1.0715v-4.8594L15.6 11.145v3.8136c-.3156-.165-.7296-.266-1.203-.266-1.0278 0-1.803.4603-1.803 1.0716 0 .6107.7752 1.0715 1.803 1.0715s1.803-.4608 1.803-1.0715v-4.972c0-.087-.0402-.1692-.1092-.2246z",clipRule:"evenodd"}))},gq=e=>{var n=e,{color:r="#5856D6"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,d:"M6.60001 21.6977h.60058v.3893h.01668c.0482-.0685.1001-.1316.15571-.1893.05561-.0576.11678-.1063.18351-.1459.07044-.0397.15015-.0703.23913-.0919.08897-.0253.19092-.0379.30585-.0379.17424 0 .33551.0379.4838.1135.152.0757.25952.1929.32254.3515.10751-.1442.23171-.2577.37259-.3406.14087-.0829.31697-.1244.52829-.1244.30401 0 .53941.0721.70621.2163.1706.1441.2558.3856.2558.7244v1.9302h-.6339v-1.6328c0-.1117-.0037-.2127-.0111-.3028-.0074-.0937-.0297-.173-.0668-.2378-.0333-.0685-.08524-.1208-.15567-.1568-.07044-.0361-.16683-.0541-.28917-.0541-.21503 0-.37074.0649-.46713.1946-.09639.1298-.14458.3136-.14458.5515v1.6382H8.3684v-1.795c0-.1946-.03708-.3406-.11122-.4379-.07044-.1009-.20205-.1514-.39483-.1514-.08156 0-.16127.0162-.23912.0487-.07415.0324-.14088.0793-.2002.1405-.05561.0613-.10195.137-.13902.2271-.03337.0901-.05005.1928-.05005.3082v1.6598h-.63395v-2.7952zM11.4554 21.6977h.6006v.3785h.0111c.089-.1622.2132-.2776.3726-.3461.1594-.072.3318-.1081.5172-.1081.2261 0 .4226.0397.5894.119.1706.0756.3114.182.4227.3189.1112.1334.1946.2902.2502.4704.0556.1802.0834.3731.0834.5785 0 .1874-.0259.3694-.0778.5461-.0482.1766-.1242.3334-.228.4703-.1001.1334-.228.2415-.3838.3244-.1557.0793-.3392.119-.5505.119-.0927 0-.1854-.0091-.278-.0271-.0927-.0144-.1817-.0396-.267-.0757-.0852-.036-.1649-.0811-.2391-.1351-.0704-.0577-.1297-.1244-.1779-.2001h-.0112v1.3949h-.6339v-3.8278zm2.2133 1.4003c0-.1262-.0167-.2487-.0501-.3677-.0334-.1189-.0834-.2234-.1501-.3135-.0668-.0937-.1502-.1676-.2503-.2217-.1001-.0577-.215-.0865-.3448-.0865-.2669 0-.4689.0901-.6061.2703-.1335.1802-.2002.4199-.2002.7191 0 .1406.0167.2721.05.3947.0371.1189.0909.2216.1613.3081.0705.0865.1539.155.2503.2055.1001.0504.215.0757.3447.0757.1446 0 .267-.0289.3671-.0865.1001-.0577.1816-.1316.2446-.2217.0668-.0937.1131-.1982.1391-.3136.0296-.1189.0445-.2397.0445-.3622zM15.1275 23.1088h1.1789v-1.6652h-.0111l-1.1678 1.6652zm2.28.4866h-.5005v.8975h-.6006v-.8975h-1.6683v-.6109l1.6683-2.2762h.6006v2.4005h.5005v.4866zM16.7813 11.6666c-.1125 0-.225.0365-.3375.1094L14.4 13.0521v-1.0938c0-.4739-.45-.875-.975-.875H7.55626c-.525 0-.95625.4011-.95625.875v5.2682c0 .474.43125.8568.95625.8568H13.425c.525 0 .975-.3828.975-.8568v-1.0937l2.0438 1.276c.1125.0729.225.0912.3375.0912.3187 0 .6-.237.6-.5651V12.25c.0187-.3464-.2813-.5834-.6-.5834zM13.8 17.2265c0 .1459-.1875.2735-.375.2735H7.55626c-.1875 0-.35625-.1276-.35625-.2735v-5.2682c0-.1458.16875-.2917.35625-.2917H13.425c.1875 0 .375.1459.375.2917v5.2682zm3-.2916l-.0375-.0183L14.4 15.4401v-1.6953l2.4-1.4948v4.6849z"}))},vq=e=>{var n=e,{color:r="#5856D6"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,d:"M4.79999 21.6599h.6075v.3937h.01687c.04875-.0692.10125-.133.1575-.1914.05625-.0583.11813-.1075.18563-.1476.07125-.0401.15187-.0711.24187-.093.09-.0255.19313-.0383.30938-.0383.17625 0 .33937.0383.48937.1149.15375.0765.2625.195.32625.3554.10875-.1458.23438-.2607.37688-.3445.1425-.0839.32062-.1258.53437-.1258.3075 0 .54563.0729.71438.2188.1725.1458.25875.3901.25875.7328v1.9523h-.64125v-1.6515c0-.1131-.00375-.2151-.01125-.3063-.0075-.0948-.03-.175-.0675-.2406-.03375-.0693-.08625-.1222-.1575-.1586-.07125-.0365-.16875-.0547-.2925-.0547-.2175 0-.375.0656-.4725.1969-.0975.1312-.14625.3172-.14625.5578v1.657h-.64125v-1.8156c0-.1969-.0375-.3445-.1125-.443-.07125-.1021-.20438-.1531-.39938-.1531-.0825 0-.16312.0164-.24187.0492-.075.0328-.1425.0802-.2025.1422-.05625.062-.10313.1385-.14063.2297-.03375.0911-.05062.195-.05062.3117v1.6789h-.64125v-2.8273zM9.71127 21.6599h.60753v.3828h.0112c.09-.1641.2156-.2807.3769-.35.1612-.0729.3356-.1094.5231-.1094.2288 0 .4275.0401.5963.1203.1725.0766.315.1841.4275.3227.1125.1349.1968.2935.2531.4758.0562.1823.0844.3773.0844.5851 0 .1896-.0263.3737-.0788.5524-.0487.1786-.1256.3372-.2306.4757-.1013.1349-.2306.2443-.3881.3282-.1575.0802-.3432.1203-.5569.1203-.0938 0-.1875-.0091-.2813-.0274-.0937-.0145-.1837-.0401-.27-.0765-.0862-.0365-.1668-.0821-.2418-.1367-.0713-.0584-.1313-.1258-.18-.2024h-.0113v1.411h-.64123v-3.8719zM11.95 23.0763c0-.1276-.0169-.2516-.0506-.3719-.0338-.1203-.0844-.226-.1519-.3172-.0675-.0948-.1519-.1695-.2531-.2242-.1013-.0583-.2175-.0875-.3488-.0875-.27 0-.4743.0911-.6131.2734-.135.1823-.2025.4248-.2025.7274 0 .1422.0169.2752.0506.3992.0375.1203.0919.2242.1632.3117.0712.0875.1556.1568.2531.2078.1012.0511.2175.0766.3487.0766.1463 0 .27-.0292.3713-.0875.1012-.0583.1837-.1331.2475-.2242.0675-.0948.1144-.2005.1406-.3172.03-.1203.045-.2425.045-.3664zM15.13 22.8247c-.0075-.0984-.03-.1932-.0675-.2844-.0338-.0911-.0825-.1695-.1463-.2351-.06-.0693-.135-.124-.225-.1641-.0862-.0437-.1837-.0656-.2925-.0656-.1125 0-.2156.0201-.3093.0602-.09.0364-.1688.0893-.2363.1586-.0637.0656-.1162.144-.1575.2351-.0375.0912-.0581.1896-.0619.2953H15.13zm-1.4963.4102c0 .1094.015.2151.045.3172.0338.102.0825.1914.1463.2679.0637.0766.1444.1386.2419.186.0975.0437.2137.0656.3487.0656.1875 0 .3375-.0383.45-.1148.1163-.0803.2025-.1987.2588-.3555h.6075c-.0338.1531-.0919.2898-.1744.4101-.0825.1204-.1819.2224-.2981.3063-.1163.0802-.2475.1404-.3938.1805-.1425.0437-.2925.0656-.45.0656-.2287 0-.4312-.0365-.6075-.1094-.1762-.0729-.3262-.175-.45-.3062-.12-.1313-.2119-.2881-.2756-.4704-.06-.1822-.09-.3828-.09-.6015 0-.2005.0319-.3901.0956-.5688.0675-.1823.1613-.3409.2813-.4757.1237-.1386.2718-.248.4443-.3282s.3675-.1203.585-.1203c.2288 0 .4332.0474.6132.1422.1837.0911.3356.2133.4556.3664s.2062.33.2587.5305c.0563.1969.0713.401.045.6125h-2.1375zM18.9475 24.3396c0 .4265-.1238.7437-.3713.9515-.2437.2115-.5962.3172-1.0575.3172-.1462 0-.2944-.0146-.4444-.0437-.1462-.0292-.2812-.0784-.4049-.1477-.12-.0693-.2213-.1604-.3038-.2734-.0825-.1131-.1312-.2516-.1462-.4157h.6412c.0187.0875.0506.1586.0956.2133.045.0547.0975.0966.1575.1258.0638.0328.1332.0529.2081.0602.075.0109.1538.0164.2363.0164.2587 0 .4481-.062.5681-.186.12-.1239.18-.3026.18-.5359v-.432h-.0112c-.09.1567-.2138.2789-.3713.3664-.1537.0875-.3206.1312-.5006.1312-.2325 0-.4313-.0383-.5963-.1148-.1612-.0802-.2962-.1878-.4049-.3227-.105-.1385-.1819-.2971-.2307-.4758-.0487-.1786-.0731-.37-.0731-.5742 0-.1896.03-.37.09-.5414.06-.1713.1462-.3208.2587-.4484.1125-.1313.2494-.2352.4107-.3117.165-.0766.3506-.1149.5569-.1149.1837 0 .3524.0383.5062.1149.1537.0729.2719.1895.3544.35h.0112v-.3883h.6413v2.6797zm-1.4231-.3446c.1425 0 .2624-.0273.3599-.082.1013-.0583.1819-.1331.2419-.2242.0638-.0948.1088-.2005.135-.3172.03-.1203.045-.2406.045-.3609 0-.1204-.015-.237-.045-.35-.03-.1131-.0769-.2133-.1406-.3008-.06-.0875-.1406-.1568-.2419-.2078-.0975-.0511-.2156-.0766-.3543-.0766-.1426 0-.2626.0292-.3601.0875-.0975.0583-.1762.1349-.2362.2297-.06.0911-.1031.1969-.1294.3172-.0262.1166-.0394.2333-.0394.35 0 .1166.015.2315.045.3445.03.1094.075.2078.1351.2953.0637.0875.1425.1586.2362.2133.0975.0547.2137.082.3488.082zM16.7812 11.6666c-.1125 0-.225.0365-.3375.1094L14.4 13.0521v-1.0938c0-.4739-.45-.875-.975-.875H7.55623c-.525 0-.95625.4011-.95625.875v5.2682c0 .474.43125.8568.95625.8568H13.425c.525 0 .975-.3828.975-.8568v-1.0937l2.0437 1.276c.1125.0729.225.0912.3375.0912.3188 0 .6-.237.6-.5651V12.25c.0188-.3464-.2812-.5834-.6-.5834zM13.8 17.2265c0 .1459-.1875.2735-.375.2735H7.55623c-.1875 0-.35625-.1276-.35625-.2735v-5.2682c0-.1458.16875-.2917.35625-.2917H13.425c.1875 0 .375.1459.375.2917v5.2682zm3-.2916l-.0375-.0183L14.4 15.4401v-1.6953l2.4-1.4948v4.6849z"}))},yq=e=>{var n=e,{color:r="#F02B04"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M10.1143 23.3886c0-.1225-.0162-.2415-.0486-.357-.0324-.1155-.08104-.2176-.14584-.3074-.0648-.0887-.1458-.1604-.243-.2152-.0972-.0543-.2088-.0811-.3348-.0811-.2592 0-.4542.0875-.5856.2625-.1314.1756-.1974.4077-.1974.6982 0 .1365.0174.2631.0516.3804.0336.1178.0852.2181.1536.3021.0684.084.15.1505.246.1995.0948.049.2058.0735.3318.0735.1404 0 .2592-.028.3564-.084.0972-.056.1776-.1289.2406-.2181.06304-.0887.10804-.1902.13504-.304.027-.1143.0402-.2304.0402-.3494zm-2.14924-1.3597h.5832v.3675h.0108c.0864-.1575.207-.2701.3618-.3384.1548-.0682.3222-.1026.5022-.1026.2196 0 .4116.0373.5754.1126.16384.0752.29944.179.40744.3103.108.1307.189.2841.243.4591.054.175.081.3622.081.5617 0 .182-.0246.3588-.0726.5303-.0486.1715-.1224.3226-.2214.4538-.099.1318-.2244.2363-.3756.315-.15124.0793-.32944.1184-.53464.1184-.09 0-.18-.0076-.27-.0239-.09-.0152-.1764-.0408-.2592-.0758-.0828-.035-.159-.0794-.2298-.1336-.0696-.0548-.1284-.1184-.1752-.1919h-.0108v1.3545h-.6156v-3.717zM11.8639 23.4149c0 .1155.015.2298.0462.3412.03.112.0774.2118.1404.2993.063.0875.1428.1575.24.21.0972.0525.2124.0787.3456.0787.1368 0 .2544-.028.3534-.084.0996-.0554.1806-.1289.2436-.2205.063-.091.1098-.1936.1404-.3068.03-.1138.0456-.2304.0456-.3494 0-.301-.069-.5355-.2076-.7035-.1386-.168-.327-.252-.5646-.252-.144 0-.2652.0286-.3642.0869-.099.0577-.1806.133-.2436.2257-.063.0928-.1074.1978-.1344.315-.0276.1173-.0408.2369-.0408.3594zm2.1492 1.3282h-.5832v-.3675h-.0108c-.0828.1575-.2034.2701-.3618.3389-.1584.0683-.3258.1021-.5022.1021-.2196 0-.411-.0373-.5748-.1126-.1644-.0752-.3-.1779-.408-.3074-.108-.1295-.189-.2829-.243-.4591-.054-.1767-.081-.3663-.081-.5699 0-.245.0342-.4567.1026-.6352.0684-.1785.1596-.3255.273-.441.1134-.1155.243-.2007.3888-.2544.1458-.0542.294-.0816.4452-.0816.0864 0 .1746.0081.2646.0239.09.0152.1764.0408.2592.0758.0828.035.1596.0799.2298.1336.0702.0543.1284.119.1752.1925h.0108v-1.386h.6156v3.7479zM14.5422 22.0289h.459v-.2258c0-.1715.0216-.3103.0648-.4176.0432-.1062.1008-.189.1728-.2462.072-.0578.1536-.0963.2454-.1161.0924-.0187.1884-.028.2892-.028.198 0 .342.0117.432.0362v.4672c-.0396-.0105-.0822-.0181-.1266-.0233-.0456-.0053-.0984-.0082-.1596-.0082-.0828 0-.1536.0193-.2136.0578-.0594.0385-.0888.1137-.0888.2257v.2783h.5238v.4462h-.5238v2.268h-.6156v-2.268h-.459v-.4462zM12.3001 11.0555h4.2c.1656 0 .3-.1307.3-.2917s-.1344-.2916-.3-.2916h-4.2c-.1656 0-.3.1306-.3.2916 0 .161.1344.2917.3.2917zM16.5001 12.2222h-4.2c-.1656 0-.3.1306-.3.2916 0 .161.1344.2917.3.2917h4.2c.1656 0 .3-.1307.3-.2917s-.1344-.2916-.3-.2916zM16.5001 13.9722h-4.2c-.1656 0-.3.1306-.3.2916 0 .161.1344.2917.3.2917h4.2c.1656 0 .3-.1307.3-.2917s-.1344-.2916-.3-.2916zM16.5001 15.7222H7.50013c-.1656 0-.3.1306-.3.2916 0 .161.1344.2917.3.2917h8.99997c.1656 0 .3-.1307.3-.2917s-.1344-.2916-.3-.2916zM16.5001 17.4722H7.50013c-.1656 0-.3.1306-.3.2916 0 .161.1344.2917.3.2917h8.99997c.1656 0 .3-.1307.3-.2917s-.1344-.2916-.3-.2916zM7.80001 13.972H10.2v-2.9167H7.80001v2.9167zm-.3.5833H10.5c.1662 0 .3-.1301.3-.2916v-3.5c0-.161-.1338-.2917-.3-.2917H7.50001c-.1656 0-.3.1307-.3.2917v3.5c0 .1615.1344.2916.3.2916z",clipRule:"evenodd"}))},bq=e=>{var n=e,{color:r="#FF742F"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M10.0811 23.3886c0-.1225-.0162-.2415-.0486-.357-.0324-.1155-.08101-.2176-.14581-.3074-.0648-.0887-.1458-.1604-.243-.2152-.0972-.0543-.2088-.0811-.3348-.0811-.2592 0-.4542.0875-.5856.2625-.1314.1756-.1974.4077-.1974.6982 0 .1365.0174.2631.0516.3804.0336.1178.0852.2181.1536.3021.0684.084.15.1505.246.1995.0948.049.2058.0735.3318.0735.1404 0 .2592-.028.3564-.084.0972-.056.1776-.1289.2406-.2181.063-.0887.10801-.1902.13501-.304.027-.1143.0402-.2304.0402-.3494zm-2.14922-1.3597h.5832v.3675h.0108c.0864-.1575.207-.2701.3618-.3384.1548-.0682.3222-.1026.5022-.1026.2196 0 .4116.0373.5754.1126.16382.0752.29942.179.40742.3103.108.1307.189.2841.243.4591.054.175.081.3622.081.5617 0 .182-.0246.3588-.0726.5303-.0486.1715-.1224.3226-.2214.4538-.099.1318-.2244.2363-.3756.315-.15122.0793-.32942.1184-.53462.1184-.09 0-.18-.0076-.27-.0239-.09-.0152-.1764-.0408-.2592-.0758-.0828-.035-.159-.0794-.2298-.1336-.0696-.0548-.1284-.1184-.1752-.1919h-.0108v1.3545h-.6156v-3.717zM13.5157 23.3886c0-.1225-.0162-.2415-.0486-.357-.0324-.1155-.081-.2176-.1458-.3074-.0648-.0887-.1458-.1605-.243-.2153-.0972-.0542-.2088-.0811-.3348-.0811-.2592 0-.4542.0875-.5856.2625-.1314.1756-.1974.4078-.1974.6983 0 .1365.0174.2631.0516.3803.0336.1178.0852.2182.1536.3022.0684.084.15.1505.246.1995.0948.049.2058.0735.3318.0735.1404 0 .2592-.028.3564-.084.0972-.056.1776-.1289.2406-.2182.063-.0887.108-.1902.135-.3039.027-.1143.0402-.2304.0402-.3494zm-2.1492-1.3598h.5832v.3675h.0108c.0864-.1575.207-.2701.3618-.3383.1548-.0683.3222-.1027.5022-.1027.2196 0 .4116.0374.5754.1126.1638.0753.2994.1791.4074.3103.108.1307.189.2841.243.4591.054.175.081.3623.081.5618 0 .182-.0246.3587-.0726.5302-.0486.1715-.1224.3226-.2214.4539-.099.1318-.2244.2362-.3756.315-.1512.0793-.3294.1184-.5346.1184-.09 0-.18-.0076-.27-.0239-.09-.0152-.1764-.0409-.2592-.0759-.0828-.035-.159-.0793-.2298-.1336-.0696-.0548-.1284-.1184-.1752-.1919h-.0108v1.3545h-.6156v-3.717zM14.5036 22.0288h.4644v-.8137h.6156v.8137h.5562v.4463h-.5562v1.449c0 .063.003.1172.0084.1627.0054.0455.018.084.0378.1161.0198.0309.0492.0543.0888.0706.0396.0157.0936.0233.162.0233.0432 0 .0864-.0006.1296-.0023.0432-.0018.0864-.0082.1296-.0181v.462c-.0684.0064-.135.0134-.1998.0204-.0648.007-.1314.0105-.1998.0105-.162 0-.2922-.0146-.3912-.0449-.099-.0297-.1764-.0735-.2328-.1312-.0552-.0572-.093-.1301-.1128-.2176-.0198-.0875-.0318-.1873-.0354-.2993v-1.6012h-.4644v-.4463zM11.5263 10.8094c-1.0752 0-2.08619.4072-2.84699 1.1468-.7608.7391-1.179 1.7226-1.179 2.768 0 1.0453.4188 2.0282 1.179 2.7673.7602.7402 1.77179 1.1468 2.84699 1.1468s2.0862-.4071 2.847-1.1468c.7608-.7391 1.179-1.722 1.179-2.7673 0-.1278-.1056-.2305-.2364-.2305h-3.5526v-3.4539c0-.1271-.1062-.2304-.237-.2304zm-.363.602v3.0823c0 .322.2682.5834.6.5834h3.1704c-.0816.7566-.4236 1.4571-.9846 2.002-.648.6294-1.5084.9759-2.4228.9759-.9156 0-1.7754-.3465-2.4228-.9759-.6468-.6294-1.0032-1.4659-1.0032-2.3549 0-.8902.3558-1.7267 1.0032-2.355.561-.546 1.2822-.8785 2.0598-.9578z",clipRule:"evenodd"}),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M12.5931 9.8882c-.1266 0-.2298.10033-.2298.224v3.5747c0 .1236.1032.224.2298.224h3.6768c.1272 0 .2304-.1004.2304-.224 0-1.0145-.4068-1.9682-1.1448-2.6857-.7374-.7175-1.719-1.113-2.7624-1.113zm.3702.6032c.7434.0805 1.4316.4007 1.968.9222.5364.5221.8658 1.1912.9486 1.9139h-2.9166v-2.8361z",clipRule:"evenodd"}))},Eq=e=>{var n=e,{color:r="#FF742F"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M16.5001 11.0549H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h8.99997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM14.7001 12.8049H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h7.19997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM16.5001 14.5549H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h8.99997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM14.7001 16.3049H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h7.19997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916zM16.5001 18.0549H7.50013c-.1656 0-.3-.1306-.3-.2916 0-.161.1344-.2917.3-.2917h8.99997c.1656 0 .3.1307.3.2917s-.1344.2916-.3.2916z",clipRule:"evenodd"}),t.createElement("path",{fill:r,d:"M7.20001 21.9525h.61485v.3874h.01138c.09109-.166.21824-.2841.38144-.3542.1632-.0738.33968-.1107.52945-.1107.23151 0 .43267.0406.60346.1218.17459.0775.31881.1863.43267.3265.11386.1366.19925.2971.25614.4816.057.1845.0854.3819.0854.5922 0 .1919-.0265.3782-.0797.559-.0493.1808-.12711.3413-.23338.4816-.10247.1365-.23341.2472-.39281.332-.15941.0812-.34728.1218-.56361.1218-.09489 0-.18977-.0092-.28466-.0277-.09488-.0147-.18597-.0406-.27326-.0775s-.16889-.083-.2448-.1383c-.07211-.0591-.13284-.1273-.18218-.2048h-.01138v1.428h-.64901v-3.9187zm2.26583 1.4335c0-.1291-.01708-.2546-.05124-.3763-.03416-.1218-.0854-.2288-.15371-.3211-.06832-.0959-.15371-.1716-.25619-.2269-.10247-.059-.22013-.0886-.35297-.0886-.27326 0-.48011.0923-.62054.2768-.13663.1845-.20495.4299-.20495.7361 0 .1439.01708.2786.05124.4041.03796.1217.09299.2269.1651.3155.07211.0885.15751.1586.25619.2103.10247.0516.22013.0775.35296.0775.14802 0 .27327-.0295.37574-.0886.10248-.059.18597-.1347.2505-.2269.06831-.096.11575-.203.14232-.321.03036-.1218.04555-.2454.04555-.3709zM10.6803 21.9525h.6149v.3874h.0114c.091-.166.2182-.2841.3814-.3542.1632-.0738.3397-.1107.5294-.1107.2315 0 .4327.0406.6035.1218.1746.0775.3188.1863.4327.3265.1138.1366.1992.2971.2561.4816.057.1845.0854.3819.0854.5922 0 .1919-.0265.3782-.0797.559-.0493.1808-.1271.3413-.2334.4816-.1024.1365-.2334.2472-.3928.332-.1594.0812-.3473.1218-.5636.1218-.0949 0-.1898-.0092-.2847-.0277-.0948-.0147-.1859-.0406-.2732-.0775-.0873-.0369-.1689-.083-.2448-.1383-.0721-.0591-.1329-.1273-.1822-.2048h-.0114v1.428h-.649v-3.9187zm2.2658 1.4335c0-.1291-.017-.2546-.0512-.3763-.0342-.1218-.0854-.2288-.1537-.3211-.0683-.0959-.1537-.1716-.2562-.2269-.1025-.059-.2201-.0886-.353-.0886-.2732 0-.4801.0923-.6205.2768-.1366.1845-.2049.4299-.2049.7361 0 .1439.017.2786.0512.4041.0379.1217.093.2269.1651.3155.0721.0885.1575.1586.2562.2103.1024.0516.2201.0775.3529.0775.1481 0 .2733-.0295.3758-.0886.1025-.059.1859-.1347.2505-.2269.0683-.096.1157-.203.1423-.321.0304-.1218.0455-.2454.0455-.3709zM14.9349 23.3085l-1.0191-1.356h.7857l.6148.88.6433-.88h.7515l-1.002 1.3228 1.1272 1.5387h-.7799l-.7458-1.0571-.723 1.0571h-.7629l1.1102-1.5055z"}))},wq=e=>{var n=e,{color:r="#F14B5F"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M10.2396 14.2917v.5833c0 .161-.1428.2917-.31979.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.17699 0 .31979.1307.31979.2917zM10.8794 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM11.5193 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM12.1597 13.7083v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3204-.1307-.3204-.2917v-.5833c0-.161.1434-.2917.3204-.2917.1764 0 .3198.1307.3198.2917zM12.7996 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM13.4394 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM9.59976 13.7083v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3204-.1307-.3204-.2917v-.5833c0-.161.1434-.2917.3204-.2917.1764 0 .3198.1307.3198.2917zM14.0798 14.2917v.5833c0 .161-.1434.2917-.3204.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3204.1307.3204.2917zM5.11967 14.2917v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.1764 0 .3198.1307.3198.2917zM5.75953 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM6.39937 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM7.0398 13.7083v.5833c0 .161-.1434.2917-.3204.2917-.1764 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1434-.2917.3198-.2917.177 0 .3204.1307.3204.2917zM7.67964 14.2917v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.1764 0 .3198.1307.3198.2917zM8.31947 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM4.47986 13.7083v.5833c0 .161-.1434.2917-.3204.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3204.1307.3204.2917zM1.91929 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM2.55973 14.2917v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3204-.1307-.3204-.2917v-.5833c0-.161.1434-.2917.3204-.2917.1764 0 .3198.1307.3198.2917zM3.19957 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM3.8394 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM8.95933 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM18.9197 14.2917v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.1764 0 .3198.1307.3198.2917zM18.2798 13.7083v.5833c0 .161-.1434.2917-.3204.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3204.1307.3204.2917zM15.0794 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM15.7193 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM16.3597 14.2917v.5833c0 .161-.1434.2917-.3198.2917-.177 0-.3204-.1307-.3204-.2917v-.5833c0-.161.1434-.2917.3204-.2917.1764 0 .3198.1307.3198.2917zM16.9996 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917zM17.6394 14.2917v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917z",clipRule:"evenodd"}),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M14.4396 13.7083v.5833c0 .161-.1428.2917-.3198.2917-.177 0-.3198-.1307-.3198-.2917v-.5833c0-.161.1428-.2917.3198-.2917.177 0 .3198.1307.3198.2917z",clipRule:"evenodd"}),t.createElement("path",{fill:r,d:"M9 21.0773h.60793v.5524h.01136c.01894-.0773.05492-.1528.10795-.2265.05682-.0736.1231-.1399.19886-.1988.0795-.0626.1667-.1123.2614-.1492.0946-.0368.1912-.0552.2897-.0552.0758 0 .1269.0018.1534.0055l.0909.0111v.6076c-.0454-.0074-.0928-.0129-.142-.0166-.0455-.0074-.0909-.011-.1364-.011-.1098 0-.214.0221-.3125.0663-.0947.0405-.17799.1031-.24995.1878-.07197.081-.12879.1822-.17045.3038-.04167.1215-.0625.2614-.0625.4198v1.3588H9v-2.8558zM13.4576 23.2979c0 .0773.0094.1326.0284.1657.0227.0331.0644.0497.125.0497h.0681c.0266 0 .0569-.0037.0909-.011v.4363c-.0227.0074-.053.0148-.0909.0221-.0341.0111-.07.0203-.1079.0277-.0379.0073-.0758.0128-.1136.0165-.0379.0037-.0701.0055-.0966.0055-.1326 0-.2424-.0257-.3296-.0773-.0871-.0515-.1439-.1418-.1704-.2706-.1288.1215-.2879.2099-.4773.2651-.1856.0552-.3655.0828-.5397.0828-.1326 0-.2595-.0184-.3807-.0552-.1212-.0331-.2291-.0828-.3238-.1491-.0909-.07-.1648-.1565-.2216-.2596-.053-.1068-.0796-.2302-.0796-.3701 0-.1768.0322-.3204.0966-.4309.0682-.1105.1553-.197.2614-.2596.1098-.0626.231-.1068.3636-.1326.1364-.0294.2727-.0515.4091-.0663.1174-.0221.2291-.0368.3352-.0442.1061-.011.1989-.0276.2784-.0497.0833-.0221.1477-.0552.1932-.0994.0492-.0479.0738-.1178.0738-.2099 0-.081-.0208-.1473-.0625-.1989-.0378-.0515-.0871-.0902-.1477-.116-.0568-.0294-.1212-.0478-.1932-.0552-.0719-.011-.1401-.0166-.2045-.0166-.1818 0-.3314.0369-.4488.1105-.1175.0737-.1838.1878-.1989.3425h-.6477c.0114-.1841.0568-.337.1364-.4585.0795-.1215.1799-.2191.3011-.2927.125-.0737.2651-.1252.4204-.1547S12.1186 21 12.2815 21c.1439 0 .2859.0147.4261.0442.1401.0295.2651.0773.375.1436.1136.0663.2045.1528.2727.2596.0682.1031.1023.2302.1023.3812v1.4693zm-.6477-.7954c-.0985.0626-.2197.1012-.3637.116-.1439.011-.2878.0294-.4318.0552-.0681.011-.1344.0276-.1988.0497-.0644.0184-.1212.046-.1705.0829-.0492.0331-.089.0791-.1193.1381-.0265.0552-.0398.1233-.0398.2043 0 .07.0209.1289.0625.1768.0417.0479.091.0865.1478.116.0606.0258.125.0442.1931.0552.072.0111.1364.0166.1932.0166.072 0 .1496-.0092.233-.0276.0833-.0184.1609-.0497.2329-.0939.0758-.0442.1383-.0994.1875-.1657.0492-.07.0739-.1547.0739-.2541v-.4695zM14.1545 21.0773h.6079v.5524h.0114c.0189-.0773.0549-.1528.1079-.2265.0568-.0736.1231-.1399.1989-.1988.0795-.0626.1666-.1123.2613-.1492.0947-.0368.1913-.0552.2898-.0552.0757 0 .1269.0018.1534.0055l.0909.0111v.6076c-.0454-.0074-.0928-.0129-.142-.0166-.0455-.0074-.0909-.011-.1364-.011-.1098 0-.214.0221-.3125.0663-.0947.0405-.178.1031-.25.1878-.0719.081-.1288.1822-.1704.3038-.0417.1215-.0625.2614-.0625.4198v1.3588h-.6477v-2.8558z"}),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M22.4394 14.2917c0 .161-.1428.2916-.3198.2916h-1.6002V14h1.6002c.177 0 .3198.1307.3198.2917zm-3.1998 0c0-.161.1428-.2917.3198-.2917h.3198v.5833h-.3198c-.177 0-.3198-.1306-.3198-.2916zm-.6396 0c0 .4824.4296.875.9594.875h2.5602c.5292 0 .9594-.3926.9594-.875 0-.4825-.4302-.875-.9594-.875h-2.5602c-.5298 0-.9594.3925-.9594.875z",clipRule:"evenodd"}))},Cq=e=>{var n=e,{color:r="#795545"}=n,i=oH(n,["color"]);return t.createElement(oq,rH({},i),t.createElement("path",{fill:r,fillRule:"evenodd",d:"M8.57751 22.0289h.4644v-.8138h.6156v.8138h.55619v.4462h-.55619v1.449c0 .063.003.1173.0078.1628.0054.0455.0186.084.0384.1161.0192.0309.0492.0542.0888.0706.0396.0157.0936.0233.162.0233.0432 0 .08639-.0006.12959-.0023.0432-.0018.0864-.0082.1296-.0181v.462c-.0684.0064-.135.0134-.1998.0204-.06479.007-.13139.0105-.19979.0105-.162 0-.2928-.0146-.3918-.0449-.099-.0298-.1764-.0735-.2322-.1313-.0552-.0571-.0936-.1301-.1134-.2176-.0192-.0875-.0312-.1872-.0348-.2992v-1.6013h-.4644v-.4462zM11.5424 23.3152l-.9666-1.2863h.7452l.5832.8348.6102-.8348h.7128l-.9504 1.2548 1.0692 1.4595h-.7404l-.7068-1.0028-.6858 1.0028h-.7236l1.053-1.428zM13.5451 22.0289h.4644v-.8138h.6162v.8138h.5562v.4462h-.5562v1.449c0 .063.0024.1173.0078.1628s.018.084.0378.1161c.0198.0309.0492.0542.0888.0706.0402.0157.0942.0233.1626.0233.0426 0 .0858-.0006.1296-.0023.0426-.0018.0858-.0082.1296-.0181v.462c-.069.0064-.135.0134-.1998.0204-.0654.007-.1314.0105-.1998.0105-.1626 0-.2928-.0146-.3918-.0449-.099-.0298-.1764-.0735-.2328-.1313-.0552-.0571-.093-.1301-.1128-.2176-.0198-.0875-.0318-.1872-.0354-.2992v-1.6013h-.4644v-.4462zM12.9 11.0549h3.6c.1656 0 .3-.1306.3-.2916 0-.161-.1344-.2917-.3-.2917h-3.6c-.1656 0-.3.1307-.3.2917s.1344.2916.3.2916zM16.5 12.2216h-3.6c-.1656 0-.3.1307-.3.2917s.1344.2916.3.2916h3.6c.1656 0 .3-.1306.3-.2916 0-.161-.1344-.2917-.3-.2917zM16.5 13.9716h-3.6c-.1656 0-.3.1307-.3.2917s.1344.2916.3.2916h3.6c.1656 0 .3-.1306.3-.2916 0-.161-.1344-.2917-.3-.2917zM16.5 15.7216H7.50001c-.1656 0-.3.1307-.3.2917s.1344.2916.3.2916H16.5c.1656 0 .3-.1306.3-.2916 0-.161-.1344-.2917-.3-.2917zM16.5 17.4716H7.50001c-.1656 0-.3.1307-.3.2917s.1344.2916.3.2916H16.5c.1656 0 .3-.1306.3-.2916 0-.161-.1344-.2917-.3-.2917zM7.50001 11.0549h1.5v3.2813c0 .161.1344.2916.3.2916s.3-.1306.3-.2916v-3.2813H11.1c.1656 0 .3-.1306.3-.2916 0-.161-.1344-.2917-.3-.2917H7.50001c-.1656 0-.3.1307-.3.2917s.1344.2916.3.2916z",clipRule:"evenodd"}))},Sq=e=>{let{color:n="#27B740"}=e;return t.createElement(oq,null,t.createElement("path",{fill:n,fillRule:"evenodd",d:"M9.35494 23.3152l-.9666-1.2863h.7452l.5832.8348.61016-.8348h.7128l-.9504 1.2548 1.0692 1.4595h-.7398l-.70736-1.0028-.6858 1.0028h-.7236l1.053-1.428zM11.6556 24.7432h.6156v-3.7484h-.6156v3.7484zM13.5397 23.8718c.018.175.0864.2974.2052.3674.1188.07.261.105.4266.105.0576 0 .123-.004.1968-.0134.0738-.0087.1434-.0251.2082-.0496.0648-.0245.1176-.06.1596-.1073.0414-.0472.06-.1097.0564-.1866-.0036-.077-.0324-.14-.0864-.189-.054-.049-.1236-.0881-.2076-.1179-.0846-.0303-.1812-.0554-.2892-.0764-.108-.021-.2178-.0437-.3294-.0682-.1152-.0245-.2262-.0543-.3318-.0893-.1068-.035-.2022-.0822-.2862-.1417-.0846-.0595-.1524-.1354-.2028-.2281-.0504-.0928-.0756-.2077-.0756-.3442 0-.147.0366-.2707.1104-.3704.0738-.0998.168-.1797.2814-.2415.1134-.0607.2394-.1038.3774-.1283.1386-.0245.2712-.0368.3972-.0368.144 0 .2814.0146.4134.0443.1308.0304.2502.0782.3558.1447.1068.0665.195.1534.2652.2596.0696.1073.114.2357.132.3862h-.6426c-.0288-.1435-.0966-.2398-.2022-.2888-.1068-.049-.228-.0741-.3648-.0741-.0432 0-.0942.0041-.1542.0111-.0594.007-.1146.0198-.1668.0391-.0528.0198-.0966.0472-.1326.0846-.036.0361-.054.0846-.054.1441 0 .0735.0264.133.078.1785.0522.0455.1212.0828.2058.1125.084.0304.1806.0555.2886.0765.108.021.2196.0437.3348.0682.1116.0245.2214.0543.3294.0893.108.035.204.0822.2892.1417.084.0595.1524.1348.2046.2258.0522.091.0786.203.0786.3354 0 .1615-.0378.298-.1134.41-.0756.112-.174.203-.294.273-.1212.07-.255.1208-.4026.1523-.1476.0315-.2934.0472-.4374.0472-.1764 0-.3396-.0192-.4884-.0577-.1494-.0385-.2796-.0974-.3888-.1756-.1098-.0793-.1962-.1773-.2592-.294-.063-.1172-.0966-.2566-.1002-.4176h.6156zM13.8 17.4714h2.4v-2.9166h-2.4v2.9166zm-3 0h2.4v-2.9166h-2.4v2.9166zm-3.00002 0H10.2v-2.9166H7.79998v2.9166zm0-3.5H10.2v-2.9166H7.79998v2.9166zm6.00002 0h2.4v-2.9166h-2.4v2.9166zm-3 0h2.4v-2.9166h-2.4v2.9166zm5.7-3.5H7.49998c-.1662 0-.3.1307-.3.2917v7c0 .1616.1338.2917.3.2917H16.5c.1656 0 .3-.1301.3-.2917v-7c0-.161-.1344-.2917-.3-.2917z",clipRule:"evenodd"}))},Tq=e=>{let{color:n="#5856D6"}=e;return t.createElement(oq,null,t.createElement("path",{fill:n,fillRule:"evenodd",d:"M8.35116 22.0289h2.26804v.42l-1.59844 1.8217h1.67944v.4725H8.24316v-.42l1.5444-1.8211h-1.4364v-.4731zM11.2998 24.7433h.6156V22.029h-.6156v2.7143zm0-3.1816h.6156v-.5669h-.6156v.5669zM14.8852 23.3886c0-.1225-.0162-.2415-.0486-.357-.0324-.1155-.081-.2176-.1458-.3074-.0648-.0887-.1458-.1604-.243-.2152-.0972-.0543-.2088-.0811-.3348-.0811-.2592 0-.4542.0875-.5856.2625-.1314.1756-.1974.4077-.1974.6982 0 .1365.0174.2631.0516.3804.0336.1178.0852.2181.1536.3021.0684.084.15.1505.246.1995.0948.049.2058.0735.3318.0735.1404 0 .2592-.028.3564-.084.0972-.056.1776-.1289.2406-.2181.063-.0887.108-.1902.135-.304.027-.1143.0402-.2304.0402-.3494zm-2.1492-1.3597h.5832v.3675h.0108c.0864-.1575.207-.2701.3618-.3384.1548-.0682.3222-.1026.5022-.1026.2196 0 .4116.0373.5754.1126.1638.0752.2994.179.4074.3103.108.1307.189.2841.243.4591.054.175.081.3622.081.5617 0 .182-.0246.3588-.0726.5303-.0486.1715-.1224.3226-.2214.4538-.099.1318-.2244.2363-.3756.315-.1512.0793-.3294.1184-.5346.1184-.09 0-.18-.0076-.27-.0239-.09-.0152-.1764-.0408-.2592-.0758-.0828-.035-.159-.0794-.2298-.1336-.0696-.0548-.1284-.1184-.1752-.1919h-.0108v1.3545h-.6156v-3.717zM12.0001 10.2465h-.6c-.1656 0-.3-.1388-.3-.31088 0-.17208.1344-.31091.3-.31091h.6c.1656 0 .3.13883.3.31091s-.1344.31088-.3.31088zM12.6001 10.8686h-.6c-.1656 0-.3-.1388-.3-.3109s.1344-.3109.3-.3109h.6c.1656 0 .3.1388.3.3109s-.1344.3109-.3.3109zM12.0001 11.4907h-.6c-.1656 0-.3-.1389-.3-.3109 0-.1721.1344-.311.3-.311h.6c.1656 0 .3.1389.3.311 0 .172-.1344.3109-.3.3109zM12.6001 12.1133h-.6c-.1656 0-.3-.1394-.3-.3109 0-.1721.1344-.3115.3-.3115h.6c.1656 0 .3.1394.3.3115 0 .1715-.1344.3109-.3.3109zM12.0001 12.7354h-.6c-.1656 0-.3-.1388-.3-.3109s.1344-.3109.3-.3109h.6c.1656 0 .3.1388.3.3109s-.1344.3109-.3.3109zM12.6001 13.3575h-.6c-.1656 0-.3-.1389-.3-.311 0-.172.1344-.3109.3-.3109h.6c.1656 0 .3.1389.3.3109 0 .1721-.1344.311-.3.311zM12.0001 17.7131c-.1656 0-.3-.1388-.3-.3109v-1.5558h.6v1.5558c0 .1721-.1344.3109-.3.3109zm0-3.1109c.1656 0 .3.1388.3.3109v.3109h-.6v-.3109c0-.1721.1344-.3109.3-.3109zm0-.6219c-.4962 0-.9.4177-.9.9328v2.4891c0 .5145.4038.9327.9.9327.4962 0 .9-.4182.9-.9327v-2.4891c0-.5151-.4038-.9328-.9-.9328zM12.6001 9.62448h-.6c-.1656 0-.3-.13942-.3-.31092 0-.17208.1344-.3115.3-.3115h.6c.1656 0 .3.13942.3.3115 0 .1715-.1344.31092-.3.31092zM12.0001 13.9801h-.6c-.1656 0-.3-.1394-.3-.3115s.1344-.3109.3-.3109h.6c.1656 0 .3.1388.3.3109s-.1344.3115-.3.3115zM12.0001 5.26884h-.6c-.1656 0-.3-.13942-.3-.31092 0-.17208.1344-.31091.3-.31091h.6c.1656 0 .3.13883.3.31091 0 .1715-.1344.31092-.3.31092zM12.6001 5.89091h-.6c-.1656 0-.3-.13884-.3-.31092 0-.17208.1344-.31092.3-.31092h.6c.1656 0 .3.13884.3.31092 0 .17208-.1344.31092-.3.31092zM12.0001 6.51298h-.6c-.1656 0-.3-.13884-.3-.31092 0-.17208.1344-.31092.3-.31092h.6c.1656 0 .3.13884.3.31092 0 .17208-.1344.31092-.3.31092zM12.6001 7.13562h-.6c-.1656 0-.3-.13941-.3-.3115 0-.1715.1344-.31091.3-.31091h.6c.1656 0 .3.13941.3.31091 0 .17209-.1344.3115-.3.3115zM12.0001 7.75769h-.6c-.1656 0-.3-.13941-.3-.31091 0-.17209.1344-.31092.3-.31092h.6c.1656 0 .3.13883.3.31092 0 .1715-.1344.31091-.3.31091zM12.6001 8.37976h-.6c-.1656 0-.3-.13883-.3-.31092 0-.17208.1344-.31091.3-.31091h.6c.1656 0 .3.13883.3.31091 0 .17209-.1344.31092-.3.31092zM12.6001 4.64678h-.6c-.1656 0-.3-.13942-.3-.3115 0-.17209.1344-.31092.3-.31092h.6c.1656 0 .3.13883.3.31092 0 .17208-.1344.3115-.3.3115zM12.0001 1.53528h-.6c-.1656 0-.3-.13884-.3-.31092 0-.17208.1344-.310918.3-.310918h.6c.1656 0 .3.138838.3.310918 0 .17208-.1344.31092-.3.31092zM12.6001 2.15734h-.6c-.1656 0-.3-.13883-.3-.31092 0-.17208.1344-.31091.3-.31091h.6c.1656 0 .3.13883.3.31091 0 .17209-.1344.31092-.3.31092zM12.0001 2.77999h-.6c-.1656 0-.3-.13941-.3-.31091 0-.17209.1344-.3115.3-.3115h.6c.1656 0 .3.13941.3.3115 0 .1715-.1344.31091-.3.31091zM12.6001 3.40206h-.6c-.1656 0-.3-.13884-.3-.31092 0-.17208.1344-.31092.3-.31092h.6c.1656 0 .3.13884.3.31092 0 .17208-.1344.31092-.3.31092zM12.0001 4.02412h-.6c-.1656 0-.3-.13883-.3-.31091 0-.17209.1344-.31092.3-.31092h.6c.1656 0 .3.13883.3.31092 0 .17208-.1344.31091-.3.31091zM12.0001 9.00183h-.6c-.1656 0-.3-.13884-.3-.31092 0-.17209.1344-.31092.3-.31092h.6c.1656 0 .3.13883.3.31092 0 .17208-.1344.31092-.3.31092z",clipRule:"evenodd"}))},_q=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 384 512",fill:"currentColor"},e),t.createElement("path",{d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16\n      16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84\n      0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})),kq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M491.609 73.625l-53.861-53.839c-26.378-26.379-69.076-26.383-95.46-.001L24.91 335.089.329\n      484.085c-2.675 16.215 11.368 30.261 27.587 27.587l148.995-24.582 315.326-317.378c26.33-26.331\n      26.581-68.879-.628-96.087zM120.644 302l170.259-169.155 88.251 88.251L210\n      391.355V350h-48v-48h-41.356zM82.132 458.132l-28.263-28.263 12.14-73.587L84.409\n      338H126v48h48v41.59l-18.282 18.401-73.586\n      12.141zm378.985-319.533l-.051.051-.051.051-48.03\n      48.344-88.03-88.03 48.344-48.03.05-.05.05-.05c9.147-9.146 23.978-9.259\n      33.236-.001l53.854 53.854c9.878 9.877 9.939 24.549.628 33.861z"})),xq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 320 512",fill:"currentColor"},e),t.createElement("path",{d:"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34\n      0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4\n      52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4\n      256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160\n      303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34\n      0-22.58L207.6 256z"})),Aq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 576 512",fill:"currentColor"},e),t.createElement("path",{d:"M561.938 190.06L385.94 14.107C355.79-16.043 304 5.327 304 48.047v80.703C166.04 132.9 0\n      159.68 0 330.05c0 73.75 38.02 134.719 97.63 173.949 37.12 24.43 85.84-10.9\n      72.19-54.46C145.47 371.859 157.41 330.2 304 321.66v78.28c0 42.64 51.73 64.15 81.94\n      33.94l175.997-175.94c18.751-18.74 18.751-49.14.001-67.88zM352 400V272.09c-164.521\n      1.79-277.44 33.821-227.98 191.61C88 440 48 397.01 48 330.05c0-142.242 160.819-153.39\n      304-154.02V48l176 176-176 176z"})),Iq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M508.5 468.9L387.1 347.5c-2.3-2.3-5.3-3.5-8.5-3.5h-13.2c31.5-36.5 50.6-84 50.6-136C416\n      93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c52 0 99.5-19.1 136-50.6v13.2c0 3.2 1.3 6.2\n      3.5 8.5l121.4 121.4c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17zM208 368c-88.4\n      0-160-71.6-160-160S119.6 48 208 48s160 71.6 160 160-71.6 160-160 160z"})),Mq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6\n      28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8\n      9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3\n      240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"})),Rq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5\n      114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496\n      128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8\n      307.7z"})),Lq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49\n      48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6\n      6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909\n      40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971\n      0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})),Dq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M67.508 468.467c-58.005-58.013-58.016-151.92 0-209.943l225.011-225.04c44.643-44.645\n      117.279-44.645 161.92 0 44.743 44.749 44.753 117.186 0 161.944l-189.465 189.49c-31.41\n      31.413-82.518 31.412-113.926.001-31.479-31.482-31.49-82.453 0-113.944L311.51\n      110.491c4.687-4.687 12.286-4.687 16.972 0l16.967 16.971c4.685 4.686 4.685 12.283 0\n      16.969L184.983 304.917c-12.724 12.724-12.73 33.328 0 46.058 12.696 12.697 33.356 12.699\n      46.054-.001l189.465-189.489c25.987-25.989\n      25.994-68.06.001-94.056-25.931-25.934-68.119-25.932-94.049 0l-225.01 225.039c-39.249\n      39.252-39.258 102.795-.001 142.057 39.285 39.29 102.885 39.287 142.162-.028A739446.174\n      739446.174 0 0 1 439.497 238.49c4.686-4.687 12.282-4.684 16.969.004l16.967 16.971c4.685\n      4.686 4.689 12.279.004 16.965a755654.128 755654.128 0 0 0-195.881 195.996c-58.034\n      58.092-152.004 58.093-210.048.041z"})),Oq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 448 512",fill:"currentColor"},e),t.createElement("path",{d:"M441.9 167.3l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L224 328.2 42.9 147.5c-4.7-4.7-12.3-4.7-17\n      0L6.1 167.3c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7\n      4.7-12.3 0-17z"})),Pq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 256 512",fill:"currentColor"},e),t.createElement("path",{d:"M231.293 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L70.393 256 251.092\n      74.87c4.686-4.686 4.686-12.284 0-16.971L231.293 38.1c-4.686-4.686-12.284-4.686-16.971\n      0L4.908 247.515c-4.686 4.686-4.686 12.284 0 16.971L214.322 473.9c4.687 4.686 12.285\n      4.686 16.971-.001z"})),Nq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 256 512",fill:"currentColor"},e),t.createElement("path",{d:"M24.707 38.101L4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908\n      437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971\n      0l209.414-209.414c4.686-4.686\n      4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"})),Fq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512"},e),t.createElement("path",{d:"M342.7 144H464v288H48V144h121.3l24-64h125.5l23.9 64zM324.3 32h-131c-20 0-37.9 12.4-44.9\n      31.1L136 96H48c-26.5 0-48 21.5-48 48v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5\n      48-48V144c0-26.5-21.5-48-48-48h-88l-14.3-38c-5.8-15.7-20.7-26-37.4-26zM256 408c-66.2\n      0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-192c-39.7\n      0-72 32.3-72 72s32.3 72 72 72 72-32.3 72-72-32.3-72-72-72z"})),jq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 320 512",fill:"currentColor"},e),t.createElement("path",{d:"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34\n      0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4\n      52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4\n      256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160\n      303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34\n      0-22.58L207.6 256z"})),Bq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0\n      4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2\n      16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8\n      0 16 7.2 16 16v288z"})),Uq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0\n      4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2\n      16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0\n      16 7.2 16 16v288zM336 184h-56v-56c0-8.8-7.2-16-16-16h-16c-8.8 0-16 7.2-16 16v56h-56c-8.8\n      0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h56v56c0 8.8 7.2 16 16 16h16c8.8 0 16-7.2\n      16-16v-56h56c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16z"})),zq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48\n      48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336\n      0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"})),Hq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 128 512"},e),t.createElement("path",{d:"M64 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM16\n      104c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zm0 304c0 26.5\n      21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48z"})),Vq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504\n      119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200\n      110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm42-104c0 23.159-18.841 42-42\n      42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42zm-81.37-211.401l6.8 136c.319 6.387\n      5.591 11.401 11.985 11.401h41.17c6.394 0 11.666-5.014\n      11.985-11.401l6.8-136c.343-6.854-5.122-12.599-11.985-12.599h-54.77c-6.863 0-12.328\n      5.745-11.985 12.599z"})),qq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 496 512",fill:"currentColor"},e),t.createElement("path",{d:"M248 8C111.04 8 0 119.03 0 256s111.04 248 248 248 248-111.03 248-248S384.96 8 248 8zm0\n      448c-110.28 0-200-89.72-200-200S137.72 56 248 56c10.92 0 21.55 1.12 32 2.81v21.7c0 8.56-6.94\n      15.5-15.5 15.5h-24.21c-5.18 0-10.02 2.59-12.89 6.9l-8.08 12.11c-2.14 3.21-5.4 5.5-9.14\n      6.44l-14.45 3.61a15.492 15.492 0 0 0-11.74 15.04v4.4c0 8.56 6.94 15.5 15.5 15.5h90.09c4.11\n      0 8.05 1.63 10.96 4.54l6.92 6.92c2.91 2.91 6.85 4.54 10.96 4.54h10.09c8.56 0 15.5 6.94 15.5\n      15.5 0 6.67-4.27 12.59-10.6 14.7l-47.31 15.77c-3.9 1.3-8.15 1-11.83-.84l-14.72-7.36a54.682\n      54.682 0 0 0-24.43-5.77h-.89c-11.82 0-23.32 3.83-32.78 10.93l-27.58 20.69A54.545 54.545 0 0\n      0 152 283.31v14.06c0 14.49 5.76 28.38 16 38.63a54.641 54.641 0 0 0 38.63 16h25.88c8.56 0\n      15.5 6.94 15.5 15.5v29.88c0 12.25 2.85 24.33 8.33 35.29 4.7 9.4 14.31 15.34 24.82 15.34 9.28\n      0 17.94-4.64 23.09-12.36l13.03-19.55a159.608 159.608 0 0 1 25-29.16c2.47-2.26 4.14-5.26\n      4.76-8.56l4.3-22.83c.44-2.33 1.41-4.53 2.83-6.43l18.74-24.98c2.01-2.68\n      3.1-5.95 3.1-9.3V303.5c0-8.56-6.94-15.5-15.5-15.5h-8.21c-5.18\n      0-10.02-2.59-12.89-6.9l-13.24-19.86c-5.67-8.5-1.7-20.07 7.99-23.3l2.65-.88c4.54-1.51\n      9.52-.85 13.5 1.81l18.21 12.14a15.532 15.532 0 0 0 15.53.97l15.39-7.7c5.25-2.62 8.57-7.99\n      8.57-13.86v-6.93c0-8.56 6.94-15.5 15.5-15.5h18.44c3.82 15.41 6.07 31.43 6.07 48C448 366.28\n      358.28 456 248 456z"})),Gq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 448 512",fill:"currentColor"},e),t.createElement("path",{d:"M224 412c-15.5 0-28-12.5-28-28v-64c0-15.5 12.5-28 28-28s28 12.5 28 28v64c0\n      15.5-12.5 28-28 28zm224-172v224c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V240c0-26.5\n      21.5-48 48-48h32v-48C80 64.5 144.8-.2 224.4 0 304 .2 368 65.8 368 145.4V192h32c26.5 0 48\n      21.5 48 48zm-320-48h192v-48c0-52.9-43.1-96-96-96s-96 43.1-96 96v48zm272 48H48v224h352V240z"})),Wq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M140 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4\n      12-12 12H140zm364-28c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-48\n      0c0-110.5-89.5-200-200-200S56 145.5 56 256s89.5 200 200 200 200-89.5 200-200z"})),Kq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 576 512",fill:"currentColor"},e),t.createElement("path",{d:"M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0\n      30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48\n      392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480\n      8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0\n      12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12\n      12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0\n      6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627\n      0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627\n      5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627\n      0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0\n      6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"})),Yq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 576 512",fill:"currentColor"},e),t.createElement("path",{d:"M552 64H88c-13.234 0-24 10.767-24 24v8H24c-13.255 0-24 10.745-24 24v280c0 26.51 21.49 48 48\n      48h504c13.233 0 24-10.767 24-24V88c0-13.233-10.767-24-24-24zM32 400V128h32v272c0 8.822-7.178\n      16-16 16s-16-7.178-16-16zm512 16H93.258A47.897 47.897 0 0 0 96\n      400V96h448v320zm-404-96h168c6.627 0 12-5.373 12-12V140c0-6.627-5.373-12-12-12H140c-6.627 0-12\n      5.373-12 12v168c0 6.627 5.373 12 12 12zm20-160h128v128H160V160zm-32 212v-8c0-6.627 5.373-12\n      12-12h168c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12H140c-6.627 0-12-5.373-12-12zm224\n      0v-8c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12H364c-6.627\n      0-12-5.373-12-12zm0-64v-8c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v8c0 6.627-5.373\n      12-12 12H364c-6.627 0-12-5.373-12-12zm0-128v-8c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373\n      12 12v8c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 64v-8c0-6.627 5.373-12\n      12-12h136c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"})),Qq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 448 512",fill:"currentColor"},e),t.createElement("path",{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0\n      26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272\n      80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24\n      24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6\n      6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0\n      128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"})),Zq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 320 512",fill:"currentColor"},e),t.createElement("path",{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 \n      0L24 329c-15.1-15.1-4.4-41 17-41z"})),$q=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M466.27 286.69C475.04 271.84 480 256 480 \n      236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 \n      31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 \n      66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 \n      27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 \n      77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 \n      13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 \n      65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 \n      94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 \n      56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 \n      37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 \n      24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"})),Xq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 448 512",fill:"currentColor"},e),t.createElement("path",{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0\n      12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41\n      80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0\n      48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6\n      6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12\n      12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"})),Jq=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512",fill:"currentColor"},e),t.createElement("path",{d:"M512 256c0-37.7-23.7-69.9-57.1-82.4 14.7-32.4\n      8.8-71.9-17.9-98.6-26.7-26.7-66.2-32.6-98.6-17.9C325.9 23.7 293.7 0 256 0s-69.9 23.7-82.4\n      57.1c-32.4-14.7-72-8.8-98.6 17.9-26.7 26.7-32.6 66.2-17.9 98.6C23.7 186.1 0 218.3 0 256s23.7\n      69.9 57.1 82.4c-14.7 32.4-8.8 72 17.9 98.6 26.6 26.6 66.1 32.7 98.6 17.9 12.5 33.3 44.7 57.1\n      82.4 57.1s69.9-23.7 82.4-57.1c32.6 14.8 72 8.7 98.6-17.9 26.7-26.7 32.6-66.2 17.9-98.6\n      33.4-12.5 57.1-44.7 57.1-82.4zm-144.8-44.25L236.16 341.74c-4.31\n      4.28-11.28 4.25-15.55-.06l-75.72-76.33c-4.28-4.31-4.25-11.28.06-15.56l26.03-25.82c4.31-4.28\n      11.28-4.25 15.56.06l42.15 42.49 97.2-96.42c4.31-4.28 11.28-4.25 15.55.06l25.82 26.03c4.28\n      4.32 4.26 11.29-.06 15.56z"})),eG=VV((e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512"},e),t.createElement("path",{d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284\n      28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686\n      16.971 0l299.813-299.813c4.686-4.686 4.686-12.284\n      0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})))).attrs({width:18,height:18})(UI||(UI=o(["\n  font-size: 18px;\n  margin-right: 8px;\n"]))),tG=VV(Vq).attrs({width:18,height:18})(zI||(zI=o(["\n  font-size: 18px;\n  margin-right: 8px;\n"]))),nG=VV(xq).attrs({width:18,height:18})(HI||(HI=o(["\n  font-size: 18px;\n  margin-right: 8px;\n"]))),rG=VV.div(VI||(VI=o(["\n  position: fixed;\n  padding-top: 50px;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 9999;\n  pointer-events: none;\n"]))),iG=VV.div(qI||(qI=o(["\n  width: 480px;\n  padding: 8px 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  background: ",";\n  border-radius: 4px;\n  margin-bottom: 10px;\n\n  animation-duration: 0.3s;\n  animation-name: appear;\n\n  @keyframes appear {\n    from {\n      opacity: 0;\n    }\n\n    to {\n      opacity: 1;\n    }\n  }\n  pointer-events: auto;\n"])),(e=>{let{theme:t}=e;return t.palette.base.main})),oG=3e3,aG=e=>{let{className:n,content:r,icon:i}=e;return t.createElement(iG,{className:n},i," ",r)},sG=()=>{let[e,n]=(0,t.useState)([]);return qV=t=>{var r=t,{duration:i=oG}=r,o=oH(r,["duration"]);let a=Date.now();n([rH({id:a},o),...e]),setTimeout((()=>(e=>n&&n((t=>t.filter((t=>t.id!==e)))))(a)),i)},t.createElement(rG,null,e.map((e=>t.createElement(aG,iH(rH({},e),{key:e.id})))))},lG=e=>qV(iH(rH({},e),{icon:t.createElement(eG,null)})),cG=e=>qV(iH(rH({},e),{icon:t.createElement(tG,null)})),uG=e=>qV(iH(rH({},e),{icon:t.createElement(nG,null)})),dG=e=>{let{theme:t}=e;return UV(GI||(GI=o(["\n  display: inline-flex;\n  align-items: center;\n  border-radius: 4px;\n  outline: none;\n  padding: 10px 12px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  ","\n  ","\n  justify-content: center;\n  &:disabled {\n    cursor: default;\n  }\n  & > :not(:first-child) {\n    margin-left: 0.5rem;\n  }\n"])),t.typography.bodyBold,(e=>{let{fullWidth:t}=e;return t&&"width: 100%;"}))},hG=VV.button(WI||(WI=o(["\n  ",";\n  background-color: #fff;\n  border: 1px solid #e3e4e8;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n  &:disabled {\n    color: ",";\n  }\n"])),dG,(e=>{let{theme:t}=e;return t.palette.neutral.main}),(e=>{let{theme:t}=e;return t.palette.neutral.shade1}),(e=>{let{theme:t}=e;return t.palette.neutral.shade2})),fG=VV.button(KI||(KI=o(["\n  ",";\n  border: none;\n  background-color: ",";\n  color: white;\n  &:hover:not(:disabled) {\n    opacity: 0.8;\n  }\n  &:disabled {\n    background-color: ",";\n  }\n"])),dG,(e=>{let{theme:t}=e;return t.palette.primary.main}),(e=>{let{theme:t}=e;return t.palette.primary.shade2})),pG=VV.button(YI||(YI=o(["\n  ",";\n  color: ",";\n  background-color: transparent;\n  border: none;\n  &:hover {\n    background-color: #f2f2f4;\n  }\n  &:disabled {\n    color: ",";\n  }\n  ","\n"])),dG,(e=>{let{theme:t}=e;return t.palette.neutral.shade1}),(e=>{let{theme:t}=e;return t.palette.neutral.shade2}),(e=>{let{active:t,theme:n}=e;return t&&"color: ".concat(n.palette.primary.shade1,";")})),mG=e=>{var n=e,{variant:r,fullWidth:i=!1}=n,o=oH(n,["variant","fullWidth"]);switch(r){case"primary":return t.createElement(fG,iH(rH({},o),{fullWidth:i}));case"secondary":return t.createElement(pG,iH(rH({},o),{fullWidth:i}));default:return t.createElement(hG,iH(rH({},o),{fullWidth:i}))}},gG=VV(jq).attrs({width:18,height:18})(QI||(QI=o(["\n  padding: 0 6px;\n  font-size: 18px;\n  cursor: pointer;\n  margin-left: auto;\n  &.svg-inline--fa {\n    width: auto;\n  }\n"]))),vG=VV.div(ZI||(ZI=o(["\n  z-index: 9999;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  overflow-y: auto;\n  display: flex;\n  padding: 20px 0;\n  background: rgba(23, 24, 28, 0.8);\n  animation-duration: 0.3s;\n  animation-name: appear;\n  margin-top: 0 !important;\n\n  @keyframes appear {\n    from {\n      opacity: 0;\n    }\n\n    to {\n      opacity: 1;\n    }\n  }\n"]))),yG=VV.div($I||($I=o(["\n  margin: auto;\n  background: ",";\n  border-radius: 6px;\n  max-width: 520px;\n  min-width: 360px;\n  ","\n\n  &:focus {\n    outline: none;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.typography.body})),bG=VV(yG)(XI||(XI=o(["\n  width: 440px;\n"]))),EG=e=>{var n=e,{small:r}=n,i=oH(n,["small"]);return r?t.createElement(bG,rH({},i)):t.createElement(yG,rH({},i))},wG=VV.div(JI||(JI=o(["\n  padding: 16px 16px 12px 16px;\n  ",";\n  ",";\n  display: flex;\n  align-items: center;\n"])),(e=>{let{clean:t,theme:n}=e;return!t&&UV(eM||(eM=o(["\n      border-bottom: 1px solid ",";\n    "])),n.palette.base.shade4)}),(e=>{let{theme:t}=e;return t.typography.title})),CG=VV.div(tM||(tM=o(["\n  ","\n"])),(e=>{let{isText:t}=e;return t&&UV(nM||(nM=o(["\n      padding: 20px 16px;\n    "])))})),SG=VV.div(rM||(rM=o(["\n  padding: 16px 12px;\n  padding-top: 4px;\n  ","\n"])),(e=>{let{clean:t,theme:n}=e;return!t&&UV(iM||(iM=o(["\n      border-top: 1px solid ",";\n      padding-top: 16px;\n    "])),n.palette.base.shade4)})),TG=e=>{let{"data-qa-anchor":n="",size:r="",className:i,onOverlayClick:o=(()=>{}),onCancel:a,title:s,footer:l,clean:c,children:u}=e,d=(0,t.useRef)(null);(0,t.useEffect)((()=>{var e;null==(e=null==d?void 0:d.current)||e.focus()}),[null==d?void 0:d.current]);let h="string"==typeof u||"FormattedMessage"===(null==u?void 0:u.type);return t.createElement(vG,{onClick:o},t.createElement(EG,{small:"small"===r,tabIndex:0,className:i,ref:d,"data-qa-anchor":n},(s||a)&&t.createElement(wG,{clean:c},s,a&&t.createElement(gG,{onClick:a})),t.createElement(CG,{isText:h},u),l&&t.createElement(SG,{clean:c},l)))},_G=VV(TG)(oM||(oM=o(["\n  max-width: 360px;\n"]))),kG=VV.div(aM||(aM=o(["\n  display: flex;\n  justify-content: flex-end;\n"]))),xG=VV(fG)(sM||(sM=o(["\n  color: white;\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main}),(e=>{let{theme:t}=e;return t.palette.alert.main})),AG=VV(mG)(lM||(lM=o(["\n  margin-right: 10px;\n"]))),IG=e=>{let{"data-qa-anchor":n="",className:r,title:i,content:o,okText:a="Ok",onOk:s,OkButton:l=xG,cancelText:c="Cancel",CancelButton:u=AG,onCancel:d,type:h="confirm"}=e;return t.createElement(_G,{"data-qa-anchor":"confirm-modal-".concat(n),clean:!0,className:r,title:i,footer:t.createElement(kG,null,"confirm"===h&&t.createElement(u,{"data-qa-anchor":"confirm-modal-cancel-button",onClick:d},c),t.createElement(l,{"data-qa-anchor":"confirm-modal-".concat(n,"-ok-button"),onClick:s},a)),onCancel:d},o)},MG=()=>{let[e,n]=(0,t.useState)(null);if(GV=e=>{n(e)},!e)return null;let r=e=>()=>{n(null),e&&e()};return t.createElement(IG,iH(rH({},e),{onCancel:r(e.onCancel),onOk:r(e.onOk)}))},RG=e=>GV(iH(rH({},e),{type:"confirm"})),LG=e=>GV(iH(rH({},e),{type:"info",OkButton:fG})),DG={socialCommunityCreationButtonVisible:!0},OG=(0,t.createContext)(DG);function PG(e){let{children:n,config:r}=e,i=(0,t.useMemo)((()=>rH(rH({},DG),r)),[r]);return t.createElement(OG.Provider,{value:i},n)}var NG={en:{"general.action.cancel":"Cancel","general.action.accept":"Accept","general.action.decline":"Decline","general.action.discard":"Discard","general.error.tryAgainLater":"Something went wrong. Please try again later.",hello:"Hello World","plural.like":"{amount, plural, one {like} other {likes}}",comment:"Comment","plural.comment":"{amount, plural, one {comment} other {comments}}","plural.member":"{amount, plural, one {member} other {members}}",selectACategory:"Select a category",todaysTrendingTitle:"Today's Trending",loadMore:"Load More",categoryList:"Categories",recommendedList:"Recommended for you","exploreHeader.searchCommunityTitle":"Explore communities","exploreHeader.searchCommunityPlaceholder":"Search communities...","exploreHeader.createCommunityTitle":"or create your own!","exploreHeader.createCommunityButton":"Create community",backTitle:"Back",createCommunity:"Create Community",moderator:"Moderator","moderatorMenu.promoteToModerator":"Promote to moderator","moderatorMenu.dismissModerator":"Dismiss moderator","moderatorMenu.removeFromCommunity":"Remove from community","post.readMore":"...Read more","post.editPost":"Edit post","post.deletePost":"Delete post","post.confirmDelete":"This post will be permanently deleted. You\u2019ll no longer to see and find this post. Continue?","post.confirmPendingDelete":"This post will be permanently deleted from the pending list","post.edited":"Edited","post.like":"Like","post.liked":"Liked","post.unknownPost.description":"We couldn\u2019t recognize this post.","post.unknownPost.title":"Something went wrong","post.renderingError.description":"We couldn\u2019t render this post.","post.renderingError.title":"Something went wrong","post.community":"Community","post.myTimeline":"My Timeline","post.wasLive":"was live","post.success.approved":"Post approved","post.success.declined":"Post declined","post.success.submittedToReview":"Your post has been submitted to review by moderator","post.error.cannotReview.title":"Post is not available","post.error.cannotReview.description":"The post has been reviewed by another moderator","post.discard.title":"Discard post?","post.discard.content":"Do you want to discard your post?","collapsible.viewAll":"View all","collapsible.viewAllFiles":"View all files","collapsible.viewMoreComments":"View more comments","collapsible.viewMoreReplies":"View more replies","community.createSuccess":"Your community was successfully created","community.updateSuccess":"Your community was successfully updated","community.editProfile":"Edit profile","community.join":"Join","community.communitySettings":"Community Settings","community.returnTo":"Return to {communityName}","community.leaveCommunityTitle":"Leave community?","community.leaveCommunityBody":"You won\u2019t no longer be able to post and interact in this community after leaving.","community.leaveCommunityBodyLastMember":"As you\u2019re the last moderator and member, choose close community to leave.","community.leaveCommunityBodyOnlyModerator":"You\u2019re the only moderator in this group. Nominate other members before leaving community.","community.leaveCommunityButtonText":"Leave","community.leaveCommunityButtonOK":"OK","community.cannotInteract":"Join community to interact with all posts","community.removeUserFromCommunityTitle":"Remove user from community","community.removeUserFromCommunityBody":"This user won't no longer be able to search, post. Continue?","community.name":"Community name","community.about":"About","community.category":"Category","community.onlyadmincanpost":">Only admin can post","community.onlyadmins":"Choose to allow Only Admins to create posts in this community.","community.categorypermission":"Community permission","community.addmembers":"Add members","community.posts":"posts","community.members":"members","community.settings":"Settings","community.leaveCommunity":"Leave Community","CommunityMembers.members":"Members","CommunityMembers.moderators":"Moderators","EmptyFeed.TargetType.globalFeed":"This feed is empty","EmptyFeed.TargetType.communityFeed":"This community's feed is empty","EmptyFeed.TargetType.userFeed":"This user's feed is empty","EmptyFeed.TargetType.myFeed":"Your feed is empty. Start your first post","EmptyFeed.exploreCommunity":"Explore Community","UserFeed.tabs.timeline":"Timeline","community.exploreCommunities":"Explore Community","community.permissions.postReview":"Post review","community.permissions.approvePosts":"Approve member posts","community.permissions.approvePosts.prompt":"Posts by members have to be reviewed and approved by community moderator.","community.permissions.error.needApprovalOnPostCreation.turnOn":"Unable to turn on post review","community.permissions.error.needApprovalOnPostCreation.turnOff":"Unable to turn off post review","community.review.declinePendingPosts":"Decline pending post will permanently delete the selected post from community.","community.pendingPostsBanner.title":"Pending posts","community.pendingPostsBanner.pendingForReview":"Your posts are pending for review","community.pendingPostsBanner.needApproval":"{formattedAmount} {amount, plural, one {post needs} other {posts need}} approval","communityCreatedModal.title":"Customize your community","communityCreatedModal.message":"You\u2019ve successfully created a community! Now let's manage permissions that work best for you","communityCreatedModal.goToSettings":"Community settings","communityCreatedModal.skip":"Skip for now",post:"Post","upload.attachmentLimit":"You reached the maximum attachment of {maxFiles}","upload.fileSizeLimit":"One of the selected file is larger than 1GB. Please select a new file.","user.editProfile":"Edit profile","user.message":"Message","follow.placeholder.noFollowings":"No followings found","follow.placeholder.noFollowers":"No followers found","ProfileSettings.editProfile":"Edit profile","ProfileSettings.returnTo":"Return to ","SideSectionMyCommunity.myCommunity":"My Community","file.reUpload":"Click to re-upload the file","UserProfileForm.displayname":"Display name","UserProfileForm.about":"About","UserProfileForm.title":"General","UserProfileForm.namePlaceholder":"Enter user display name","UserProfileForm.requiredDisplayName":"Display name is required","UserProfileForm.requiredDescription":"Enter something about yourself","UserSelector.placeholder":"Select user...","report.reportUser":"Report user","report.unreportUser":"Unreport user","report.reportComment":"Report comment","report.unreportComment":"Unreport comment","report.reportSent":"Report sent","report.unreportSent":"Unreport sent","comment.deleted":"This comment has been deleted","comment.delete":"Delete comment","comment.edit":"Edit comment","comment.deleteConfirmContent":"This comment will be permanently deleted. Continue?","comment.deleteConfirmCancelText":"Cancel","comment.deleteConfirmOkText":"Delete","dropdown.first":"First","dropdown.second":"Second","layout.logout":"Log Out","layout.username":"Jackies","chat.details.chatDetailes":"Chat Detail","chat.details.communityName":"Community Name","message.flag":"flag","message.unflag":"Unflag","message.edit":"Edit","message.delete":"Delete","message.deleted":"deleted","message.unsupportedFormat":"Unsupported message format","message.saveOptionsError":"There was an error processing your request","MessageComposeBar.placeholder":"Type your message...","RecentChat.chats":"Chats","AddMemberModal.addMembers":"Add members","AddMemberModal.membersValidationError":"Please select at least one member",add:"Add",save:"Save",close:"Close",reply:"Reply",delete:"Delete",create:"Create",cancel:"Cancel",loading:"Loading...",anonymous:"Anonymous","comment.edited":"Edited","comment.readmore":"...Read more","communities.nocommunityfound":"No community found","profile.setting":"Profile Settings","sidesectioncommunity.newfeed":"NewsFeed","sidesectioncommunity.explore":"Explore","sidesectioncommunity.community":"Community","communityFeed.join":"Join community to interact with all posts","communityFeed.members":"Members","communityFeed.moderators":"Moderators","files.all":"View all files","sidebar.community":"Community","CategoryCommunitiesList.emptyTitle":"It's empty here...","CategoryCommunitiesList.emptyDescription":"No community found in this category","CommentComposeBar.addComment":"Add comment","CommentComposeBar.replayTo":"Reply to ","CommentComposeBar.saySomething":"Say something nice","CommentComposeBar.unableToPost":"Unable to post","CommentComposeBar.overCharacter":"You have reached maximum 50,000 characters in a post.","CommentComposeBar.done":"Done","CommentComposeBar.unableToMention":"Unable to mention","CommentComposeBar.overMentionees":"You have reached maximum 30 mentioned users in a post.","CommentComposeBar.okText":"OK","CommunityCreationModal.title":"Leave without finishing?","CommunityCreationModal.content":"Your progress won\u2019t be saved. Are you sure to leave this page now?","CommunityCreationModal.cancelText":"Continue editing","CommunityCreationModal.okText":"Leave","PostAsCommunity.title":"Post as community","PostAsCommunity.caption":"Enable this will publish the post on behalf of community account","AddMemberAction.title":"Add members","AddMemberAction.description":"Add your friends to this community to participate in group conversations","CloseCommunityAction.closeConfirm.title":"Close community?","CloseCommunityAction.closeConfirm.description":"All members will be removed from the community. All posts, messages, reactions and media shared in community will be deleted. This cannot be undone.","CloseCommunityAction.title":"Close community","CloseCommunityAction.description":"Closing this community will remove the community page and all its content and comments. This cannot be undone.","report.doReport":"Report","report.undoReport":"Undo Report","comment.deleteBody":"This comment will be permanently deleted. Continue?","reply.delete":"Delete reply","reply.deleteBody":"This reply will be permanently deleted. Continue?","reply.edit":"Edit reply","reply.deleted":"This reply has been deleted","tabs.editProfile":"Edit profile","tabs.timeline":"Timeline","tabs.followers":"Followers","tabs.followings":"Followings","tabs.pending":"Pending","tabs.members":"Members","tabs.moderators":"Moderators","tabs.pendingPosts":"Pending {amount, select, 0 {} other { ({formattedAmount})}}","tabs.permissions":"Permissions","tabs.gallery":"Gallery","tabs.images":"Photos","tabs.videos":"Videos","tabs.liveStreams":"Livestreams","feed.emptyFeed":"This feed is empty","feed.emptyCommunityPublicFeed":"This community's feed is empty","feed.emptyCommunityReviewingFeed":"No pending posts","feed.emptyJoinedCommunityPublicFeed":"Your feed is empty. Start you first post","feed.emptyUserFeed":"No posts yet","feed.emptyMyFeed":"Your feed is empty. Start your first post","chat.groupSetting":"Group settings","chat.message.deleted":"Message was deleted","chat.message.unsupported":"Unsupported message type","chat.chats":"Chats","chat.details.header":"Chat Details","chat.details.chatName":"Chat Name","chat.leaveChat":"Leave chat","chat.leaveChat.confirm.title":"Leave chat","chat.leaveChat.confirm.content":"Are you sure you want to leave the chat?","chat.leaveChat.confirm.okButton":"Leave","chat.leaveChat.success":"You successfully left chat","chat.leaveChat.error":"Attempt to leave a chat has failed","chat.members.return":"Return to controls","chat.members.count":"{count} members","chat.create.modalTitle":"Create new chat","userSelector.placeholder":"Enter name or email addresses","userSelector.emptyState.title":"It's empty here...","userSelector.emptyState.description":"No contact found here","groupChat.createPopup.fieldName":"Group name","groupChat.createPopup.placeholder":"Please input group name","general.cancel.capital":"Cancel","general.create.capital":"Create","general.done.capital":"Done","chat.member.addMore":"Add or Remove user","video.notReady":"The video is being processed. Please try again later.","liveStream.idle":"This stream is currently unavailable","liveStream.ended.caption":"This liveStream has ended.","liveStream.ended.message":"Playback will be available for you to watch shortly.","user.follow":"Follow","user.unfollow":"Unfollow","user.unfollow.confirm.title":"Unfollow {displayName}","user.unfollow.confirm.body":"You\u2019ll have to send a request again to follow {displayName}. Continue?","user.cancel_follow":"Cancel request","placeholder.noResults":"No results found","request.accept":"Accept","request.decline":"Decline","follower.title.removeUser":"Remove {displayName} from followers?","follower.body.removeUser":"We will not notify {displayName} that they've been removed from your followers","follower.menuItem.removeUser":"Remove user","follower.menuItem.unfollow":"Unfollow","buttonText.cancel":"Cancel","buttonText.remove":"Remove","follow.pendingNotification.title":"Pending requests","follow.pendingNotification.body":"Your requests are waiting for review","notification.done":"Done","counter.followings":"following","counter.followers":"followers","buttonText.unfollow":"Unfollow","privateFeed.title":"This account is private","privateFeed.body":"Follow this user to see all posts","navigationBlocker.title":"Unsaved changes","navigationBlocker.content":"Your changes won`t be saved. Are you sure you want to leave this page now?","user.unfollow.confirm.title.thisUser":"Unfollow this user","mediaGallery.images.empty":"No photos yet","mediaGallery.liveStreams.empty":"No liveStreams yet","mediaGallery.videos.empty":"No videos yet","user.unfollow.confirm.body.thisUser":"You\u2019ll have to send a request again to follow this user. Continue?","navigationBlocker.okText":"Leave","options_composer.button.add":"Add Option","options_composer.title":"Create at least 2 options","poll_modal.answer_type.title":"Selection type","poll_modal.answer_type.body":"Choose to vote with one or multiple options","poll_modal.closed_in.title":"Schedule poll (Optional)","poll_modal.closed_in.body":"Poll will be automatically closed at the end of chosen time frame (UTC)","select.answerType.item":"{answerType} selection","poll_composer.question.label":"Poll options","poll_composer.question.placeholder":"What\u2019s your poll question?","poll_composer.poll_options.label":"Options","poll_modal.title":"Create poll","poll.votes":"{voteCount} votes","poll.vote.closedIn":"Poll ends in {closedIn} days","poll.vote.finalResults":"Final results","poll.vote.submit":"Submit vote","poll.error.deletedOrClosed":"This poll has been closed or deleted.","poll.close":"Close poll","postCreator.unableToPost":"Unable to post","postCreator.overCharacter":"You have reached maximum 50,000 characters in a post.","postCreator.done":"Done","postCreator.unableToMention":"Unable to mention","postCreator.overMentionees":"You have reached maximum 30 mentioned users in a post.","postCreator.okText":"OK","pollComposer.unableToMention":"Unable to mention","pollComposer.overMentionees":"You have reached maximum 30 mentioned users in a post.","pollComposer.okText":"OK","select.chatType.item":"{answerType} type","chatComposer.label.channelId":"Channel ID","chatComposer.label.displayName":"Display Name","chatComposer.label.type":"Channel Type","chatComposer.addUsers":"Add users","chat_modal.title":"Create chat","chat_composer.placeholder.displayName":"Enter display name here","chat_composer.placeholder.channelId":"Enter channel ID here","editChatMembersModal.title":"Add/Edit chat members","editChatMembersModal.confirm.title":"Leave without finishing?","editChatMembersModal.confirm.content":"Your progress won\u2019t be saved. Are you sure to leave this page now?","editChatMembersModal.confirm.cancelText":"Continue editing","editChatMembersModal.confirm.okText":"Leave"}},FG=e=>{let{locale:n,children:r}=e,i=NG[n]?NG[n]:NG.en;return t.createElement(Qy,{defaultLocale:"en",locale:n,messages:i},r)},jG={palette:{alert:"#FA4D30",base:"#292B32",primary:"#1054DE",secondary:"#FFD400",tertiary:"#FF305A",neutral:"#17181C",highlight:"#1054DE",system:{borders:"#ebecef",background:"#fff"}},typography:{global:{fontFamily:"Inter, -apple-system, BlinkMacSystemFont, Arial, sans-serif",fontStyle:"normal"},headline:{fontWeight:600,fontSize:"20px"},title:{fontWeight:600,fontSize:"16px"},body:{fontWeight:"normal",fontSize:"14px"},bodyBold:{fontWeight:600,fontSize:"14px"},caption:{fontWeight:"normal",fontSize:"12px"},captionBold:{fontWeight:600,fontSize:"12px"}}};function BG(e){return"member"===(null==e?void 0:e.communityMembership)}var UG=1;function zG(e){return e?e.sort(((e,t)=>e.index-t.index)).map((e=>{let{index:t,length:n}=e;return{start:t,end:t+n+UG,highlight:!0}})):[]}function HG(e){let t={},n=[];return(null==e?void 0:e.length)>0?(t.mentioned=[...e.sort(((e,t)=>e.plainTextIndex-t.plainTextIndex)).map((e=>{let{plainTextIndex:t,id:n,display:r}=e;return{index:t,length:r.length-UG,type:"user",userId:n}}))],n.push({type:"user",userIds:e.map((e=>{let{id:t}=e;return t}))})):n.push({type:"user",userIds:[]}),{metadata:t,mentionees:n}}function VG(e,t){if(!e||Ab()(null==t?void 0:t.mentioned))return e;let n=e;return((t||{}).mentioned||[]).sort(((e,t)=>t.index-e.index)).forEach((t=>{let{userId:r,length:i,index:o}=t,a="@[".concat(function(e,t,n){let r=n+UG,i=r+t;return e.substring(r,i)}(e,i,o),"](").concat(r,")");n=n.replace(new RegExp("(.{".concat(o,"}).{").concat(i+UG,"}")),"$1".concat(a))})),n}function qG(e){return null!=e}var GG=e=>e.toFixed(1),WG=e=>{let t=Math.min(100*e,100);return GG(t)};var KG=e=>{let{hue:t,saturation:n,lightness:r}=e,i=["".concat(GG(t)),"".concat(WG(n),"%"),"".concat(WG(r),"%")];return function(e){return void 0!==e.alpha}(e)?"hsla(".concat([...i,e.alpha].filter(qG).join(","),")"):"hsl(".concat(i.filter(qG).join(","),")")},YG=e=>{let t=kb(e);return KG(t)},QG=[.25,.4,.5,.75],ZG=e=>{let t=e,{system:n}=t,r=oH(t,["system"]),i=Object.keys(r).reduce(((e,t)=>(e[t]={main:YG(r[t])},e)),rH({},r)),o=Object.keys(i).reduce(((e,t)=>{let n=r[t],o=QG.reduce(((e,t,r)=>(e["shade".concat(r+1)]=((e,t)=>{let n=kb(t),{lightness:r}=n,i=iH(rH({},n),{lightness:Math.min(1,r+e)});return KG(i)})(t,n),e)),{}),a=i[t];return e[t]=a&&"object"==typeof a?rH(rH({},o),a):iH(rH({},o),{main:a}),e}),rH({},i));return iH(rH({},o),{system:n})},$G=["fontFamily","fontStyle","fontWeight","fontSize"],XG=e=>Object.keys(e).reduce(((t,n)=>(t[n]=(e=>Object.keys(e).reduce(((t,n)=>{let r=e[n];return n&&r&&$G.includes(n)&&(t[n]=r),t}),{}))(rH(rH({},e.global),e[n])),t)),{}),JG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=sb()(jG,e),n=ZG(t.palette),r=XG(t.typography);return iH(rH({},t),{palette:n,typography:r})},eW=VV.div(cM||(cM=o(["\n  ",";\n  color: ",";\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  input,\n  div {\n    box-sizing: border-box;\n  }\n\n  // CSS resets to avoid inheriting from other other libraries e.g. antd.\n  & * {\n    font-size: ",";\n    line-height: 1.5;\n  }\n\n  & pre {\n    ","\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.base.main}),(e=>{let{theme:t}=e;return t.typography.body.fontSize}),(e=>{let{theme:t}=e;return t.typography.body})),tW=(0,t.createContext)({client:null,currentUserId:void 0,userRoles:[]}),nW=()=>(0,t.useContext)(tW),rW=nW,iW=(0,t.createContext)({subscribe:e=>{let{fetcher:t,params:n,callback:r,config:i}=e;return{unsubscribe:()=>{}}}});function oW(e){let{children:n}=e,r=(0,t.useRef)({}),i=(0,t.useRef)({}),o=(0,t.useRef)({}),{currentUserId:a}=rW();(0,t.useEffect)((()=>()=>{Object.values(i.current).forEach((e=>e()))}),[]);return t.createElement(iW.Provider,{value:{subscribe:e=>{let{fetcher:t,params:n,callback:s,config:l}=e;if(null==a)return{unsubscribe(){}};let c=function(e,t){return"".concat(a,".").concat(e,".").concat(JSON.stringify(t))}(t.name,n);if(r.current[c]&&o.current[c])null==s||s(o.current[c]),r.current[c].push(s);else{r.current[c]=[s];let e=t(n,(e=>{o.current[c]=e,(r.current[c]||[]).forEach((t=>t(e)))}),l);i.current[c]=e}return{unsubscribe(){let e=r.current[c].find((e=>e===s));e&&(r.current[c]=r.current[c].filter((t=>t!==e)))}}}}},n)}var aW=(0,t.createContext)({subscribe:e=>{let{fetcher:t,params:n,callback:r=(()=>{}),options:i}=e;return{unsubscribe:()=>{}}}});function sW(e){let{children:n}=e,r=(0,t.useRef)({}),i=(0,t.useRef)({}),o=(0,t.useRef)({}),{currentUserId:a}=rW();(0,t.useEffect)((()=>()=>{Object.values(i.current).forEach((e=>e()))}),[]);return t.createElement(aW.Provider,{value:{subscribe:e=>{let{fetcher:t,params:n,callback:s=(()=>{}),options:l}=e;if(null==a)return{unsubscribe(){}};let c=function(e,t){return"".concat(a,".").concat(e,".").concat(JSON.stringify(t))}(t.name,n);if(r.current[c])s(o.current[c]),r.current[c].push(s);else{r.current[c]=[s];let e=t(n,(e=>{o.current[c]=e,(r.current[c]||[]).forEach((t=>t(e)))}),l);i.current[c]=e}return{unsubscribe(){let e=r.current[c].find((e=>e===s));e&&(r.current[c]=r.current[c].filter((t=>t!==e)))}}}}},n)}var lW=(0,t.createContext)({fetch:e=>aH(void 0,[e],(function(e){let{fetchFn:t,params:n}=e;return function*(){return yield Promise.resolve({})}()}))});function cW(e){let{children:n}=e,r=(0,t.useRef)({}),i=(0,t.useRef)({});return t.createElement(lW.Provider,{value:{fetch:e=>{let{fetchFn:t,params:n}=e;var o;let a=function(e,t){return"".concat(e,".").concat(JSON.stringify(t))}(t.name,n);if((null==(o=r.current[a])?void 0:o.length)>0){if(null!=i.current[a])return Promise.resolve(i.current[a]);let e=()=>{},t=()=>{},n=new Promise(((n,r)=>{e=n,t=r}));return r.current[a].push({resolve:e,reject:t}),n}let s=()=>{},l=()=>{},c=new Promise(((e,t)=>{s=e,l=t}));return r.current[a]=[{resolve:s,reject:l}],t(...n).then((e=>{i.current[a]=e,r.current[a].forEach((t=>{let{resolve:n}=t;return n(e)}))})).catch((e=>{r.current[a].forEach((t=>{let{reject:n}=t;return n(e)}))})).finally((()=>{setTimeout((()=>{i.current[a]=null,r.current[a]=[]}),500)})),c}}},n)}var uW=(0,t.createContext)({subscribe:e=>{let{topic:t,callback:n}=e;return{unsubscribe:()=>{}}}}),dW=()=>(0,t.useContext)(uW);function hW(e){let{children:n}=e,r=(0,t.useRef)({}),i=(0,t.useRef)({});(0,t.useEffect)((()=>()=>{Object.values(i.current).forEach((e=>e()))}),[]);return t.createElement(uW.Provider,{value:{subscribe:e=>{let{topic:t,callback:n}=e;if(r.current[t])r.current[t].push(n);else{r.current[t]=[n];let e=ju(t,(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];(r.current[t]||[]).forEach((e=>e(...n)))}));i.current[t]=e}return{unsubscribe(){let e=r.current[t].find((e=>e===n));e&&(r.current[t]=r.current[t].filter((t=>t!==e)))}}}}},n)}function fW(e){let{children:n}=e;return t.createElement(oW,null,t.createElement(sW,null,t.createElement(hW,null,t.createElement(cW,null,n))))}var pW=function(e){let{fetcher:n,params:r,callback:i=(()=>{}),options:o,shouldCall:a=(()=>!0),getSubscribedTopic:s}=e,{subscribe:l}=(0,t.useContext)(aW),[c,u]=(0,t.useState)(null),d=(0,t.useRef)(null),h=(0,t.useCallback)((e=>{a&&!a()||null!=r&&(e.data&&u(e.data),i(e))}),[a,i]);return(0,t.useEffect)((()=>(s&&(d.current=ju(s())),()=>{var e;null==(e=d.current)||e.call(d)})),[s]),(0,t.useEffect)((()=>{if(null==r||a&&!a())return;let{unsubscribe:e}=l({fetcher:n,params:r,callback:h,options:o});return()=>{e()}}),[r,a]),c};function mW(e){let{fetcher:n,params:r,callback:i=(()=>{}),options:o,shouldSubscribe:a=(()=>!0),getSubscribedTopic:s}=e,{subscribe:l}=dW(),c=(0,t.useRef)(null);return pW({fetcher:n,params:r,callback:e=>{let{error:t,loading:n}=e;if(n)return;if(t)throw t;let{unsubscribe:r}=l({topic:s(e),callback:i});c.current=r},options:o,shouldCall:a}),(0,t.useEffect)((()=>()=>{var e;null==(e=c.current)||e.call(c)}),[c]),{unsubscribe:()=>{var e;return null==(e=c.current)?void 0:e.call(c)}}}function gW(e){let{userId:t,level:n,shouldSubscribe:r=(()=>!0),callback:i}=e;return mW({fetcher:Df.getUser,params:t,callback:i,shouldSubscribe:()=>!!t&&r(),getSubscribedTopic:e=>{let{data:t}=e;return Ou(t,n)}})}var vW=e=>(gW({userId:e,level:Mu.USER}),pW({fetcher:Df.getUser,params:e,shouldCall:()=>!!e})),yW=Object.freeze({MEMBER:"member",COMMUNITY_MODERATOR:"community-moderator",CHANNEL_MODERATOR:"channel-moderator"}),bW=Object.freeze({Uploaded:"uploaded",Transcoding:"transcoding",Transcoded:"transcoded",TranscodeFailed:"transcodeFailed"}),EW=e=>{var t=e,{onSuccess:n}=t,r=oH(t,["onSuccess"]);return RG(iH(rH({},r),{onOk:n}))},wW=(0,t.createContext)({page:{type:"newsfeed",communityId:void 0},onChangePage:e=>{},onClickCategory:e=>{},onClickCommunity:e=>{},onClickUser:e=>{},onCommunityCreated:e=>{},onEditCommunity:e=>{},onEditUser:e=>{},onMessageUser:e=>{},setNavigationBlocker:()=>{},onBack:()=>{}}),CW=()=>(0,t.useContext)(wW);function SW(e){let{askForConfirmation:n=EW,children:r,onChangePage:i,onClickCategory:o,onClickCommunity:a,onClickUser:s,onCommunityCreated:l,onEditCommunity:c,onEditUser:u,onMessageUser:d}=e,[h,f]=(0,t.useState)([{type:"newsfeed",communityId:void 0}]),p=(0,t.useMemo)((()=>h[h.length-1]),[h]),[m,g]=(0,t.useState)(),v=(0,t.useCallback)((()=>aH(this,null,(function*(){return!m||new Promise((e=>{n(iH(rH({},m),{onSuccess:()=>{null==g||g(void 0),e(!0)},onCancel:()=>e(!1)}))}))}))),[n,m]),y=(0,t.useCallback)((e=>aH(this,null,(function*(){(yield v())&&f((t=>[...t,e]))}))),[v]),b=i?e=>aH(this,null,(function*(){(yield v())&&i(e)})):null,E=(0,t.useCallback)((e=>{console.log("handleChangePage",e),y({type:e})}),[y]),w=(0,t.useCallback)((e=>{let t={type:"communityfeed",communityId:e};return b?b(t):a?a(e):(console.log("handleClickCommunity",{communityId:e}),void y(t))}),[b,a,y]),C=(0,t.useCallback)((e=>{let t={type:"communityfeed",communityId:e,isNewCommunity:!0};return b?b(t):l?l(e):(console.log("handleCommunityCreated",{communityId:e}),void y(t))}),[b,l,y]),S=(0,t.useCallback)((e=>{let t={type:"category",categoryId:e};return b?b(t):o?o(e):(console.log("handleClickCategory",{categoryId:e}),void y(t))}),[b,o,y]),T=(0,t.useCallback)(((e,t)=>{let n={type:null!=t?t:"userfeed",userId:e};return b?b(n):s?s(e):(console.log("handleClickUser",{userId:e}),void y(n))}),[b,s,y]),_=(0,t.useCallback)((e=>{let t={type:"useredit",userId:e};return b?b(t):u?u(e):(console.log("handleEditUser",{userId:e}),void y(t))}),[b,u,y]),k=(0,t.useCallback)(((e,t)=>{let n={type:"communityedit",communityId:e,tab:t};return b?b(n):c?c(e,{tab:t}):(console.log("handleEditCommunity",{communityId:e,tab:t}),void y(n))}),[b,c,y]),x=(0,t.useCallback)((e=>b?b({type:"conversation",userId:e}):d?d(e):void console.log("handleMessageUser",{userId:e})),[b,d]);return t.createElement(wW.Provider,{value:{page:p,onChangePage:E,onClickCategory:S,onClickCommunity:w,onClickUser:T,onCommunityCreated:C,onEditCommunity:k,onEditUser:_,onMessageUser:x,onBack:()=>{f((e=>e.length>1?e.slice(0,-1):e))},setNavigationBlocker:g}},r)}var TW=(0,t.createContext)({}),_W=e=>(0,t.useContext)(TW)[e]||null;function kW(e){let{children:n,config:r}=e;return t.createElement(TW.Provider,{value:r},n)}var xW=e=>pW({fetcher:dm.getPost,params:e,shouldCall:()=>!!e}),AW=UV(uM||(uM=o(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),IW=VV(pG)(dM||(dM=o(["\n  ","\n"])),(e=>{let{active:t}=e;return t&&AW})),MW=VV($q).attrs({width:16,height:16})(hM||(hM=o(["\n  font-size: 16px;\n  margin-right: 5px;\n"]))),RW=VV(MW)(fM||(fM=o(["\n  ","\n"])),AW),LW=e=>{let{isLiked:n}=e;return n?t.createElement(RW,null):t.createElement(MW,null)},DW=e=>{let{onClick:n,isActive:r,isDisabled:i}=e;return t.createElement(IW,{active:r,disabled:i,"data-qa-anchor":r?"post-liked-button":"post-like-button",onClick:n},t.createElement(LW,{isLiked:r})," ",t.createElement(Jy,{id:r?"post.liked":"post.like"}))},OW=e=>{let n=_W("PostLikeButton");return n?n(e):t.createElement(DW,rH({},e))},PW="like";function NW(e){var t,n;return null!=e&&0!==(null==(t=e.myReactions)?void 0:t.length)&&(null==(n=null==e?void 0:e.myReactions)?void 0:n.includes(PW))}var FW=e=>{let{postId:n,onLikeSuccess:r,onUnlikeSuccess:i}=e,o=xW(n),[a,s]=(0,t.useState)(NW(o));(0,t.useEffect)((()=>{s(NW(o))}),[null==o?void 0:o.myReactions]);return t.createElement(OW,{isActive:a,isDisabled:null==o,onClick:()=>aH(void 0,null,(function*(){null!=o&&(a?(yield hp.removeReaction("post",o.postId,PW),null==i||i(o),s(!a)):(yield hp.addReaction("post",o.postId,PW),null==r||r(o),s(!a)))}))})},jW=e=>pW({fetcher:tm.getCommunity,params:e,shouldCall:()=>!!e}),BW=e=>{let{targetId:n,targetType:r,remoteText:i,remoteMarkup:o}=e,a="community"===r,s=jW(n),[l,c]=(0,t.useState)(null!=i?i:""),[u,d]=(0,t.useState)(null!=o?o:i),[h,f]=(0,t.useState)([]);(0,t.useEffect)((()=>{c(i||""),d(null!=o?o:"")}),[i,o]);let p=(0,t.useCallback)((e=>aH(void 0,null,(function*(){let t,r,i=e||"";return(i.match(/^@$/)||""===i)&&(i=void 0),t=!a||null!=s&&s.isPublic||null==n?yield new Promise((e=>{null==r||r(),r=Df.getUsers({displayName:i,limit:20,sortBy:"displayName"},(t=>{t.loading||e(t.data)}))})):yield new Promise((e=>{null==r||r(),r=tm.Membership.getMembers({communityId:n,search:i,limit:20},(t=>{t.loading||e(t.data.map((e=>{let{user:t}=e;return t})).filter(qG))}))})),function(e){return(e||[]).map(((t,n)=>{var r;return{id:t.userId,display:null!=(r=t.displayName)?r:t.userId,avatar:t.avatarCustomUrl,isLastItem:(null==e?void 0:e.length)===n+1}}))}(t)}))),[a,null==s?void 0:s.isPublic,n]),{mentionees:m,metadata:g}=(0,t.useMemo)((()=>{let{mentionees:e,metadata:t}=HG(h);return{mentionees:e,metadata:t}}),[h]);return{text:l,markup:u,mentions:h,mentionees:m,metadata:g,onChange:e=>{let{text:t,plainText:n,mentions:r}=e;c(n),d(t),f(r)},clearAll:()=>{c(""),d(""),f([])},resetState:()=>{c(i||""),d(o),f([])},queryMentionees:p}},UW=VV.div.attrs((e=>{let{progress:t}=e;return{style:{width:"".concat(t||0,"%")}}}))(pM||(pM=o(["\n  background: ",";\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 1;\n  opacity: 0.75;\n  transition: width 0.4s ease;\n  animation: glow 0.8s alternate infinite linear;\n\n  @keyframes glow {\n    from {\n      opacity: 0.5;\n    }\n    to {\n      opacity: 0.75;\n    }\n  }\n"])),(e=>{let{lightMode:t,theme:n}=e;return t?n.palette.primary.main:n.palette.base.shade4})),zW="regular",HW="small",VW=zW,qW={["big"]:64,[zW]:40,[HW]:32,["tiny"]:28},GW=e=>(0,t.useMemo)((()=>e&&qW[e]?e:VW),[e]),WW=e=>{var n=e,{circle:r,borderRadius:i=12,primaryColor:o="#EBECEF",secondaryColor:a="#f3f3f3",duration:s=2,style:l}=n,c=oH(n,["circle","borderRadius","primaryColor","secondaryColor","duration","style"]);return t.createElement(Fw,iH(rH({},c),{duration:s,circle:r,style:iH(rH({},l),{backgroundColor:o,backgroundImage:"linear-gradient(90deg, ".concat(o,", ").concat(a,", ").concat(o,")"),borderRadius:r?void 0:i})}))},KW=VV((e=>{var n=e,{loading:r,size:i,backgroundImage:o,children:a}=n,s=oH(n,["loading","size","backgroundImage","children"]);return t.createElement("div",rH({},s),r?t.createElement(WW,{circle:!0,width:"100%",height:"100%",style:{display:"block"}}):a)}))(mM||(mM=o(["\n  position: relative;\n  flex-shrink: 0;\n  overflow: hidden;\n\n  border-radius: 50%;\n\n  &.visible img {\n    opacity: 1;\n  }\n\n  &.clickable {\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  ",";\n"])),(e=>{let{size:t,backgroundImage:n,theme:r}=e;return"\n    height: ".concat(qW[t],"px;\n    width: ").concat(qW[t],"px;\n    background: ").concat(n||r.palette.base.shade3,"};\n  ")})),YW=VV.div(gM||(gM=o(["\n  position: absolute;\n  z-index: 2;\n  opacity: 0.5;\n  background-color: #000000;\n\n  ","\n"])),(e=>{let{size:t}=e;return"\n    height: ".concat(qW[t],"px;\n    width: ").concat(qW[t],"px;\n  ")})),QW=VV.img.attrs({loading:"lazy"})(vM||(vM=o(["\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n  opacity: 0;\n  transition: opacity 0.3s;\n"])));VV.input.attrs({type:"file"})(yM||(yM=o(["\n  &&& {\n    display: none;\n  }\n"]))),VV.label(bM||(bM=o([""])));var ZW=e=>{var n=e,{className:r="",avatar:i=null,showOverlay:o,size:a,onClick:s,loading:l}=n,c=oH(n,["className","avatar","showOverlay","size","onClick","loading"]);let[u,d]=(0,t.useState)(!1),h=(0,t.useCallback)((()=>d(!0)),[]),f=(0,t.useCallback)((()=>d(!1)),[]),p=GW(a);return t.createElement(KW,rH({className:vw(r,{visible:u,clickable:!!s}),loading:l,size:p,onClick:s},c),i?o?t.createElement(YW,rH({size:p},c),t.createElement(QW,{src:i,onError:f,onLoad:h})):t.createElement(QW,{src:i,onError:f,onLoad:h}):null)},$W=e=>{let n=_W("Avatar");return n?n(e):t.createElement(ZW,rH({},e))},XW=VV((e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 512 512"},e),t.createElement("path",{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256\n      8zm141.421 106.579c73.176 73.175 77.05 187.301 15.964 264.865L132.556 98.615c77.588-61.105\n      191.709-57.193 264.865 15.964zM114.579\n      397.421c-73.176-73.175-77.05-187.301-15.964-264.865l280.829 280.829c-77.588 61.105-191.709\n      57.193-264.865-15.964z"}))))(EM||(EM=o(["\n  fill: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3})),JW={root:null,rootMargin:"0px 0px -15% 0px",threshold:.9},eK=function(e){let{root:n,rootMargin:r,threshold:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JW,o=(0,t.useMemo)((()=>({root:n,rootMargin:r||JW.rootMargin,threshold:i||JW.threshold})),[n,r,i]),[a,s]=(0,t.useState)(null),l=(0,t.useRef)(new IntersectionObserver((e=>s(e[0])),o));return(0,t.useEffect)((()=>{if(e){let{current:t}=l;return t.observe(e),()=>t.disconnect()}}),[e]),(0,t.useEffect)((()=>{if(e){let{current:t}=l;return t.unobserve(e),l.current=new IntersectionObserver((e=>s(e[0])),o),l.current.observe(e),()=>l.current.disconnect()}}),[o,r,e]),a};var tK=function(e){let{fetchFn:n,params:r,shouldCall:i=(()=>!0)}=e,[o,a]=(0,t.useState)(null),{fetch:s}=(0,t.useContext)(lW);return(0,t.useEffect)((()=>{i()&&s({fetchFn:n,params:r}).then((e=>{a(e)}))}),[r]),o},nK=e=>{let t=tK({fetchFn:Ff.getFile,params:[e],shouldCall:()=>!!e});return null==t?void 0:t.data},rK=e=>{let{fileId:n,imageSize:r="medium"}=e,i=nK(n),[o,a]=(0,t.useState)(void 0);return(0,t.useEffect)((()=>{null!=i&&null!=n?function(){aH(this,null,(function*(){let e=yield Ff.fileUrlWithSize(null==i?void 0:i.fileUrl,r);a(e)}))}():a(void 0)}),[i,r]),o},iK=VV.div(wM||(wM=o(["\n  display: flex;\n  align-items: center;\n  padding: 5px 15px;\n  background-color: ",";\n  font-weight: 600;\n  color: ",";\n  pointer-events: "," !important;\n  cursor: "," !important;\n  max-width: ","px;\n"])),(e=>{let{focused:t,theme:n}=e;return t&&n.palette.base.shade4}),(e=>{let{isBanned:t,theme:n}=e;return t&&n.palette.base.shade2}),(e=>{let{isBanned:t}=e;return t&&"none"}),(e=>{let{isBanned:t}=e;return t&&"no-allowed"}),(e=>{let{maxWidth:t}=e;return t||0})),oK=VV.div(CM||(CM=o(["\n  margin-left: 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),aK=e=>{let{id:n,focused:r,isLastItem:i,loadMore:o,rootEl:a,containerRef:s}=e;var l,c;let u=(0,t.useRef)(null),d=eK(null==u?void 0:u.current,{root:null==(l=null==a?void 0:a.current)?void 0:l.childNodes[0]}),h=vW(n),f=rK({fileId:null==h?void 0:h.avatarFileId,imageSize:"small"});(0,t.useEffect)((()=>{u&&null!=d&&d.isIntersecting&&(null==o||o())}),[u,null==d?void 0:d.isIntersecting,o]);let p=(0,t.useCallback)(((e,t)=>{t&&(e.target.parentNode.style.cursor="not-allowed",e.target.parentNode.style["pointer-events"]="none")}),[]);return t.createElement(iK,{ref:i?u:null,"data-qa-anchor":"social-mention-item",focused:r,isBanned:null==h?void 0:h.isGlobalBanned,maxWidth:null==(c=null==s?void 0:s.current)?void 0:c.clientWidth,onMouseEnter:e=>p(e,null==h?void 0:h.isGlobalBanned)},t.createElement($W,{avatar:f}),t.createElement(oK,null,null==h?void 0:h.displayName),t.createElement("div",{style:{marginLeft:"0.5rem"}},null!=h&&h.isGlobalBanned?t.createElement(XW,null):null))},sK=VV.div(SM||(SM=o(["\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  min-width: 1em;\n  background: ",";\n  border: 1px solid #e3e4e8;\n  border-radius: 4px;\n  transition: background 0.2s, border-color 0.2s;\n\n  ","\n\n  &:focus-within {\n    border-color: ",";\n  }\n\n  &.invalid {\n    border-color: ",";\n  }\n\n  &.disabled {\n    background: ",";\n    border-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.typography.global}),(e=>{let{theme:t}=e;return t.palette.primary.main}),(e=>{let{theme:t}=e;return t.palette.alert.main}),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade3})),lK=UV(TM||(TM=o(["\n  flex: 1 1 auto;\n  display: block;\n  width: 1%;\n  min-width: 0;\n  margin: 0;\n  padding: 0.563rem 0.563rem;\n  background: none;\n  border: none;\n  box-sizing: border-box;\n  outline: none;\n  font: inherit;\n\n  &::placeholder {\n    font-weight: 400;\n  }\n\n  &[disabled] {\n    background: none;\n  }\n"]))),cK=VV.input(_M||(_M=o(["\n  ","\n"])),lK),uK=VV(Dw)(kM||(kM=o(["\n  ",";\n  resize: vertical;\n"])),lK),dK={suggestions:{zIndex:999,position:"absolute",transform:"translateY(1.25rem)",list:{borderRadius:"0.5rem",maxHeight:"17.5rem",boxShadow:"0 0 0.3rem #A5A9B5",overflow:"auto"}},"&multiLine":{highlighter:{boxSizing:"border-box",overflow:"hidden"}}},hK={position:"relative",color:"#1054DE",pointerEvents:"none",textShadow:"1px 1px 1px white, 1px -1px 1px white, -1px 1px 1px white, -1px -1px 1px white",zIndex:1},fK=VV(fw)(xM||(xM=o(["\n  padding: 0.5rem;\n  width: 100%;\n  textarea {\n    ","\n    resize: vertical;\n  }\n"])),lK),pK=(0,t.forwardRef)(((e,n)=>{let{"data-qa-anchor":r="",id:i,name:o="",value:a="",placeholder:s="",multiline:l=!1,disabled:c=!1,invalid:u=!1,rows:d=1,maxRows:h=3,prepend:f,append:p,onChange:m,onClear:g,onClick:v,onKeyPress:y,className:b,mentionAllowed:E=!1,queryMentionees:w,loadMoreMentionees:C}=e,[S,T]=(0,t.useState)([]),_=(0,t.useRef)(null),k=(0,t.useRef)(null),x=e=>{"Backspace"===e.key&&0===(null==a?void 0:a.length)&&(null==g||g())},A=vw(b,{disabled:c,invalid:u}),I={id:i,name:o,value:a,placeholder:s,disabled:c,className:A,"data-qa-anchor":r};return t.createElement(sK,{ref:k,className:A},f,t.createElement("div",{ref:_,id:"mention-input"}),l&&E&&t.createElement(fK,iH(rH({allowSuggestionsAboveCursor:!0,inputRef:n,rows:d,style:dK},I),{onKeyDown:e=>x(e),onChange:(e,t,n,r)=>{let[,]=t;var i;let o=n.split(" ").pop(),a=(null==(i=null==o?void 0:o[0])?void 0:i.match(/^@/g))||!1;m({text:e.target.value,plainText:n,lastMentionText:a?o:void 0,mentions:r})},onClick:v,onKeyPress:e=>null==y?void 0:y(e)}),t.createElement(mw,{trigger:"@",data:(e,t)=>{if(!w)return t([]);w(e).then((e=>{t(e)}))},style:hK,renderSuggestion:(e,n,r,i,o)=>{let{id:a}=e;var s;return t.createElement(aK,{focused:o,id:"number"==typeof a?"".concat(a):a,isLastItem:a===(null==(s=S[S.length-1])?void 0:s.id),containerRef:k,rootEl:_,loadMore:()=>null==C?void 0:C(n)})},displayTransform:(e,t)=>"@".concat(t),appendSpaceOnAdd:!0,onAdd:()=>{}})),l?!E&&t.createElement(uK,iH(rH({ref:n,minRows:d,maxRows:h},I),{onChange:e=>null==m?void 0:m({text:e.target.value,plainText:e.target.value,lastMentionText:"",mentions:[]}),onKeyDown:e=>x(e),onClick:v})):t.createElement(cK,iH(rH({ref:n},I),{onChange:e=>null==m?void 0:m({text:e.target.value,plainText:e.target.value,lastMentionText:"",mentions:[]}),onKeyDown:e=>x(e),onClick:v})),p)})),mK=pK,gK=(0,t.forwardRef)(((e,n)=>t.createElement(mK,iH(rH({},e),{ref:n})))),vK=gK,yK=VV($W)(AM||(AM=o(["\n  margin-right: 8px;\n"]))),bK=VV.div(IM||(IM=o(["\n  padding-top: 16px;\n  padding-bottom: 16px;\n  background: ",";\n  display: flex;\n  align-items: center;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),EK=VV(vK).attrs({rows:1,maxRows:15})(MM||(MM=o(["\n  outline: none;\n  flex-grow: 1;\n  font: inherit;\n  font-size: 14px;\n  resize: vertical;\n"]))),wK=VV(fG)(RM||(RM=o(["\n  height: 40px;\n  padding: 10px 16px;\n  margin-left: 12px;\n"]))),CK=e=>{let{className:n,userToReply:r,onSubmit:i,postId:o}=e,a=xW(o),{currentUserId:s}=rW(),l=vW(s),c=rK({fileId:null==l?void 0:l.avatarFileId,imageSize:"small"}),{text:u,markup:d,mentions:h,mentionees:f,metadata:p,onChange:m,clearAll:g,queryMentionees:v}=BW({targetId:null==a?void 0:a.targetId,targetType:null==a?void 0:a.targetType}),{formatMessage:y}=Zy(),b=(0,t.useRef)(null);if((0,t.useEffect)((()=>{var e;null==(e=b.current)||e.focus()}),[]),null==a)return t.createElement(UW,null);let E=()=>{if(""!==u){if(h&&(null==h?void 0:h.length)>30)return LG({title:t.createElement(Jy,{id:"CommentComposeBar.unableToMention"}),content:t.createElement(Jy,{id:"CommentComposeBar.overMentionees"}),okText:t.createElement(Jy,{id:"CommentComposeBar.okText"})});if((null==u?void 0:u.length)>5e4)return LG({title:t.createElement(Jy,{id:"CommentComposeBar.unableToPost"}),content:t.createElement(Jy,{id:"CommentComposeBar.overCharacter"}),okText:t.createElement(Jy,{id:"CommentComposeBar.done"})});null==i||i(u,f,p),null==g||g()}},w=""===u,C=r?y({id:"CommentComposeBar.replayTo"})+r:y({id:"CommentComposeBar.saySomething"}),S=y(r?{id:"reply"}:{id:"CommentComposeBar.addComment"});return t.createElement(bK,{className:n},t.createElement(yK,{avatar:c,backgroundImage:YV}),t.createElement(EK,{ref:b,"data-qa-anchor":"comment-compose-bar-textarea",placeholder:C,value:d,multiline:!0,mentionAllowed:!0,queryMentionees:v,onChange:e=>null==m?void 0:m(e),onKeyPress:e=>"Enter"===e.key&&E()}),t.createElement(wK,{"data-qa-anchor":r?"comment-compose-bar-reply-button":"comment-compose-bar-add-comment-button",disabled:w,onClick:E},S))},SK=e=>{let n=_W("CommentComposerBar");return n?n(e):t.createElement(CK,rH({},e))},TK=VV.div(LM||(LM=o(["\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade1}),(e=>{let{theme:t}=e;return t.typography.body})),_K=VV.div(DM||(DM=o(["\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #e3e4e8;\n  padding: 8px 0;\n"]))),kK=VV.div(OM||(OM=o(["\n  display: flex;\n  padding: 2px 0;\n  border-bottom: 1px solid #e3e4e8;\n"]))),xK=VV(Bq).attrs({width:16,height:16})(PM||(PM=o(["\n  position: relative;\n  font-size: 16px;\n  margin-right: 5px;\n"]))),AK=VV.div(NM||(NM=o(["\n  color: ",";\n  margin-top: 8px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2})),IK=e=>pW({fetcher:gm.getComment,params:e,shouldCall:()=>!!e}),MK="right",RK="bottom",LK="left",DK=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom";return e===RK?"top: 100%;":e===LK?"left: 0px;":e===MK?"right: 0px;":"bottom: 100%;"},OK=UV(FM||(FM=o(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),PK=VV(pG)(jM||(jM=o(["\n  background-color: transparent;\n  ","\n\n  > :not(:first-child) {\n    margin-left: 5px;\n  }\n"])),(e=>{let{active:t}=e;return t&&OK})),NK=VV($q).attrs({width:16,height:16})(BM||(BM=o(["\n  font-size: 16px;\n"]))),FK=VV(NK)(UM||(UM=o(["\n  ","\n"])),OK),jK=e=>{let{isLiked:n}=e;return n?t.createElement(FK,null):t.createElement(NK,null)},BK=e=>{let{onClick:n,isActive:r,isDisabled:i,totalLikes:o}=e;return t.createElement(PK,{active:r,disabled:i,onClick:n},t.createElement(jK,{isLiked:r})," ",o&&o>0?t.createElement("span",null,o):"")},UK=e=>{let{comment:n,onLikeSuccess:r,onUnlikeSuccess:i}=e,o=!!(n&&n.myReactions&&n.myReactions.includes(PW)),a=(null==n?void 0:n.reactions[PW])||0;return t.createElement(BK,{isActive:o,isDisabled:null==n,totalLikes:a,onClick:()=>aH(void 0,null,(function*(){if(null!=n)try{o?(yield hp.removeReaction("comment",n.commentId,PW),null==i||i(n)):(yield hp.addReaction("comment",n.commentId,PW),null==r||r(n))}catch(rk){console.error("Can't toggle like",rk)}}))})},zK=e=>{let n=_W("CommentLikeButton");return n?n(e):t.createElement(UK,rH({},e))};function HK(e){let{userId:t,callback:n,shouldSubscribe:r}=e;return gW({userId:t,level:Mu.POST_AND_COMMENT,shouldSubscribe:r,callback:n})}function VK(e){let{communityId:t,level:n,shouldSubscribe:r=(()=>!0),callback:i}=e;return mW({fetcher:tm.getCommunity,params:t,callback:i,shouldSubscribe:()=>!!t&&r(),getSubscribedTopic:e=>{let{data:t}=e;return Du(t,n)}})}function qK(e){let{communityId:t,shouldSubscribe:n=(()=>!0),callback:r}=e;return VK({communityId:t,level:Mu.POST_AND_COMMENT,shouldSubscribe:n,callback:r})}var GK=e=>{let{commentId:n,onLikeSuccess:r,onUnlikeSuccess:i}=e,o=IK(n);return HK({userId:null==o?void 0:o.targetId,shouldSubscribe:()=>"user"===(null==o?void 0:o.targetType)}),qK({communityId:null==o?void 0:o.targetId,shouldSubscribe:()=>"community"===(null==o?void 0:o.targetType)}),t.createElement(zK,{comment:o,onLikeSuccess:r,onUnlikeSuccess:i})},WK=VV.span(zM||(zM=o(["\n  cursor: pointer;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),KK=e=>{let{children:n,mentionee:r}=e,{onClickUser:i}=CW(),{userId:o}=r;return t.createElement(WK,{"data-qa-anchor":"mention-hilight-tag",onClick:()=>i(o)},n)},YK=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=[],i=(e,t,n)=>{r.push({start:e,end:t,highlight:n})};if(0===t.length)i(0,n,!1);else{let e=0;t.forEach((t=>{i(e,t.start,!1),i(t.start,t.end,!0),e=t.end})),i(e,n,!1)}return r},QK=VV.a(HM||(HM=o(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.primary.shade1})),ZK=e=>t.createElement(vT,rH({componentDecorator:(e,n,r)=>t.createElement(QK,{key:r,target:"blank",rel:"noopener noreferrer",href:e},n)},e)),$K=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[n,r]=(0,t.useState)(e),i=(0,t.useRef)(null);return(0,t.useEffect)((()=>{let e=i.current;if(e){let t=t=>{r(e.contains(t.target)||document.activeElement===e||t.target===e)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)}}),[i.current]),[i,n]},XK=(e,n)=>{(0,t.useEffect)((()=>{if(e){let t=new MutationObserver((()=>{let{height:t,width:r}=e.getBoundingClientRect();n({height:t,width:r})}));return t.observe(e,{attributes:!0,childList:!0,subtree:!0}),()=>t.disconnect()}}),[n,e])},JK=()=>{let e=(0,t.useRef)(null),[n,r]=(0,t.useState)({height:0,width:0});return(0,t.useEffect)((()=>{let t=e.current;if(t){let{height:e,width:i}=t.getBoundingClientRect(),o=[e,i].every((e=>void 0!==e)),a=e!==n.height||i!==n.width;o&&a&&r({height:e,width:i})}}),[e]),XK(e.current,r),[e,n.height,n.width]},eY=VV.div(VM||(VM=o(["\n  > *:disabled {\n    cursor: default;\n    background: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3})),tY=VV.div(qM||(qM=o(["\n  position: relative;\n  display: block;\n"]))),nY=VV.div(GM||(GM=o(["\n  overflow: hidden;\n"]))),rY=VV.div(WM||(WM=o(["\n  position: absolute;\n  z-index: 2;\n  ","\n  ","\n  background: ",";\n  ","\n  ","\n  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n"])),(e=>{let{position:t}=e;return DK(t)}),(e=>{let{align:t}=e;return t&&DK(t)}),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{fullSized:t}=e;return t?"width: 100%;":"min-width: 15rem;"}),(e=>{let{scrollable:t,scrollableHeight:n}=e;return t&&"\n    max-height: ".concat(n,"px;\n    overflow-y: auto;\n  ")})),iY=200,oY=e=>t.createElement(mG,rH({},e),t.createElement(Oq,{height:14,width:14})),aY=e=>{let{"data-qa-anchor":n="",isOpen:r,renderTrigger:i=oY,children:o,position:a=RK,align:s=LK,handleClose:l,fullSized:c=!1,scrollable:u=!1,scrollableHeight:d=iY,parentContainer:h=null,disabled:f=!1,className:p=""}=e,[m,g]=(0,t.useState)(r),[v,y]=(0,t.useState)(a),[b,E]=$K(r),[w,C]=JK(),S=(0,t.useCallback)((()=>{l?r&&l():g(!1)}),[l,r]),T=eK(b.current,{root:h,rootMargin:h?"0px 0px -".concat(Math.ceil(100*d/(h.getBoundingClientRect().height-C)),"% 0px"):void 0}),_={onClick:()=>g(!m),disabled:f};return(0,t.useEffect)((()=>{E||S()}),[S,E]),(0,t.useEffect)((()=>{g(r)}),[r]),(0,t.useEffect)((()=>{var e;!1===(null==T?void 0:T.isIntersecting)?(null==(e=T.boundingClientRect)?void 0:e.top)<0?y(RK):y("top"):y(a)}),[T,a]),t.createElement(tY,{ref:b,className:p},t.createElement(eY,{ref:w},i(iH(rH({},_),{"data-qa-anchor":n}))),(r||m)&&t.createElement(nY,null,t.createElement(rY,{position:v,align:s,fullSized:c,scrollable:u,scrollableHeight:d},o)))},sY=VV(zq).attrs({width:16,height:16})(KM||(KM=o(["\n  font-size: 16px;\n  cursor: pointer;\n  margin-left: auto;\n"]))),lY=VV(pG)(YM||(YM=o(["\n  padding: 5px;\n  height: 2rem;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main})),cY=VV.div(QM||(QM=o(["\n  cursor: pointer;\n  ",";\n  padding: 8px 12px;\n\n  &:hover {\n    background: #f2f2f4;\n  }\n\n  &.danger-zone {\n    color: ",";\n  }\n"])),(e=>{let{active:t,theme:n}=e;return t&&"color: ".concat(n.palette.primary.shade1,";")}),(e=>{let{theme:t}=e;return t.palette.alert.main})),uY=VV.div(ZM||(ZM=o(["\n  ","\n"])),(e=>{let{pullRight:t}=e;return t&&"margin-left: auto;"})),dY=e=>{let{className:n="","data-qa-anchor":r="",icon:i,options:o,position:a=RK,align:s=MK,pullRight:l=!0}=e,[c,u]=(0,t.useState)(!1),d=()=>u(!c),h=e=>()=>{u(!1),e&&e()};return o&&0!==o.length?t.createElement(uY,{className:n,pullRight:l},t.createElement(aY,{"data-qa-anchor":r,isOpen:c,renderTrigger:e=>t.createElement(lY,iH(rH({},e),{onClick:d,className:n,icon:i}),i||t.createElement(sY,null)),position:a,align:s,handleClose:()=>u(!1)},o.map((e=>{let{name:n,action:i,className:o}=e;return t.createElement(cY,{key:n,"data-qa-anchor":"".concat(r,"-").concat(n),className:o,onClick:h(i)},n)})))):null},hY=VV.div($M||($M=o(["\n  color: ",";\n  ","\n  & > * {\n    ","\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade1}),(e=>{let{theme:t}=e;return t.typography.caption}),(e=>{let{theme:t}=e;return t.typography.caption})),fY=e=>{let{className:n,date:r=Date.now()}=e,i=Date.now()-r;return t.createElement(hY,{className:n},i<864e5?t.createElement(xT,{date:r}):t.createElement(ob,{value:r}))},pY=VV($W)(XM||(XM=o(["\n  margin-right: 8px;\n"]))),mY=VV(dY)(JM||(JM=o(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main})),gY=VV.div(eR||(eR=o(["\n  border-bottom: 1px solid #e3e4e8;\n"]))),vY=VV.div(tR||(tR=o(["\n  display: flex;\n  color: black;\n  padding-top: 16px;\n"]))),yY=VV.div(nR||(nR=o(["\n  display: flex;\n  color: black;\n  padding-top: 16px;\n  padding-left: 40px;\n"])));VV(SK)(rR||(rR=o(["\n  border: none;\n  padding: 8px 0 16px;\n  background-repeat: no-repeat;\n  background-image: ",";\n"])),(e=>{let{theme:t}=e;return"url('data:image/svg+xml;utf8,".concat((e=>'<svg xmlns="http://www.w3.org/2000/svg" height="40">\n<path d="M20 0 L 20 40" stroke="'.concat((e=>e.replace("#","%23"))(e.palette.base.shade4),'" />\n</svg>'))(t),"')")}));var bY=VV.div(iR||(iR=o(["\n  width: 100%;\n"]))),EY=VV.div(oR||(oR=o(["\n  word-break: break-all;\n  margin-bottom: 5px;\n"]))),wY=VV.div(aR||(aR=o(["\n  overflow-wrap: anywhere !important;\n  word-break: break-word;\n  color: ",";\n  background-color: ",";\n  border-radius: 0 12px 12px 12px;\n  padding: 12px;\n  display: inline-block;\n  white-space: pre-wrap;\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.typography.body}));VV.div(sR||(sR=o(["\n  margin-left: 8px;\n"])));var CY=VV.span(lR||(lR=o(["\n  // react-truncate-markup tries to set to inline-block\n  display: inline !important;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.body})),SY=VV(fY)(cR||(cR=o(["\n  display: inline;\n  margin-left: 5px;\n  color: ",";\n  &::before {\n    content: '\u2022 ';\n  }\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.caption})),TY=VV.span(uR||(uR=o(["\n  margin-left: 5px;\n  color: ",";\n  &::before {\n    content: '\u2022 ';\n  }\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade1}),(e=>{let{theme:t}=e;return t.typography.caption})),_Y=VV(pG)(dR||(dR=o(["\n  color: ",";\n  padding: 0 0 0 4px;\n\n  &:hover {\n    background: none;\n    text-decoration: underline;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),kY=VV.div(hR||(hR=o(["\n  display: flex;\n  align-items: center;\n  padding: 2px 0;\n  margin-left: -10px;\n"]))),xY=VV.div(fR||(fR=o(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  padding: 16px 0;\n\n  &.reply {\n    display: inline-flex;\n    margin-left: 40px;\n    background: ",";\n    color: ",";\n    border-radius: 4px;\n    margin: 14px 0px;\n    padding: 4px 8px 2px 0px;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade2})),AY=VV.div(pR||(pR=o(["\n  display: inline-flex;\n  align-items: center;\n  margin: 7px 0px 7px 40px;\n  background: ",";\n  color: ",";\n  border-radius: 4px;\n  padding: 4px 8px 2px 0px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade2})),IY=VV(Wq).attrs({width:18,height:18})(mR||(mR=o(["\n  font-size: 18px;\n"]))),MY=VV.div(gR||(gR=o(["\n  display: flex;\n  padding-right: 10px;\n\n  &.reply {\n    padding: 4px 10px 4px 4px;\n  }\n"]))),RY=VV.div(vR||(vR=o(["\n  display: flex;\n  align-items: center;\n"]))),LY=VV.span(yR||(yR=o(["\n  font-size: 14px;\n"]))),DY=VV(Aq).attrs({width:16,height:16})(bR||(bR=o(["\n  font-size: 16px;\n  margin-right: 5px;\n"]))),OY=VV(pG)(ER||(ER=o([""]))),PY=VV.div(wR||(wR=o(["\n  display: flex;\n  flex-direction: column;\n"]))),NY=VV.div(CR||(CR=o(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 8px;\n\n  > * {\n    margin-left: 8px;\n  }\n"]))),FY=VV(vK).attrs({rows:1,maxRows:15})(SR||(SR=o(["\n  outline: none;\n  border-radius: 4px;\n  resize: none;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.global})),jY=8,BY=e=>{let{text:n,className:r,mentionees:i,maxLines:o=jY}=e,[a,s]=(0,t.useState)(!1),l=(0,t.useMemo)((()=>YK(n||"",zG(i))),[i,n]),c=n?t.createElement(wY,{"data-qa-anchor":"comment-content",className:r},t.createElement(SC.Atom,null,l.map((e=>{let r="".concat(n,"-").concat(e.start,"-").concat(e.end),o=n.substring(e.start,e.end);if(e.highlight){let n=null==i?void 0:i.find((t=>t.index===e.start));return n?t.createElement(KK,{key:r,mentionee:n},o):t.createElement("span",{key:r},o)}return t.createElement(ZK,{key:r},o)})))):null;return a?c:c?t.createElement(SC,{lines:o,ellipsis:t.createElement(_Y,{onClick:()=>s(!0)},t.createElement(Jy,{id:"comment.readmore"}))},c):null},UY=e=>{let{commentId:n,authorName:r,authorAvatar:i,canDelete:o=!1,canEdit:a=!1,canLike:s=!0,canReply:l=!1,canReport:c=!0,createdAt:u,editedAt:d,text:h,markup:f,onClickReply:p,handleReportComment:m,handleEdit:g,startEditing:v,cancelEditing:y,handleDelete:b,isEditing:E,onChange:w,queryMentionees:C,isReported:S,isReplyComment:T,isBanned:_,mentionees:k,metadata:x}=e,{formatMessage:A}=Zy(),I=[a?{name:A(T?{id:"reply.edit"}:{id:"comment.edit"}),action:v}:null,c?{name:A(S?{id:"report.undoReport"}:{id:"report.doReport"}),action:m}:null,o?{name:A(T?{id:"reply.delete"}:{id:"comment.delete"}),action:b}:null].filter(qG);return t.createElement(t.Fragment,null,t.createElement(pY,{avatar:i,backgroundImage:YV}),t.createElement(bY,null,t.createElement(SC,{ellipsis:t.createElement("span",null,"...",t.createElement(SY,{date:null==u?void 0:u.getTime()}),((null==d?void 0:d.getTime())||0)-((null==u?void 0:u.getTime())||0)>0&&t.createElement(TY,null,t.createElement(Jy,{id:"comment.edited"}))),lines:2},t.createElement(EY,null,t.createElement(CY,null,r),t.createElement(SC.Atom,null,t.createElement(t.Fragment,null,_&&t.createElement(XW,{style:{marginLeft:"0.265rem",marginTop:"1px"}}),t.createElement(SY,{date:null==u?void 0:u.getTime()}),((null==d?void 0:d.getTime())||0)-((null==u?void 0:u.getTime())||0)>0&&t.createElement(TY,null,t.createElement(Jy,{id:"comment.edited"})))))),E?t.createElement(PY,null,t.createElement(FY,{multiline:!0,mentionAllowed:!0,value:f,queryMentionees:C,onChange:e=>null==w?void 0:w(e)}),t.createElement(NY,null,t.createElement(mG,{"data-qa-anchor":"comment-cancel-edit-button",onClick:y},t.createElement(Jy,{id:"cancel"})),t.createElement(fG,{"data-qa-anchor":"comment-save-edit-button",onClick:()=>null==g?void 0:g(h)},t.createElement(Jy,{id:"save"})))):t.createElement(BY,{text:h,mentionees:k}),!E&&(s||l||I.length>0)&&t.createElement(kY,null,s&&t.createElement(GK,{commentId:n}),l&&t.createElement(OY,{"data-qa-anchor":"comment-reply-button",onClick:p},t.createElement(DY,null)," ",t.createElement(Jy,{id:"reply"})),t.createElement(mY,{"data-qa-anchor":"comment-options-button",options:I,pullRight:!1,align:LK}))))},zY=e=>{let[n,r]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1);(0,t.useEffect)((()=>{e&&gm.isCommentFlaggedByMe(e).then((e=>{o(e),r(!1)}))}),[e]);let a=()=>aH(void 0,null,(function*(){if(null!=e)try{o(!0),yield gm.flagComment(e)}catch(t){o(!1)}})),s=()=>aH(void 0,null,(function*(){if(null!=e)try{o(!1),yield gm.unflagComment(e)}catch(t){o(!0)}}));return{isLoading:n,isFlaggedByMe:i,flagComment:a,unflagComment:s,toggleFlagComment:()=>aH(void 0,null,(function*(){null!=e&&(i?s():a())}))}},{COMMUNITY_MODERATOR:HY,CHANNEL_MODERATOR:VY}=yW,qY=e=>{if(null==e||!e.length)return!1;let t=[HY,VY];return e.some((e=>t.includes(e)))},GY=e=>!(null==e||!e.length)&&e.includes("global-admin"),WY=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{currentUserId:r}=rW(),i=(null==e?void 0:e.userId)===r,o=!(null==e||!e.parentId);return{canDelete:!t&&i||qY(n),canEdit:!t&&i,canLike:!t,canReply:!t&&!o,canReport:!t&&!i}};var KY=()=>t.createElement(xY,{"data-qa-anchor":"comment-deleted-comment"},t.createElement(MY,null,t.createElement(IY,null)),t.createElement(RY,null,t.createElement(LY,{"data-qa-anchor":"comment-deleted-comment-text"},t.createElement(Jy,{id:"comment.deleted"})))),YY=()=>t.createElement("div",null,t.createElement(AY,{"data-qa-anchor":"reply-deleted-reply"},t.createElement(MY,{className:"reply"},t.createElement(IY,null)),t.createElement(RY,null,t.createElement(LY,{"data-qa-anchor":"reply-deleted-reply-text"},t.createElement(Jy,{id:"reply.deleted"})))));function QY(e){var t;return null==e?"":"string"==typeof e.data?e.data:(null==(t=null==e?void 0:e.data)?void 0:t.text)||""}var ZY=e=>{let{commentId:n,readonly:r}=e;var i;let o=IK(n),a=xW(null==o?void 0:o.referenceId),s=vW(null==o?void 0:o.userId),l=nK(null==s?void 0:s.avatarFileId),{userRoles:c}=rW(),{toggleFlagComment:u,isFlaggedByMe:d}=zY(n),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),{formatMessage:g}=Zy(),[v,y]=(0,t.useState)(!1);!function(e){let{commentId:t,shouldSubscribe:n=(()=>!0),callback:r}=e;mW({fetcher:gm.getComment,params:t,callback:r,shouldSubscribe:()=>!!t&&n(),getSubscribedTopic:e=>{let{data:t}=e;return(e=>{let{path:t}=e;return t})(t)}})}({commentId:n});let{text:b,markup:E,mentions:w,onChange:C,queryMentionees:S,resetState:T,clearAll:_}=BW({targetId:null==a?void 0:a.targetId,targetType:null==a?void 0:a.targetType,remoteText:QY(o),remoteMarkup:VG(QY(o),(null==o?void 0:o.metadata)||{})}),{canDelete:k,canEdit:x,canLike:A,canReply:I,canReport:M}=WY(o,r,c);if(null==a||null==o)return t.createElement(UW,null);let R=()=>aH(void 0,null,(function*(){return n&&gm.deleteComment(n)})),L=!(null==o||!o.parentId);if(null==o)return null;if(null!=o&&o.isDeleted)return L?t.createElement(YY,null):t.createElement(gY,null,t.createElement(KY,null));let D=t.createElement(UY,{commentId:null==o?void 0:o.commentId,authorName:(null==s?void 0:s.displayName)||(null==s?void 0:s.userId)||g({id:"anonymous"}),authorAvatar:null==l?void 0:l.fileUrl,canDelete:k,canEdit:x,canLike:A,canReply:I,canReport:M,isBanned:null==s?void 0:s.isGlobalBanned,createdAt:null!=o&&o.createdAt?new Date(o.createdAt):void 0,editedAt:null!=o&&o.editedAt?new Date(null==o?void 0:o.editedAt):void 0,mentionees:null==(i=null==o?void 0:o.metadata)?void 0:i.mentioned,metadata:null==o?void 0:o.metadata,text:b,markup:E,handleReportComment:()=>aH(void 0,null,(function*(){try{yield aH(void 0,null,(function*(){return u()})),lG(d?{content:g({id:"report.unreportSent"})}:{content:g({id:"report.reportSent"})})}catch(e){e instanceof Error&&uG({content:e.message})}})),startEditing:()=>{m(!0)},cancelEditing:()=>{m(!1),T()},handleEdit:()=>{let{metadata:e,mentionees:t}=HG(w);((e,t,r)=>{aH(void 0,null,(function*(){return n&&gm.updateComment(n,{data:{text:e},metadata:r,mentionees:t})}))})(b,t,e),_(),m(!1)},handleDelete:()=>{RG({"data-qa-anchor":"delete-comment",title:t.createElement(Jy,{id:L?"reply.delete":"comment.delete"}),content:t.createElement(Jy,{id:L?"reply.deleteBody":"comment.deleteBody"}),cancelText:g({id:"comment.deleteConfirmCancelText"}),okText:g({id:"comment.deleteConfirmOkText"}),onOk:R})},isEditing:p,queryMentionees:S,isReported:d,isReplyComment:L,onClickReply:()=>{f((e=>!e))},onChange:C});return L?t.createElement(yY,{"data-qa-anchor":"reply"},D):t.createElement(gY,null,t.createElement(vY,{"data-qa-anchor":"comment"},D),t.createElement(oQ,{parentId:o.commentId,referenceType:o.referenceType,referenceId:o.referenceId,readonly:r,isExpanded:v,limit:5}),h&&t.createElement(SK,{postId:null==a?void 0:a.postId,userToReply:null==s?void 0:s.displayName,onSubmit:(e,t,r)=>{((e,t,r)=>{aH(void 0,null,(function*(){if(null==o||!o.referenceType||null==o||!o.referenceId)return;let{referenceType:i,referenceId:a}=o;yield gm.createComment({referenceType:i,referenceId:a,data:{text:e},parentId:n,metadata:r,mentionees:t})}))})(e,t,r),f(!1),y(!0)}}))},$Y=(0,t.memo)((e=>{let n=_W("Comment");return n?n(e):t.createElement(ZY,rH({},e))})),XY=VV(ZV).attrs({height:"16px",width:"16px"})(TR||(TR=o([""]))),JY=VV.div(_R||(_R=o(["\n  display: flex;\n  margin-right: 8px;\n"]))),eQ=VV(mG)(kR||(kR=o(["\n  width: 100%;\n  &.text-center {\n    justify-content: center;\n  }\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 0;\n\n  &.no-border {\n    border: none;\n  }\n\n  &.comments-button {\n    justify-content: flex-start;\n    color: black;\n    border: none;\n    margin-top: 16px;\n    padding: 0 0 16px 0;\n    border-bottom: 1px solid #e3e4e8;\n  }\n\n  &.reply-button {\n    width: fit-content;\n    background-color: ",";\n    color: ",";\n    margin: 12px 0px 16px 3rem;\n    padding: 5px 12px;\n    border-radius: 8px;\n    ","\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2}),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.captionBold})),tQ=VV(Oq).attrs({width:14,height:14})(xR||(xR=o(["\n  font-size: 16px;\n  margin-left: 5px;\n"]))),nQ=e=>{let{hasMore:n,loadMore:r,text:i="",contentSlot:o,className:a="",prependIcon:s=null,appendIcon:l=t.createElement(tQ,null),isExpanded:c=!0}=e,{formatMessage:u}=Zy(),[d,h]=(0,t.useState)(c);return(0,t.useEffect)((()=>h(c)),[c]),d?t.createElement(t.Fragment,null,o,n&&t.createElement(eQ,{className:a,onClick:r},s," ",i||u({id:"loadMore"})," ",l)):d?null:t.createElement(t.Fragment,null,t.createElement(eQ,{className:a,onClick:()=>h(!0)},s," ",i||u({id:"loadMore"})," ",l))};function rQ(e){let{postId:t,level:n,shouldSubscribe:r=(()=>!0),callback:i}=e;return mW({fetcher:dm.getPost,params:t,callback:i,shouldSubscribe:()=>!!t&&r(),getSubscribedTopic:e=>{let{data:t}=e;return function(e){let{path:t}=e;return"comment"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mu.POST)?"".concat(t,"/comment/+"):t}(t,n)}})}var iQ=function(e){let{fetcher:n,params:r,callback:i=(()=>{}),config:o,shouldCall:a=(()=>!0)}=e,{subscribe:s}=(0,t.useContext)(iW),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!a||a()),[h,f]=(0,t.useState)([]),[p,m]=(0,t.useState)(!1),g=(0,t.useRef)(null),v=(0,t.useCallback)((()=>{var e;g.current&&(c(!0),null==(e=g.current)||e.call(g))}),[g,l,u,d]),y=(0,t.useCallback)((e=>{a()&&(e.data&&f(e.data),d(e.loading),m(e.hasNextPage),g.current=e.onNextPage,i(e))}),[a,f,d,m,g,i]);return(0,t.useEffect)((()=>{if(!a())return;let{unsubscribe:e}=s({fetcher:n,params:r,callback:y});return()=>{e()}}),[r,a]),{items:h,hasMore:p,isLoading:u,loadMore:v,loadMoreHasBeenCalled:l}};var oQ=(0,t.memo)((e=>{let{parentId:n,referenceId:r,referenceType:i,limit:o=5,readonly:a=!1,isExpanded:s=!0}=e,{comments:l,hasMore:c,loadMore:u}=function(e){let{parentId:t,referenceId:n,referenceType:r,limit:i=10}=e,o=iQ({fetcher:gm.getComments,params:{parentId:t,referenceId:n,referenceType:r,limit:i},shouldCall:()=>!!n&&!!r}),{items:a}=o,s=oH(o,["items"]);return rH({comments:a},s)}({parentId:n,referenceId:r,referenceType:i,limit:o});rQ({postId:r,level:Mu.COMMENT,shouldSubscribe:()=>"post"===i&&!n});let{formatMessage:d}=Zy(),h=!!n,f=d(h?{id:"collapsible.viewMoreReplies"}:{id:"collapsible.viewMoreComments"}),p=h?t.createElement(JY,null,t.createElement(XY,null)):null;return 0===l.length?null:t.createElement(nQ,{hasMore:c,loadMore:u,text:f,className:h?"reply-button":"comments-button",prependIcon:p,appendIcon:null,isExpanded:s,contentSlot:l.map((e=>t.createElement($Y,{key:e.commentId,commentId:e.commentId,readonly:a})))})})),aQ=e=>{let{post:n,readonly:r,onClickComment:i,isComposeBarDisplayed:o,handleAddComment:a}=e,{postId:s,targetType:l,targetId:c,reactions:u={},commentsCount:d}=n;rQ({postId:s,level:Mu.POST});let h=u[PW]||0;return t.createElement(TK,null,t.createElement(_K,null,h>0&&t.createElement("span",{"data-qa-anchor":"engagement-bar-like-counter"},(0,Ib.ZP)(h||0)," ",t.createElement(Jy,{id:"plural.like",values:{amount:h}})),d>0&&t.createElement("span",{"data-qa-anchor":"engagement-bar-comment-counter"},(0,Ib.ZP)(d||0)," ",t.createElement(Jy,{id:"plural.comment",values:{amount:d}}))),r?t.createElement(t.Fragment,null,t.createElement(AK,null,t.createElement(Jy,{id:"community.cannotInteract"})),t.createElement(oQ,{referenceId:s,referenceType:"post",limit:5,readonly:!0})):t.createElement(t.Fragment,null,t.createElement(kK,null,t.createElement(FW,{postId:s}),t.createElement(pG,{"data-qa-anchor":"engagement-bar-comment-button",onClick:i},t.createElement(xK,null)," ",t.createElement(Jy,{id:"comment"}))),t.createElement(oQ,{referenceId:s,referenceType:"post",limit:5}),o&&t.createElement(SK,{postId:s,onSubmit:(e,t,n)=>null==a?void 0:a(e,t,n)})))},sQ=e=>{let n=_W("UIEngagementBar");return n?n(e):t.createElement(aQ,rH({},e))};function lQ(e){let{targetId:t,targetType:n,callback:r,shouldSubscribe:i=(()=>!0)}=e,{unsubscribe:o}=HK({userId:t,shouldSubscribe:()=>i()&&"user"===n,callback:r}),{unsubscribe:a}=qK({communityId:t,shouldSubscribe:()=>i()&&"community"===n,callback:r});return{unsubscribe(){o(),a()}}}var cQ=e=>{let{postId:n,readonly:r=!1}=e,[i,o]=(0,t.useState)(!1),a=xW(n);return rQ({postId:n,level:Mu.POST}),lQ({targetType:null==a?void 0:a.targetType,targetId:null==a?void 0:a.targetId,shouldSubscribe:()=>!!a}),a?t.createElement(sQ,{post:a,readonly:r,isComposeBarDisplayed:i,handleAddComment:(e,t,r)=>aH(void 0,null,(function*(){yield gm.createComment({referenceType:"post",referenceId:n,data:{text:e},mentionees:t,metadata:r}),o(!1)})),onClickComment:()=>o((e=>!e))}):null},uQ=(0,t.memo)((e=>{let n=_W("EngagementBar");return n?n(e):t.createElement(cQ,rH({},e))})),dQ=VV.div(AR||(AR=o(["\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: ","%;\n  overflow: hidden;\n"])),(e=>{let{percent:t}=e;return t})),hQ=VV.div(IR||(IR=o(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n"]))),fQ=e=>{let{className:n,ratio:r=1,children:i,onClick:o}=e;return t.createElement(dQ,{className:n,percent:100*r,onClick:o},t.createElement(hQ,null,i))},pQ=VV.div(MR||(MR=o(["\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 0.5rem;\n  grid-auto-flow: row;\n"]))),mQ=VV(fQ)(RR||(RR=o(["\n  z-index: 1;\n  border-radius: 4px;\n  overflow: hidden;\n  ","\n\n  &:hover {\n    z-index: 2;\n  }\n"])),(e=>{let{onClick:t}=e;return t&&"cursor: pointer;"})),gQ=e=>{let{className:n,onClick:r,renderItem:i,items:o=[],itemKey:a}=e;return t.createElement(pQ,{className:n,count:o.length},o.map(((e,n)=>t.createElement(mQ,{key:"#".concat(a?e[a]:n),onClick:()=>null==r?void 0:r(n)},i(e)))))},vQ=VV.div(LR||(LR=o(["\n  display: grid;\n  width: 100%;\n  height: 100%;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: 1fr calc((100% / 3) / 0.75);\n  grid-gap: 0.5rem;\n  border-radius: 4px;\n\n  &.one > :nth-child(1) {\n    grid-column: 1 / 7;\n    grid-row: 1 / 3;\n  }\n\n  &.two > :nth-child(1) {\n    grid-column: 1 / 4;\n    grid-row: 1 / 3;\n  }\n\n  &.two > :nth-child(2) {\n    grid-column: 4 / 7;\n    grid-row: 1 / 3;\n  }\n\n  &.three > :nth-child(1),\n  &.four > :nth-child(1),\n  &.many > :nth-child(1) {\n    grid-column: 1 / 7;\n    grid-row: 1 / 2;\n  }\n\n  &.three > :nth-child(2) {\n    grid-column: 1 / 4;\n    grid-row: 2 / 3;\n  }\n\n  &.three > :nth-child(3) {\n    grid-column: 4 / 7;\n    grid-row: 2 / 3;\n  }\n\n  &.four > :nth-child(2),\n  &.many > :nth-child(2) {\n    grid-column: 1 / 3;\n    grid-row: 2 / 3;\n  }\n\n  &.four > :nth-child(3),\n  &.many > :nth-child(3) {\n    grid-column: 3 / 5;\n    grid-row: 2 / 3;\n  }\n\n  &.four > :nth-child(4),\n  &.many > :nth-child(4) {\n    grid-column: 5 / 7;\n    grid-row: 2 / 3;\n  }\n"]))),yQ=VV.div(DR||(DR=o(["\n  position: relative;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  ","\n\n  &:hover {\n    z-index: 2;\n  }\n"])),(e=>{let{onClick:t}=e;return t&&"cursor: pointer;"})),bQ=VV.div(OR||(OR=o(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n  color: #fff;\n  ","\n  pointer-events: none;\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),EQ=e=>{let{className:n,onClick:r,renderItem:i,items:o=[],itemKey:a}=e,s=(0,t.useMemo)((()=>{switch(o.length){case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";default:return"many"}}),[o.length]);return t.createElement(fQ,{ratio:.75,className:n},t.createElement(vQ,{className:vw(s),count:o.length},o.slice(0,3).map(((e,n)=>t.createElement(yQ,{key:"#".concat(a?e[a]:n),onClick:()=>null==r?void 0:r(n)},i(e)))),o.length>=4&&t.createElement(yQ,{key:"#".concat(a?o[3][a]:4),onClick:()=>null==r?void 0:r(3)},i(o[3]),o.length>4&&t.createElement(bQ,null,"+",o.length-4))))},wQ=e=>{let{className:n,items:r=[],itemKey:i,truncate:o,onClick:a,renderItem:s}=e;return o||r.length<=4?t.createElement(EQ,{className:n,onClick:a,renderItem:s,items:r,itemKey:i}):t.createElement(gQ,{className:n,items:r,itemKey:i,onClick:a,renderItem:s})},CQ=(e,n)=>((0,t.useEffect)((()=>{let t=n=>{n.stopPropagation(),n.key===e&&(n.preventDefault(),t(n))};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[n]),{removeEventListener:()=>document.removeEventListener("keydown",n)}),SQ=VV.div(PR||(PR=o(["\n  z-index: 9999;\n  position: fixed;\n  overflow: hidden;\n\n  display: grid;\n  grid-gap: 1rem 3rem;\n  grid-template-columns: 2rem auto 2rem;\n  grid-template-rows: min-content auto;\n  grid-template-areas:\n    'none counter close'\n    'left image right';\n\n  align-items: center;\n\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  padding: 3rem;\n\n  background: rgba(0, 0, 0, 0.75);\n  color: ",";\n\n  user-select: none;\n\n  animation-duration: 0.3s;\n  animation-name: appear;\n\n  @keyframes appear {\n    from {\n      opacity: 0;\n    }\n\n    to {\n      opacity: 1;\n    }\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.system.background}));VV.img.attrs({loading:"lazy"})(NR||(NR=o(["\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n"])));var TQ=VV.div(FR||(FR=o(["\n  grid-area: image;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]))),_Q=VV.div(jR||(jR=o(["\n  grid-area: counter;\n  ","\n  text-align: center;\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),kQ=VV.button(BR||(BR=o(["\n  grid-area: ",";\n  appearance: none;\n  width: 100%;\n  height: 100%;\n  padding: 0.5rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  font-size: 24px;\n  color: inherit;\n\n  &:hover {\n    color: ",";\n  }\n"])),(e=>{let{rel:t}=e;return t}),(e=>{let{theme:t}=e;return t.palette.neutral.shade4})),xQ=e=>t.createElement(kQ,rH({rel:"left"},e),t.createElement(Pq,{height:"24px"})),AQ=e=>t.createElement(kQ,rH({rel:"right"},e),t.createElement(Nq,{height:"24px"})),IQ=VV((e=>t.createElement(kQ,rH({rel:"close"},e),t.createElement(xq,{height:"20px"}))))(UR||(UR=o(["\n  background: rgba(0, 0, 0, 0.3);\n  height: 43px;\n  width: 43px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),MQ=e=>{let{index:n=0,items:r=[],renderItem:i,onChange:o,showCounter:a=!0}=e,s=()=>null==o?void 0:o(null),l=()=>null==o?void 0:o(n+1<r.length?n+1:0),c=()=>null==o?void 0:o(n-1>=0?n-1:r.length-1);return CQ("ArrowLeft",c),CQ("ArrowRight",l),CQ("Escape",s),t.createElement(SQ,null,t.createElement(TQ,null,i(r[n])),a&&t.createElement(_Q,null,"".concat(n+1," / ").concat(r.length)),r.length>1&&t.createElement(xQ,{onClick:c}),r.length>1&&t.createElement(AQ,{onClick:l}),t.createElement(IQ,{onClick:s}))},RQ=e=>{let n=_W("ImageGallery");return n?n(e):t.createElement(MQ,rH({},e))},LQ=e=>{let{progress:n,lightMode:r}=e;return t.createElement(UW,{progress:n,lightMode:r})},DQ=VV.div(zR||(zR=o(["\n  position: relative;\n  display: inline-block;\n  min-width: 2em;\n  min-height: 2em;\n  width: 100%;\n  height: 100%;\n  border: ",";\n  border-radius: 4px;\n  overflow: hidden;\n\n  .darken {\n    opacity: 0.4;\n  }\n"])),(e=>{let{theme:t,border:n}=e;return n&&"1px solid ".concat(t.palette.base.shade4)})),OQ=VV.div(HR||(HR=o(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]))),PQ=UV(VR||(VR=o(["\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: ",";\n  object-position: center;\n"])),(e=>{let{mediaFit:t}=e;return null!=t?t:"cover"})),NQ=VV.img.attrs({loading:"lazy"})(qR||(qR=o(["\n  ","\n"])),PQ),FQ=VV.div(GR||(GR=o(["\n  ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),PQ),jQ=()=>t.createElement(AT.SizeMe,{monitorHeight:!0},(e=>{let{size:n}=e,r=Math.min((null==n?void 0:n.width)||0,(null==n?void 0:n.height)||0);return t.createElement(FQ,null,t.createElement(WW,{borderRadius:0,height:r,width:r,style:{display:"block"}}))})),BQ=VV(mG).attrs({variant:"secondary",children:t.createElement(xq,null)})(WR||(WR=o(["\n  position: absolute;\n  top: 0.5em;\n  right: 0.5em;\n"]))),UQ=VV(Vq).attrs({width:24,height:24})(KR||(KR=o(["\n  z-index: 2;\n  opacity: 0.7;\n  font-size: 24px;\n"]))),zQ=VV(mG).attrs({variant:"secondary",children:t.createElement(UQ,null)})(YR||(YR=o(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n"]))),HQ=VV.div(QR||(QR=o(["\n  display: flex;\n"]))),VQ=e=>{let{className:n,"data-qa-anchor":r="",url:i,progress:o,mediaFit:a,noBorder:s,onRemove:l,isRejected:c,onRetry:u,overlayElements:d}=e,[h,f]=(0,t.useState)(!1),p=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),l&&l()}),[l]),m=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u&&u()}),[u]);return t.createElement(DQ,{className:n,border:!s,"data-qa-anchor":r},t.createElement(OQ,null,i?t.createElement(NQ,{src:i,mediaFit:a,className:c?"darken":void 0,onError:()=>f(!0)}):t.createElement(jQ,null),t.createElement(HQ,null,(!!c||h)&&t.createElement(zQ,{onClick:m}),!!l&&t.createElement(BQ,{onClick:p}),d)),!Number.isNaN(o)&&t.createElement(LQ,{progress:100*(o||0)}))},qQ=e=>{let{className:n,"data-qa-anchor":r="",file:i,progress:o=-1,mediaFit:a,noBorder:s,onRemove:l,isRejected:c,retry:u=(()=>{}),overlayElements:d}=e;if(null==i)return null;let h=URL.createObjectURL(i);return t.createElement(VQ,{className:n,"data-qa-anchor":r,url:h,progress:o,mediaFit:a,noBorder:s,isRejected:c,overlayElements:d,onRemove:l,onRetry:()=>u()})},GQ=e=>{let{className:n,"data-qa-anchor":r="",fileId:i,loading:o=!1,mediaFit:a="cover",noBorder:s,onRemove:l,overlayElements:c}=e,u=rK({fileId:i});return o||null==u?null:t.createElement(VQ,{className:n,"data-qa-anchor":r,url:u,mediaFit:a,noBorder:s,overlayElements:c,onRemove:l})};function WQ(e){return"fileId"in e?t.createElement(GQ,rH({},e)):"file"in e?t.createElement(qQ,rH({},e)):null}var KQ=e=>{let{item:n}=e;return t.createElement(WQ,{fileId:null==n?void 0:n.data.fileId,"data-qa-anchor":"post-gallery-content-image-thumbnail-item",mediaFit:"cover"})},YQ=e=>{let{item:n}=e;return t.createElement(WQ,{fileId:null==n?void 0:n.data.fileId,"data-qa-anchor":"post-gallery-content-image-item",mediaFit:"contain",noBorder:!0})},QQ=VV((e=>t.createElement("div",rH({},e),"LIVE")))(ZR||(ZR=o(["\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  background: ",";\n  border-radius: 0.25rem;\n  color: #fff;\n"])),(e=>{let{theme:t}=e;return t.palette.tertiary.main})),ZQ=VV.div($R||($R=o(["\n  position: relative;\n  display: inline-block;\n  min-width: 2em;\n  min-height: 2em;\n  width: 100%;\n  height: 100%;\n  border: ",";\n  border-radius: 4px;\n  overflow: hidden;\n\n  .darken {\n    opacity: 0.4;\n  }\n"])),(e=>{let{theme:t,border:n}=e;return n&&"1px solid ".concat(t.palette.base.shade4)})),$Q=VV.div(XR||(XR=o(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]))),XQ=UV(JR||(JR=o(["\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: ",";\n  object-position: center;\n"])),(e=>{let{mediaFit:t}=e;return null!=t?t:"cover"})),JQ=t.forwardRef(((e,n)=>{var r=e,{src:i,mimeType:o,mediaFit:a}=r,s=oH(r,["src","mimeType","mediaFit"]);return t.createElement("video",iH(rH({controls:!0,controlsList:"nodownload"},s),{ref:n,"data-qa-anchor":"video-preview"}),t.createElement("source",{src:i,type:o}),t.createElement("p",null,"Your browser does not support this format of video. Please try again later once the server transcodes the video into an playable format(mp4)."))})),eZ=VV(JQ)(eL||(eL=o(["\n  ","\n  cursor: pointer;\n"])),XQ),tZ=VV.div(tL||(tL=o(["\n  ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),XQ),nZ=()=>t.createElement(AT.SizeMe,{monitorHeight:!0},(e=>{let{size:n}=e,r=Math.min(n.width||0,n.height||0);return t.createElement(tZ,null,t.createElement(WW,{height:r,width:r,style:{display:"block"}}))})),rZ=VV(mG).attrs({variant:"secondary",children:xq})(nL||(nL=o(["\n  position: absolute;\n  top: 0.5em;\n  right: 0.5em;\n"]))),iZ=VV(Vq).attrs({width:24,height:24})(rL||(rL=o(["\n  z-index: 2;\n  opacity: 0.7;\n  font-size: 24px;\n"]))),oZ=VV(mG).attrs({variant:"secondary",icon:iZ})(iL||(iL=o(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n"]))),aZ=VV.div(oL||(oL=o(["\n  display: flex;\n"])));VV(JV)(aL||(aL=o(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  pointer-events: none;\n"])));var sZ=VV(QQ)(sL||(sL=o(["\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n"]))),lZ=e=>{let{url:n,progress:r=-1,mediaFit:i,noBorder:o,onRemove:a,isRejected:s,onRetry:l,mimeType:c,autoPlay:u,isLive:d}=e,h=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),a&&a()}),[a]),f=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),l&&l()}),[l]),[p,m]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if(p&&n&&n.includes("m3u8")&&(null==p||!p.canPlayType("application/vnd.apple.mpegurl"))&&fc.isSupported()){let e=new fc;return e.loadSource(n),e.attachMedia(p),e.on(fc.Events.ERROR,((t,n)=>{if(n.fatal)switch(n.type){case fc.ErrorTypes.NETWORK_ERROR:e.startLoad();break;case fc.ErrorTypes.MEDIA_ERROR:e.recoverMediaError()}})),()=>e.destroy()}}),[p,d,n]),t.createElement(ZQ,{border:!o},t.createElement($Q,null,n?t.createElement(eZ,{key:n,ref:e=>m(e),className:s?"darken":void 0,mediaFit:i,mimeType:c,src:n,autoPlay:u}):t.createElement(nZ,null),t.createElement(aZ,null,d&&t.createElement(sZ,null),!!s&&t.createElement(oZ,{onClick:f}),!!a&&t.createElement(rZ,{onClick:h}))),!Number.isNaN(r)&&t.createElement(LQ,{progress:100*(r||0)}))},cZ=e=>{var n=e,{file:r}=n,i=oH(n,["file"]);if(null==r)return null;let o=URL.createObjectURL(r);return t.createElement(lZ,rH({url:o},i))},uZ=e=>{var n=e,{fileId:r}=n,i=oH(n,["fileId"]);let o=nK(r);if(null==o)return null;let a=(()=>{if(o.status===bW.Transcoded){let{videoUrl:e}=o;return(null==e?void 0:e["1080p"])||(null==e?void 0:e["720p"])||(null==e?void 0:e["480p"])||(null==e?void 0:e["360p"])||(null==e?void 0:e.original)||o.fileUrl}return o.fileUrl})();return t.createElement(lZ,rH({url:a,mimeType:"video/mp4"},i))};function dZ(e){return"fileId"in e?t.createElement(uZ,rH({},e)):"file"in e?t.createElement(cZ,rH({},e)):null}var hZ=VV(mG).attrs({variant:"secondary",children:t.createElement(xq,null)})(lL||(lL=o(["\n  position: absolute;\n  top: 0.5em;\n  right: 0.5em;\n"]))),fZ=VV(JV)(cL||(cL=o(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),pZ=VV.div(uL||(uL=o(["\n  position: absolute;\n  left: 0.5rem;\n  bottom: 0.5rem;\n  padding: 1px 0.25rem;\n  border-radius: 0.25rem;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n\n  && {\n    ","\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.caption})),mZ=VV((e=>{let{className:n,duration:r=0,fileId:i,onRemove:o,overlayElements:a,showPlayIcon:s}=e,{formatNumber:l}=Zy(),c=e=>{let t=l(Math.floor(e/60/60),{minimumIntegerDigits:2,maximumSignificantDigits:2}),n=l(Math.floor(e/60%60),{minimumIntegerDigits:2,maximumSignificantDigits:2}),r=l(e%60%60,{minimumIntegerDigits:2,maximumSignificantDigits:2});return"00"===t?"".concat(n,":").concat(r):"".concat(t,":").concat(n,":").concat(r)};return i?t.createElement(WQ,{"data-qa-anchor":"post-gallery-content-thumbnail",className:n,fileId:i,mediaFit:"cover",overlayElements:t.createElement(t.Fragment,null,a,s&&t.createElement(fZ,{"data-qa-anchor":"post-gallery-content-play-button"}),null!=r?t.createElement(pZ,null,c(r)):null),onRemove:o}):t.createElement(DQ,{"data-qa-anchor":"post-gallery-content-thumbnail",className:n},t.createElement(HQ,null,a,s&&t.createElement(fZ,{"data-qa-anchor":"post-gallery-content-play-button"}),null!=r?t.createElement(pZ,null,c(r)):null,!!o&&t.createElement(hZ,{onClick:e=>{e.preventDefault(),e.stopPropagation(),o()}})))}))(dL||(dL=o(["\n  background: #ebecef;\n"]))),gZ=e=>{var n,r,i,o,a,s=e,{fileId:l,videoFileId:c}=s,u=oH(s,["fileId","videoFileId"]);let d=nK(l),h=nK(c),f="number"==typeof(null==(i=null==(r=null==(n=null==h?void 0:h.attributes)?void 0:n.metadata)?void 0:r.video)?void 0:i.duration)?(null==(a=null==(o=null==h?void 0:h.attributes)?void 0:o.metadata)?void 0:a.video).duration:void 0;return null==d?null:t.createElement(mZ,iH(rH({},u),{duration:f,fileId:l}))},vZ=VV.div(hL||(hL=o(["\n  position: absolute;\n  top: 50%;\n  right: 0;\n  left: 0;\n  transform: translateY(-50%);\n  padding-bottom: 56%;\n  background: #000;\n"]))),yZ=VV((e=>{var n=e,{children:r}=n,i=oH(n,["children"]);return t.createElement("div",rH({},i),t.createElement(vZ,null,r))}))(fL||(fL=o(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  max-width: 825px;\n  margin-right: auto;\n  margin-left: auto;\n"]))),bZ=VV.div(pL||(pL=o(["\n  && {\n    position: absolute;\n    top: 50%;\n    right: 1em;\n    left: 1em;\n    text-align: center;\n    transform: translateY(-50%);\n    color: #fff;\n  }\n"]))),EZ=e=>{let{item:n,showPlayIcon:r,showVideoDuration:i}=e;return t.createElement(gZ,{fileId:null==n?void 0:n.data.thumbnailFileId,showPlayIcon:r,videoFileId:i&&(null==n?void 0:n.data.videoFileId.original)})},wZ=e=>{let{item:n}=e,r=(null==n?void 0:n.data.videoFileId.high)||(null==n?void 0:n.data.videoFileId.medium)||(null==n?void 0:n.data.videoFileId.low)||(null==n?void 0:n.data.videoFileId.original);return r?t.createElement(dZ,{fileId:r,mediaFit:"contain",noBorder:!0}):t.createElement(ZQ,null,t.createElement(yZ,null,t.createElement(bZ,null,t.createElement(Jy,{id:"video.notReady"}))))},CZ=e=>{let[n,r]=(0,t.useState)(null);return(0,t.useEffect)((()=>{!function(){aH(this,null,(function*(){if(null==e)return;let t=yield Sm.getStream(e);r(t.data)}))}()}),[e]),n},SZ=VV(Vq).attrs({width:24,height:24})(mL||(mL=o(["\n  && {\n    font-size: 24px;\n  }\n"]))),TZ=VV.div(gL||(gL=o(["\n  position: absolute;\n  top: 0.75rem;\n  left: 0.75rem;\n  max-width: calc(100% - 1.5rem);\n\n  > :not(:first-child) {\n    margin-top: 0.5rem;\n  }\n"]))),_Z=VV.div(vL||(vL=o(["\n  ",";\n  color: #fff;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  overflow: hidden;\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),kZ=VV.div(yL||(yL=o(["\n  margin-top: 0.5rem;\n"]))),xZ=VV((e=>t.createElement(mZ,iH(rH({},e),{overlayElements:t.createElement(bZ,null,t.createElement(SZ,null),t.createElement(kZ,null,t.createElement(Jy,{id:"liveStream.idle"})))}))))(bL||(bL=o(["\n  background: #000;\n"]))),AZ=VV.div(EL||(EL=o(["\n  && {\n    ","\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.title})),IZ=VV.div(wL||(wL=o(["\n  margin: 2px auto 0 auto;\n  max-width: 15.5rem;\n"]))),MZ=VV((e=>t.createElement(mZ,iH(rH({},e),{overlayElements:t.createElement(bZ,null,t.createElement(AZ,null,t.createElement(Jy,{id:"liveStream.ended.caption"})),t.createElement(IZ,null,t.createElement(Jy,{id:"liveStream.ended.message"})))}))))(CL||(CL=o(["\n  background: #000;\n"]))),RZ=VV(mZ)(SL||(SL=o(["\n  background: center / 90% no-repeat "," #d9dcec;\n"])),"url(\"data:image/svg+xml;charset=UTF-8,%3csvg width='439' height='219' viewBox='0 0 439 219' fill='none' xmlns='http://www.w3.org/2000/svg' %3e%3cpath d='M148.017 30.9692H125.866C123.49 30.9692 121.564 32.8976 121.564 35.2764V42.6062C121.564 44.985 123.49 46.9133 125.866 46.9133H148.017C150.393 46.9133 152.319 44.985 152.319 42.6062V35.2764C152.319 32.8976 150.393 30.9692 148.017 30.9692Z' fill='%23B3BBE3' /%3e%3cpath d='M326.51 121.695H304.359C301.983 121.695 300.057 123.623 300.057 126.002V133.332C300.057 135.711 301.983 137.639 304.359 137.639H326.51C328.886 137.639 330.812 135.711 330.812 133.332V126.002C330.812 123.623 328.886 121.695 326.51 121.695Z' fill='%23B3BBE3' /%3e%3cpath d='M352.074 18.8726H334.268C332.36 18.8726 330.812 20.4217 330.812 22.3326V28.2286C330.812 30.1396 332.36 31.6887 334.268 31.6887H352.074C353.982 31.6887 355.529 30.1396 355.529 28.2286V22.3326C355.529 20.4217 353.982 18.8726 352.074 18.8726Z' fill='%23B3BBE3' /%3e%3cpath d='M70.9908 157.149H56.7467C55.2198 157.149 53.9819 158.388 53.9819 159.917V164.634C53.9819 166.163 55.2198 167.402 56.7467 167.402H70.9908C72.5177 167.402 73.7555 166.163 73.7555 164.634V159.917C73.7555 158.388 72.5177 157.149 70.9908 157.149Z' fill='%23B3BBE3' /%3e%3cpath d='M256.65 194.102H242.406C240.879 194.102 239.642 195.341 239.642 196.87V201.587C239.642 203.116 240.879 204.355 242.406 204.355H256.65C258.177 204.355 259.415 203.116 259.415 201.587V196.87C259.415 195.341 258.177 194.102 256.65 194.102Z' fill='%23B3BBE3' /%3e%3cpath d='M235.234 0H220.99C219.463 0 218.226 1.23931 218.226 2.76807V7.48487C218.226 9.01363 219.463 10.2529 220.99 10.2529H235.234C236.761 10.2529 237.999 9.01363 237.999 7.48487V2.76807C237.999 1.23931 236.761 0 235.234 0Z' fill='%23B3BBE3' /%3e%3cpath d='M379.815 10.0757H369.132C367.987 10.0757 367.059 11.0052 367.059 12.1517V15.6893C367.059 16.8359 367.987 17.7654 369.132 17.7654H379.815C380.96 17.7654 381.889 16.8359 381.889 15.6893V12.1517C381.889 11.0052 380.96 10.0757 379.815 10.0757Z' fill='%23B3BBE3' /%3e%3cpath d='M436.382 170.087H425.699C424.554 170.087 423.625 171.017 423.625 172.163V175.701C423.625 176.848 424.554 177.777 425.699 177.777H436.382C437.527 177.777 438.456 176.848 438.456 175.701V172.163C438.456 171.017 437.527 170.087 436.382 170.087Z' fill='%23B3BBE3' /%3e%3cpath d='M319.952 106.854H309.269C308.124 106.854 307.196 107.783 307.196 108.93V112.467C307.196 113.614 308.124 114.543 309.269 114.543H319.952C321.098 114.543 322.026 113.614 322.026 112.467V108.93C322.026 107.783 321.098 106.854 319.952 106.854Z' fill='%23B3BBE3' /%3e%3cpath d='M12.7566 114.395H2.07357C0.92837 114.395 0 115.325 0 116.471V120.009C0 121.155 0.92837 122.085 2.07357 122.085H12.7566C13.9018 122.085 14.8302 121.155 14.8302 120.009V116.471C14.8302 115.325 13.9018 114.395 12.7566 114.395Z' fill='%23B3BBE3' /%3e%3cpath d='M123.886 92.126H113.203C112.058 92.126 111.13 93.0555 111.13 94.202V97.7396C111.13 98.8862 112.058 99.8157 113.203 99.8157H123.886C125.032 99.8157 125.96 98.8862 125.96 97.7396V94.202C125.96 93.0555 125.032 92.126 123.886 92.126Z' fill='%23B3BBE3' /%3e%3cpath d='M252.951 59.6855H242.268C241.123 59.6855 240.194 60.615 240.194 61.7616V65.2992C240.194 66.4458 241.123 67.3752 242.268 67.3752H252.951C254.096 67.3752 255.025 66.4458 255.025 65.2992V61.7616C255.025 60.615 254.096 59.6855 252.951 59.6855Z' fill='%23B3BBE3' /%3e%3cpath d='M204.07 191.103H193.387C192.242 191.103 191.313 192.033 191.313 193.179V196.717C191.313 197.863 192.242 198.793 193.387 198.793H204.07C205.215 198.793 206.144 197.863 206.144 196.717V193.179C206.144 192.033 205.215 191.103 204.07 191.103Z' fill='%23B3BBE3' /%3e%3cpath d='M414.347 182.183H400.501C399.017 182.183 397.813 183.387 397.813 184.873V189.457C397.813 190.943 399.017 192.148 400.501 192.148H414.347C415.831 192.148 417.034 190.943 417.034 189.457V184.873C417.034 183.387 415.831 182.183 414.347 182.183Z' fill='%23B3BBE3' /%3e%3cpath d='M272.89 167.175H251.95C249.702 167.175 247.88 168.999 247.88 171.249V178.175C247.88 180.425 249.702 182.25 251.95 182.25H272.89C275.138 182.25 276.96 180.425 276.96 178.175V171.249C276.96 168.999 275.138 167.175 272.89 167.175Z' fill='%23B3BBE3' /%3e%3cpath d='M340.754 115.103H326.909C325.424 115.103 324.221 116.307 324.221 117.793V122.377C324.221 123.863 325.424 125.068 326.909 125.068H340.754C342.239 125.068 343.442 123.863 343.442 122.377V117.793C343.442 116.307 342.239 115.103 340.754 115.103Z' fill='%23B3BBE3' /%3e%3cpath d='M52.3452 45.8179H18.3275C14.6781 45.8179 11.7197 48.7798 11.7197 52.4336V63.6885C11.7197 67.3423 14.6781 70.3042 18.3275 70.3042H52.3452C55.9945 70.3042 58.9529 67.3423 58.9529 63.6885V52.4336C58.9529 48.7798 55.9945 45.8179 52.3452 45.8179Z' fill='%23B3BBE3' /%3e%3cpath d='M100.69 117.848H63.902C59.9564 117.848 56.7578 121.051 56.7578 125.001V137.175C56.7578 141.125 59.9564 144.327 63.902 144.327H100.69C104.636 144.327 107.834 141.125 107.834 137.175V125.001C107.834 121.051 104.636 117.848 100.69 117.848Z' fill='%23B3BBE3' /%3e%3cpath d='M205.591 151.391H168.803C164.857 151.391 161.659 154.593 161.659 158.543V170.717C161.659 174.668 164.857 177.87 168.803 177.87H205.591C209.536 177.87 212.735 174.668 212.735 170.717V158.543C212.735 154.593 209.536 151.391 205.591 151.391Z' fill='%23B3BBE3' /%3e%3cpath d='M208.881 107.949H172.093C168.147 107.949 164.949 111.152 164.949 115.102V127.276C164.949 131.226 168.147 134.429 172.093 134.429H208.881C212.826 134.429 216.025 131.226 216.025 127.276V115.102C216.025 111.152 212.826 107.949 208.881 107.949Z' fill='%23B3BBE3' /%3e%3cpath d='M253.322 75.8452H207.836C202.956 75.8452 199 79.806 199 84.692V99.7447C199 104.631 202.956 108.592 207.836 108.592H253.322C258.202 108.592 262.158 104.631 262.158 99.7447V84.692C262.158 79.806 258.202 75.8452 253.322 75.8452Z' fill='%23B3BBE3' /%3e%3cpath d='M404.355 145.678H358.869C353.989 145.678 350.033 149.639 350.033 154.524V169.577C350.033 174.463 353.989 178.424 358.869 178.424H404.355C409.235 178.424 413.191 174.463 413.191 169.577V154.524C413.191 149.639 409.235 145.678 404.355 145.678Z' fill='%23B3BBE3' /%3e%3cpath d='M399.981 50.0034H368.739C365.386 50.0034 362.668 52.7249 362.668 56.0821V66.4181C362.668 69.7752 365.386 72.4968 368.739 72.4968H399.981C403.334 72.4968 406.053 69.7752 406.053 66.4181V56.0821C406.053 52.7249 403.334 50.0034 399.981 50.0034Z' fill='%23B3BBE3' /%3e%3cpath d='M374.827 101.449H185.845V208.108H374.827V101.449Z' fill='%23626FE5' /%3e%3cpath d='M190.114 85.9873H370.564C371.695 85.9873 372.779 86.437 373.579 87.2375C374.378 88.038 374.827 89.1236 374.827 90.2557V101.444H185.845V90.2612C185.845 89.1277 186.294 88.0406 187.095 87.2391C187.896 86.4376 188.981 85.9873 190.114 85.9873Z' fill='%23626FE5' /%3e%3cpath d='M185.845 208.108H374.827V212.493C374.827 213.627 374.378 214.714 373.577 215.515C372.777 216.317 371.691 216.767 370.559 216.767H190.114C188.981 216.767 187.896 216.317 187.095 215.515C186.294 214.714 185.845 213.627 185.845 212.493V208.108Z' fill='%23626FE5' /%3e%3cpath d='M365.875 98.5877C368.263 98.5877 370.199 96.6495 370.199 94.2585C370.199 91.8675 368.263 89.9292 365.875 89.9292C363.487 89.9292 361.551 91.8675 361.551 94.2585C361.551 96.6495 363.487 98.5877 365.875 98.5877Z' fill='%23F0FFFB' /%3e%3cpath d='M371.401 104.375H188.904V205.161H371.401V104.375Z' fill='%23B3BBE3' /%3e%3cpath d='M238.446 29.8564H42.5352V140.43H238.446V29.8564Z' fill='%23F0FFFB' /%3e%3cpath d='M47.4656 13.8354H234.53C235.703 13.8354 236.828 14.3021 237.658 15.1326C238.487 15.9632 238.953 17.0897 238.953 18.2644V29.857H43.042V18.2588C43.0435 17.0852 43.5102 15.9601 44.3396 15.1307C45.169 14.3013 46.2934 13.8354 47.4656 13.8354Z' fill='%23F0FFFB' /%3e%3cpath d='M229.669 26.889C232.143 26.889 234.148 24.8813 234.148 22.4047C234.148 19.9281 232.143 17.9204 229.669 17.9204C227.196 17.9204 225.19 19.9281 225.19 22.4047C225.19 24.8813 227.196 26.889 229.669 26.889Z' fill='%23626FE5' /%3e%3cpath d='M235.752 32.8237H46.5645V137.307H235.752V32.8237Z' fill='%23B3BBE3' /%3e%3cpath d='M42.5352 139.447H238.446V143.992C238.446 145.167 237.98 146.293 237.151 147.124C236.321 147.954 235.196 148.421 234.023 148.421H46.9588C45.7856 148.421 44.6604 147.954 43.8308 147.124C43.0012 146.293 42.5352 145.167 42.5352 143.992V139.447Z' fill='%23F0FFFB' /%3e%3cpath d='M311.647 18.8726H258.691C255.505 18.8726 252.923 21.4578 252.923 24.6468V46.5367C252.923 49.7257 255.505 52.3109 258.691 52.3109H311.647C314.832 52.3109 317.414 49.7257 317.414 46.5367V24.6468C317.414 21.4578 314.832 18.8726 311.647 18.8726Z' fill='%23626FE5' /%3e%3cpath d='M271.409 50.0025V63.5772C271.408 64.1444 271.576 64.699 271.89 65.1708C272.204 65.6427 272.652 66.0106 273.175 66.2281C273.698 66.4456 274.274 66.5028 274.83 66.3926C275.385 66.2824 275.896 66.0097 276.297 65.6089L292.885 49.0005L271.409 50.0025Z' fill='%23626FE5' /%3e%3cpath d='M272.531 35.2431C272.532 34.6415 272.355 34.0531 272.022 33.5525C271.688 33.0518 271.214 32.6614 270.659 32.4307C270.105 32.1999 269.494 32.1393 268.904 32.2564C268.315 32.3735 267.773 32.6631 267.349 33.0884C266.924 33.5138 266.634 34.0559 266.518 34.646C266.401 35.2361 266.461 35.8477 266.692 36.4033C266.922 36.9588 267.312 37.4335 267.812 37.767C268.312 38.1006 268.9 38.278 269.501 38.2769C270.304 38.2755 271.074 37.9554 271.642 37.3867C272.21 36.8181 272.529 36.0473 272.531 35.2431Z' fill='%23F0FFFB' /%3e%3cpath d='M283.175 35.243C283.177 34.6407 282.999 34.0517 282.665 33.5507C282.331 33.0497 281.856 32.6593 281.3 32.429C280.744 32.1988 280.133 32.1391 279.543 32.2576C278.953 32.3761 278.411 32.6673 277.987 33.0944C277.563 33.5214 277.275 34.065 277.16 34.6562C277.045 35.2474 277.108 35.8595 277.341 36.4148C277.574 36.9701 277.966 37.4435 278.469 37.7751C278.971 38.1066 279.56 38.2812 280.162 38.2769C280.962 38.271 281.728 37.949 282.292 37.3808C282.857 36.8127 283.174 36.0443 283.175 35.243Z' fill='%23F0FFFB' /%3e%3cpath d='M293.814 35.2438C293.814 34.6437 293.637 34.0572 293.304 33.5583C292.971 33.0594 292.497 32.6705 291.944 32.4409C291.39 32.2113 290.781 32.1512 290.193 32.2683C289.605 32.3853 289.065 32.6743 288.641 33.0985C288.218 33.5228 287.929 34.0634 287.812 34.6519C287.695 35.2404 287.755 35.8504 287.985 36.4048C288.214 36.9591 288.602 37.4329 289.101 37.7663C289.599 38.0996 290.185 38.2776 290.784 38.2776C291.588 38.2776 292.358 37.9579 292.927 37.389C293.495 36.82 293.814 36.0484 293.814 35.2438Z' fill='%23F0FFFB' /%3e%3cpath d='M304.459 35.2431C304.46 34.6415 304.282 34.0531 303.949 33.5525C303.616 33.0518 303.142 32.6614 302.587 32.4307C302.032 32.1999 301.421 32.1393 300.832 32.2564C300.243 32.3735 299.701 32.6631 299.276 33.0884C298.851 33.5138 298.562 34.0559 298.445 34.646C298.328 35.2361 298.389 35.8477 298.619 36.4033C298.85 36.9588 299.24 37.4335 299.74 37.767C300.24 38.1006 300.828 38.278 301.428 38.2769C302.232 38.2769 303.003 37.9573 303.571 37.3884C304.139 36.8194 304.459 36.0477 304.459 35.2431Z' fill='%23F0FFFB' /%3e%3cpath d='M139.419 205.436H169.101C172.287 205.436 174.869 202.85 174.869 199.661V189.84C174.869 186.651 172.287 184.066 169.101 184.066H139.419C136.234 184.066 133.652 186.651 133.652 189.84V199.661C133.652 202.85 136.234 205.436 139.419 205.436Z' fill='%23626FE5' /%3e%3cpath d='M163.052 203.962V212.643C163.052 213.005 162.944 213.36 162.743 213.661C162.542 213.962 162.256 214.197 161.922 214.335C161.588 214.474 161.22 214.51 160.865 214.44C160.51 214.369 160.184 214.195 159.928 213.938L149.344 203.342L163.052 203.962Z' fill='%23626FE5' /%3e%3cpath d='M162.333 194.529C162.333 194.145 162.447 193.769 162.66 193.45C162.873 193.13 163.176 192.881 163.531 192.734C163.886 192.587 164.276 192.548 164.653 192.623C165.029 192.698 165.375 192.883 165.646 193.155C165.918 193.427 166.103 193.773 166.177 194.15C166.252 194.527 166.214 194.918 166.067 195.273C165.92 195.628 165.671 195.931 165.352 196.145C165.033 196.358 164.658 196.472 164.274 196.472C163.759 196.472 163.265 196.268 162.901 195.903C162.537 195.539 162.333 195.044 162.333 194.529Z' fill='%23F0FFFB' /%3e%3cpath d='M155.532 194.529C155.532 194.145 155.646 193.769 155.859 193.45C156.072 193.13 156.375 192.881 156.73 192.734C157.085 192.587 157.475 192.548 157.851 192.623C158.228 192.698 158.574 192.883 158.845 193.155C159.116 193.427 159.301 193.773 159.376 194.15C159.451 194.527 159.413 194.918 159.266 195.273C159.119 195.628 158.87 195.931 158.551 196.145C158.232 196.358 157.856 196.472 157.473 196.472C156.958 196.472 156.464 196.268 156.1 195.903C155.736 195.539 155.532 195.044 155.532 194.529Z' fill='%23F0FFFB' /%3e%3cpath d='M148.73 194.529C148.73 194.145 148.844 193.769 149.058 193.449C149.271 193.129 149.575 192.88 149.93 192.733C150.285 192.586 150.675 192.548 151.052 192.624C151.429 192.699 151.774 192.885 152.046 193.157C152.317 193.429 152.501 193.776 152.576 194.153C152.65 194.531 152.611 194.922 152.463 195.277C152.315 195.632 152.066 195.935 151.746 196.148C151.426 196.36 151.05 196.473 150.666 196.472C150.411 196.472 150.159 196.422 149.924 196.324C149.689 196.227 149.475 196.083 149.295 195.903C149.116 195.722 148.973 195.508 148.876 195.272C148.779 195.037 148.73 194.784 148.73 194.529Z' fill='%23F0FFFB' /%3e%3cpath d='M141.924 194.529C141.924 194.145 142.038 193.769 142.251 193.449C142.465 193.129 142.768 192.88 143.123 192.733C143.478 192.586 143.869 192.548 144.245 192.624C144.622 192.699 144.968 192.885 145.239 193.157C145.51 193.429 145.695 193.776 145.769 194.153C145.843 194.531 145.804 194.922 145.656 195.277C145.508 195.632 145.259 195.935 144.939 196.148C144.619 196.36 144.243 196.473 143.859 196.472C143.605 196.472 143.352 196.422 143.117 196.324C142.882 196.227 142.669 196.083 142.489 195.903C142.309 195.722 142.167 195.508 142.07 195.272C141.973 195.037 141.923 194.784 141.924 194.529Z' fill='%23F0FFFB' /%3e%3cpath d='M34.6066 182.366H56.4206C58.7599 182.366 60.6562 180.468 60.6562 178.126V170.901C60.6562 168.559 58.7599 166.66 56.4206 166.66H34.6066C32.2674 166.66 30.371 168.559 30.371 170.901V178.126C30.371 180.468 32.2674 182.366 34.6066 182.366Z' fill='%23626FE5' /%3e%3cpath d='M51.9752 181.281V187.659C51.974 187.925 51.8943 188.185 51.7459 188.406C51.5976 188.627 51.3873 188.799 51.1415 188.901C50.8957 189.003 50.6253 189.03 50.3644 188.978C50.1034 188.926 49.8636 188.799 49.6749 188.611L41.9004 180.827L51.9752 181.281Z' fill='%23626FE5' /%3e%3cpath d='M51.4443 174.35C51.4433 174.067 51.526 173.79 51.6821 173.555C51.8382 173.319 52.0606 173.135 52.3212 173.026C52.5818 172.917 52.8688 172.888 53.1459 172.943C53.423 172.997 53.6777 173.133 53.8778 173.332C54.0778 173.532 54.2143 173.786 54.2698 174.064C54.3253 174.341 54.2973 174.628 54.1895 174.89C54.0817 175.151 53.8989 175.374 53.6641 175.532C53.4294 175.689 53.1534 175.773 52.871 175.773C52.494 175.771 52.1328 175.621 51.8657 175.355C51.5987 175.088 51.4473 174.727 51.4443 174.35Z' fill='%23F0FFFB' /%3e%3cpath d='M46.4453 174.35C46.4442 174.067 46.527 173.79 46.6831 173.555C46.8391 173.319 47.0616 173.135 47.3222 173.026C47.5827 172.917 47.8698 172.888 48.1469 172.943C48.424 172.997 48.6787 173.133 48.8787 173.332C49.0788 173.532 49.2152 173.786 49.2707 174.064C49.3262 174.341 49.2983 174.628 49.1905 174.89C49.0827 175.151 48.8998 175.374 48.6651 175.532C48.4304 175.689 48.1543 175.773 47.8719 175.773C47.495 175.771 47.1338 175.621 46.8667 175.355C46.5996 175.088 46.4482 174.727 46.4453 174.35Z' fill='%23F0FFFB' /%3e%3cpath d='M41.4468 174.35C41.4457 174.067 41.5284 173.79 41.6845 173.555C41.8406 173.319 42.063 173.135 42.3236 173.026C42.5842 172.917 42.8712 172.888 43.1483 172.943C43.4254 172.997 43.6801 173.133 43.8802 173.332C44.0803 173.532 44.2167 173.786 44.2722 174.064C44.3277 174.341 44.2998 174.628 44.192 174.89C44.0841 175.151 43.9013 175.374 43.6666 175.532C43.4318 175.689 43.1558 175.773 42.8734 175.773C42.4964 175.771 42.1353 175.621 41.8682 175.355C41.6011 175.088 41.4497 174.727 41.4468 174.35Z' fill='%23F0FFFB' /%3e%3cpath d='M36.4536 174.35C36.4525 174.067 36.5354 173.79 36.6918 173.554C36.8481 173.319 37.0708 173.135 37.3317 173.026C37.5926 172.917 37.8799 172.888 38.1572 172.943C38.4345 172.998 38.6892 173.134 38.889 173.334C39.0889 173.534 39.2248 173.789 39.2797 174.067C39.3346 174.345 39.3059 174.632 39.1972 174.893C39.0885 175.155 38.9048 175.378 38.6694 175.534C38.4339 175.691 38.1573 175.774 37.8747 175.773C37.4983 175.771 37.1377 175.621 36.8715 175.354C36.6053 175.088 36.4551 174.727 36.4536 174.35Z' fill='%23F0FFFB' /%3e%3cpath d='M92.7828 202.788H70.6316C68.2557 202.788 66.3296 204.716 66.3296 207.095V214.425C66.3296 216.804 68.2557 218.732 70.6316 218.732H92.7828C95.1588 218.732 97.0848 216.804 97.0848 214.425V207.095C97.0848 204.716 95.1588 202.788 92.7828 202.788Z' fill='%23B3BBE3' /%3e%3cpath d='M86.2244 187.947H75.5413C74.3961 187.947 73.4678 188.876 73.4678 190.023V193.56C73.4678 194.707 74.3961 195.636 75.5413 195.636H86.2244C87.3696 195.636 88.298 194.707 88.298 193.56V190.023C88.298 188.876 87.3696 187.947 86.2244 187.947Z' fill='%23B3BBE3' /%3e%3cpath d='M107.027 196.195H93.1815C91.6973 196.195 90.4941 197.4 90.4941 198.886V203.47C90.4941 204.956 91.6973 206.16 93.1815 206.16H107.027C108.512 206.16 109.715 204.956 109.715 203.47V198.886C109.715 197.4 108.512 196.195 107.027 196.195Z' fill='%23B3BBE3' /%3e%3crect opacity='0.5' x='54.6396' y='128.725' width='171.1' height='1.45175' fill='%23F0FFFB' /%3e%3cellipse cx='86.5399' cy='128.725' rx='4.34999' ry='4.3552' fill='%23D1DDEF' /%3e%3c/svg%3e\")"),LZ=VV((e=>t.createElement("div",rH({},e),"RECORDED")))(TL||(TL=o(["\n  display: inline-block;\n  padding: 0.25rem 0.5rem;\n  background: rgba(0, 0, 0, 0.7);\n  border-radius: 0.25rem;\n  color: #fff;\n"]))),DZ=()=>t.createElement(ZQ,null,t.createElement(yZ,null,t.createElement(bZ,null,t.createElement(SZ,null),t.createElement(kZ,null,t.createElement(Jy,{id:"liveStream.idle"}))))),OZ=()=>t.createElement(ZQ,null,t.createElement(yZ,null,t.createElement(bZ,null,t.createElement(AZ,null,t.createElement(Jy,{id:"liveStream.ended.caption"})),t.createElement(IZ,null,t.createElement(Jy,{id:"liveStream.ended.message"})))));function PZ(e){var t,n,r,i;return"live"===e.status?null==(n=null==(t=e.watcherUrl)?void 0:t.hls)?void 0:n.url:"recorded"===e.status?null==(i=null==(r=null==e?void 0:e.recordings)?void 0:r.find((e=>e.mp4)))?void 0:i.mp4.url:void 0}var NZ=e=>{let{item:n,showPlayIcon:r,showLivestreamRecordedBadge:i,showLivestreamTitle:o}=e;var a;let s=CZ(null==n?void 0:n.data.streamId),l=nK(null==s?void 0:s.thumbnailFileId);if(null==s)return null;if("idle"===s.status||s.isDeleted)return t.createElement(xZ,null);if("ended"===s.status)return t.createElement(MZ,null);let c=null==(a=s.recordings.find((e=>e.mp4)))?void 0:a.mp4;return t.createElement(RZ,{duration:null==c?void 0:c.duration,fileId:null==l?void 0:l.fileId,overlayElements:t.createElement(TZ,null,"live"===s.status&&t.createElement(QQ,null),i&&"recorded"===s.status&&t.createElement(LZ,null),o&&s.title&&t.createElement(_Z,null,s.title)),showPlayIcon:r})},FZ=e=>{let{item:n}=e;var r;let i=CZ(null==(r=null==n?void 0:n.data)?void 0:r.streamId);return null==i?null:"idle"===i.status||i.isDeleted?t.createElement(DZ,null):"ended"===i.status?t.createElement(OZ,null):t.createElement(lZ,{isLive:"live"===i.status,mediaFit:"contain",noBorder:!0,url:PZ(i)})};function jZ(e){return!!e.skeleton}var BZ=e=>e.path.split("/user/")[0],UZ=e=>"".concat(BZ(e),"/membership/").concat(e._id,"/+/+"),zZ=e=>"".concat(BZ(e),"/membership/+/").concat(e._id,"/+"),HZ=e=>{let{className:n,items:r=[],loading:i=!1,loadingMore:o=!1,showCounter:a=!1,truncate:s=!1,renderVideoItem:l,renderImageItem:c,renderLiveStreamItem:u,renderVideoThumbnail:d,renderImageThumbnail:h,renderLiveStreamThumbnail:f}=e,{newItems:p,index:m,setIndex:g}=(e=>{let{loading:n,loadingMore:r,items:i}=e,[o,a]=(0,t.useState)(null);return{newItems:(0,t.useMemo)((()=>n?new Array(6).fill({skeleton:!0}):r?[...i||[],...new Array(6).fill({skeleton:!0})]:i),[i,n,r]),index:o,setIndex:a}})({loading:i,loadingMore:o,items:r});return t.createElement(t.Fragment,null,t.createElement(wQ,{className:n,items:r,truncate:s,onClick:e=>{jZ(r[e])||g(e)},renderItem:e=>e.skeleton?t.createElement(jQ,null):(e=>{switch(e.dataType){case"image":return h?h(e):t.createElement(KQ,{item:e});case"video":return d?d(e):t.createElement(EZ,{item:e});case"liveStream":return f?f(e):t.createElement(NZ,{item:e});default:return null}})(e)}),null!==m&&t.createElement(RQ,{index:m,items:p,showCounter:a,onChange:e=>g(e),renderItem:e=>{switch(e.dataType){case"image":return c?c(e):t.createElement(YQ,{item:e});case"video":return l?l(e):t.createElement(wZ,{item:e});case"liveStream":return u?u(e):t.createElement(FZ,{item:e});default:return null}}}))},VZ={aac:aq,avi:sq,csv:lq,doc:uq,exe:dq,gif:fq,html:hq,jpg:fq,mov:pq,mp3:mq,mp4:gq,mpeg:vq,ogg:aq,pdf:yq,ppt:bq,pptx:bq,ppx:Eq,png:fq,rar:wq,txt:Cq,xls:Sq,xlsx:Sq,zip:Tq,audio:aq,image:fq,video:vq},qZ={pptx:["openxmlformats-officedocument.presentationml"],xlsx:["openxmlformats-officedocument.spreadsheetml.sheet"]},GZ=e=>{var n=e,{file:r}=n,i=oH(n,["file"]);let{name:o,type:a}=r,s=a.toLowerCase(),l=Object.entries(qZ).find((e=>{let[,t]=e;return t.find((e=>s.includes(e)))})),c=l?l[0]:o.slice(o.lastIndexOf(".")+1),u=c in VZ?VZ[c]:cq;return t.createElement(u,rH({},i))},WZ=VV.a(_L||(_L=o(["\n  display: block;\n  position: relative;\n  border: 1px solid ",";\n  border-radius: 4px;\n  overflow: hidden;\n  text-decoration: none;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),KZ=VV.div(kL||(kL=o(["\n  position: relative;\n  display: grid;\n  grid-template-areas: 'icon name size remove';\n  grid-template-columns: minmax(min-content, 2em) auto max-content min-content;\n  grid-template-rows: 2.5em;\n  grid-gap: 0.5em;\n  padding: 0.5em;\n  align-items: center;\n"]))),YZ=VV.img.attrs({loading:"lazy"})(xL||(xL=o(["\n  grid-area: icon;\n  width: 2.5em;\n  height: 100%;\n  object-fit: contain;\n  object-position: center;\n  border: 1px solid ",";\n  border-radius: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),QZ=VV(GZ)(AL||(AL=o(["\n  grid-area: icon;\n"]))),ZZ=VV(Vq).attrs({width:14,height:14})(IL||(IL=o(["\n  fill: ",";\n  z-index: 2;\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main})),$Z=e=>t.createElement(mG,iH(rH({},e),{variant:"secondary"}),t.createElement(t.Fragment,null,t.createElement(ZZ,null)," ",t.createElement(Jy,{id:"file.reUpload"}))),XZ=VV.div(ML||(ML=o(["\n  grid-area: name;\n  padding: 0 0.5em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),JZ=VV.div(RL||(RL=o(["\n  grid-area: size;\n  ",";\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.caption}),(e=>{let{theme:t}=e;return t.palette.base.shade1})),e$=VV(xq)(LL||(LL=o(["\n  grid-area: remove;\n  z-index: 2;\n"]))),t$=e=>t.createElement(mG,iH(rH({},e),{variant:"secondary"}),t.createElement(e$,null)),n$=VV.div(DL||(DL=o(["\n  display: flex;\n"]))),r$=e=>{let{"data-qa-anchor":n="",name:r,url:i,type:o,size:a,progress:s=-1,onRemove:l,isRejected:c,onRetry:u}=e;Zy();let d=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),l&&l()}),[l]),h=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u&&u()}),[u]),f=null==o?void 0:o.includes("image");return t.createElement(WZ,{href:i,download:!0,"data-qa-anchor":n},t.createElement(KZ,null,f&&i?t.createElement(YZ,{src:i}):t.createElement(QZ,{file:{name:r||"",type:o||""}}),t.createElement(XZ,null,r)," ",t.createElement(JZ,null,MT()(a||0,{base:2})),t.createElement(n$,null,!!c&&t.createElement($Z,{onClick:h}),!!l&&t.createElement(t$,{"data-qa-anchor":"uploaders-file-remove-button",onClick:d}))),!Number.isNaN(s)&&t.createElement(LQ,{progress:100*(s||0)}))},i$=e=>{let{"data-qa-anchor":n="",file:r,progress:i=-1,onRemove:o,isRejected:a,retry:s=(()=>{})}=e;if(null==r)return null;let l=r.type.includes("image")?URL.createObjectURL(r):void 0;return t.createElement(r$,{"data-qa-anchor":n,name:r.name,size:r.size,type:r.type,url:l,progress:i,isRejected:a,onRemove:o,onRetry:()=>s()})},o$=e=>{let{"data-qa-anchor":n="",fileId:r,onRemove:i}=e,o=nK(r);if(!o)return null;let a=Ff.fileUrlWithSize(null==o?void 0:o.fileUrl,"small");return t.createElement(r$,{"data-qa-anchor":n,name:o.attributes.name,size:isNaN(Number(o.attributes.size))?0:Number(o.attributes.size),type:o.attributes.mimeType,url:a,onRemove:i})};function a$(e){return"fileId"in e?t.createElement(o$,rH({},e)):"file"in e?t.createElement(i$,rH({},e)):null}var s$=5,l$=e=>t.createElement(mG,{onClick:e},t.createElement(Jy,{id:"collapsible.viewAll"})),c$=e=>{let{items:n=[],onExpand:r=(()=>{}),visibleAmount:i=s$,renderTrigger:o=l$,renderItem:a}=e,s=i<n.length?n.slice(0,i):n,[l,c]=(0,t.useState)(i>=n.length);return l?t.createElement(t.Fragment,null,n.map((e=>a(e)))):t.createElement(t.Fragment,null,s.map((e=>a(e))),o((()=>{c(!0),r()})))},u$=VV.div(OL||(OL=o(["\n  display: grid;\n  grid-template-columns: 100%;\n  grid-gap: 0.5rem;\n"]))),d$=VV.button.attrs({role:"button"})(PL||(PL=o(["\n  color: ",";\n  font-size: 14px;\n  border: none;\n  outline: none;\n  background: none;\n  padding: 4px 0 4px 0px;\n  text-align: left;\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.highlight.main}),(e=>{let{theme:t}=e;return t.palette.highlight.main})),h$=e=>t.createElement(d$,{onClick:e},t.createElement(Jy,{id:"collapsible.viewAllFiles"})),f$=e=>{let{items:n}=e;return t.createElement(u$,{"data-qa-anchor":"post-file-list-content"},t.createElement(c$,{items:n,renderTrigger:h$,renderItem:e=>t.createElement(a$,{key:e.data.fileId,"item-qa-anchor":"post-file-item",fileId:e.data.fileId})}))},p$=VV.div(NL||(NL=o(["\n  padding: 14px 0;\n  border-radius: 4px;\n  border: 1px solid\n    ",";\n  margin-bottom: 12px;\n"])),(e=>{let{theme:t,checked:n}=e;return n?t.palette.primary.main:t.palette.base.shade4})),m$=VV.div(FL||(FL=o(["\n  padding: 12px;\n  border: 1px solid\n    ",";\n  ",";\n  border-radius: 4px;\n  margin-bottom: 12px;\n\n  > *:not(:last-child) {\n    margin-top: 8px;\n  }\n"])),(e=>{let{theme:t,checked:n}=e;return n?t.palette.primary.main:t.palette.base.shade4}),(e=>{let{checked:t,theme:n}=e;return t&&"\n    border-left: 5px solid ".concat(n.palette.primary.main,";\n  ")})),g$=VV.div(jL||(jL=o(["\n  font-weight: bold;\n"]))),v$=VV.div(BL||(BL=o(["\n  font-weight: 600;\n"]))),y$=VV.div(UL||(UL=o(["\n  display: flex;\n  justify-content: space-between;\n\n  :last-child {\n    margin-left: auto;\n  }\n\n  margin-top: 20px;\n  margin-bottom: 12px;\n"]))),b$=VV.a.attrs({role:"button"})(zL||(zL=o(["\n  display: block;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  font-weight: 600;\n\n  ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),(e=>{let{disabled:t,theme:n}=e;return t?n.palette.primary.shade2:n.palette.primary.main})),E$=VV.div(HL||(HL=o(["\n  display: flex;\n  align-items: center;\n\n  > :first-child {\n    margin-left: 14px;\n  }\n\n  > :last-child {\n    margin-left: 10px;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),w$=VV.div(VL||(VL=o(["\n  margin-left: auto;\n  color: ",";\n  font-size: 12px;\n  font-weight: 400;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2})),C$=VV.div(qL||(qL=o(["\n  position: relative;\n  width: 100%;\n  height: 14px;\n  background: ",";\n  border-radius: 8px;\n  overflow: hidden;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),S$=VV.div(GL||(GL=o(["\n  position: absolute;\n  border-radius: 8px;\n  width: ",";\n  height: 100%;\n  background: ",";\n"])),(e=>{let{percentage:t=0}=e;return"".concat(t,"%")}),(e=>{let{checked:t,theme:n}=e;return t?n.palette.primary.main:n.palette.base.shade2})),T$=VV.label(WL||(WL=o(["\n  display: grid;\n  grid-template-areas: 'label chip';\n  grid-template-columns: auto min-content;\n  grid-template-rows: auto;\n  grid-gap: 0.4rem;\n  align-items: center;\n  padding: 0.5rem 0.4rem 0.4rem;\n  border-radius: 0.2rem;\n  cursor: pointer;\n\n  &:hover {\n    background: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),_$=VV.input.attrs({type:"radio"})(KL||(KL=o(["\n  &&& {\n    appearance: none;\n    position: absolute;\n    outline: none;\n  }\n"]))),k$=UV(YL||(YL=o(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),x$=VV.div(QL||(QL=o(["\n  grid-area: chip;\n  position: relative;\n  display: inline-block;\n  width: 1.25rem;\n  height: 1.25rem;\n  border: 1px solid ",";\n  border-radius: 50%;\n\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{checked:t,theme:n}=e;return t&&"\n    background: ".concat(n.palette.system.background,";\n    border: 1px solid ").concat(n.palette.primary.main,";\n\n    &:after {\n      ").concat(k$,"\n      content: '';\n      width: .75rem;\n      height: .75rem;\n      background: ").concat(n.palette.primary.main,";\n      border-radius: 50%;\n    }\n  ")})),A$=e=>pW({fetcher:xm.getPoll,params:e,shouldCall:()=>!!e}),I$=e=>{let{data:n,onCheck:r,checked:i}=e;return t.createElement(p$,{checked:i,onClick:r},t.createElement(E$,null,t.createElement(x$,{checked:i}),t.createElement(v$,null,n)))},M$=e=>{let{data:n,voteCount:r,totalVotes:i=0,isVotedByUser:o}=e,a=r&&i?r/i*100:0;return t.createElement(m$,{checked:o},t.createElement(v$,null,n),t.createElement(C$,null,t.createElement(S$,{percentage:a,checked:o})),t.createElement("div",null,t.createElement(Jy,{id:"poll.votes",values:{voteCount:r}})))},R$=e=>{let{answers:n,handleCheck:r,answerIds:i}=e;return t.createElement(t.Fragment,null,n.map((e=>{var n=e,{id:o,data:a}=n,s=oH(n,["id","data"]);return t.createElement(I$,rH({key:o,checked:i.includes(o),onCheck:()=>r(o),data:a},s))})))},L$=e=>{let{answers:n,totalVotes:r}=e;return t.createElement(t.Fragment,null,n.map((e=>{var n=e,{id:i,data:o}=n,a=oH(n,["id","data"]);return t.createElement(M$,iH(rH({key:i,data:o},a),{totalVotes:r,isVotedByUser:!1}))})))},D$=e=>{let{pollId:n}=e,r=A$(n),[i,o]=(0,t.useState)([]),{formatMessage:a}=Zy();if(null==r)return null;let{answers:s=[],answerType:l,closedIn:c,isDeleted:u,isVoted:d,status:h}=r,f="closed"===h,p=s.reduce(((e,t)=>e+t.voteCount),0),m="multiple"===l,g=Math.floor((c||0)/864e5);return t.createElement(t.Fragment,null,t.createElement(y$,null,t.createElement(g$,null,f?t.createElement(Jy,{id:"poll.vote.finalResults"}):t.createElement(Jy,{id:"poll.vote.closedIn",values:{closedIn:g}})),t.createElement(w$,null,t.createElement(Jy,{id:"poll.votes",values:{voteCount:p}}))),f?t.createElement(L$,{answers:s}):d?t.createElement(L$,{answers:s,totalVotes:p}):t.createElement(R$,{answers:s,handleCheck:e=>{if(i.includes(e)){let t=i.findIndex((t=>t===e));o((e=>[...e.splice(0,t),...e.splice(t+1)]))}else o(m?t=>[...t,e]:[e])},answerIds:i}),!d&&t.createElement(b$,{disabled:!i.length,onClick:e=>aH(void 0,null,(function*(){if(n){if(e.preventDefault(),f||u)throw new Error(a({id:"poll.error.deletedOrClosed"}));yield xm.votePoll(n,i)}}))},t.createElement(Jy,{id:"poll.vote.submit"})))},O$=VV(HZ)(ZL||(ZL=o(["\n  margin-right: calc(-1rem - 1px);\n  margin-left: calc(-1rem - 1px);\n  width: auto;\n  // component's height / width should be about 0.56 according design\n  // why 60% not 56%? - something wrong with styles\n  padding-bottom: 60%;\n"]))),P$=["image","video","file","poll","liveStream"],N$=e=>{let{contents:n}=e,r=P$.map((e=>n.filter((t=>t.dataType===e)))).filter((e=>e&&!!e.length)).reduce(((e,t)=>iH(rH({},e),{[t[0].dataType]:t})),{});return Object.keys(r).length?t.createElement(t.Fragment,null,Object.entries(r).map((e=>{let[n,r]=e;switch(n){case"image":return t.createElement(HZ,{key:n,items:r,truncate:!0,showCounter:!0});case"video":return t.createElement(HZ,{key:n,items:r,truncate:!0,showCounter:!0,renderVideoThumbnail:e=>t.createElement(EZ,{item:e,showPlayIcon:!0,showVideoDuration:!0})});case"file":return t.createElement(f$,{key:n,items:r});case"poll":return t.createElement(t.Fragment,null,r.map((e=>t.createElement(D$,{key:n,pollId:e.data.pollId}))));case"liveStream":return t.createElement(O$,{key:n,items:r,renderLiveStreamThumbnail:e=>t.createElement(NZ,{item:e,showPlayIcon:!0,showLivestreamTitle:!0})});default:return null}}))):null},F$=VV.div($L||($L=o(["\n  padding-top: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  border: none;\n"]))),j$=VV(vK).attrs({rows:1,maxRows:15})(XL||(XL=o(["\n  outline: none;\n  border: none;\n  resize: none;\n  font: inherit;\n"]))),B$=e=>{let{text:n,placeholder:r,onChange:i,queryMentionees:o}=e;return t.createElement(F$,null,t.createElement(j$,{"data-qa-anchor":"post-editor-textarea",placeholder:r,value:n,multiline:!0,mentionAllowed:!0,queryMentionees:o,onChange:i}))},U$=e=>{let{items:n,onRemove:r}=e;return t.createElement(wQ,{items:n,renderItem:e=>{var n;return t.createElement(WQ,{fileId:null==(n=null==e?void 0:e.data)?void 0:n.fileId,onRemove:()=>r(e.postId)})}})},z$=VV((e=>{let{children:n,className:r,onRemove:i}=e;return t.createElement(ZQ,{className:r},t.createElement(bZ,null,n),t.createElement(HQ,null,!!i&&t.createElement(hZ,{onClick:e=>{e.preventDefault(),e.stopPropagation(),i()}})))}))(JL||(JL=o(["\n  background: #ebecef;\n"]))),H$=e=>{let{items:n,onRemove:r}=e,[i,o]=(0,t.useState)(void 0);return t.createElement(wQ,{itemKey:"postId",items:n,onClick:e=>o(n[e].postId),renderItem:e=>{if(i===e.postId){let n=e.data.videoFileId.high||e.data.videoFileId.medium||e.data.videoFileId.low||e.data.videoFileId.original;return n?t.createElement(dZ,{key:e.data.videoFileId.original,fileId:n,mediaFit:"cover",noBorder:!0,autoPlay:!0,onRemove:()=>r(e.postId)}):t.createElement(z$,{onRemove:()=>r(e.postId)},t.createElement(Jy,{id:"video.notReady"}))}return t.createElement(gZ,{key:e.data.thumbnailFileId,fileId:e.data.thumbnailFileId,onRemove:()=>r(e.postId)})}})},V$=VV.div(eD||(eD=o(["\n  & > * {\n    margin-bottom: 12px;\n  }\n"]))),q$=e=>{let{items:n,onRemove:r}=e;return t.createElement(V$,null,n.map((e=>{var n;return t.createElement(a$,{key:e.postId,fileId:null==(n=null==e?void 0:e.data)?void 0:n.fileId,onRemove:()=>r(e.postId)})})))},G$=["text"];var W$=e=>{if(null==e.data)return null;if(function(e){return Array.isArray(e.data)}(e)){let n=e,{onRemoveChild:r,dataType:i,data:o}=n,a=oH(n,["onRemoveChild","dataType","data"]);switch(i){case"image":return t.createElement(U$,rH({items:o,onRemove:r},a));case"video":return t.createElement(H$,rH({items:o,onRemove:r},a));case"file":return t.createElement(q$,rH({items:o,onRemove:r},a));default:return null}}if(function(e){return G$.includes(e.dataType)}(e)){let n=e,{placeholder:r,onChangeText:i,dataType:o,data:a}=n,s=oH(n,["placeholder","onChangeText","dataType","data"]);return t.createElement(B$,rH({text:a,placeholder:r||void 0,onChange:e=>null==i?void 0:i(e)},s))}let n=e,{placeholder:r,onChangeText:i,dataType:o,onRemoveChild:a,data:s}=n,l=oH(n,["placeholder","onChangeText","dataType","onRemoveChild","data"]);switch(o){case"image":return t.createElement(WQ,rH({},l));case"video":return t.createElement(dZ,rH({},l));case"file":return t.createElement(a$,rH({},l));default:return null}},K$=VV.div(tD||(tD=o(["\n  width: 520px;\n  padding: 0;\n  border: none;\n  display: flex;\n  flex-direction: column;\n  background: ",";\n  border-radius: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),Y$=VV.div(nD||(nD=o(["\n  padding: 16px;\n"]))),Q$=VV.div(rD||(rD=o(["\n  border-top: 1px solid ",";\n  padding: 12px 16px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),Z$=VV(fG)(iD||(iD=o(["\n  padding: 10px 16px;\n  margin-left: auto;\n"]))),$$=e=>{let[n,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{!function(){aH(this,null,(function*(){if(0===e.length||!e||0===(null==e?void 0:e.length))return;let t=yield dm.getPostByIds(e);r(t.data)}))}()}),[e]),n},X$=(0,t.memo)((e=>{let{postId:n,placeholder:r="What's going on...",className:i,onSave:o}=e,{post:a,markup:s,onChange:l,queryMentionees:c,childVideoPosts:u,childFilePosts:d,childImagePosts:h,handleRemoveChild:f,isEmpty:p,handleSave:m}=(e=>{let{postId:n,onSave:r}=e;var i,o;let a=xW(n),s=$$(null==a?void 0:a.children),{text:l,markup:c,mentions:u,mentionees:d,metadata:h,clearAll:f,onChange:p,queryMentionees:m}=BW({targetId:null==a?void 0:a.targetId,targetType:null==a?void 0:a.targetType,remoteText:"string"==typeof(null==a?void 0:a.data)?null==a?void 0:a.data:null==(i=null==a?void 0:a.data)?void 0:i.text,remoteMarkup:VG("string"==typeof(null==a?void 0:a.data)?null==a?void 0:a.data:null==(o=null==a?void 0:a.data)?void 0:o.text,null==a?void 0:a.metadata)}),[g,v]=(0,t.useState)([]),y=(0,t.useMemo)((()=>s.filter((e=>!g.includes(e.postId)))),[s,g]),b=""===(null==l?void 0:l.trim())&&!y.length,E=(0,t.useMemo)((()=>y.filter((e=>"file"===e.dataType))),[y]),w=(0,t.useMemo)((()=>y.filter((e=>"image"===e.dataType))),[y]),C=(0,t.useMemo)((()=>y.filter((e=>"video"===e.dataType))),[y]);return{text:l,markup:c,mentions:u,post:a,childrenPosts:y,clearAll:f,onChange:p,queryMentionees:m,childVideoPosts:C,childFilePosts:E,childImagePosts:w,handleRemoveChild:e=>{v((t=>[...t,e]))},isEmpty:b,handleSave:()=>aH(void 0,null,(function*(){g.forEach((e=>{dm.deletePost(e)})),yield dm.updatePost(a.postId,{data:{text:l},mentionees:d,metadata:h}),f(),r()}))}})({postId:n,onSave:o});return null==a?null:t.createElement(K$,{className:i},t.createElement(Y$,null,t.createElement(W$,{"data-qa-anchor":"post-editor-textarea",data:s,dataType:"text",placeholder:r,queryMentionees:c,onChangeText:l}),h.length>0&&t.createElement(W$,{data:h,dataType:"image",onRemoveChild:f}),u.length>0&&t.createElement(W$,{data:u,dataType:"video",onRemoveChild:f}),d.length>0&&t.createElement(W$,{data:d,dataType:"file",onRemoveChild:f})),t.createElement(Q$,null,t.createElement(Z$,{"data-qa-anchor":"post-editor-save-button",disabled:p,onClick:m},t.createElement(Jy,{id:"save"}))))})),J$=VV.div(oD||(oD=o(["\n  display: flex;\n  align-items: center;\n"]))),eX=VV.div(aD||(aD=o(["\n  margin-left: 8px;\n"]))),tX=VV.div(sD||(sD=o(["\n  ","\n\n  word-break: break-all;\n\n  &.clickable {\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.title})),nX=VV(QV).attrs({height:"8px",width:"8px"})(lD||(lD=o(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1})),rX=VV(Rq).attrs({height:"14px",width:"14px"})(cD||(cD=o(["\n  margin-right: 4px;\n"]))),iX=VV.div(uD||(uD=o(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px;\n  color: ",";\n  ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.captionBold})),oX=VV.div(dD||(dD=o(["\n  color: ",";\n  ","\n\n  &::before {\n    content: '\u2022 ';\n    margin-left: 4px;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.caption})),aX=VV.div(hD||(hD=o(["\n  display: flex;\n  align-items: center;\n\n  ",";\n"])),(e=>{let{showTime:t}=e;return t&&UV(fD||(fD=o(["\n      & > "," {\n        &::after {\n          content: '\u2022';\n          margin-left: 4px;\n        }\n      }\n    "])),iX)})),sX=VV.div(pD||(pD=o(["\n  display: flex;\n  align-items: center;\n\n  > :not(:first-child) {\n    margin-left: 0.25rem;\n  }\n"]))),lX=e=>{let{avatarFileUrl:n,postAuthorName:r,postTargetName:i,timeAgo:o,isModerator:a,isEdited:s,onClickCommunity:l,onClickUser:c,hidePostTarget:u,loading:d,isBanned:h}=e,f=_W("UIPostHeader");if(f)return f({avatarFileUrl:n,postAuthorName:r,postTargetName:i,timeAgo:o,isModerator:a,isEdited:s,onClickCommunity:l,onClickUser:c,hidePostTarget:u,loading:d,isBanned:h});return t.createElement(J$,{"data-qa-anchor":"post-header"},t.createElement($W,{"data-qa-anchor":"post-header-avatar",avatar:n,backgroundImage:YV,loading:d,onClick:c}),t.createElement(eX,{"data-qa-anchor":"post-header-post-info"},d?t.createElement(t.Fragment,null,t.createElement("div",null,t.createElement(WW,{width:96,style:{fontSize:8}})),t.createElement(WW,{width:189,style:{fontSize:8}})):t.createElement(t.Fragment,null,t.createElement(sX,{"data-qa-anchor":"post-header-post-names"},t.createElement(SC,{lines:3},t.createElement(tX,{"data-qa-anchor":"post-header-post-name",className:vw({clickable:!!c}),onClick:c},r)),h&&t.createElement(XW,null),i&&!u&&t.createElement(t.Fragment,null,t.createElement(nX,null),t.createElement(tX,{"data-qa-anchor":"post-header-post-target-name",className:vw({clickable:!!l}),onClick:l||void 0},i))),t.createElement(aX,{"data-qa-anchor":"post-header-additional-info",showTime:!!o},a&&t.createElement(iX,{"data-qa-anchor":"post-header-additional-info-moderator-badge"},t.createElement(rX,null)," ",t.createElement(Jy,{id:"moderator"})),o&&t.createElement(fY,{"data-qa-anchor":"post-header-additional-info-time-ago",date:o.getTime()}),s&&t.createElement(oX,{"data-qa-anchor":"post-header-additional-info-edited-label"},t.createElement(Jy,{id:"post.edited"}))))))},cX=10;function uX(e){let{targetType:t,targetId:n,feedType:r,limit:i=cX}=e,o=iQ({fetcher:dm.getPosts,params:{targetType:t,targetId:n,feedType:r,limit:i},shouldCall:()=>!!n&&!!t}),{items:a}=o,s=oH(o,["items"]);return rH({posts:a},s)}var{COMMUNITY_MODERATOR:dX}=yW;function hX(e){let t=iQ({fetcher:tm.Membership.getMembers,params:{communityId:e,roles:[dX]},shouldCall:()=>!!e}),{items:n}=t,r=oH(t,["items"]);return rH({moderators:n},r)}function fX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=iQ({fetcher:tm.Membership.getMembers,params:{communityId:e,limit:t,memberships:["member"]},shouldCall:()=>!!e}),{items:r}=n,i=oH(n,["items"]);return rH({members:r},i)}var pX=e=>{let{post:n,childrenPosts:r=[],community:i,userId:o}=e,{moderators:a}=hX(null==i?void 0:i.communityId),{members:s}=fX(null==i?void 0:i.communityId),{posts:l}=uX({targetType:"community",targetId:null==i?void 0:i.communityId,feedType:"reviewing"}),c=vW(o),u=(0,t.useMemo)((()=>!r.find((e=>"liveStream"===e.dataType||"poll"===e.dataType))),[r]),d=s.find((e=>e.userId===o)),h=a.find((e=>e.userId===o)),f=(null==n?void 0:n.postedUserId)===o,p=(0,t.useMemo)((()=>(null==i?void 0:i.postSetting)!=mc.ANYONE_CAN_POST&&null!=l.find((e=>e.postId===(null==n?void 0:n.postId)))),[i,l]),m=null!=(null==c?void 0:c.roles.find((e=>"global-admin"===e))),g=null!=h,v=null!=d;return null==i?{isPostUnderReview:!1,isModerator:!1,canEdit:(m||f)&&u,canReport:m||!f,canDelete:m||f,canReview:!1}:{isPostUnderReview:p,isModerator:g,canEdit:(m||g)&&u,canReview:m||g,canDelete:!p&&g||f&&v,canReport:p?!f:!f&&(g||v)}},mX=(0,t.memo)((e=>{let{postId:n,hidePostTarget:r,loading:i}=e,o=xW(n),a=vW(null==o?void 0:o.postedUserId),s=(e=>{let{post:t,avatarFileUrl:n,loading:r,hidePostTarget:i}=e,{onClickCommunity:o,onClickUser:a}=CW(),{formatMessage:s}=Zy(),l=vW(null==t?void 0:t.postedUserId),c=jW(null==t?void 0:t.targetId),{isModerator:u}=pX({community:c,post:t,userId:null==t?void 0:t.postedUserId}),d="community"===(null==t?void 0:t.targetType),h=d?null==c?void 0:c.displayName:null,f=d?()=>t&&o(null==t?void 0:t.targetId):null;return{avatarFileUrl:n,postAuthorName:(null==l?void 0:l.displayName)||s({id:"anonymous"}),postTargetName:h,timeAgo:new Date(null==t?void 0:t.createdAt),isModerator:u||qY(null==l?void 0:l.roles)||GY(null==l?void 0:l.roles),isEdited:new Date(null==t?void 0:t.createdAt).getTime()<new Date(null==t?void 0:t.editedAt).getTime(),isBanned:null==l?void 0:l.isGlobalBanned,hidePostTarget:i,loading:r,onClickCommunity:f,onClickUser:()=>t&&a(t.postedUserId)}})({post:o,avatarFileUrl:rK({fileId:null==a?void 0:a.avatarFileId,imageSize:"small"}),user:a,loading:i,hidePostTarget:r});return t.createElement(lX,rH({},s))})),gX=VV.div(mD||(mD=o(["\n  overflow-wrap: break-word;\n  color: ",";\n  white-space: pre-wrap;\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}),(e=>{let{theme:t}=e;return t.typography.body})),vX=VV(mG).attrs({variant:"secondary"})(gD||(gD=o(["\n  color: ",";\n  padding: 4px;\n  display: inline-block;\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),yX=e=>{let{text:n,postMaxLines:r,mentionees:i}=e,o=(0,t.useMemo)((()=>YK(n||"",zG(i))),[i,n]),a=n?t.createElement(gX,{"data-qa-anchor":"post-text-content"},t.createElement(SC.Atom,null,o.map((e=>{let r="".concat(n,"-").concat(e.start,"-").concat(e.end),o=n.substring(e.start,e.end);if(e.highlight){let n=null==i?void 0:i.find((t=>t.index===e.start));return n?t.createElement(KK,{key:r,mentionee:n},o):t.createElement("span",{key:r},o)}return t.createElement(ZK,{key:r},o)})))):null,[s,l]=(0,t.useState)(!1);return a?s?a:t.createElement(SC,{lines:r,ellipsis:t.createElement(vX,{onClick:()=>l(!0)},t.createElement(Jy,{id:"post.readMore"}))},a):null},bX=e=>{let n=_W("UITextContent");return n?n(e):t.createElement(yX,rH({},e))},EX=e=>{let{fileId:n}=e;return t.createElement(WQ,{fileId:n})},wX=e=>{let{videoFileId:n}=e,r=n.high||n.medium||n.low;return t.createElement(dZ,{fileId:r})},CX=e=>{let{fileId:n}=e;return t.createElement(a$,{fileId:n})},SX=VV.div(vD||(vD=o(["\n  margin-bottom: 0.75rem;\n\n  > :not(:first-child) {\n    margin-top: 0.75rem;\n  }\n"]))),TX=e=>{let{streamId:n,mentionees:r=[]}=e,i=CZ(n);if(null==i)return null;let o=r.map((e=>{var t,n=e,{index:r}=n,o=oH(n,["index"]);return rH({index:r>(null==(t=null==i?void 0:i.title)?void 0:t.length)?r-i.title.length-2:r},o)}));return t.createElement(SX,null,t.createElement("div",null,null==i?void 0:i.title),t.createElement(bX,{text:null==i?void 0:i.description,mentionees:o}))},_X=e=>{let{data:n,dataType:r,postMaxLines:i,mentionees:o}=e;return n&&["text","image","video","file","liveStream"].includes(r||"")?"text"===r?t.createElement(bX,iH(rH({},n),{postMaxLines:i,mentionees:o})):"image"===r?t.createElement(EX,iH(rH({},n),{postMaxLines:i,mentionees:o})):"video"===r?t.createElement(wX,iH(rH({},n),{postMaxLines:i,mentionees:o})):"file"===r?t.createElement(CX,iH(rH({},n),{postMaxLines:i,mentionees:o})):"liveStream"===r?t.createElement(TX,iH(rH({},n),{postMaxLines:i,mentionees:o})):null:null},kX=VV(dY)(yD||(yD=o(["\n  margin-left: auto;\n"]))),xX=VV((e=>{var n=e,{className:r}=n,i=oH(n,["className"]);return t.createElement("div",rH({className:vw("post",r)},i))}))(bD||(bD=o(["\n  padding: 16px;\n  padding-bottom: 8px;\n  background: ",";\n  border: 1px solid #edeef2;\n  border-radius: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),AX=VV.div(ED||(ED=o(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 14px;\n"]))),IX=VV.div(wD||(wD=o(["\n  border-top: 1px solid ",";\n  margin-top: 6px;\n  padding-top: 12px;\n  display: flex;\n\n  > * {\n    flex: 1 1 0;\n\n    &:not(:first-child) {\n      margin-left: 12px;\n    }\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),MX=()=>t.createElement(t.Fragment,null,t.createElement("div",null,t.createElement(WW,{style:{fontSize:8,maxWidth:374}})),t.createElement("div",null,t.createElement(WW,{style:{fontSize:8,maxWidth:448}})),t.createElement("div",{style:{paddingBottom:50}},t.createElement(WW,{style:{fontSize:8,maxWidth:279}}))),RX=t.memo((e=>{let{childrenPosts:n=[],className:r,handleDeletePost:i,handleReportPost:o,handleUnreportPost:a,handleApprovePost:s,handleDeclinePost:l,handleClosePoll:c,isPollClosed:u,hidePostTarget:d,isFlaggedByMe:h,readonly:f,post:p,loading:m}=e;var g,v,y;let{formatMessage:b}=Zy(),[E,w]=(0,t.useState)(!1),C=()=>w(!1);function S(e){if(e instanceof Error){if(!e.message.includes("Post has been reviewed"))throw e;LG({title:t.createElement(Jy,{id:"post.error.cannotReview.title"}),content:t.createElement(Jy,{id:"post.error.cannotReview.description"})})}}let T=null==p?void 0:p.targetId,_=jW(T),{currentUserId:k}=rW();rQ({postId:null==p?void 0:p.postId,level:Mu.POST});let[x,A]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),{canEdit:R,canReview:L,canDelete:D,canReport:O,isPostUnderReview:P}=pX({community:_,post:p,childrenPosts:n,userId:k||void 0}),N=n.find((e=>"poll"===e.dataType)),F=[R?{name:b({id:"post.editPost"}),action:()=>w(!0)}:null,D?{name:b({id:"post.deletePost"}),action:()=>RG({title:b({id:"post.deletePost"}),content:b({id:P?"post.confirmPendingDelete":"post.confirmDelete"}),okText:b({id:"delete"}),onOk:i})}:null,O?{name:b(h?{id:"report.undoReport"}:{id:"report.doReport"}),action:h?()=>aH(void 0,null,(function*(){yield null==a?void 0:a(),lG({content:t.createElement(Jy,{id:"report.unreportSent"})})})):()=>aH(void 0,null,(function*(){yield null==o?void 0:o(),lG({content:t.createElement(Jy,{id:"report.reportSent"})})}))}:null,N&&!u?{name:b({id:"poll.close"}),action:c}:null].filter(qG),j=n.length>0,B=j?3:8,U=n.find((e=>"liveStream"===e.dataType));return t.createElement(xX,{"data-qa-anchor":"post",className:r},t.createElement(AX,null,t.createElement(mX,{postId:null==p?void 0:p.postId,hidePostTarget:d,loading:m}),!m&&t.createElement(kX,{options:F,"data-qa-anchor":"post-options-button"})),m?t.createElement(MX,null):t.createElement(t.Fragment,null,t.createElement(_X,{data:null!=(g=null==U?void 0:U.data)?g:null==p?void 0:p.data,dataType:null!=(v=null==U?void 0:U.dataType)?v:null==p?void 0:p.dataType,postMaxLines:B,mentionees:null==(y=null==p?void 0:p.metadata)?void 0:y.mentioned}),j&&t.createElement(N$,{contents:n}),!P&&t.createElement(uQ,{readonly:f,postId:null==p?void 0:p.postId}),P&&L&&t.createElement(IX,{"data-qa-anchor":"post-review"},t.createElement(fG,{"data-qa-anchor":"post-review-accept-button",disabled:x||I,onClick:()=>aH(void 0,null,(function*(){try{A(!0),yield null==s?void 0:s(),lG({content:t.createElement(Jy,{id:"post.success.approved"})})}catch(e){S(e)}finally{A(!1)}}))},t.createElement(Jy,{id:"general.action.accept"})),t.createElement(mG,{"data-qa-anchor":"post-review-decline-button",disabled:x||I,onClick:()=>aH(void 0,null,(function*(){try{M(!0),yield null==l?void 0:l(),lG({content:t.createElement(Jy,{id:"post.success.declined"})})}catch(e){S(e)}finally{M(!1)}}))},t.createElement(Jy,{id:"general.action.decline"}))),E&&t.createElement(TG,{"data-qa-anchor":"post-editor-modal",title:b({id:"post.editPost"}),onCancel:C},t.createElement(X$,{postId:null==p?void 0:p.postId,onSave:C}))))})),LX=VV.div(CD||(CD=o(["\n  color: ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 5rem 0.5rem;\n  background: ",";\n  color: ",";\n  ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.typography.body})),DX=VV.div(SD||(SD=o(["\n  ","\n  margin-top: 8px;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),OX=VV.div(TD||(TD=o(["\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.body})),PX=e=>{let{className:n,icon:r,title:i,description:o,children:a}=e;return t.createElement(LX,{className:n},r,t.createElement(DX,null,i),t.createElement(OX,null,o),a)},NX=()=>t.createElement(xX,null,t.createElement(PX,{title:t.createElement(Jy,{id:"post.unknownPost.title"}),icon:t.createElement($V,null)},t.createElement(Jy,{id:"post.unknownPost.description"}))),FX={[yc.FILE]:e=>t.createElement(RX,rH({},e)),[yc.IMAGE]:e=>t.createElement(RX,rH({},e)),[yc.LIVESTREAM]:e=>t.createElement(RX,rH({},e)),[yc.POLL]:e=>t.createElement(RX,rH({},e)),[yc.TEXT]:e=>t.createElement(RX,rH({},e)),[yc.VIDEO]:e=>t.createElement(RX,rH({},e)),[yc.CUSTOM]:e=>t.createElement(RX,rH({},e))},jX=(0,t.createContext)(FX);function BX(e){let{children:n,config:r}=e,i=(0,t.useMemo)((()=>null==r?FX:rH(rH({},FX),r)),[r]);return t.createElement(jX.Provider,{value:i},n)}var UX=e=>{let{apiKey:n,apiRegion:r,apiEndpoint:i,userId:o,displayName:a,customComponents:s={},postRendererConfig:l,theme:c={},children:u,socialCommunityCreationButtonVisible:d,actionHandlers:h,onConnectionStatusChange:f,onDisconnected:p}=e,[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),b=(0,t.useRef)(null),E=(0,t.useRef)(null),w=vW(o),C=(0,t.useMemo)((()=>{var e;return{client:v||null,currentUserId:o||void 0,userRoles:null!=(e=null==w?void 0:w.roles)?e:[]}}),[v,o,null==w?void 0:w.roles]);return(0,t.useEffect)((()=>(function(){aH(this,null,(function*(){try{let e=rf.getActiveClient();y(e)}catch(e){let t=rf.createClient(n,r,i?{apiEndpoint:i}:{});y(t)}rf.isConnected()||(yield rf.login({userId:o,displayName:a},{sessionWillRenewAccessToken(e){e.renew()}})),g(!0),null==b.current&&(b.current=rf.onSessionStateChange((e=>{null==f||f(e)}))),null==E.current&&(E.current=rf.onClientDisconnected((()=>{p&&p()})))}))}(),()=>{var e,t;null==(e=b.current)||e.call(b),null==(t=E.current)||t.call(E)})),[o]),null==v?t.createElement(t.Fragment,null):m?t.createElement(FG,{locale:"en"},t.createElement(PV,{theme:JG(c)},t.createElement(eW,null,t.createElement(tW.Provider,{value:C},t.createElement(fW,null,t.createElement(kW,{config:s},t.createElement(PG,{config:{socialCommunityCreationButtonVisible:d||!0}},t.createElement(BX,{config:l},t.createElement(SW,rH({},h),u))),t.createElement(sG,null),t.createElement(MG,null))))))):t.createElement(t.Fragment,null)},zX=()=>{let[e,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{e&&(uG({content:e}),n(null))}),[e]),[n]},HX=VV.label(_D||(_D=o(["\n  cursor: pointer;\n  background: rgb(235 236 239 / 60%);\n  transition: background 0.1s;\n  border-radius: 50%;\n  width: 2rem;\n  height: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:hover,\n  &:focus,\n  &:active {\n    background: rgb(235 236 239);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n  }\n\n  > svg {\n    height: 1.125rem;\n    width: 1.125rem;\n    font-size: 1.125rem;\n  }\n"]))),VX=VV.input.attrs({type:"file"})(kD||(kD=o(["\n  &&& {\n    display: none;\n  }\n"]))),qX=e=>{let{className:n="","data-qa-anchor":r="",mimeType:i,multiple:o,disabled:a,onChange:s,onMaxFilesLimit:l,onFileSizeLimit:c,fileLimitRemaining:u=0,children:d}=e,[h]=(0,t.useState)("_".concat((Date.now()*Math.random()).toString(36))),[f,p]=(0,t.useState)(!1),m=(0,t.useCallback)((e=>e.slice(0,o?u:1)),[u,o]),g=(0,t.useCallback)((e=>(u||0)<e.length),[u]),v=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!a&&(e.dataTransfer.setData(i,h),p(!0))}),[a,i,h]),y=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),!a&&p(!1)}),[a]),b=(0,t.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),a)return;let t=e.target.files?[...e.target.files]:[],n=(e=>e.some((e=>e.size>1073741824)))(t),r=g(t),i=m(t);n?null==c||c():i.length&&(null==s||s(i)),r&&(null==l||l())}),[g,a,m,s,c,l]),E=(0,t.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),a)return;let t=(i||"").split(",").map((e=>e.replace("*",".*"))).map((e=>new RegExp(e))),n=Array.from(e.dataTransfer.files).filter((e=>t.some((t=>t.test(e.type))))),r=m(n);r.length&&(null==s||s(r)),p(!1)}),[a,m,i,s]);return t.createElement(HX,{"data-qa-anchor":"".concat(r),id:h,className:vw(n,{hover:f,disabled:a}),onDragEnter:v,onDragOver:v,onDragLeave:y,onDrop:E},t.createElement(VX,{accept:i,multiple:o,disabled:a,onChange:b,onClick:e=>{}}),d)},GX=VV.div(xD||(xD=o(["\n  border-radius: 4px;\n  border: 1px solid ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),WX=VV.div(AD||(AD=o(["\n  display: flex;\n  align-items: center;\n  padding: 8px 12px;\n  cursor: pointer;\n\n  ","\n  ","\n\n  &:hover {\n    ","\n  }\n"])),(e=>{let{hover:t,theme:n}=e;return t&&"background: ".concat(n.palette.base.shade4,";")}),(e=>{let{active:t,theme:n}=e;return t&&"color: ".concat(n.palette.primary.shade1,";")}),(e=>{let{theme:t}=e;return"background: ".concat(t.palette.base.shade4,";")})),KX=GX,YX=VV.button.attrs({role:"button"})(ID||(ID=o(["\n  color: ",";\n  font-size: 14px;\n  border: 1px solid ",";\n  outline: none;\n  background: none;\n  padding: 8px;\n  text-align: left;\n  display: flex;\n  align-items: center;\n  width: 300px;\n\n  > *:last-child {\n    margin-left: auto;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.palette.system.borders})),QX=VV.div(MD||(MD=o(["\n  word-break: break-word;\n  > * {\n    margin: 0 3px;\n  }\n"]))),ZX=e=>{let{value:n}=e;return t.createElement("div",null,n)},$X=e=>{var n=e,{placeholder:r,selected:i}=n,o=oH(n,["placeholder","selected"]);return t.createElement(YX,rH({},o),i&&i.length?t.createElement(QX,null,i.map((e=>{let{name:n,value:r}=e;return t.createElement("span",{key:r},n)}))):t.createElement("div",null,r),t.createElement(Oq,{height:14,width:14}))},XX=(0,t.memo)((e=>{let{value:n=[],onSelect:r=(()=>{}),options:i=[],multiple:o,disabled:a,parentContainer:s=null,renderItem:l=ZX,renderTrigger:c=$X,isOpen:u,handleClose:d,placeholder:h="Select...",className:f="","data-qa-anchor":p=""}=e,[m,g]=(0,t.useState)(u),[v,y]=(0,t.useState)(n),b=()=>d?d():g(!1),E=(e,t)=>{y((n=>{let r=n.filter((t=>t.value!==e.value));return t&&t(r.map((e=>e.value))),r}))};CQ("Escape",b),(0,t.useEffect)((()=>{g(u)}),[u]);let w=e=>{e.preventDefault(),g(!m)};return t.createElement(aY,{"data-qa-anchor":"".concat(p,"-select-dropdown"),isOpen:u||m,renderTrigger:e=>c(iH(rH({},e),{onClick:w,selected:v,remove:E,placeholder:h})),handleClose:b,fullSized:!0,scrollable:!0,parentContainer:s,disabled:a,className:f},i&&i.length>0&&t.createElement(KX,null,i.map((e=>t.createElement(WX,{key:e.value,"data-qa-anchor":"".concat(p,"-select-menu-item"),active:null!=v.find((t=>t.value===e.value)),onClick:()=>(e=>{if(r(e),o){let t=v.findIndex((t=>t.value===e.value));t>=0?E(v[t]):y([...v,e])}else y([e]),b()})(e)},l(e))))))})),JX=VV.div(RD||(RD=o(["\n  margin-top: 8px;\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main}),(e=>{let{theme:t}=e;return t.typography.caption})),eJ=VV.div(LD||(LD=o([""]))),tJ=VV.form(DD||(DD=o([""]))),nJ=VV.div(OD||(OD=o([""]))),rJ=VV.div(PD||(PD=o(["\n  margin-bottom: 12px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n"]))),iJ=VV(vK)(ND||(ND=o(["\n  ",";\n  outline: none;\n"])),(e=>{let{theme:t}=e;return t.typography.global})),oJ=VV.input(FD||(FD=o(["\n  ",";\n  border-radius: 4px;\n  border: 1px solid #e3e4e8;\n  padding: 10px 12px;\n  outline: none;\n  &:focus-within {\n    border-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.global}),(e=>{let{theme:t}=e;return t.palette.primary.main})),aJ=VV(oJ)(jD||(jD=o(["\n  background: ",";\n  width: 100%;\n  padding-right: 60px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),sJ=VV(iq)(BD||(BD=o([""]))),lJ=VV(mG)(UD||(UD=o(["\n  background: transparent;\n  border: none;\n  outline: none;\n"]))),cJ=VV.div(zD||(zD=o(["\n  padding: 20px 16px 16px;\n"]))),uJ=VV.div(HD||(HD=o([""]))),dJ=VV.div(VD||(VD=o(["\n  display: flex;\n  flex-direction: column;\n  ",";\n  ",";\n  margin-bottom: 20px;\n"])),(e=>{let{horizontal:t}=e;return t&&"flex-direction: row"}),(e=>{let{separate:t,theme:n}=e;return t&&"\n    border-top: 1px solid ".concat(n.palette.base.shade4,";\n    padding-top: 20px;\n  ")})),hJ=VV.div(qD||(qD=o([""]))),fJ=e=>t.createElement(rk,rH({as:JX},e)),pJ=VV.div(GD||(GD=o(["\n  border-top: 1px solid ",";\n  padding: ",";\n  display: flex;\n  justify-content: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{edit:t}=e;return t?"12px 0":"12px 16px"}),(e=>{let{edit:t}=e;return t?"flex-start":"flex-end"})),mJ=VV.label(WD||(WD=o(["\n  ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold}),(e=>{let{theme:t}=e;return"\n    &.required {\n      &::after {\n        color: ".concat(t.palette.alert.main,";\n        content: ' *';\n      }\n    }\n  ")})),gJ=VV.div(KD||(KD=o(["\n  width: 700px;\n  margin-right: 20px;\n"]))),vJ=VV.div(YD||(YD=o(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n"]))),yJ=VV.div(QD||(QD=o(["\n  width: 100%;\n"]))),bJ=VV.div(ZD||(ZD=o(["\n  display: flex;\n  width: 100%;\n"]))),EJ=VV(fG).attrs({type:"submit"})($D||($D=o(["\n  padding: 10px 16px;\n  margin-left: 12px;\n  ",";\n"])),(e=>{let{edit:t}=e;return t&&UV(XD||(XD=o(["\n      min-width: 100px;\n      margin-left: 0;\n    "])))})),wJ=VV(XX)(JD||(JD=o(["\n  button {\n    width: 100%;\n  }\n"]))),CJ=VV.div(eO||(eO=o(["\n  margin-left: auto;\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.caption})),SJ=VV.div(tO||(tO=o(["\n  position: relative;\n  width: 100%;\n\n  "," {\n    position: absolute;\n    top: 14px;\n    right: 8px;\n  }\n"])),CJ),TJ=VV.div(nO||(nO=o(["\n  margin-bottom: 8px;\n"]))),_J=VV(_q).attrs({width:15,height:15})(rO||(rO=o(["\n  font-size: 15px;\n  margin-right: 8px;\n"]))),kJ=VV.div(iO||(iO=o(["\n  margin-right: 4px;\n  display: flex;\n  align-items: center;\n"]))),xJ=VV(XV).attrs({height:30,width:20})(oO||(oO=o([""]))),AJ=VV(kq).attrs({height:15,width:15})(aO||(aO=o(["\n  font-size: 15px;\n  margin-right: 4px;\n"]))),IJ=VV.div(sO||(sO=o(["\n  border: 1px solid #ebecef;\n  border-radius: 8px;\n  background: ",";\n  flex-shrink: 0;\n  align-self: flex-start;\n  padding: 20px;\n  margin-bottom: 14px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),MJ=VV.div(lO||(lO=o(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 16px;\n"]))),RJ=VV($W)(cO||(cO=o(["\n  height: 120px;\n  width: 120px;\n  margin-right: auto;\n"]))),LJ=VV.div(uO||(uO=o(["\n  display: flex;\n  gap: 8px;\n  margin-right: 8px;\n\n  > button {\n    min-width: 136px;\n    height: 40px;\n  }\n"]))),DJ=VV.div(dO||(dO=o(["\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),OJ=VV.span(hO||(hO=o(["\n  ",";\n  margin-right: 2px;\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),PJ=VV(OJ)(fO||(fO=o(["\n  &:hover {\n    cursor: pointer;\n  }\n  margin-right: 3px;\n"]))),NJ=VV.div(pO||(pO=o(["\n  display: flex;\n\n  > *:not(:first-child) {\n    margin-left: 10px;\n  }\n"]))),FJ=VV.div(mO||(mO=o(["\n  margin: 8px 0;\n"]))),jJ=VV(dY)(gO||(gO=o(["\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 10px;\n    border: 1px solid #e3e4e8;\n    border-radius: 4px;\n    height: 40px;\n    width: 40px;\n\n    > * {\n      margin: 0;\n    }\n  }\n"]))),BJ=VV.div(vO||(vO=o(["\n  background: ",";\n  display: flex;\n  border-radius: 4px;\n  padding: 12px 20px;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 20px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),UJ=VV.div(yO||(yO=o(["\n  font-weight: 600;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n\n  > *:first-child {\n    margin-right: 5px;\n  }\n"]))),zJ=VV.div(bO||(bO=o(["\n  font-size: 12px;\n"]))),HJ=VV.div(EO||(EO=o(["\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),VJ=VV.div(wO||(wO=o(["\n  display: flex;\n  align-items: center;\n"]))),qJ=e=>{let{option:n,removeOption:r,updateOption:i}=e,[o,a]=(0,t.useState)(n.text);return t.createElement(rJ,null,t.createElement(SJ,null,t.createElement(aJ,{"data-qa-anchor":"poll-composer-option-item-input",value:o,maxLength:200,onChange:e=>{a(e.target.value),i(e.target.value)}}),t.createElement(CJ,null,"".concat(o.length,"/").concat(200))),t.createElement(lJ,{"data-qa-anchor":"poll-composer-option-item-close-button",onClick:r},t.createElement(sJ,{height:16})))},GJ=e=>{let{onChange:n,optionsLimit:r}=e,[i,o]=(0,t.useState)([]),a=!r||r&&i.length<r,s=e=>{n(e.map((e=>{let{text:t}=e;return{dataType:"text",data:t}})))};return t.createElement(nJ,null,t.createElement(TJ,null,t.createElement(Jy,{id:"options_composer.title"})),i.map((e=>t.createElement(qJ,{key:e.id,option:e,removeOption:()=>(e=>{let t=i.findIndex((t=>t.id===e)),n=[...i.slice(0,t),...i.slice(t+1)];o(n),s(n)})(e.id),updateOption:t=>((e,t)=>{let n=i.map((n=>n.id===e?iH(rH({},n),{text:t}):n));o(n),s(n)})(e.id,t)}))),t.createElement("div",null,t.createElement(mG,{"data-qa-anchor":"poll-composer-add-option-button",fullWidth:!0,disabled:!a,onClick:e=>{e.preventDefault(),(()=>{if(a){let e=[...i,{text:"",id:dk()}];o(e),s(e)}})()}},t.createElement(_J,null)," ",t.createElement(Jy,{id:"options_composer.button.add"}))))},WJ=VV.div(CO||(CO=o(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n"]))),KJ=VV.div(SO||(SO=o(["\n  font-size: 16px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n"]))),YJ=VV.button(TO||(TO=o(["\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &:not(:disabled) {\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"]))),QJ=VV(nq).attrs({width:24,height:24})(_O||(_O=o(["\n  font-size: 24px;\n"]))),ZJ=VV(_q).attrs({width:24,height:24})(kO||(kO=o(["\n  font-size: 24px;\n"]))),$J="{counter}",XJ=e=>{let{icon:n=null,onClick:r,disabled:i}=e;return t.createElement(YJ,{disabled:i,onClick:r},n)},JJ=e=>{let{output:n=""}=e;return t.createElement(KJ,null,n)},e0=e=>{let{renderDecButton:n=XJ,renderIncButton:r=XJ,renderResult:i=JJ,resultFormat:o="{counter}",defaultValue:a=0,onChange:s,onlyPositiveNumber:l=!0}=e,[c,u]=(0,t.useState)(a);return t.createElement(WJ,null,n({onClick:e=>{e.preventDefault();let t=c-1;u(t),s(t)},icon:t.createElement(QJ,null),disabled:l&&c-1<0}),i({output:o.replace($J,c)}),r({onClick:e=>{e.preventDefault();let t=c+1;u(t),s(t)},icon:t.createElement(ZJ,null)}))},t0=e=>{let{onChange:n,parentContainer:r=null}=e,{formatMessage:i}=Zy(),o=Object.values(["single","multiple"]).map((e=>({name:i({id:"select.answerType.item"},{answerType:e}),value:e})));return t.createElement(wJ,{options:o,value:[o[0]],parentContainer:r,renderItem:e=>{let{name:n}=e;return t.createElement("div",null,n)},onSelect:e=>{let{value:t}=e;return n(t)}})},n0=10,r0=e=>{let{children:n}=e;return t.createElement(uJ,null,t.createElement(cJ,null,n))},i0=e=>{let{className:n="",targetId:r,targetType:i,onCancel:o=(()=>{}),onSubmit:a=((e,t,n)=>{}),onIsDirtyChange:s}=e;var l;let{text:c,markup:u,mentions:d,mentionees:h,metadata:f,queryMentionees:p,onChange:m}=BW({targetId:r||void 0,targetType:i}),[g,v]=(0,t.useState)(!1),{handleSubmit:y,setError:b,watch:E,control:w,formState:{errors:C,isDirty:S}}=tk({defaultValues:{question:"",answers:[],answerType:"single",closedIn:0}}),{formatMessage:T}=Zy(),_=E("question",""),k=E("answers",[]);(0,t.useEffect)((()=>null==s?void 0:s(S)),[S]);let x=!S||0===(null==_?void 0:_.length)||g,A=(0,t.useRef)(null);return t.createElement(eJ,null,t.createElement(tJ,{className:n,onSubmit:y((e=>aH(void 0,null,(function*(){var t,n,r;try{if(v(!0),!e.question.trim())return void b("question",{message:"Question cannot be empty"});if((null==(t=null==e?void 0:e.answers)?void 0:t.length)<2)return void b("answers",{message:"Minimum amount of answers should be ".concat(2)});if((null==(n=null==e?void 0:e.answers)?void 0:n.length)>n0)return void b("answers",{message:"Maximum amount of answers should be ".concat(n0)});let i={question:null==e?void 0:e.question,answers:null!=(r=null==e?void 0:e.answers)&&r.length?e.answers:[],answerType:(null==e?void 0:e.answerType)||"single",closedIn:e&&e.closedIn?864e5*e.closedIn:void 0};yield a(i,h,f)}finally{v(!1)}}))))},t.createElement(hJ,{ref:A},t.createElement(r0,null,t.createElement(dJ,null,t.createElement(vJ,null,t.createElement(gJ,null,t.createElement(mJ,{className:"required"},t.createElement(Jy,{id:"poll_composer.question.label"}))),t.createElement(CJ,null,"".concat(null!=(l=null==c?void 0:c.length)?l:0,"/").concat(500))),t.createElement(p_,{control:w,name:"question",rules:{required:"Question is required",maxLength:{value:500,message:"Question is too long"}},render:e=>{var{field:n}=e,r=n,{value:i,ref:o,onChange:a}=r,s=oH(r,["value","ref","onChange"]);return t.createElement(iJ,iH(rH({},s),{ref:o,"data-qa-anchor":"poll-composer-options-textarea",mentionAllowed:!0,multiline:!0,value:u,queryMentionees:p,placeholder:T({id:"poll_composer.question.placeholder"}),onChange:e=>{var n=e,{plainText:r,mentions:i}=n,o=oH(n,["plainText","mentions"]);if((null==i?void 0:i.length)>30)return LG({title:t.createElement(Jy,{id:"pollComposer.unableToMention"}),content:t.createElement(Jy,{id:"pollComposer.overMentionees"}),okText:t.createElement(Jy,{id:"pollComposer.okText"}),type:"info"});m(rH({plainText:r,mentions:i},o)),a(r)}}))}}),t.createElement(fJ,{errors:C,name:"question"})),t.createElement(dJ,null,t.createElement(vJ,null,t.createElement(gJ,null,t.createElement(mJ,{className:"required"},t.createElement(Jy,{id:"poll_composer.poll_options.label"}))),t.createElement(CJ,null,"".concat(k.length,"/").concat(n0))),t.createElement(p_,{rules:{required:"There should be at least ".concat(2," answers"),minLength:{value:2,message:"There should be at least ".concat(2," answers")},maxLength:{value:n0,message:"There can be only ".concat(n0," answers maximum")}},name:"answers",control:w,render:e=>{let{field:n}=e;return t.createElement(GJ,rH({optionsLimit:n0},n))}}),t.createElement(fJ,{errors:C,name:"answers"})),t.createElement(dJ,{horizontal:!0,separate:!0},t.createElement(bJ,null,t.createElement(gJ,null,t.createElement(mJ,null,t.createElement(Jy,{id:"poll_modal.answer_type.title"})),t.createElement("div",null,t.createElement(Jy,{id:"poll_modal.answer_type.body"}))),t.createElement(yJ,null,t.createElement(p_,{rules:{required:"Answer type is required"},name:"answerType",render:e=>{let{field:n}=e;return t.createElement(t0,rH({parentContainer:A.current},n))},control:w})))),t.createElement(dJ,{horizontal:!0,separate:!0},t.createElement(bJ,null,t.createElement(gJ,null,t.createElement(mJ,null,t.createElement(Jy,{id:"poll_modal.closed_in.title"})),t.createElement("div",null,t.createElement(Jy,{id:"poll_modal.closed_in.body"}))),t.createElement(yJ,null,t.createElement(p_,{name:"closedIn",render:e=>{let{field:n}=e;return t.createElement(e0,iH(rH({},n),{onlyPositiveNumber:!0,resultFormat:"".concat($J," days")}))},control:w})))))),t.createElement(pJ,null,t.createElement(mG,{onClick:e=>{e.preventDefault(),o()}},t.createElement(Jy,{id:"cancel"})),t.createElement(EJ,{"data-qa-anchor":"poll-composer-post-button",disabled:x},t.createElement(Jy,{id:"post"})))))},o0=e=>{let{targetId:n,targetType:r,onClose:i,onCreatePoll:o}=e,[a,s]=(0,t.useState)(!1),{formatMessage:l}=Zy(),c=()=>RG({title:l({id:"CommunityCreationModal.title"}),content:l({id:"CommunityCreationModal.content"}),cancelText:l({id:"CommunityCreationModal.cancelText"}),okText:l({id:"CommunityCreationModal.okText"}),onOk:i});return t.createElement(TG,{"data-qa-anchor":"poll-composer-modal",title:l({id:"poll_modal.title"}),clean:!1,onCancel:a?c:i},t.createElement(i0,{targetId:n,targetType:r,onIsDirtyChange:e=>s(e),onCancel:c,onSubmit:(e,t,n)=>aH(void 0,null,(function*(){let r=yield xm.createPoll(e);yield o(r.data.pollId,e.question,t,n),i()}))}))},a0=VV((e=>{var n=e,{className:r,fixed:i=!1,children:o}=n,a=oH(n,["className","fixed","children"]);return t.createElement(Ck.Popover,rH({containerClassName:vw(r,{fixed:i})},a),o)}))(xO||(xO=o(["\n  ","\n  z-index: 10000;\n  background: ",";\n  min-width: 200px;\n  padding: 4px 0;\n  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n\n  &.fixed {\n    position: fixed !important;\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.system.background})),s0=a0,l0=VV($W)(AO||(AO=o(["\n  margin-right: 8px;\n"]))),c0=e=>{let{"data-qa-anchor":n="",community:r,currentTargetId:i,onChange:o,onClose:a}=e,s=rK({fileId:r.avatarFileId,imageSize:"small"});return t.createElement(WX,{"data-qa-anchor":n,active:r.communityId===i,onClick:()=>{o({targetId:r.communityId,targetType:"communityFeed"}),a()}},t.createElement(l0,{avatar:s,size:"tiny",backgroundImage:KV})," ".concat(r.displayName))},u0=e=>{let n=_W("CommunityItem");return n?n(e):t.createElement(c0,rH({},e))},d0=VV(Zq).attrs({width:18,height:18})(IO||(IO=o(["\n  font-size: 18px;\n  margin-right: 8px;\n  margin-top: -4px;\n"]))),h0=VV.div(MO||(MO=o(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n"]))),f0=VV.div(RO||(RO=o(["\n  ","\n  border-top: 1px solid #e3e4e8;\n  color: ",";\n  padding: 12px;\n"])),(e=>{let{theme:t}=e;return t.typography.caption}),(e=>{let{theme:t}=e;return t.palette.base.shade1})),p0=VV.div(LO||(LO=o(["\n  position: relative;\n  max-width: 200px;\n  height: ","px;\n  overflow: auto;\n"])),350),m0=VV.h4(DO||(DO=o(["\n  text-align: center;\n"]))),g0=VV(s0)(OO||(OO=o(["\n  transform: none !important;\n  position: absolute !important;\n  top: 45px !important;\n"]))),v0=e=>{let{user:n,communities:r,hasMoreCommunities:i,loadMoreCommunities:o,currentTargetId:a,onChange:s,children:l}=e,c=(0,t.useRef)(null),[u,d]=(0,t.useState)(!1),h=()=>d(!1),f=rK({fileId:n.avatarFileId}),p=(0,t.useCallback)((()=>{null==o||o()}),[o]),m=t.createElement(KX,null,t.createElement(WX,{active:n.userId===a,onClick:()=>{s({targetId:n.userId,targetType:"user"}),h()}},t.createElement(l0,{size:"tiny",avatar:n.avatarCustomUrl||f,backgroundImage:YV})," ",t.createElement(Jy,{id:"post.myTimeline"})),t.createElement(f0,null,t.createElement(Jy,{id:"post.community"})),t.createElement(p0,null,t.createElement(bk,{dataLength:r.length,next:()=>p(),hasMore:i||!1,height:350,loader:t.createElement(m0,null,t.createElement(Jy,{id:"loading"})),scrollThreshold:.98},r.map((e=>t.createElement(u0,{key:e.communityId,"data-qa-anchor":"post-creator-post-target-community-item",community:e,currentTargetId:a,onChange:s,onClose:h}))))));return t.createElement("div",{ref:c,style:{position:"relative"}},t.createElement(g0,{isOpen:u,positions:["bottom"],align:"start",content:m,parentElement:c.current||void 0,onClickOutside:h},t.createElement(h0,{onClick:()=>d(!0)},l," ",t.createElement(d0,{"data-qa-anchor":"post-creator-target-selector"}))))},y0=e=>{let n=_W("PostTargetSelector");return n?n(e):t.createElement(v0,rH({},e))},b0=VV($W)(PO||(PO=o(["\n  margin-right: 8px;\n"]))),E0=VV.div(NO||(NO=o(["\n  padding: 16px 20px 12px 16px;\n  border: 1px solid #edeef2;\n  display: flex;\n  background: ",";\n  border-radius: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),w0=VV.div(FO||(FO=o(["\n  padding-top: 12px;\n  display: flex;\n  align-items: center;\n\n  & > :not(:last-child) {\n    margin-right: 0.5rem;\n  }\n"]))),C0=VV.div(jO||(jO=o(["\n  flex-grow: 1;\n  width: 85.5%;\n"]))),S0=VV(fG)(BO||(BO=o(["\n  padding: 10px 16px;\n  margin-left: auto;\n"]))),T0=VV.div(UO||(UO=o(["\n  padding: 0 12px;\n"]))),_0=VV(vK)(zO||(zO=o(["\n  display: block;\n  & > textarea {\n    width: 100%;\n  }\n"]))),k0=VV(eq)(HO||(HO=o(["\n  vertical-align: -0.125em;\n"]))),x0=VV.button(VO||(VO=o(["\n  background: none;\n  border: none;\n  padding: 0;\n"]))),A0=VV(rq)(qO||(qO=o([""]))),I0=VV(qX)(GO||(GO=o(["\n  ","\n  ","\n"])),(e=>{let{uploadLoading:t}=e;return t&&"cursor: wait !important;"}),(e=>{let{disabled:t,theme:n}=e;return t&&"color: ".concat(n.palette.neutral.shade2,";")})),M0=e=>{let{fileUploadDisabled:n,imageUploadDisabled:r,videoUploadDisabled:i,onChangeImages:o,onChangeVideos:a,onChangeFiles:s,uploadLoading:l,onMaxFilesLimit:c,onFileSizeLimit:u,fileLimitRemaining:d}=e;return t.createElement(t.Fragment,null,t.createElement(I0,{"data-qa-anchor":"post-creator-image-attachment-button",disabled:r,uploadLoading:l,fileLimitRemaining:d,mimeType:"image/*",multiple:!0,onChange:o,onMaxFilesLimit:c,onFileSizeLimit:u},t.createElement(Lq,null)),t.createElement(I0,{"data-qa-anchor":"post-creator-video-attachment-button",disabled:i,uploadLoading:l,fileLimitRemaining:d,mimeType:"video/*,.flv,.3gp",multiple:!0,onChange:e=>{e.forEach((e=>{e.forceType=pc.VIDEO})),null==a||a(e)},onMaxFilesLimit:c,onFileSizeLimit:u},t.createElement(k0,{icon:"video"})),t.createElement(I0,{"data-qa-anchor":"post-creator-file-attachment-button",disabled:n,uploadLoading:l,fileLimitRemaining:d,multiple:!0,onChange:s,onMaxFilesLimit:c,onFileSizeLimit:u},t.createElement(Dq,null)))};function R0(e){return void 0!==e.fileId}var L0=e=>R0(e)?e.updatedAt?new Date(e.updatedAt).getTime():Date.now():e.lastModified;function D0(e){let{files:n=[],uploadedFiles:r=[],onChange:i=(e=>{}),onLoadingChange:o=(e=>{}),onError:a=(e=>{})}=e,[s,l]=(0,t.useState)({}),[c,u]=(0,t.useState)([]),d=(0,t.useMemo)((()=>Array.isArray(n)?n:Array.from(n)),[n]);(0,t.useEffect)((()=>{l(d.reduce(((e,t)=>iH(rH({},e),{[t.name]:0})),{}))}),[d]);let h=(0,t.useCallback)(((e,t)=>{let n=t<=.999?t:1;l((t=>iH(rH({},t),{[e.name]:n})))}),[]),f=(0,t.useCallback)((()=>{i({uploaded:[],uploading:[]})}),[i]),p=(0,t.useCallback)((()=>{u([])}),[]),m=(0,t.useCallback)((e=>{if(R0(e)){let t=r.filter((t=>t.fileId!==e.fileId));i({uploaded:t,uploading:d})}else{let t=d.filter((t=>t.name!==e.name));i({uploaded:r,uploading:t})}}),[i]);return(0,t.useEffect)((()=>{d.length&&function(){aH(this,null,(function*(){o(!0);try{let e=yield Promise.all(d.map((e=>aH(this,null,(function*(){let t=new FormData;t.append("files",e);let n=yield aH(this,null,(function*(){return e.type.includes(pc.VIDEO)?Ff.createVideo(t,void 0,(t=>{h(e,t)})):e.type.includes(pc.IMAGE)?Ff.createImage(t,(t=>{h(e,t)})):Ff.createFile(t,(t=>{h(e,t)}))}));return n.data.length>0?n.data[0]:null})))));l({});let t=[...r,...e].filter(qG);i({uploaded:t,uploading:[]}),u([])}catch(e){u(d.map((e=>e.name))),a("Something went wrong. Please try uploading again.")}finally{o(!1)}}))}()}),[d]),{allFiles:[...r,...d],uploading:d,uploaded:r,progress:s,removeFile:m,reset:f,rejected:c,retry:p}}var O0=VV(wQ)(WO||(WO=o(["\n  ","\n"])),(e=>{let{uploadLoading:t}=e;return t&&UV(KO||(KO=o(["\n      cursor: wait !important;\n    "])))})),P0=e=>{let{allFiles:n,progress:r,removeFile:i,uploadLoading:o,rejected:a,retry:s}=e;return t.createElement(O0,{items:n,uploadLoading:o,renderItem:e=>{if(!R0(e))return t.createElement(WQ,{key:null==e?void 0:e.name,"data-qa-anchor":"post-creator-uploaded-image",file:e,progress:r[null==e?void 0:e.name],isRejected:a.includes(null==e?void 0:e.name)});let{fileId:n}=e;return t.createElement(WQ,{key:n,fileId:n,"data-qa-anchor":"post-creator-uploaded-image",onRemove:()=>i(e)})}})},N0=e=>{let{files:n,uploadedFiles:r,onChange:i,onLoadingChange:o,uploadLoading:a,onError:s}=e,l=D0({files:n,uploadedFiles:r,onChange:i,onLoadingChange:o,onError:s}),{allFiles:c}=l;return 0===c.length?null:t.createElement(P0,iH(rH({},l),{uploadLoading:a}))},F0=VV.div(YO||(YO=o(["\n  display: grid;\n  grid-template-columns: 100%;\n  grid-gap: 0.5em;\n  min-height: 1em;\n  margin-bottom: 1rem;\n  ","\n"])),(e=>{let{uploadLoading:t}=e;return t&&"cursor: wait !important;"})),j0=e=>{let{uploading:n,uploaded:r,progress:i,removeFile:o,uploadLoading:a,rejected:s,retry:l,rowDataQaAnchor:c}=e;return t.createElement(F0,{uploadLoading:a},r.map((e=>t.createElement(a$,{key:e.fileId,"data-qa-anchor":c,fileId:e.fileId,onRemove:()=>o(e)}))),n.map((e=>t.createElement(a$,{key:e.name,"data-qa-anchor":c,file:e,progress:i[e.name],isRejected:s.includes(e.name),onRemove:()=>o(e)}))))},B0=e=>{let{files:n,uploadedFiles:r,onChange:i,onLoadingChange:o,uploadLoading:a,onError:s,rowDataQaAnchor:l="post-creator-uploaded-file"}=e,c=D0({files:n,uploadedFiles:r,onChange:i,onLoadingChange:o,onError:s}),{allFiles:u}=c;return 0===u.length?null:t.createElement(j0,iH(rH({},c),{uploadLoading:a,rowDataQaAnchor:l}))},U0=e=>t.createElement(B0,iH(rH({},e),{rowDataQaAnchor:"post-creator-uploaded-video"})),z0=10,H0=(0,t.memo)((e=>{let{className:n="",targetType:r,targetId:i,enablePostTargetPicker:o,communities:a=[],placeholder:s="What's going on...",hasMoreCommunities:l,loadMoreCommunities:c,onCreateSuccess:u,maxFiles:d=z0}=e;var h,f;let{currentUserId:p}=rW(),{setNavigationBlocker:m}=CW(),g=vW(p);("global"===r||"myFeed"===r)&&(r="user",i=p||"");let[v,y]=(0,t.useState)({targetType:r,targetId:i}),{user:b,community:E}=(e=>{let{targetId:n,targetType:r}=e,[i,o]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),l=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(null!=n&&""!==n)return l.current&&l.current(),("communityFeed"===r||"community"===r)&&(l.current=tm.getCommunity(n,(e=>{o(e.data)}))),l.current=Df.getUser(n,(e=>{s(e.data)})),()=>{var e;null==(e=l.current)||e.call(l)}}),[n,r]),{community:i,user:a}})({targetId:v.targetId,targetType:v.targetType}),{moderators:w}=hX(null==E?void 0:E.communityId);(0,t.useEffect)((()=>{y({targetType:r,targetId:i})}),[r,i]);let C=rK({fileId:(null==b?void 0:b.avatarFileId)||(null==E?void 0:E.avatarFileId)||""}),[S,T]=(0,t.useState)([]),[_,k]=(0,t.useState)([]),[x,A]=(0,t.useState)([]),[I,M]=(0,t.useState)([]),[R,L]=(0,t.useState)([]),[D,O]=(0,t.useState)([]),[P,N]=(0,t.useState)(!1),[F]=zX(),{mentionees:j,metadata:B,text:U,markup:z,onChange:H,queryMentionees:V,clearAll:q}=BW({targetType:v.targetType,targetId:v.targetId||void 0}),[G,W]=(0,t.useState)(!1);let K="community"===v.targetType?KV:YV,Y=t.createElement(b0,{avatar:(null==b?void 0:b.avatarCustomUrl)||C||void 0,backgroundImage:K}),Q=!U&&0===S.length&&0===_.length&&0===x.length||P||G,Z=!(!U&&0===S.length&&0===_.length&&0===x.length);(0,t.useEffect)((()=>{Z?null==m||m({title:t.createElement(Jy,{id:"post.discard.title"}),content:t.createElement(Jy,{id:"post.discard.content"}),okText:t.createElement(Jy,{id:"general.action.discard"})}):null==m||m(null)}),[Z,m]);let[$,X]=(0,t.useState)(!1),J=null!=(h=null==v?void 0:v.targetType)?h:r,ee=null!=(f=null==v?void 0:v.targetId)?f:i;return t.createElement(E0,{className:vw("postComposeBar",n)},$&&t.createElement(o0,{targetId:ee||void 0,targetType:J,onCreatePoll:(e,t,n,r)=>aH(void 0,null,(function*(){ee&&(yield dm.createPost({targetId:ee,targetType:J,data:{pollId:e,text:t},dataType:"poll",mentionees:n,metadata:r}))})),onClose:()=>X(!1)}),o&&g?t.createElement(y0,{user:g,communities:a,hasMoreCommunities:l,loadMoreCommunities:c,currentTargetId:v.targetId,onChange:y},Y):Y,t.createElement(C0,null,t.createElement(_0,{"data-qa-anchor":"post-creator-textarea",multiline:!0,value:z,placeholder:s,mentionAllowed:!0,queryMentionees:V,loadMoreMentionees:e=>V(e),append:t.createElement(T0,null,t.createElement(N0,{files:I,uploadedFiles:S,uploadLoading:P,onLoadingChange:N,onChange:e=>{let{uploaded:t,uploading:n}=e;T(t),M(n)},onError:F}),t.createElement(U0,{files:R,uploadedFiles:_,uploadLoading:P,onLoadingChange:N,onChange:e=>{let{uploaded:t,uploading:n}=e;k(t),L(n)},onError:F}),t.createElement(B0,{files:D,uploadedFiles:x,uploadLoading:P,onLoadingChange:N,onChange:e=>{let{uploaded:t,uploading:n}=e;A(t),O(n)},onError:F})),onChange:e=>{let{text:n,plainText:r,mentions:i}=e;if((null==i?void 0:i.length)>30)return LG({title:t.createElement(Jy,{id:"postCreator.unableToMention"}),content:t.createElement(Jy,{id:"postCreator.overMentionees"}),okText:t.createElement(Jy,{id:"postCreator.okText"}),type:"info"});H({text:n,plainText:r,mentions:i})}}),t.createElement(w0,{"data-qa-anchor":"post-creator-footer"},t.createElement(M0,{imageUploadDisabled:x.length>0||_.length>0||P,videoUploadDisabled:x.length>0||S.length>0||P,fileUploadDisabled:S.length>0||_.length>0||P,fileLimitRemaining:d-x.length-S.length-_.length,uploadLoading:P,onChangeImages:e=>M(e),onChangeVideos:L,onChangeFiles:O,onMaxFilesLimit:()=>{cG({content:t.createElement(Jy,{id:"upload.attachmentLimit",values:{maxFiles:d}})})},onFileSizeLimit:()=>{cG({content:t.createElement(Jy,{id:"upload.fileSizeLimit"})})}}),t.createElement(x0,{"data-qa-anchor":"post-creator-poll-button",onClick:()=>X(!0)},t.createElement(HX,null,t.createElement(A0,null))),t.createElement(S0,{disabled:Q,"data-qa-anchor":"post-creator-post-button",onClick:function(){return aH(this,null,(function*(){var e;if(v.targetId)try{W(!0);let n={},r=[];if(U&&(n.text=U),S.length&&r.push(...S.map((e=>({fileId:e.fileId,type:pc.IMAGE})))),_.length&&r.push(..._.map((e=>({fileId:e.fileId,type:pc.VIDEO})))),x.length&&r.push(...x.map((e=>({fileId:e.fileId,type:pc.FILE})))),null!=(e=n.text)&&e.length&&n.text.length>5e4)return void LG({title:t.createElement(Jy,{id:"postCreator.unableToPost"}),content:t.createElement(Jy,{id:"postCreator.overCharacter"}),okText:t.createElement(Jy,{id:"postCreator.done"}),type:"info"});let i={targetId:v.targetId,targetType:v.targetType,data:n,dataType:"text",attachments:r,metadata:B,mentionees:j},o=(yield dm.createPost(i)).data;if(null==u||u(o),q(),T([]),k([]),A([]),M([]),L([]),O([]),E){let e=null!=(w||[]).find((e=>e.userId===o.postedUserId));E.postSetting===mc.ADMIN_REVIEW_POST_REQUIRED&&!e&&lG({content:t.createElement(Jy,{id:"post.success.submittedToReview"})})}}finally{W(!1)}}))}},t.createElement(Jy,{id:"post"})))))})),V0=e=>{let[n,r]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),{currentUserId:a}=rW(),s=(null==e?void 0:e.postId)||void 0,l=(0,t.useMemo)((()=>(null==e?void 0:e.creatorId)===a),[e,a]);(0,t.useEffect)((()=>{!s||l||dm.isPostFlaggedByMe(s).then((e=>{o(e),r(!1)}))}),[s]);let c=()=>aH(void 0,null,(function*(){if(null!=s&&!l)try{o(!0),yield dm.flagPost(s)}catch(e){o(!1)}})),u=()=>aH(void 0,null,(function*(){if(null!=s&&!l)try{o(!1),yield dm.unflagPost(s)}catch(e){o(!0)}}));return{isLoading:n,isFlaggedByMe:i,isUnableToFlag:l,flagPost:c,unflagPost:u,toggleFlagPost:()=>aH(void 0,null,(function*(){null==s||l||(i?u():c())}))}},q0=e=>{let{postId:n,className:r,hidePostTarget:i,readonly:o,onDeleted:a}=e;var s;let l=xW(n),c=vW(null==l?void 0:l.postedUserId),u=rK({fileId:null==c?void 0:c.avatarFileId,imageSize:"small"}),d=$$(null==l?void 0:l.children),{userRoles:h}=rW(),{isFlaggedByMe:f,toggleFlagPost:p}=V0(l),m=(e=>{let n=(0,t.useContext)(jX);return(0,t.useMemo)((()=>null==e?e=>null:n[e]||FX[e]||(e=>t.createElement(NX,null))),[e])})(null==l?void 0:l.dataType),{currentUserId:g}=rW();rQ({postId:n,level:Mu.POST}),lQ({targetType:null==l?void 0:l.targetType,targetId:null==l?void 0:l.targetId,shouldSubscribe:()=>!!l});let v=(d||[]).find((e=>"poll"===e.dataType)),y=A$(null==(s=null==v?void 0:v.data)?void 0:s.pollId),b="closed"===(null==y?void 0:y.status);return null==l||null==m?t.createElement(RX,{loading:!0}):t.createElement(t.Fragment,null,m({childrenPosts:d||[],handleClosePoll:()=>aH(void 0,null,(function*(){null!=y&&(yield xm.closePoll(y.pollId))})),isPollClosed:b,avatarFileUrl:u,user:c,poll:y,className:r,currentUserId:g||void 0,hidePostTarget:i,post:l,userRoles:h,readonly:o,isFlaggedByMe:f,handleReportPost:p,handleUnreportPost:p,handleApprovePost:()=>aH(void 0,null,(function*(){null!=l&&(yield dm.approvePost(l.postId))})),handleDeclinePost:()=>aH(void 0,null,(function*(){null!=l&&(yield dm.declinePost(l.postId))})),handleDeletePost:()=>aH(void 0,null,(function*(){null!=l&&(yield dm.deletePost(l.postId),null==a||a(l.postId))}))}))},G0=(0,t.memo)((e=>{let n=_W("Post");return n?n(e):t.createElement(q0,rH({},e))})),W0=VV(Yq).attrs({width:48,height:48})(QO||(QO=o(["\n  font-size: 48px;\n  margin: 10px;\n"]))),K0=VV(mG)(ZO||(ZO=o(["\n  font-size: 14px;\n  margin-top: 8px;\n"]))),Y0=VV(Iq).attrs({width:16,height:16})($O||($O=o(["\n  font-size: 16px;\n  margin-right: 6px;\n"]))),Q0=e=>{switch(e){case"globalFeed":case"global":default:return()=>"feed.emptyFeed";case"communityFeed":case"community":return(e,t)=>"reviewing"===t?"feed.emptyCommunityReviewingFeed":e?"feed.emptyJoinedCommunityPublicFeed":"feed.emptyCommunityPublicFeed";case"userFeed":case"user":return()=>"feed.emptyUserFeed";case"myFeed":return()=>"feed.emptyMyFeed"}},Z0=e=>{let{targetType:n,canPost:r=!1,className:i,feedType:o,goToExplore:a}=e;var s;return t.createElement(PX,{className:i,title:t.createElement(Jy,{id:null==(s=Q0(n))?void 0:s(r,o)}),icon:t.createElement(W0,null)},a&&t.createElement(K0,{onClick:a},t.createElement(Y0,null),t.createElement(Jy,{id:"community.exploreCommunities"})))},$0=e=>{let n=_W("EmptyFeed");return n?n(e):t.createElement(Z0,rH({},e))},X0=UV(XO||(XO=o(["\n  > :not(:first-child) {\n    margin-top: 20px;\n  }\n\n  & .post:not(:first-child) {\n    margin-top: 20px;\n  }\n\n  & .load-more {\n    margin-top: 20px;\n    margin-bottom: 20px;\n  }\n"]))),J0=e=>t.createElement(bk,iH(rH({},e),{className:String(X0)}));VV.div(JO||(JO=o(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  > * {\n    margin-top: 10px;\n  }\n\n  color: ",";\n  padding: 5rem 0.5rem;\n  background: ",";\n  color: ",";\n  ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.typography.body})),VV.div(eP||(eP=o(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),VV(Gq).attrs({width:40,height:40})(tP||(tP=o(["\n  font-size: 40px;\n  fill: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2})),VV.div(nP||(nP=o(["\n  font-weight: 600;\n  font-size: 17px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.main})),VV.div(rP||(rP=o(["\n  font-size: 14px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}));var e1=VV.div(iP||(iP=o(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: ",";\n  padding: 5rem 0.5rem;\n  background: ",";\n  color: ",";\n  ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.palette.base.shade3}),(e=>{let{theme:t}=e;return t.typography.body})),t1=VV.div(oP||(oP=o(["\n  margin-bottom: 12px;\n"]))),n1=VV(Gq).attrs({width:40,height:40})(aP||(aP=o(["\n  font-size: 40px;\n  fill: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2})),r1=VV.div(sP||(sP=o(["\n  font-weight: bold;\n  font-size: 17px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.main})),i1=VV.div(lP||(lP=o(["\n  font-size: 14px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1})),o1=()=>t.createElement(e1,null,t.createElement(t1,null,t.createElement(n1,null)),t.createElement(r1,null,t.createElement(Jy,{id:"privateFeed.title"})),t.createElement(i1,null,t.createElement(Jy,{id:"privateFeed.body"}))),a1=()=>{let[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(null),[s,l]=(0,t.useState)(!1);function c(){return aH(this,null,(function*(){try{let e=yield sm.queryGlobalFeed({limit:10,queryToken:o||void 0});a(e.paging.next||null),n((t=>[...t,...e.data]))}finally{i(!1)}}))}(0,t.useEffect)((()=>{c()}),[]);let u=(0,t.useMemo)((()=>null!==o),[o]);return{contents:e,isLoading:r,prependItem:e=>{n((t=>[e,...t]))},removeItem:t=>{let r=e.filter((e=>e.postId!==t));n(r)},loadMore:()=>{l(!0),u&&c()},hasMore:u,loadMoreHasBeenCalled:s}};function s1(e,t){let n=iQ({fetcher:tm.getCommunities,params:e,shouldCall:()=>!!e&&(!t||(null==t?void 0:t()))}),{items:r}=n,i=oH(n,["items"]);return rH({communities:r},i)}var l1=e=>{let{className:n="",feedType:r,showPostCreator:i=!1,goToExplore:o,readonly:a=!1,isHiddenProfile:s=!1}=e,{currentUserId:l}=rW(),{contents:c,isLoading:u,loadMore:d,prependItem:h,removeItem:f,hasMore:p,loadMoreHasBeenCalled:m}=a1();function g(){return new Array(3).fill(3).map(((e,n)=>t.createElement(RX,{key:n,loading:!0})))}return t.createElement(J0,{className:n,dataLength:c.length,next:d,hasMore:p,loader:null},s?t.createElement(o1,null):t.createElement(t.Fragment,null,i?t.createElement(H0,{"data-qa-anchor":"feed-post-creator-textarea",targetType:"user",targetId:l||void 0,enablePostTargetPicker:!1,onCreateSuccess:e=>h(e)}):null,u&&!m?g():null,(!u||m)&&c.length>0&&t.createElement(nQ,{hasMore:p,loadMore:d,className:"load-more no-border",contentSlot:c.map((e=>t.createElement(G0,{key:e.postId,postId:e.postId,hidePostTarget:!1,readonly:a,onDeleted:e=>f(e)})))}),!u&&0===c.length&&t.createElement($0,{targetType:"global",goToExplore:o,canPost:i,feedType:r}),u&&m?g():null))},c1=e=>{let{className:n="",feedType:r,targetType:i="myFeed",onPostCreated:o,goToExplore:a,readonly:s=!1,isHiddenProfile:l=!1}=e,{currentUserId:c}=rW(),u=c||void 0,{posts:d,hasMore:h,loadMore:f,isLoading:p,loadMoreHasBeenCalled:m}=uX({targetType:"user",targetId:u,feedType:r}),{communities:g,hasMore:v,loadMore:y}=s1({membership:"member"}),b=(0,t.useCallback)((()=>{null==y||y()}),[y]);function E(){return new Array(3).fill(3).map(((e,n)=>t.createElement(RX,{key:n,loading:!0})))}return t.createElement(J0,{className:n,dataLength:d.length,next:f,hasMore:h,loader:null},l?t.createElement(o1,null):t.createElement(t.Fragment,null,t.createElement(H0,{"data-qa-anchor":"feed-post-creator-textarea",targetType:"user",targetId:u||void 0,communities:g,enablePostTargetPicker:!1,hasMoreCommunities:v,loadMoreCommunities:b,onCreateSuccess:o}),p&&!m?E():null,(!p||m)&&d.length>0&&t.createElement(nQ,{hasMore:h,loadMore:f,className:"load-more no-border",contentSlot:t.createElement(t.Fragment,null,d.map((e=>t.createElement(G0,{key:e.postId,postId:e.postId,hidePostTarget:!0,readonly:s}))))}),!p&&0===d.length&&t.createElement($0,{targetType:i,goToExplore:a,canPost:!0,feedType:r}),p&&m?E():null))},u1=e=>{let{className:n="",targetType:r,targetId:i="",feedType:o,showPostCreator:a=!1,onPostCreated:s,goToExplore:l,readonly:c=!1,isHiddenProfile:u=!1}=e,{posts:d,hasMore:h,loadMore:f,isLoading:p,loadMoreHasBeenCalled:m}=uX({targetType:r,targetId:i||void 0,feedType:o});function g(){return new Array(3).fill(3).map(((e,n)=>t.createElement(RX,{key:n,loading:!0})))}return VK({communityId:i,level:Mu.COMMUNITY}),t.createElement(J0,{className:n,dataLength:d.length,next:f,hasMore:h,loader:null},u?t.createElement(o1,null):t.createElement(t.Fragment,null,a?t.createElement(H0,{"data-qa-anchor":"feed-post-creator-textarea",targetType:r,targetId:i,enablePostTargetPicker:!1,onCreateSuccess:s}):null,p&&!m?g():null,!p&&d.length>0&&t.createElement(nQ,{hasMore:h,loadMore:f,className:"load-more no-border",contentSlot:t.createElement(t.Fragment,null,d.map((e=>t.createElement(G0,{key:e.postId,postId:e.postId,hidePostTarget:!0,readonly:c}))))}),!p&&0===d.length&&t.createElement($0,{targetType:r,goToExplore:l,canPost:a}),p&&m?g():null))},d1=e=>{let{className:n="",feedType:r,targetType:i,targetId:o="",showPostCreator:a=!1,onPostCreated:s,goToExplore:l,readonly:c=!1,isHiddenProfile:u=!1}=e,{posts:d,hasMore:h,loadMore:f,isLoading:p,loadMoreHasBeenCalled:m}=uX({targetType:i,targetId:o||void 0,feedType:r}),{communities:g,hasMore:v,loadMore:y}=s1({membership:"member"});function b(){return new Array(3).fill(3).map(((e,n)=>t.createElement(RX,{key:n,loading:!0})))}return t.createElement(J0,{className:n,dataLength:d.length,next:f,hasMore:h,loader:null},u?t.createElement(o1,null):t.createElement(t.Fragment,null,a&&t.createElement(H0,{"data-qa-anchor":"feed-post-creator-textarea",targetType:i,targetId:o,communities:g,enablePostTargetPicker:!1,hasMoreCommunities:v,loadMoreCommunities:y,onCreateSuccess:s}),p&&!m?b():null,!p&&d.length>0&&t.createElement(nQ,{hasMore:h,loadMore:f,className:"load-more no-border",contentSlot:t.createElement(t.Fragment,null,d.map((e=>t.createElement(G0,{key:e.postId,postId:e.postId,hidePostTarget:!0,readonly:c}))))}),!p&&0===d.length&&t.createElement($0,{targetType:i,goToExplore:l,canPost:a,feedType:r}),p&&m?b():null))},h1=e=>{let n=e,{targetType:r}=n,i=oH(n,["targetType"]),o=(e=>"communityFeed"===e?"community":"userFeed"===e?"user":"globalFeed"===e||"global"===e?"feed":e||"myFeed")(r);return"feed"===o?t.createElement(l1,rH({},i)):"myFeed"===o?t.createElement(c1,iH(rH({},i),{targetType:o})):"community"===o?t.createElement(u1,iH(rH({},i),{targetType:o})):t.createElement(d1,iH(rH({},i),{targetType:o}))},f1=(0,t.memo)((e=>{let n=_W("Feed");return n?n(e):t.createElement(h1,rH({},e))})),p1=(VV.div(cP||(cP=o(["\n  overflow: hidden;\n  display: grid;\n  grid-template-areas: 'side main' 'none main';\n  grid-template-columns: min-content auto;\n  grid-template-rows: 100%;\n  grid-gap: 0 20px;\n  width: 100%;\n  height: 100%;\n  padding: 0 20px 0 0;\n  background: #f7f7f8;\n"]))),VV.div(uP||(uP=o(["\n  grid-area: main;\n  overflow: auto;\n  width: 100%;\n  min-width: 20rem;\n  max-width: 90.75rem;\n  margin: 0 auto;\n"]))),VV.div(dP||(dP=o(["\n  grid-area: side;\n  overflow: auto;\n"]))),VV.div(hP||(hP=o(["\n  background-color: white;\n  border: 1px solid #e6e6e6;\n  width: 280px;\n  overflow: auto;\n  flex-shrink: 0;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.title}))),m1=VV.div(fP||(fP=o(["\n  border-top: 1px solid #f7f7f8;\n  padding: 0 8px;\n"]))),g1=VV.h4(pP||(pP=o(["\n  ",";\n  padding: 0 8px;\n  margin: 1em 0;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),v1=e=>{let{heading:n,children:r}=e;return t.createElement(m1,null,n&&t.createElement(g1,null,n),r)},y1=UV(mP||(mP=o(["\n  ","\n"])),(e=>{let{active:t,theme:n}=e;return t&&"\n      background-color: ".concat(n.palette.primary.shade3,";\n      & > .actionItemChild {\n        color: ").concat(n.palette.primary.main,";\n      }\n    ")})),b1=UV(gP||(gP=o(["\n  display: flex;\n  align-items: center;\n  padding: 5px 8px;\n  margin-bottom: 6px;\n  color: ",";\n  justify-content: left;\n  &:hover:not(:disabled) {\n    background-color: ",";\n  }\n  &:disabled {\n    color: ",";\n    background-color: transparent;\n  }\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.neutral.shade2}),y1),E1=VV(pG)(vP||(vP=o(["\n  ",";\n  width: 100%;\n"])),b1),w1=VV.a(yP||(yP=o(["\n  cursor: pointer;\n  border-radius: 4px;\n  ","\n  ","\n"])),b1,(e=>{let{theme:t}=e;return t.typography.bodyBold})),C1=VV.div(bP||(bP=o(["\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 8px;\n  ",";\n"])),(e=>{let{active:t,theme:n}=e;return t?UV(EP||(EP=o(["\n          background: ",";\n          // TODO: check color with design\n          color: white;\n        "])),n.palette.primary.main):UV(wP||(wP=o(["\n          background: ",";\n          color: inherit;\n        "])),n.palette.base.shade4)})),S1=e=>{let{"data-qa-anchor":n="",icon:r,children:i,active:o,className:a,onClick:s,element:l="a",disabled:c}=e;return"a"===l?t.createElement(w1,{"data-qa-anchor":n,className:a,onClick:s},r&&t.createElement(C1,{active:o},r),t.createElement("span",{className:"actionItemChild"},i)):t.createElement(E1,{"data-qa-anchor":n,className:a,active:o,disabled:c,onClick:s},r&&t.createElement(C1,{active:o},r),t.createElement("span",{className:"actionItemChild"},i))},T1=VV(Kq).attrs({width:20,height:20})(CP||(CP=o(["\n  font-size: 20px;\n"]))),_1=VV(Iq).attrs({width:20,height:20})(SP||(SP=o(["\n  font-size: 20px;\n"]))),k1=e=>{let{shouldHideExplore:n,children:r}=e,{onChangePage:i,page:o}=CW();return t.createElement(v1,{heading:t.createElement(Jy,{id:"sidesectioncommunity.community"})},t.createElement(S1,{"data-qa-anchor":"side-section-community-side-menu-action-item-news-feed-button",icon:t.createElement(T1,null),active:"newsfeed"===o.type,onClick:()=>i("newsfeed")},t.createElement(Jy,{id:"sidesectioncommunity.newfeed"})),!n&&t.createElement(S1,{"data-qa-anchor":"side-section-community-side-menu-action-item-explore-button",icon:t.createElement(_1,null),active:"explore"===o.type,onClick:()=>i("explore")},t.createElement(Jy,{id:"sidesectioncommunity.explore"})),r)},x1=VV.span(TP||(TP=o(["\n  ","\n"])),(e=>{let{theme:t,highlight:n}=e;return n?t.typography.bodyBold:t.typography.body})),A1=e=>{let{query:n,text:r}=e;if(null==n||0===(null==n?void 0:n.length))return t.createElement(x1,null,r);let i=r.split(new RegExp("(".concat(n,")"),"gi"));return t.createElement("span",null,i.map(((e,r)=>t.createElement(x1,{key:"#".concat(e,"#").concat(r),highlight:e.toLowerCase()===n.toLowerCase()},e))))},I1=VV(Gq).attrs({width:16,height:16})(_P||(_P=o(["\n  margin-right: 8px;\n  font-size: 16px;\n"]))),M1=VV(Jq).attrs({width:16,height:16})(kP||(kP=o(["\n  margin-left: 8px;\n  font-size: 16px;\n  fill: #1253de;\n"]))),R1=VV.div(xP||(xP=o(["\n  padding-right: 1ch;\n"]))),L1=VV.div(AP||(AP=o(["\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  ","\n\n  & > ",",\n  & > "," {\n    ","\n  }\n"])),(e=>{let{theme:t,isActive:n,isTitle:r}=e;return UV(IP||(IP=o(["\n    ","\n    ","\n    ","\n  "])),t.typography.bodyBold,n&&UV(MP||(MP=o(["\n      color: ",";\n    "])),t.palette.primary.main),r&&t.typography.title)}),I1,M1,(e=>{let{isTitle:t}=e;return t&&UV(RP||(RP=o(["\n        font-size: 18px;\n      "])))})),D1=e=>{let{"data-qa-anchor":n="",isActive:r=!1,isOfficial:i=!1,isPublic:o=!1,isTitle:a=!1,isSearchResult:s=!1,name:l,searchInput:c="",className:u="",loading:d=!1,truncate:h}=e;return s?t.createElement(A1,{text:l||"",query:c}):t.createElement(L1,{className:u,isActive:r,isTitle:a},d?t.createElement(R1,null,t.createElement(WW,{width:120,style:{fontSize:12}})):t.createElement(SC,{lines:h},t.createElement(R1,{"data-qa-anchor":"".concat(n,"-community-name"),title:l},t.createElement(t.Fragment,null,!o&&t.createElement(I1,{"data-qa-anchor":"".concat(n,"-private-icon")}),l))),!d&&i&&t.createElement(M1,null))},O1=e=>{let n=_W("CommunityName");return n?n(e):t.createElement(D1,rH({},e))},P1=VV.a.attrs((e=>e))(LP||(LP=o(["\n  display: grid;\n  grid-template-areas: 'avatar title' 'avatar children';\n  grid-template-columns: min-content auto;\n  grid-template-rows: min-content min-content;\n  grid-gap: 0 0.75em;\n  padding: 0.5em;\n  border-radius: 4px;\n  align-items: center;\n  color: ",";\n\n  ","\n\n  ",";\n\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.base.main}),(e=>{let{loading:t}=e;return!t&&UV(DP||(DP=o(["\n      &:hover {\n        cursor: pointer;\n        background-color: ",";\n      }\n    "])),(e=>{let{theme:t}=e;return t.palette.base.shade4}))}),(e=>{let{isActive:t,theme:n}=e;return t&&UV(OP||(OP=o(["\n      color: ",";\n      background-color: ",";\n    "])),n.palette.primary.main,n.palette.primary.shade3)}),(e=>{let{children:t}=e;return!!t&&UV(PP||(PP=o(["\n      grid-template-areas: 'avatar title';\n      align-items: center;\n    "])))})),N1=VV($W)(NP||(NP=o(["\n  grid-area: avatar;\n"]))),F1=VV.div(FP||(FP=o(["\n  grid-area: children;\n"]))),j1=e=>{let{communityId:n,isActive:r,avatarFileUrl:i,onClick:o,isOfficial:a,isPublic:s,isSearchResult:l,name:c,searchInput:u,children:d,loading:h}=e;return t.createElement(P1,{"data-qa-anchor":"community-header",isActive:r,loading:h,onClick:()=>null==o?void 0:o(n)},t.createElement(N1,{avatar:i,backgroundImage:KV,loading:h}),h&&d?t.createElement(WW,{style:{fontSize:8,maxWidth:120}}):t.createElement(O1,{"data-qa-anchor":"community-header",isActive:r,isOfficial:a,isPublic:s,isSearchResult:l,name:c,searchInput:u,loading:h}),d&&t.createElement(F1,null,d))},B1=e=>{let n=_W("UICommunityHeader");return n?n(e):t.createElement(j1,rH({},e))},U1=(0,t.memo)((e=>{let{communityId:n="",onClick:r=(()=>{}),isActive:i=!1,isSearchResult:o=!1,searchInput:a="",children:s,loading:l=!1}=e,c=jW(n),u=rK({fileId:null==c?void 0:c.avatarFileId,imageSize:"small"});return t.createElement(B1,{communityId:n,avatarFileUrl:u,isActive:i,isOfficial:null==c?void 0:c.isOfficial,isPublic:null==c?void 0:c.isPublic,isSearchResult:o,name:null==c?void 0:c.displayName,searchInput:a,loading:l,onClick:r},s)})),z1=VV((e=>t.createElement(bk,rH({},e))))(jP||(jP=o(["\n  &.no-scroll {\n    width: 260px;\n  }\n"])));VV.p(BP||(BP=o(["\n  text-align: center;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}));var H1=VV.p(UP||(UP=o(["\n  text-align: center;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3})),V1=(0,t.memo)((e=>{let{className:n,communitiesQueryParam:r,activeCommunity:i}=e,{onClickCommunity:o}=CW(),{communities:a,hasMore:s,loadMore:l,isLoading:c,loadMoreHasBeenCalled:u}=s1(r),d=r&&Reflect.has(r,"search"),h=(null==r?void 0:r.displayName)||"",f=(0,t.useMemo)((()=>a.length?a.map((e=>{let{communityId:t}=e;return t})):[]),[a]),p=d&&!f.length,m=[f.length<4?"no-scroll":null,n].filter(qG);function g(){return new Array(5).fill(1).map(((e,n)=>t.createElement(U1,{key:n,loading:!0})))}return t.createElement(z1,{className:vw(m),dataLength:f.length,next:l,hasMore:s,loader:t.createElement("div",null)},t.createElement(nQ,{hasMore:s,loadMore:l,className:"no-border",contentSlot:t.createElement(t.Fragment,null,p&&t.createElement(H1,null,t.createElement(Jy,{id:"communities.nocommunityfound"})),c&&!u&&g(),!c||u?f.map((e=>t.createElement(U1,{key:e,communityId:e,isActive:e===i,isSearchResult:d,searchInput:h,onClick:()=>o(e)}))):null,c&&u&&g())}))})),q1=e=>{var n=e,{"data-qa-anchor":r="",renderer:i,label:o,className:a}=n,s=oH(n,["data-qa-anchor","renderer","label","className"]);return t.createElement(T$,{"data-qa-anchor":"".concat(r,"-label")},t.createElement(_$,iH(rH({},s),{"data-qa-anchor":"".concat(r,"-radio")})),t.createElement(t.Fragment,null,i?i():t.createElement("span",{className:a},o),t.createElement(x$,{checked:s.value})))},G1=VV(Fq).attrs({width:20,height:20})(zP||(zP=o(["\n  font-size: 20px;\n  z-index: 3;\n  fill: #fff;\n"]))),W1=VV.div(HP||(HP=o(["\n  background: ",";\n  border-radius: 4px;\n  position: relative;\n  display: block;\n  width: 100%;\n  height: 16.875rem;\n  overflow: hidden;\n  align-self: center;\n  transition: background 0.2s linear;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3})),K1=VV.div(VP||(VP=o(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  display: flex;\n  background: transparent;\n  border: 1px solid #ffffff;\n  padding: 10px 16px;\n  border-radius: 4px;\n  color: #ffffff;\n"]))),Y1=VV(qX)(qP||(qP=o(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border-radius: 0;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.4);\n  &:hover {\n    background: rgba(0, 0, 0, 0.3);\n  }\n"]))),Q1=VV.div(GP||(GP=o(["\n  width: 100%;\n  height: 100%;\n  background-image: url(",");\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n"])),(e=>{let{src:t}=e;return t})),Z1=e=>{let{uploading:n,uploaded:r,progress:i}=e,o=[...n,...r].sort(((e,t)=>{let n=L0(e);return L0(t)-n})),a=o.length>0?o[0]:null;if(!a)return null;if(!R0(a))return t.createElement(WQ,{key:null==a?void 0:a.name,file:a,progress:i[null==a?void 0:a.name]});let{fileId:s}=a;return t.createElement(WQ,{key:s,fileId:s})},$1=e=>{let{"data-qa-anchor":n="",onChange:r,value:i,mimeType:o}=e,[a,s]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),u=nK(i),d=(0,t.useMemo)((()=>u&&Ff.fileUrlWithSize(null==u?void 0:u.fileUrl,"medium")),[u]),{uploading:h,uploaded:f,progress:p}=D0({files:a,uploadedFiles:l,onChange:e=>{let{uploaded:t,uploading:n}=e;(e=>{if(e.length>0){let t=e[e.length-1];null!=t&&t.fileId&&r(t.fileId)}})(t),c(t),s(n)}});return t.createElement(W1,null,t.createElement(Z1,{uploading:h,uploaded:f,progress:p}),t.createElement(Q1,{src:null!=d?d:tq}),t.createElement(Y1,{"data-qa-anchor":"".concat(n,"-avatar-uploader"),mimeType:o,onChange:e=>s(e)},t.createElement(K1,null,t.createElement(G1,null)," \xa0 Upload image")))},X1=e=>{let[n,r]=(0,t.useState)(null);return(0,t.useEffect)((()=>{!function(){aH(this,null,(function*(){if(null==e)return;let t=yield im.getCategory(e);r(t.data)}))}()}),[e]),n},J1=VV.div(WP||(WP=o(["\n  display: grid;\n  grid-template-areas: 'avatar title' 'avatar subtitle';\n  grid-template-columns: min-content auto;\n  grid-template-rows: min-content min-content;\n  grid-gap: 0 0.5em;\n  padding: 0.5rem;\n  ","\n\n  ","\n"])),(e=>{let{hasNoChildren:t}=e;return t&&UV(KP||(KP=o(["\n      grid-template-areas: 'avatar title';\n      align-items: center;\n    "])))}),(e=>{let{theme:t,clickable:n}=e;return n&&UV(YP||(YP=o(["\n      border-radius: 4px;\n      cursor: pointer;\n\n      &:hover {\n        background: ",";\n      }\n    "])),t.palette.base.shade4)})),e2=VV($W)(QP||(QP=o(["\n  grid-area: avatar;\n"]))),t2=VV.div(ZP||(ZP=o(["\n  grid-area: title;\n  ",";\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),n2=VV.div($P||($P=o(["\n  grid-area: subtitle;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.body})),r2=e=>{let{className:n,categoryId:r,name:i,avatarFileUrl:o,children:a,onClick:s,loading:l}=e;return t.createElement(J1,{className:n,title:i,hasNoChildren:!a,clickable:!l&&!!s,onClick:()=>r&&(null==s?void 0:s(r))},t.createElement(e2,{avatar:o,backgroundImage:WV,loading:l}),t.createElement(t2,{title:r},l?t.createElement(WW,{style:{fontSize:12,maxWidth:124}}):i),a&&t.createElement(n2,{onClick:e=>e.stopPropagation()},a))},i2=e=>{let n=_W("CategoryHeader");return n?n(e):t.createElement(r2,rH({},e))},o2=e=>{let{className:n,categoryId:r,children:i,loading:o,onClick:a}=e,s=X1(r),l=rK({fileId:null==s?void 0:s.avatarFileId,imageSize:"small"});return t.createElement(i2,{className:n,categoryId:null==s?void 0:s.categoryId,name:null==s?void 0:s.name,avatarFileUrl:l,loading:o||!1,onClick:a},i)},a2=VV.div(XP||(XP=o(["\n  margin-top: 8px;\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main}),(e=>{let{theme:t}=e;return t.typography.caption})),s2=e=>t.createElement(rk,rH({as:a2},e));VV.span(JP||(JP=o(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}));var l2=VV(qq).attrs({width:20,height:20})(eN||(eN=o(["\n  font-size: 20px;\n"]))),c2=VV(Gq).attrs({width:20,height:20})(tN||(tN=o(["\n  font-size: 20px;\n"])));VV(jq).attrs({width:12,height:12})(nN||(nN=o(["\n  font-size: 12px;\n  padding: 5px 12px;\n  fill: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}));var u2=VV.div(rN||(rN=o(["\n  border: 1px solid #e3e4e8;\n  &:focus-within {\n    border: 1px solid ",";\n  }\n  border-radius: 4px;\n  min-height: 40px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  max-height: 200px;\n  overflow-y: auto;\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),d2=VV.div(iN||(iN=o(["\n  margin-right: 1rem;\n  width: 40px;\n  height: 40px;\n  border-radius: 40px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),h2=VV.div(oN||(oN=o(["\n  margin-left: auto;\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.caption})),f2=VV.label(aN||(aN=o(["\n  ",";\n  margin-bottom: 4px;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold}),(e=>{let{theme:t}=e;return UV(sN||(sN=o(["\n    &.required {\n      &::after {\n        color: ",";\n        content: ' *';\n      }\n    }\n  "])),t.palette.alert.main)})),p2=VV.div(lN||(lN=o(["\n  display: flex;\n  align-items: center;\n"])));VV.input.attrs({type:"radio"})(cN||(cN=o(["\n  width: 20px;\n  height: 20px;\n  margin-left: auto;\n  margin-right: 0;\n  flex-shrink: 0;\n"])));var m2=VV.form(uN||(uN=o(["\n  min-width: 520px;\n"]))),g2=VV(fG).attrs({type:"submit"})(dN||(dN=o(["\n  padding: 10px 16px;\n  margin-left: 12px;\n  ",";\n"])),(e=>{let{edit:t}=e;return t&&UV(hN||(hN=o(["\n      min-width: 100px;\n      margin-left: 0;\n    "])))})),v2=VV.div(fN||(fN=o(["\n  padding: 12px 16px;\n  ",";\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid ",";\n"])),(e=>{let{theme:t}=e;return t.typography.title}),(e=>{let{theme:t}=e;return t.palette.base.shade4})),y2=VV.div(pN||(pN=o(["\n  background: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t,edit:n}=e;return n?UV(mN||(mN=o(["\n          > :not(:first-child) {\n            margin-top: 12px;\n          }\n          border: 1px solid #edeef2;\n          border-radius: 4px;\n        "]))):UV(gN||(gN=o(["\n          > :not(:last-child) {\n            border-bottom: 1px solid ",";\n          }\n        "])),t.palette.base.shade4)})),b2=VV.div(vN||(vN=o(["\n  ","\n"])),(e=>{let{edit:t}=e;return UV(t?yN||(yN=o(["\n          padding: 0 16px 20px;\n        "])):bN||(bN=o(["\n          padding: 20px 16px 16px;\n        "])))}));VV.div(EN||(EN=o(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"])));var E2=VV.div(wN||(wN=o(["\n  display: flex;\n  align-items: center;\n  > :not(:last-child) {\n    margin-bottom: 16px;\n  }\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),w2=VV.div(CN||(CN=o(["\n  color: ",";\n  ",";\n  width: 357px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.typography.body}));VV.div(SN||(SN=o(["\n  padding: 0 16px 20px;\n  display: flex;\n  flex-direction: column;\n"]))),VV.div(TN||(TN=o(["\n  padding: 0 16px 20px;\n  display: flex;\n  flex-direction: column;\n"])));var C2=VV.div(_N||(_N=o(["\n  border-top: 1px solid ",";\n  padding: ",";\n  display: flex;\n  justify-content: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{edit:t}=e;return t?"12px 0":"12px 16px"}),(e=>{let{edit:t}=e;return t?"flex-start":"flex-end"})),S2=VV.div(kN||(kN=o(["\n  background: rgba(0, 0, 0, 0);\n  top: 0;\n  left: 0;\n  z-index: 1;\n  transition: background 0.3s;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  pointer-events: none;\n"])));VV(WQ)(xN||(xN=o(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n"]))),VV.div(AN||(AN=o(["\n  background: ",";\n  position: relative;\n  display: block;\n  width: 4rem;\n  height: 4rem;\n  border-radius: 50%;\n  overflow: hidden;\n  align-self: center;\n  &:hover "," {\n    background: rgba(0, 0, 0, 0.5);\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3}),S2),VV.div(IN||(IN=o(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]))),VV($W)(MN||(MN=o(["\n  margin-right: 8px;\n"])));var T2=VV(Dw).attrs({minRows:3,maxRows:15})(RN||(RN=o(["\n  ",";\n  display: block;\n  outline: none;\n  border-radius: 4px;\n  resize: none;\n  border: 1px solid #e3e4e8;\n  padding: 10px 12px;\n  &:focus-within {\n    border-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.global}),(e=>{let{theme:t}=e;return t.palette.primary.main})),_2=VV.input(LN||(LN=o(["\n  ",";\n  border-radius: 4px;\n  border: 1px solid #e3e4e8;\n  padding: 10px 12px;\n  outline: none;\n  &:focus-within {\n    border-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.global}),(e=>{let{theme:t}=e;return t.palette.primary.main})),k2=VV(Oq).attrs({width:16,height:16})(DN||(DN=o(["\n  font-size: 16px;\n  margin-left: auto;\n"]))),x2=VV.div(ON||(ON=o(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n\n  ","\n"])),(e=>{let{error:t}=e;return t&&UV(PN||(PN=o(["\n      ",", "," {\n        border-color: ",";\n      }\n    "])),T2,_2,(e=>{let{theme:t}=e;return t.palette.alert.main}))})),A2=VV(x2)(NN||(NN=o(["\n  margin-top: 0;\n"]))),I2=VV.div(FN||(FN=o([""]))),M2=VV.input(jN||(jN=o(["\n  outline: none;\n  border: none;\n"]))),R2=VV.div(BN||(BN=o(["\n  display: flex;\n  align-items: center;\n  padding: 0.25rem;\n  background: ",";\n  border-radius: 28px;\n  margin: 0.25rem;\n  cursor: pointer;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),L2=VV.span(UN||(UN=o(["\n  margin: 0 0.5rem;\n"])));VV(xq).attrs({width:12,height:12})(zN||(zN=o(["\n  font-size: 12px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}));var D2=VV(mG)(HN||(HN=o(["\n  padding: 0.4rem 0.55rem;\n  border-radius: 10rem;\n"]))),O2=VV(jq).attrs({width:12,height:12})(VN||(VN=o(["\n  fill: ",";\n  cursor: pointer;\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main})),P2=e=>{let{categoryId:n,name:r,fileUrl:i,onClick:o,onRemove:a}=e,s=(0,t.useCallback)((e=>{e.stopPropagation(),n&&(null==o||o(n))}),[o,n]),l=(0,t.useCallback)((e=>{e.stopPropagation(),n&&(null==a||a(n))}),[a,n]);return t.createElement(R2,{onClick:s},t.createElement($W,{size:"tiny",avatar:i,backgroundImage:WV}),t.createElement(L2,null,r),!!a&&t.createElement(D2,{onClick:l},t.createElement(O2,null)))},N2=e=>{let{categoryId:n,onClick:r,onRemove:i}=e,o=X1(n),a=rK({fileId:null==o?void 0:o.avatarFileId,imageSize:"small"});return null==o?null:t.createElement(P2,{categoryId:o.categoryId,name:o.name,fileUrl:a,onClick:e=>null==r?void 0:r(e),onRemove:i})};function F2(e){let t=iQ({fetcher:im.getCategories,params:e}),{items:n}=t,r=oH(t,["items"]);return rH({categories:n},r)}var j2=e=>{let{"data-qa-anchor":n="",value:r,onChange:i,parentContainer:o=null}=e,a=null!=r?r:[],[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),d=()=>l(!s),{formatMessage:h}=Zy(),f=(0,t.useRef)(null),{categories:p}=F2({includeDeleted:!1,limit:100}),m=p.filter((e=>!c||e.name.includes(c))).map((e=>({name:e.name,value:e.categoryId}))),g=a.map((e=>{var t;return{name:(null==(t=p.find((t=>t.categoryId===e)))?void 0:t.name)||"",value:e}}));return t.createElement(XX,{"data-qa-anchor":"".concat(n,"-category"),value:g,options:m,renderTrigger:e=>{var r=e,{selected:o,remove:a}=r,s=oH(r,["selected","remove"]);return t.createElement(u2,iH(rH({},s),{onClick:d,"data-qa-anchor":"".concat(n,"-category-selector")}),o.map((e=>t.createElement(N2,{key:e.value,categoryId:e.value,onRemove:()=>a(e,i)}))),t.createElement(M2,{ref:f,"data-qa-anchor":"category-selector-input",type:"text",value:c,placeholder:h({id:"selectACategory"}),onChange:e=>(e=>{var t;u(e),l(!!e),e&&(null==(t=f.current)||t.focus())})(e.target.value)}),t.createElement(k2,null))},renderItem:e=>{let{value:n}=e;return t.createElement(o2,{categoryId:n})},parentContainer:o,isOpen:s,handleClose:()=>{u(""),l(!1)},multiple:!0,onSelect:e=>{let{value:t}=e;var n;u(""),null==(n=f.current)||n.focus(),null==i||i([...new Set([...a,t])])}})},B2=e=>{let n=_W("CategorySelector");return n?n(e):t.createElement(j2,rH({},e))},U2=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),d=(0,t.useRef)(null),h=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(e.length<n)return;h.current&&(h.current(),h.current=null);let t=Df.searchUserByDisplayName({displayName:e,limit:10},(e=>{l(e.hasNextPage||!1),a(e.loading),d.current=e.onNextPage||null,i(e.data)}));return h.current=t,()=>{var e;null==(e=h.current)||e.call(h),h.current=null}}),[e,n]),{users:r,isLoading:o,hasMore:s,loadMore:()=>{d.current&&(d.current(),u(!0))},loadMoreHasBeenCalled:c}},z2=VV.div(qN||(qN=o(["\n  display: grid;\n  grid-template-areas: 'avatar title' 'avatar subtitle';\n  grid-template-columns: min-content auto;\n  grid-template-rows: min-content min-content;\n  grid-gap: 0 0.5em;\n  padding: 1em;\n  ","\n"])),(e=>{let{noSubtitle:t}=e;return!t&&UV(GN||(GN=o(["\n      grid-template-areas: 'avatar title';\n      align-items: center;\n    "])))})),H2=VV($W)(WN||(WN=o(["\n  grid-area: avatar;\n"]))),V2=VV.div(KN||(KN=o(["\n  grid-area: title;\n  ","\n  display: flex;\n  min-width: 0;\n  align-items: center;\n\n  > div {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.title})),q2=VV.div(YN||(YN=o(["\n  grid-area: subtitle;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.body})),G2=e=>{let{userId:n,displayName:r,avatarFileUrl:i,children:o,onClick:a,isBanned:s}=e,l=()=>n&&(null==a?void 0:a(n));return t.createElement(z2,{noSubtitle:!!o},t.createElement(H2,{avatar:i,backgroundImage:YV,onClick:l}),t.createElement(V2,{title:n||void 0,onClick:l},t.createElement("div",null,r)," ",s&&t.createElement(XW,null)),o&&t.createElement(q2,null,o))},W2=e=>{let n=_W("UserHeader");return n?n(e):t.createElement(G2,rH({},e))},K2=e=>{let{userId:n,children:r,onClick:i,isBanned:o=!1}=e,a=vW(n),s=rK({fileId:null==a?void 0:a.avatarFileId,imageSize:"small"});return t.createElement(W2,{userId:null==a?void 0:a.userId,displayName:null==a?void 0:a.displayName,avatarFileUrl:s,isBanned:o,onClick:i},r)},Y2=VV.div(QN||(QN=o(["\n  display: flex;\n  align-items: center;\n  padding: 0.25rem;\n  background: ",";\n  border-radius: 28px;\n  margin: 0.25rem;\n  cursor: pointer;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),Q2=VV.span(ZN||(ZN=o(["\n  margin: 0 0.5rem;\n"])));VV(xq).attrs({width:12,height:12})($N||($N=o(["\n  font-size: 12px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}));var Z2=VV(mG)(XN||(XN=o(["\n  padding: 0.4rem 0.55rem;\n  border-radius: 10rem;\n"]))),$2=e=>{let{userId:n,displayName:r="Anonymous",fileUrl:i,onClick:o,onRemove:a}=e,s=(0,t.useCallback)((e=>{e.stopPropagation(),n&&(null==o||o(n))}),[o,n]),l=(0,t.useCallback)((e=>{e.stopPropagation(),n&&(null==a||a(n))}),[a,n]);return t.createElement(Y2,{onClick:s},t.createElement($W,{size:"tiny",avatar:i,backgroundImage:YV}),t.createElement(Q2,null,r),!!a&&t.createElement(Z2,{onClick:l},t.createElement(jq,null)))},X2=e=>{let n=_W("UserChip");return n?n(e):t.createElement($2,rH({},e))},J2=e=>{let{userId:n,onClick:r,onRemove:i}=e,o=vW(n),a=rK({fileId:null==o?void 0:o.avatarFileId,imageSize:"small"});return null==o?null:t.createElement(X2,{userId:o.userId,displayName:o.displayName,fileUrl:a,onClick:e=>null==r?void 0:r(e),onRemove:i})},e3=VV.div(JN||(JN=o(["\n  border: 1px solid #e3e4e8;\n  &:focus-within {\n    border: 1px solid ",";\n  }\n  border-radius: 4px;\n  min-height: 40px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  max-height: 200px;\n  overflow-y: auto;\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),t3=VV.input(eF||(eF=o(["\n  outline: none;\n  border: none;\n  width: 100%;\n"]))),n3=e=>{let{value:n,onChange:r,parentContainer:i=null}=e,o=null!=n?n:[],{currentUserId:a}=rW(),[s,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),{users:d=[]}=U2(c),{formatMessage:h}=Zy(),f=d.filter((e=>{let{displayName:t,userId:n}=e;return(null==t?void 0:t.toLowerCase().includes(c.toLowerCase()))&&n!==a})).map((e=>{let{displayName:t,userId:n}=e;return{name:t,value:n}})),p=o.map((e=>{var t;return{name:(null==(t=d.find((t=>t.userId===e)))?void 0:t.displayName)||"",value:e}})),m=(0,t.useRef)(null);return t.createElement(XX,{"data-qa-anchor":"user",value:p,options:c?f:[],renderTrigger:e=>{var n=e,{selected:i,remove:o}=n,a=oH(n,["selected","remove"]);return t.createElement(e3,rH({},a),i.map((e=>t.createElement(J2,{key:e.value,userId:e.value,onRemove:()=>o(e,r)}))),t.createElement(t3,{ref:m,"data-qa-anchor":"user-selector-input",type:"text",value:c,placeholder:h({id:"UserSelector.placeholder"}),onChange:e=>(e=>{var t;u(e),l(!!e),e&&(null==(t=m.current)||t.focus())})(e.target.value)}))},renderItem:e=>{let{value:n}=e;return t.createElement(K2,{userId:n})},parentContainer:i,isOpen:s,handleClose:()=>{l(!1),u("")},multiple:!0,onSelect:e=>{let{value:t}=e;var n;null==r||r([...new Set([...o,t])]),null==(n=m.current)||n.focus(),u("")}})},r3=(0,t.memo)((e=>{let n=_W("UserSelector");return n?n(e):t.createElement(n3,rH({},e))})),i3=Kx({displayName:Gx().max(30),description:Gx().max(180),categoryIds:Gx().array().min(1),avatarFileId:Gx().nullable().optional(),tags:Gx().array().optional(),isPublic:Wx()}),o3=i3.extend({userIds:Gx().array().optional()}).refine((e=>{var t;return!(!e.isPublic&&0===(null==(t=e.userIds)?void 0:t.length))})),a3=i3.partial(),s3=e=>{let{title:n,children:r}=e;return t.createElement(y2,null,t.createElement(b2,null,r))},l3=e=>{let{type:n,description:r,icon:i}=e;return t.createElement(E2,null,t.createElement(d2,null,i),t.createElement("div",null,n,t.createElement(w2,null,r)))},c3=(0,t.memo)((e=>{let{"data-qa-anchor":n="",className:r,onSubmit:i,onCancel:o}=e,[a,s]=(0,t.useState)(!1),{register:l,handleSubmit:c,setError:u,watch:d,control:h,formState:f,setValue:p,getValues:m}=tk({defaultValues:{avatarFileId:void 0,description:"",displayName:"",isPublic:!0,tags:[],userIds:[],categoryIds:[]},resolver:Ak(o3)}),{errors:g}=f,v=d("displayName"),y=d("description"),b=d("isPublic"),E=(0,t.useRef)(null),w=!f.isValid||a,C=E.current&&E.current.scrollHeight-E.current.clientHeight-E.current.scrollTop;return t.useLayoutEffect((()=>{null!=C&&E.current&&C<10&&E.current.scrollHeight-E.current.clientHeight-E.current.scrollTop>10&&E.current.scrollTo({top:E.current.scrollHeight})}),[E.current,C,f]),t.createElement(m2,{className:r,onSubmit:c((e=>aH(void 0,null,(function*(){var t;try{if(s(!0),!e.isPublic&&0===(null==(t=e.userIds)?void 0:t.length))return void u("userIds",{message:"Please select at least one member"});yield null==i?void 0:i(iH(rH({},e),{displayName:e.displayName||"",avatarFileId:e.avatarFileId||void 0}))}finally{s(!1)}}))))},t.createElement(I2,{ref:E},t.createElement(s3,{title:"General"},t.createElement(x2,null,t.createElement(p_,{name:"avatarFileId",control:h,render:e=>{var{field:r}=e,i=oH(r,["ref"]);return t.createElement($1,iH(rH({mimeType:"image/png, image/jpeg"},i),{"data-qa-anchor":n}))}})),t.createElement(x2,{error:g.displayName},t.createElement(p2,null,t.createElement(f2,{htmlFor:"displayName",className:"required"},t.createElement(Jy,{id:"community.name"})),t.createElement(h2,null,v.length,"/30")),t.createElement(_2,iH(rH({},l("displayName")),{"data-qa-anchor":"".concat(n,"-community-name-input"),placeholder:"Enter community name"})),t.createElement(s2,{errors:g,name:"displayName"})),t.createElement(x2,{error:g.description},t.createElement(p2,null,t.createElement(f2,{htmlFor:"description"},t.createElement(Jy,{id:"community.about"})),t.createElement(h2,null,(null==y?void 0:y.length)||0,"/180")),t.createElement(T2,iH(rH({},l("description",{maxLength:{value:180,message:"Description text is too long"}})),{"data-qa-anchor":"".concat(n,"-community-description-textarea"),placeholder:"Enter description"})),t.createElement(s2,{errors:g,name:"description"})),t.createElement(x2,{error:g.categoryIds},t.createElement(f2,{htmlFor:"categoryIds",className:"required"},t.createElement(Jy,{id:"community.category"})),t.createElement(p_,{rules:{required:"Category is required"},name:"categoryIds",render:e=>{var{field:r}=e,i=oH(r,["ref","onChange"]);return t.createElement(B2,iH(rH({parentContainer:E.current,onChange:e=>p("categoryIds",e,{shouldValidate:!0})},i),{"data-qa-anchor":"".concat(n)}))},control:h}),t.createElement(s2,{errors:g,name:"category"}))),t.createElement(s3,{title:t.createElement(Jy,{id:"community.categorypermission"})},t.createElement(p_,{name:"isPublic",render:e=>{let{field:n}=e;return t.createElement(t.Fragment,null,t.createElement(q1,iH(rH({},n),{value:!0===n.value,onChange:e=>n.onChange(e.target.checked),"data-qa-anchor":"community-form-public-type-community-type",label:"Public",renderer:()=>t.createElement(l3,{type:"Public",description:"Anyone can join, view and search the posts in this page.",icon:t.createElement(l2,null)})})),t.createElement(q1,iH(rH({},n),{value:!1===n.value,onChange:e=>n.onChange(!e.target.checked),"data-qa-anchor":"community-form-private-type-community-type",label:"Private",renderer:()=>t.createElement(l3,{type:"Private",description:"Only members invited by the moderators can join, view, and search the posts in this page.",icon:t.createElement(c2,null)})})))},control:h})),!b&&t.createElement(s3,{title:"Community members"},t.createElement(A2,{error:g.userIds},t.createElement(f2,{className:"required"},t.createElement(Jy,{id:"community.addmembers"})),t.createElement(p_,{name:"userIds",render:e=>{var{field:r}=e,i=oH(r,["ref"]);return t.createElement(r3,rH({parentContainer:E.current,"data-qa-anchor":n},i))},control:h}),t.createElement(s2,{errors:g,name:"userIds"})))),t.createElement(C2,null,t.createElement(mG,{onClick:e=>{e.preventDefault(),null==o||o()}},t.createElement(Jy,{id:"cancel"})),t.createElement(g2,{"data-qa-anchor":"".concat(n,"-save-button"),disabled:w},t.createElement(Jy,{id:"create"}))))})),u3=e=>{let{isOpen:n,onClose:r}=e,{formatMessage:i}=Zy();if(!n)return null;let o=()=>RG({title:i({id:"CommunityCreationModal.title"}),content:i({id:"CommunityCreationModal.content"}),cancelText:i({id:"CommunityCreationModal.cancelText"}),okText:i({id:"CommunityCreationModal.okText"}),onOk:r});return t.createElement(TG,{"data-qa-anchor":"community-creation-modal",title:"Create community",onCancel:o},t.createElement(c3,{"data-qa-anchor":"community-creation",onCancel:o,onSubmit:e=>aH(void 0,null,(function*(){let t=yield tm.createCommunity(e);r(t.data.communityId)}))}))},d3=(0,t.memo)((e=>{let n=_W("CommunityCreationModal");return n?n(e):t.createElement(u3,rH({},e))})),h3=(0,t.memo)((e=>{let{className:n,activeCommunity:r}=e,{socialCommunityCreationButtonVisible:i}=(0,t.useContext)(OG),{onCommunityCreated:o}=CW(),[a,s]=(0,t.useState)(!1);return t.createElement(v1,{heading:t.createElement(Jy,{id:"SideSectionMyCommunity.myCommunity"})},i&&t.createElement(S1,{"data-qa-anchor":"side-section-my-community-create-community-button",icon:t.createElement(_q,{height:"20px"}),element:"button",onClick:()=>s(!0)},t.createElement(Jy,{id:"createCommunity"})),t.createElement(V1,{className:n,communitiesQueryParam:{membership:"member",limit:20},activeCommunity:r}),t.createElement(d3,{isOpen:a,onClose:e=>{s(!1),e&&o(e)}}))})),f3=VV.div(tF||(tF=o(["\n  flex: 1 1 auto;\n  z-index: 1;\n  position: relative;\n  display: block;\n  overflow-y: auto;\n  min-height: 3em;\n  max-height: 200px;\n  background: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n"]))),p3=VV.div(nF||(nF=o(["\n  flex: 1 1 auto;\n  z-index: 1;\n  position: relative;\n  background: #fff;\n  padding: 18px 72px 18px 72px;\n  color: ",";\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade3})),m3=e=>{let{items:n,onPick:r=(()=>{}),append:i,renderItem:o=(e=>t.createElement("span",null,e))}=e,a=(0,t.useRef)(null),[s,l]=(0,t.useState)(-1),c=e=>()=>l(e),u=e=>()=>r(e);return CQ("ArrowUp",(()=>{if(null==a.current)return;let e=s>0?s-1:n.length-1,{scrollTop:t,clientHeight:r}=a.current,i=a.current.children[e],o=(null==i?void 0:i.clientTop)||0,c=(null==i?void 0:i.clientHeight)||0;(o<t||o+c>t+r)&&a.current.scrollTo(0,o),l(e)})),CQ("ArrowDown",(()=>{if(null==a.current)return;let e=s<n.length-1?s+1:0,{scrollTop:t,clientHeight:r}=a.current,i=a.current.children[e],o=(null==i?void 0:i.clientTop)||0,c=(null==i?void 0:i.clientHeight)||0;(o<t||o+c>t+r)&&a.current.scrollTo(0,o+c-r),l(e)})),CQ("Escape",(()=>l(-1))),CQ("Enter",(()=>null==r?void 0:r(s))),n.length?t.createElement(f3,{ref:a,onMouseLeave:()=>l(-1)},n.map(((e,n)=>t.createElement(WX,{key:"#".concat(n),hover:n===s,onClick:u(n),onMouseEnter:c(n)},o(e)))),i&&t.createElement(WX,null,i)):t.createElement(p3,{"data-qa-anchor":"suggestions-placeholder-no-results"},t.createElement(Jy,{id:"placeholder.noResults"}))},g3=VV.div(rF||(rF=o(["\n  position: relative;\n"]))),v3=VV(KX)(iF||(iF=o(["\n  z-index: 10;\n  position: absolute;\n  top: calc(100% + 0.25rem);\n  width: 100%;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.main})),y3=e=>{let{"data-qa-anchor":n="",items:r,value:i,searchValue:o,placeholder:a,loadMore:s,prepend:l,append:c,invalid:u,disabled:d,renderItem:h,onSearchValueChange:f,onClear:p,onChange:m}=e,[g,v]=(0,t.useState)(!1),[y,b]=$K(g),E=()=>v(!1);return(0,t.useEffect)((()=>{d||o.length>0&&v(!0)}),[o,d]),(0,t.useEffect)((()=>{!b&&E()}),[b]),CQ("Escape",E),t.createElement(g3,{ref:y},t.createElement(vK,{"data-qa-anchor":n,value:o,invalid:u,disabled:d,prepend:l,append:c,placeholder:a,onClear:p,onChange:e=>null==f?void 0:f(e.plainText),onClick:()=>v(!0)}),g&&t.createElement(v3,null,t.createElement(m3,{items:r,append:s&&t.createElement(mG,{fullWidth:!0,onClick:s},t.createElement(Jy,{id:"loadMore"})),onPick:e=>{null==m||m(r[e].value),v(!1),null==f||f("")},renderItem:e=>h(e)})))},b3=VV.div(oF||(oF=o(["\n  display: flex;\n  align-items: center;\n  padding-left: 20px;\n"]))),E3=VV(Iq).attrs({width:16,height:16})(aF||(aF=o(["\n  fill: ",";\n  font-size: 16px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2})),w3=VV.div(sF||(sF=o(["\n  position: relative;\n\n  ",";\n"])),(e=>{let{sticky:t}=e;return t&&UV(lF||(lF=o(["\n      z-index: 500;\n      position: sticky;\n      top: 0;\n      box-shadow: 0 0 0.5rem rgba(0, 0, 0, 0.1);\n    "])))}));VV(y3)(cF||(cF=o(["\n  ",";\n  width: 100%;\n  padding: 10px 10px 10px 40px;\n  background: ",";\n  border: 1px solid #d5d7dd;\n  border-radius: 4px;\n  outline: none;\n  color: ",";\n\n  &::placeholder {\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.palette.base.main}),(e=>{let{theme:t}=e;return t.palette.base.shade1}));var C3=VV.nav(uF||(uF=o(["\n  background: ",";\n  border-radius: 4px 4px 0 0;\n  border: 1px solid #edeef2;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),S3=VV.ul(dF||(dF=o(["\n  margin: 0;\n  padding: 0 16px;\n  list-style-type: none;\n"]))),T3=VV.li(hF||(hF=o(["\n  display: inline-block;\n"]))),_3=VV.button(fF||(fF=o(["\n  padding: 0.75em;\n  margin-right: 0.5em;\n  background-color: #ffffff;\n  border: none;\n  border-bottom: 2px solid transparent;\n  cursor: pointer;\n  outline: none;\n  color: #abaeba;\n  ","\n  text-align: center;\n\n  &:hover {\n    color: #818698;\n  }\n\n  &.active {\n    ","\n  }\n\n  &:disabled {\n    color: #abaeba;\n  }\n\n  transition: border-color 0.3s;\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold}),(e=>{let{theme:t}=e;return"\n      border-bottom: 2px solid ".concat(t.palette.primary.main,";\n      color: ").concat(t.palette.primary.main,";\n    ")})),k3=e=>{let{"data-qa-anchor":n="",className:r="",tabs:i,activeTab:o,onChange:a}=e;return t.createElement(C3,{className:r},t.createElement(S3,{"data-qa-anchor":"".concat(n,"-tabs-list")},i.map((e=>{let{value:r,label:i}=e;return t.createElement(T3,{key:r,"data-qa-anchor":"".concat(n,"-").concat(r,"-tab-item")},t.createElement(_3,{"data-qa-anchor":r===o?"".concat(n,"-").concat(r,"-tab-button-active"):"".concat(n,"-").concat(r,"-tab-button"),className:r===o?"active":"",onClick:()=>a(r)},i))}))))},x3=(0,t.memo)((e=>{let n=_W("Tabs");return n?n(e):t.createElement(k3,rH({},e))})),A3=VV.div(pF||(pF=o(["\n  position: relative;\n"]))),I3=VV(KX)(mF||(mF=o(["\n  z-index: 10;\n  position: absolute;\n  top: calc(100% + 0.25rem);\n  width: 100%;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.main})),M3=e=>{let{searchValue:n,isOpen:r}=e,{onClickCommunity:i}=CW(),{communities:o,hasMore:a,loadMore:s}=s1({displayName:n}),l=o.filter(qG),c=l.map((e=>e.displayName));return r?t.createElement(I3,null,t.createElement(m3,{items:c,append:a&&s?t.createElement(mG,{fullWidth:!0,onClick:s},t.createElement(Jy,{id:"loadMore"})):null,onPick:e=>l[e]?i(l[e].communityId):null,renderItem:e=>{let n=o.find((t=>t.displayName===e));return n&&t.createElement(U1,{communityId:n.communityId})}})):null},R3=e=>{let{searchValue:n,isOpen:r}=e,{onClickUser:i}=CW(),{users:o,hasMore:a,loadMore:s}=U2(n),l=o.filter(qG),c=l.map((e=>e.displayName));return r?t.createElement(I3,null,t.createElement(m3,{items:c,append:a&&s?t.createElement(mG,{fullWidth:!0,onClick:s},t.createElement(Jy,{id:"loadMore"})):null,onPick:e=>l[e]?i(l[e].userId):null,renderItem:e=>{let n=o.find((t=>t.displayName===e));return n&&t.createElement(K2,{userId:n.userId,isBanned:null==n?void 0:n.isGlobalBanned})}})):null},L3=e=>{let{className:n,sticky:r=!1,searchBy:i}=e,[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(i),{open:c,close:u,isOpen:d,containerRef:h}=(e=>{let{value:n,disabled:r}=e,[i,o]=(0,t.useState)(!1),[a,s]=$K(i),l=()=>o(!1);return(0,t.useEffect)((()=>{r||n&&n.length>0&&o(!0)}),[n,r]),(0,t.useEffect)((()=>{!s&&l()}),[s]),CQ("Escape",l),{isOpen:i,open:()=>o(!0),close:l,containerRef:a}})({value:o});function f(){a("")}return t.createElement(w3,{className:n,sticky:r},t.createElement(Jy,{id:"exploreHeader.searchCommunityPlaceholder"},(e=>{let[n]=e;return t.createElement(A3,{ref:h},t.createElement(vK,{"data-qa-anchor":"social-search-input",value:o,prepend:t.createElement(b3,null,t.createElement(E3,null)),placeholder:"string"==typeof n?n:void 0,onClear:f,onChange:e=>null==a?void 0:a(e.plainText),onClick:()=>c()}),d?t.createElement(x3,{tabs:[{value:"communities",label:"Communities"},{value:"accounts",label:"Accounts"}],activeTab:s,onChange:e=>l(e)}):null,"communities"===s?t.createElement(M3,{searchValue:o,isOpen:d}):null,"accounts"===s?t.createElement(R3,{searchValue:o,isOpen:d}):null)})))},D3=VV((e=>{let n=_W("SocialSearch");return n?n(e):t.createElement(L3,rH({},e))}))(gF||(gF=o(["\n  background: ",";\n  padding: 0.5rem;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),O3=e=>{let{className:n,activeCommunity:r}=e;return t.createElement(p1,{"data-qa-anchor":"community-side-menu",className:n},t.createElement(D3,{sticky:!0,searchBy:"communities"}),t.createElement(k1,null),t.createElement(h3,{activeCommunity:r}))},P3={720:1,1024:2,1280:3,1440:4,1800:5},N3=VV.div(vF||(vF=o(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0 0 16px 0;\n  align-items: flex-end;\n"]))),F3=VV.h2(yF||(yF=o(["\n  ",";\n  display: inline-block;\n  margin: 0;\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),j3=VV.div(bF||(bF=o(["\n  display: flex;\n  gap: 20px;\n"]))),B3=VV(mG).attrs({variant:"secondary"})(EF||(EF=o(["\n  width: 28px;\n  padding: 2px;\n\n  &:hover {\n    background-color: transparent;\n  }\n\n  &:disabled {\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade3})),U3=VV.div(wF||(wF=o(["\n  overflow-x: hidden;\n"])));var z3=VV.div(CF||(CF=o(["\n  margin-bottom: 0.188rem; // give the shadow a little space\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: 100%;\n  grid-gap: ","px;\n\n  ","\n"])),16,(e=>{let{currentWidth:t,columns:n}=e,r=function(e,t){let n=Object.entries(t).sort(((e,t)=>{let[n]=e,[r]=t;return Number(n)-Number(r)})).find((t=>{let[n]=t;return e<=Number(n)}));return n?n[1]:3}(t,n);return UV(SF||(SF=o(["\n      grid-auto-columns: calc(\n        (100% / ",") - (","px * "," / ",")\n      );\n    "])),r,16,r-1,r)})),H3=e=>{let{title:n="",children:r,columns:i=P3,hasMore:o=!1,loadMore:a=(()=>{})}=e;var s,l;let c=(0,t.useRef)(null),{x:u}=(0,Qx.Z)(c),[d,{width:h}]=(0,Yx.Z)(),[f,p]=(0,t.useState)(0),m=null!=(l=null==(s=c.current)?void 0:s.scrollWidth)?l:0,g=(0,t.useMemo)((()=>m>h),[m,h]),v=(0,t.useMemo)((()=>u>=m-h),[u,m,h]),y=(0,t.useMemo)((()=>0===u),[u]);return(0,t.useEffect)((()=>{var e;return null==(e=c.current)?void 0:e.scrollTo({left:(h+16)*f,behavior:"smooth"})}),[h,f]),(0,t.useEffect)((()=>{u>=m-2*h&&o&&a()}),[u,m,h,o,a]),t.createElement("div",{ref:d},t.createElement(N3,null,t.createElement(F3,null,n),g&&t.createElement(j3,null,t.createElement(B3,{disabled:y,onClick:()=>p(f-1)},t.createElement(Pq,{height:"20px"})),t.createElement(B3,{disabled:v,onClick:()=>p(f+1)},t.createElement(Nq,{height:"20px"})))),t.createElement(U3,{ref:c,page:f},c.current?t.createElement(z3,{currentWidth:c.current.clientWidth,columns:i},r):null))},V3=VV.div(TF||(TF=o(["\n  min-width: 278px;\n  min-height: 289px;\n  cursor: pointer;\n  box-shadow: 0 0 1px rgba(40, 41, 61, 0.08), 0 0.5px 2px rgba(96, 97, 112, 0.16);\n  border-radius: 8px;\n  background: ",";\n  overflow: hidden;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),q3=VV.div(_F||(_F=o(["\n  padding-top: 74.46%;\n  position: relative;\n\n  ","\n"])),(e=>{let{backgroundImage:t,theme:n}=e;return UV(kF||(kF=o(["\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0) 42.03%, rgba(0, 0, 0, 0.5) 100%),\n      ",";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n  "])),t?"url(".concat(CSS.escape(t),")"):n.palette.base.shade3)})),G3=VV.div(xF||(xF=o(["\n  position: absolute;\n  bottom: 12px;\n  left: 16px;\n  right: 16px;\n"]))),W3=VV(O1)(AF||(AF=o(["\n  color: #ffffff;\n  ","\n  line-height: 30px !important;\n\n  * {\n    color: #ffffff;\n    line-height: 30px !important;\n    padding: 0;\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),K3=VV.div(IF||(IF=o(["\n  word-break: break-word;\n  color: #ffffff;\n  margin-bottom: 0;\n  line-height: 20px;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.body})),Y3=VV.div(MF||(MF=o(["\n  padding: 12px 16px;\n"])));VV.div(RF||(RF=o(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 16px;\n"])));var Q3=VV.div(LF||(LF=o(["\n  color: ",";\n  ","\n  margin-bottom: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade1}),(e=>{let{theme:t}=e;return t.typography.caption})),Z3=VV.div(DF||(DF=o(["\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.caption})),$3=e=>{var n=e,{avatarFileUrl:r,community:i,communityCategories:o,membersCount:a,description:s,onClick:l,isOfficial:c,isPublic:u,name:d,loading:h}=n,f=oH(n,["avatarFileUrl","community","communityCategories","membersCount","description","onClick","isOfficial","isPublic","name","loading"]);return t.createElement(V3,rH({onClick:()=>(null==i?void 0:i.communityId)&&(null==l?void 0:l(i.communityId))},f),t.createElement(q3,{backgroundImage:null!=r?r:tq},t.createElement(G3,null,t.createElement(W3,{isOfficial:c,isPublic:u,isTitle:!0,name:d,truncate:2}),t.createElement(SC,{lines:1},t.createElement(K3,null,(o||[]).map((e=>e.name)).join(", "))))),t.createElement(Y3,null,h&&t.createElement(WW,{style:{fontSize:8}}),!h&&t.createElement(Q3,null,(0,Ib.ZP)(a||0)," ",t.createElement(Jy,{id:"plural.member",values:{amount:a}})),!h&&s?t.createElement(SC,{lines:2},t.createElement(Z3,null,s)):null))},X3=e=>{let n=_W("UICommunityCard");return n?n(e):t.createElement($3,rH({},e))},J3=e=>{let[n,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{!function(){aH(this,null,(function*(){if(null==e||0===e.length)return;let t=yield Promise.all(e.map((e=>aH(this,null,(function*(){return(yield im.getCategory(e)).data})))));r(t)}))}()}),[e]),n},e4=(0,t.memo)((e=>{var n,r=e,{communityId:i,onClick:o}=r,a=oH(r,["communityId","onClick"]);let s=jW(i),l=nK(null==s?void 0:s.avatarFileId),c=J3((null==s?void 0:s.categoryIds)||[]),u=rK({fileId:null!=(n=null==l?void 0:l.fileId)?n:void 0});if(null==s)return t.createElement(t.Fragment,null);let{membersCount:d,description:h}=s;return t.createElement(X3,rH({avatarFileUrl:u,community:s,communityCategories:c,membersCount:d,description:h,isOfficial:s.isOfficial,isPublic:s.isPublic,name:s.displayName,onClick:o},a))}));(0,t.memo)((()=>{let{onClickCommunity:e}=CW(),{communities:n,isLoading:r}=function(e){let t=iQ({fetcher:tm.getRecommendedCommunities,params:iH(rH({},e),{limit:(null==e?void 0:e.limit)||10})}),{items:n}=t,r=oH(t,["items"]);return rH({communities:n},r)}(),i=r?t.createElement(WW,{style:{fontSize:12,maxWidth:156}}):t.createElement(Jy,{id:"recommendedList"});return null!=n&&n.length?t.createElement(H3,{title:i},r&&new Array(4).fill(1).map(((e,n)=>t.createElement(X3,{key:n,loading:!0}))),!r&&n.map((n=>{let{communityId:r}=n;return t.createElement(e4,{key:r,communityId:r,onClick:e})}))):null}));var t4=VV.div(OF||(OF=o(["\n  display: grid;\n  grid-template-columns: 118px auto;\n  cursor: pointer;\n  counter-increment: trending;\n  min-width: 425px;\n  height: 118px;\n  border: 1px solid #ebecef;\n  border-radius: 8px;\n  background: ",";\n  overflow: hidden;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),n4=VV.div(PF||(PF=o(["\n  padding-left: 100%;\n\n  ","\n"])),(e=>{let{backgroundImage:t,theme:n}=e;return"\n    background: ".concat(t?"url(".concat(CSS.escape(t),")"):n.palette.base.shade3,";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n  ")})),r4=VV.div(NF||(NF=o(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow: hidden;\n"]))),i4=VV.span(FF||(FF=o(["\n  &:after {\n    content: ' \u2022 ';\n  }\n"]))),o4=VV.span(jF||(jF=o(["\n  font: inherit;\n  &:not(:first-child):before {\n    content: ' ';\n  }\n"]))),a4=VV.div(BF||(BF=o(["\n  ",";\n  color: ",";\n\n  & > * {\n    font: inherit;\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.caption}),(e=>{let{theme:t}=e;return t.palette.base.shade1})),s4=VV.p(UF||(UF=o(["\n  margin: 0.5rem 0 0;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.caption})),l4=VV(O1)(zF||(zF=o(["\n  ",";\n\n  &:before {\n    content: counter(trending, decimal-leading-zero);\n    margin-right: 0.375em;\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.title})),c4=e=>{let{avatarFileUrl:n,description:r,categories:i=[],membersCount:o,onClick:a,isOfficial:s,isPublic:l,name:c,loading:u}=e;return t.createElement(t4,{onClick:a},t.createElement(n4,{backgroundImage:n}),t.createElement(r4,null,u?t.createElement(t.Fragment,null,t.createElement(WW,{style:{fontSize:"0.5rem",maxWidth:"7.5rem"}}),t.createElement("div",null,t.createElement(WW,{style:{fontSize:"0.5rem",maxWidth:"13.5rem"}})),t.createElement(WW,{width:"2.5rem",style:{fontSize:"0.5rem"}}),t.createElement(WW,{width:"2.5rem",style:{fontSize:"0.5rem",marginLeft:"0.75rem"}})):t.createElement(t.Fragment,null,t.createElement(l4,{isOfficial:s,isPublic:l,name:c}),t.createElement(a4,null,i.length>0&&t.createElement(SC,{lines:1},t.createElement(i4,null,i.map((e=>t.createElement(o4,{key:e.categoryId},e.name))))),t.createElement("span",null,(0,Ib.ZP)(o||0)," ",t.createElement(Jy,{id:"plural.member",values:{amount:o}}))),r&&t.createElement(SC,{lines:2},t.createElement(s4,null,r)))))},u4=e=>{let n=_W("UITrendingItem");return n?n(e):t.createElement(c4,rH({},e))};(0,t.memo)((e=>{let{communityId:n,onClick:r,loading:i}=e,o=jW(n),a=rK({fileId:null==o?void 0:o.avatarFileId}),s=J3(null==o?void 0:o.categoryIds);if(null==o)return null;let{membersCount:l,description:c}=o;return t.createElement(u4,{avatarFileUrl:a,description:c,categories:s,membersCount:l,isOfficial:o.isOfficial,isPublic:o.isPublic,name:o.displayName,loading:i,onClick:()=>r(n)})})),VV.h2(HF||(HF=o(["\n  ",";\n  margin: 0 0 1rem 0;\n"])),(e=>{let{theme:t}=e;return t.typography.headline}));VV.ul(VF||(VF=o(["\n  list-style: none;\n  counter-reset: trending;\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-auto-rows: 1fr;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n\n  @media (min-width: 1280px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (min-width: 1800px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"])));var d4=VV.div(qF||(qF=o(["\n  min-width: 160px;\n  min-height: 150px;\n  cursor: pointer;\n  border-radius: 8px;\n  overflow: hidden;\n  position: relative;\n\n  ","\n"])),(e=>{let{backgroundImage:t,theme:n}=e;return"\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0) 42.03%, rgba(0, 0, 0, 0.5) 100%), ".concat(t?"url(".concat(CSS.escape(t),")"):n.palette.base.shade3,";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n  ")})),h4=VV.div(GF||(GF=o(["\n  position: absolute;\n  bottom: 12px;\n  left: 12px;\n  right: 12px;\n"]))),f4=VV.h4(WF||(WF=o(["\n  color: #ffffff;\n  ","\n  margin: 0;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),p4=e=>{var n=e,{categoryId:r,name:i,avatarFileUrl:o,avatarFileId:a,onClick:s,loading:l}=n,c=oH(n,["categoryId","name","avatarFileUrl","avatarFileId","onClick","loading"]);let u=rK({fileId:a});return t.createElement(d4,rH({backgroundImage:o||u||void 0,onClick:()=>r&&(null==s?void 0:s(r))},c),t.createElement(h4,null,l&&t.createElement(WW,{style:{fontSize:16}}),!l&&t.createElement(SC,{lines:2},t.createElement(f4,null,i))))},m4=e=>{let n=_W("UICategoryCard");return n?n(e):t.createElement(p4,rH({},e))};(0,t.memo)((e=>{var n=e,{categoryId:r,className:i,loading:o,onClick:a}=n,s=oH(n,["categoryId","className","loading","onClick"]);let l=X1(r),c=rK({fileId:null==l?void 0:l.avatarFileId});return t.createElement(m4,rH({avatarFileUrl:c,className:i,categoryId:r,name:null==l?void 0:l.name,loading:o,onClick:a},s))}));VV(m4)(KF||(KF=o(["\n  > :first-child {\n    padding-right: 1rem;\n    padding-left: 0;\n  }\n\n  > :last-child {\n    padding-left: 1rem;\n    padding-right: 0;\n  }\n\n  padding-left: 1rem;\n  padding-right: 1rem;\n"]))),VV.div(YF||(YF=o(["\n  max-width: 1450px;\n  margin: 0 auto;\n  padding: 30px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n  display: grid;\n  grid-template-columns: 100%;\n  grid-gap: 1.5rem;\n"]))),VV.div(QF||(QF=o(["\n  height: 100%;\n  max-width: 550px;\n  margin: 0 auto;\n  padding: 28px 0;\n  overflow-y: auto;\n"])));var g4={EDIT_PROFILE:"EDIT_PROFILE",MEMBERS:"MEMBERS",PERMISSIONS:"PERMISSIONS"};g4.EDIT_PROFILE,t.createElement(Jy,{id:"tabs.editProfile"}),g4.MEMBERS,t.createElement(Jy,{id:"tabs.members"}),g4.PERMISSIONS,t.createElement(Jy,{id:"tabs.permissions"}),VV.div(ZF||(ZF=o(["\n  padding: 70px 30px 30px;\n  max-width: 360px;\n  text-align: center;\n"]))),VV.div($F||($F=o(["\n  margin-top: 25px;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),VV.p(XF||(XF=o(["\n  margin-top: 8px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.shade1})),VV(fG)(JF||(JF=o(["\n  display: block;\n  margin: 25px auto 0 auto;\n"]))),VV(pG)(ej||(ej=o(["\n  color: ",";\n  padding: 0 0 0 4px;\n  margin-top: 20px;\n\n  &:hover {\n    background: none;\n    text-decoration: underline;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main}));var v4=[{value:"image",label:t.createElement(Jy,{id:"tabs.images"})},{value:"video",label:t.createElement(Jy,{id:"tabs.videos"})},{value:"liveStream",label:t.createElement(Jy,{id:"tabs.liveStreams"})}],y4={image:t.createElement((e=>t.createElement("svg",rH({width:"48",height:"48",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M16.125 20C17.9531 20 19.5 18.5234 19.5 16.625C19.5 14.7969 17.9531 13.25 16.125 13.25C14.2266 13.25 12.75 14.7969 12.75 16.625C12.75 18.5234 14.2266 20 16.125 20ZM16.125 15.5C16.6875 15.5 17.25 16.0625 17.25 16.625C17.25 17.2578 16.6875 17.75 16.125 17.75C15.4922 17.75 15 17.2578 15 16.625C15 16.0625 15.4922 15.5 16.125 15.5ZM37.5 8.75H10.5C9.23438 8.75 8.25 9.80469 8.25 11V38C8.25 39.2656 9.23438 40.25 10.5 40.25H37.5C38.6953 40.25 39.75 39.2656 39.75 38V11C39.75 9.80469 38.6953 8.75 37.5 8.75ZM37.5 38H10.5V32.375H37.5V38ZM14.2266 30.125L17.8828 25.2734L20.6953 29L19.8516 30.125H14.2266ZM22.6641 30.125L28.0078 23.0234L33.3516 30.125H22.6641ZM37.5 30.125H36.1641L28.9219 20.4922C28.4297 19.9297 27.5156 19.9297 27.0938 20.4922L22.1016 27.1719L18.7969 22.7422C18.3047 22.1797 17.3906 22.1797 16.9688 22.7422L11.4141 30.125H10.5V11H37.5V30.125Z"}))),null),video:t.createElement((e=>t.createElement("svg",rH({width:"48",height:"48",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M39.6797 17.75L39.75 20L39.6797 38L33 33.3594V24.7109L39.6797 20V17.75C39.2578 17.8203 38.7656 17.9609 38.4141 18.1719L33 21.9688V21.125C33 19.2969 31.4531 17.75 29.625 17.75H12.75V14.375C12.75 12.5469 14.2266 11 16.125 11H27.9375C28.2188 11 28.5 10.7891 28.5 10.4375V9.3125C28.5 9.03125 28.2188 8.75 27.9375 8.75H16.125C12.9609 8.75 10.5 11.2812 10.5 14.375V17.75H9.375C7.47656 17.75 6 19.2969 6 21.125V36.875C6 38.7734 7.47656 40.25 9.375 40.25H29.625C31.4531 40.25 33 38.7734 33 36.875V36.1016L38.4141 39.8984C38.7656 40.1094 39.2578 40.25 39.6797 40.25C40.875 40.25 42 39.3359 42 38.0703V20C42 18.6641 40.875 17.75 39.6797 17.75ZM30.75 36.875C30.75 37.5078 30.1875 38 29.625 38H9.375C8.74219 38 8.25 37.5078 8.25 36.875V21.125C8.25 20.5625 8.74219 20 9.375 20H29.625C30.1875 20 30.75 20.5625 30.75 21.125V36.875ZM28.0078 22.25H10.9219C10.6406 22.3203 10.5 22.4609 10.5 22.7422V24.0781C10.5 24.3594 10.6406 24.5 10.9219 24.5H28.0078C28.2891 24.5 28.4297 24.3594 28.5 24.0781V22.7422C28.4297 22.4609 28.2891 22.3203 28.0078 22.25Z"}))),null),liveStream:t.createElement((e=>t.createElement("svg",rH({width:"48",height:"48",viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),t.createElement("path",{d:"M10.5 11.9844L9.72656 11.2109C9.65625 11.0703 9.44531 11 9.30469 11C9.16406 11 9.02344 11.0703 8.88281 11.2109C5.57812 14.7969 3.75 19.5078 3.75 24.5C3.75 29.4922 5.57812 34.2031 8.88281 37.8594C9.02344 38 9.16406 38.0703 9.30469 38.0703C9.44531 38.0703 9.65625 38 9.72656 37.8594L10.5 37.0859C10.6406 36.9453 10.7109 36.8047 10.7109 36.6641C10.7109 36.5234 10.6406 36.3828 10.5 36.2422C7.61719 33.0781 6 28.9297 6 24.5C6 20.1406 7.61719 15.9922 10.5 12.8281C10.6406 12.6875 10.7109 12.5469 10.7109 12.4062C10.7109 12.2656 10.6406 12.125 10.5 11.9844ZM16.4062 16.8359L15.6328 16.0625C15.4922 15.9219 15.3516 15.9219 15.2109 15.9219C15.0703 15.9219 14.9297 15.9219 14.7891 16.0625C12.8203 18.3125 11.625 21.2656 11.625 24.5C11.625 27.8047 12.8203 30.7578 14.7891 33.0078C14.9297 33.0781 15.0703 33.1484 15.2109 33.1484C15.3516 33.1484 15.4922 33.1484 15.6328 33.0078L16.4062 32.1641C16.5469 32.0938 16.6172 31.9531 16.6172 31.8125C16.6172 31.6719 16.5469 31.5312 16.4062 31.3906C14.7891 29.5625 13.875 27.1719 13.875 24.5703C13.875 21.8984 14.7891 19.5078 16.4062 17.6797C16.5469 17.5391 16.5469 17.3984 16.5469 17.2578C16.5469 17.1172 16.5469 16.9766 16.4062 16.8359ZM39.0469 11.2109C38.9062 11.0703 38.7656 11 38.625 11C38.4844 11 38.2734 11.0703 38.2031 11.2109L37.4297 11.9844C37.2891 12.125 37.2188 12.2656 37.2188 12.4062C37.2188 12.5469 37.2891 12.6875 37.4297 12.8281C40.3828 15.9922 42 20.1406 42 24.5C42 28.9297 40.3828 33.0781 37.4297 36.2422C37.2891 36.3828 37.2188 36.5234 37.2188 36.6641C37.2188 36.8047 37.2891 36.9453 37.4297 37.0859L38.2031 37.8594C38.2734 38 38.4844 38.0703 38.625 38.0703C38.7656 38.0703 38.9062 38 39.0469 37.8594C42.3516 34.2031 44.25 29.4922 44.25 24.5C44.25 19.5078 42.3516 14.7969 39.0469 11.2109ZM24 20C21.4688 20 19.5 22.0391 19.5 24.5C19.5 27.0312 21.4688 29 24 29C26.4609 29 28.5 27.0312 28.5 24.5C28.5 22.0391 26.4609 20 24 20ZM24 26.75C22.7344 26.75 21.75 25.7656 21.75 24.5C21.75 23.3047 22.7344 22.25 24 22.25C25.1953 22.25 26.25 23.3047 26.25 24.5C26.25 25.7656 25.1953 26.75 24 26.75ZM32.2969 16.0625L31.5234 16.8359C31.3828 16.9766 31.3125 17.1172 31.3125 17.2578C31.3125 17.3984 31.3828 17.5391 31.5234 17.6797C33.1406 19.5078 34.0547 21.8984 34.0547 24.5C34.0547 27.1719 33.1406 29.5625 31.5234 31.3906C31.3828 31.5312 31.3125 31.6719 31.3125 31.8125C31.3125 31.9531 31.3828 32.0938 31.5234 32.2344L32.2969 33.0078C32.4375 33.1484 32.5781 33.2188 32.7188 33.2188C32.8594 33.2188 33 33.1484 33.1406 33.0078C35.1094 30.7578 36.3047 27.8047 36.3047 24.5703C36.3047 21.2656 35.1094 18.3125 33.1406 16.0625C33 15.9922 32.8594 15.9219 32.7188 15.9219C32.5781 15.9219 32.4375 15.9219 32.2969 16.0625Z"}))),null)},b4={image:t.createElement(Jy,{id:"mediaGallery.images.empty"}),video:t.createElement(Jy,{id:"mediaGallery.videos.empty"}),liveStream:t.createElement(Jy,{id:"mediaGallery.liveStreams.empty"})},E4=VV(x3)(tj||(tj=o(["\n  &"," {\n    border: none;\n  }\n\n  "," {\n    padding: 0;\n  }\n\n  "," {\n    &:not(:first-child) {\n      margin-left: 0.75em;\n    }\n  }\n\n  "," {\n    margin: 0;\n    padding: 0.5em 0.75em;\n    background: #ebecef;\n    border-radius: 1.5em;\n    ","\n\n    &.active {\n      background: ",";\n      color: #fff;\n      ","\n      border-bottom: none;\n    }\n  }\n"])),C3,S3,T3,_3,(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.primary.main}),(e=>{let{theme:t}=e;return t.typography.bodyBold})),w4=VV.div(nj||(nj=o(["\n  padding: 1.25em 1em;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 0.25em;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background}),(e=>{let{theme:t}=e;return t.palette.system.borders})),C4=VV(E4)(rj||(rj=o(["\n  margin-bottom: 1em;\n"])));var S4=e=>{let{targetId:n,targetType:r}=e,[i,o]=(0,t.useState)("image"),{media:a,isLoading:s,hasMore:l,loadMore:c,loadMoreHasBeenCalled:u}=function(e){let{targetId:t,targetType:n,dataType:r,limit:i}=e,o=iQ({fetcher:dm.getPosts,params:{targetId:t,targetType:n,dataTypes:[r],limit:i},shouldCall:()=>!!t&&!!n}),{items:a}=o,s=oH(o,["items"]);return rH({media:a},s)}({targetId:n||void 0,targetType:r,dataType:i,limit:21});return t.createElement(w4,null,t.createElement(C4,{activeTab:i,tabs:v4,onChange:e=>o(e)}),(s||u||a.length>0)&&t.createElement(nQ,{hasMore:l,loadMore:c,className:"load-more no-border",contentSlot:t.createElement(HZ,{items:a,loading:s,loadingMore:u,renderVideoThumbnail:e=>t.createElement(EZ,{item:e,showPlayIcon:!0,showVideoDuration:!0}),renderLiveStreamThumbnail:e=>t.createElement(NZ,{item:e,showPlayIcon:!0,showLivestreamTitle:!0,showLivestreamRecordedBadge:!0})})}),!s&&!u&&0===a.length&&t.createElement(PX,{icon:y4[i],title:b4[i]}))},T4=((0,t.memo)((e=>{let n=_W("MediaGallery");return n?n(e):t.createElement(S4,rH({},e))})),VV(_q).attrs({width:15,height:15})(ij||(ij=o(["\n  font-size: 15px;\n  margin-right: 8px;\n"]))),VV(kq).attrs({width:15,height:15})(oj||(oj=o(["\n  font-size: 15px;\n  margin-right: 4px;\n"]))),VV(dY)(aj||(aj=o(["\n  margin-left: auto;\n  margin-right: 0;\n\n  & .leave-community {\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main})),VV.div(sj||(sj=o(["\n  border: 1px solid #ebecef;\n  border-radius: 8px;\n  background: ",";\n  flex-shrink: 0;\n  align-self: flex-start;\n  margin-bottom: 12px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(lj||(lj=o(["\n  padding-top: 56.25%;\n  position: relative;\n\n  ","\n"])),(e=>{let{backgroundImage:t,theme:n}=e;return"\n    background: linear-gradient(360deg, rgba(0, 0, 0, 0.5) -4.5%, rgba(0, 0, 0, 0) 77.17%), ".concat(t?"url(".concat(CSS.escape(t),")"):n.palette.base.shade3,";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n  ")})),VV.div(cj||(cj=o(["\n  position: absolute;\n  bottom: 16px;\n  left: 16px;\n  right: 16px;\n"]))),VV(O1)(uj||(uj=o(["\n  color: #ffffff;\n  ","\n  line-height: 30px !important;\n\n  * {\n    line-height: 30px !important;\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),VV.div(dj||(dj=o(["\n  padding: 18px 16px;\n"]))),VV.div(hj||(hj=o(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 16px;\n"]))),VV.div(fj||(fj=o(["\n  word-break: break-word;\n  color: #ffffff;\n  margin-bottom: 0;\n  line-height: 20px;\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.body})),VV.span(pj||(pj=o(["\n  & > .countNumber {\n    ",";\n    color: ",";\n  }\n\n  & > .countType {\n    ",";\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.title}),(e=>{let{theme:t}=e;return t.palette.base.default}),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.base.shade2})),VV.div(mj||(mj=o(["\n  display: inline-block;\n  width: 1px;\n  margin: 12px 0;\n  background: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),VV.div(gj||(gj=o(["\n  margin-bottom: 20px;\n"]))),VV(fG)(vj||(vj=o(["\n  width: 100%;\n  justify-content: center;\n"]))),VV.div(yj||(yj=o(["\n  display: flex;\n  gap: 20px;\n"]))),VV.div(bj||(bj=o(["\n  background: ",";\n  padding: 12px;\n  margin-top: 8px;\n  border-radius: 4px;\n  text-align: center;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),VV.div(Ej||(Ej=o(["\n  ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),VV.span(wj||(wj=o(["\n  width: 6px;\n  height: 6px;\n  border-radius: 3px;\n  background: ",";\n  margin-right: 6px;\n"])),(e=>{let{theme:t}=e;return t.palette.primary.main})),VV.div(Cj||(Cj=o(["\n  ",";\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.caption}),(e=>{let{theme:t}=e;return t.palette.base.shade1})),VV(x3)(Sj||(Sj=o(["\n  margin-bottom: 14px;\n  border-radius: 0;\n  border-right: 0;\n  border-left: 0;\n"])))),_4=VV.div(Tj||(Tj=o(["\n  background: ",";\n  border: 1px solid #edeef2;\n  border-radius: 4px;\n  flex: 2;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),k4=VV.div(_j||(_j=o(["\n  ",";\n  padding: 16px;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),x4=VV.div(kj||(kj=o(["\n  padding: 10px 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),A4=VV.div(xj||(xj=o(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n"]))),I4=e=>{let[n,r]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),a=()=>aH(void 0,null,(function*(){e&&Df.isUserFlaggedByMe(e).then((e=>{o(e),r(!1)}))}));(0,t.useEffect)((()=>{e&&a()}),[e]);let s=()=>aH(void 0,null,(function*(){if(null!=e)try{yield Df.flagUser(e),o(!0)}catch(t){o(!1)}finally{a()}})),l=()=>aH(void 0,null,(function*(){if(null!=e)try{yield Df.unflagUser(e),o(!1)}catch(t){o(!0)}finally{a()}}));return{isLoading:n,isFlaggedByMe:i,flagUser:s,unflagUser:l,toggleFlagUser:()=>aH(void 0,null,(function*(){null!=e&&(i?l():s())}))}},{COMMUNITY_MODERATOR:M4,CHANNEL_MODERATOR:R4}=yW,L4=e=>{let{userId:n,currentUserId:r,onClick:i,roles:o=[],assignRolesToUsers:a,hasModeratorPermissions:s,removeRolesFromUsers:l,removeMembers:c,isJoined:u,isBanned:d}=e,h=vW(n),{formatMessage:f}=Zy(),{isFlaggedByMe:p,toggleFlagUser:m}=I4(n),g=null==h?void 0:h.isGlobalBanned;gW({userId:n,level:Mu.USER});let v=qY(o);return t.createElement(x4,{"data-qa-anchor":"community-member-item"},t.createElement(A4,null,t.createElement(K2,{userId:n,isBanned:d||g,onClick:i})),!(r===n)&&u&&t.createElement(dY,{"data-qa-anchor":"community-members-option-menu",options:[{name:f(p?{id:"report.unreportUser"}:{id:"report.reportUser"}),action:()=>{aH(void 0,null,(function*(){return m()})),lG({content:t.createElement(Jy,{id:"report.reportSent"})})}},!s||v||g?null:{name:f({id:"moderatorMenu.promoteToModerator"}),action:()=>a([M4,R4],[n])},s&&v?{name:f({id:"moderatorMenu.dismissModerator"}),action:()=>l([M4,R4],[n])}:null,s?{name:f({id:"moderatorMenu.removeFromCommunity"}),action:()=>{RG({"data-qa-anchor":"remove-user",title:t.createElement(Jy,{id:"community.removeUserFromCommunityTitle"}),content:t.createElement(Jy,{id:"community.removeUserFromCommunityBody"}),cancelText:"Cancel",okText:"Remove",onOk:()=>c([n])})},className:"danger-zone"}:null].filter(qG)}))},D4="MEMBERS",O4="MODERATORS";t.createElement(Jy,{id:"tabs.members"}),t.createElement(Jy,{id:"tabs.moderators"});var P4=e=>{let{community:n,members:r,loadMore:i,hasMore:o}=e,{onClickUser:a}=CW(),{hasMoreMembers:s,loadMoreMembers:l,hasModeratorPermissions:c,currentUserId:u,assignRolesToUsers:d,removeRolesFromUsers:h,removeMembers:f}=(e=>{let{community:t,members:n,loadMore:r,hasMore:i}=e,o=null==t?void 0:t.communityId,{currentUserId:a}=rW(),s=n.find((e=>e.userId===a)),l=vW(a),c=qY(null==s?void 0:s.roles),u=BG(s)&&c||qY(null==l?void 0:l.roles)||GY(null==l?void 0:l.roles);return{community:t,members:n,currentUserId:a,hasMoreMembers:i,loadMoreMembers:r,hasModeratorPermissions:u,assignRolesToUsers:(e,t)=>o&&tm.Moderation.addRoles(o,e,t),removeRolesFromUsers:(e,t)=>o&&tm.Moderation.removeRoles(o,e,t),removeMembers:e=>o&&tm.Membership.removeMembers(o,e)}})({community:n,hasMore:o,loadMore:i,members:r});return 0===r.length?null:t.createElement(nQ,{hasMore:s,loadMore:l,contentSlot:r.map((e=>{let{userId:r,roles:i,isBanned:o}=e;return t.createElement(L4,{key:r,userId:r,currentUserId:u||"",roles:i,assignRolesToUsers:d,removeRolesFromUsers:h,removeMembers:f,hasModeratorPermissions:c,isJoined:null==n?void 0:n.isJoined,isBanned:o,onClick:()=>a(r)})}))})},N4=e=>{let{community:n}=e,{onClickUser:r}=CW(),{currentUserId:i,moderators:o,hasMoreModerators:a,loadMoreModerators:s,hasModeratorPermissions:l,assignRolesToUsers:c,removeRolesFromUsers:u,removeMembers:d}=(e=>{let{community:t}=e,n=null==t?void 0:t.communityId,{currentUserId:r}=rW(),{moderators:i,hasMore:o,loadMore:a}=hX(n),s=i.find((e=>e.userId===r)),l=vW(r),c=qY(null==s?void 0:s.roles),u=BG(s)&&c||qY(null==l?void 0:l.roles)||GY(null==l?void 0:l.roles);return{moderators:i,currentUserId:r,hasMoreModerators:o,loadMoreModerators:a,hasModeratorPermissions:u,assignRolesToUsers:(e,t)=>n&&tm.Moderation.addRoles(n,e,t),removeRolesFromUsers:(e,t)=>n&&tm.Moderation.removeRoles(n,e,t),removeMembers:e=>n&&tm.Membership.removeMembers(n,e)}})({community:n});return 0===o.length?null:t.createElement(nQ,{hasMore:a,loadMore:s,contentSlot:o.map((e=>{let{userId:o,roles:a,isBanned:s}=e;return t.createElement(L4,{key:o,userId:o,currentUserId:i||"",roles:a,assignRolesToUsers:c,removeRolesFromUsers:u,removeMembers:d,hasModeratorPermissions:l,isJoined:null==n?void 0:n.isJoined,isBanned:s,onClick:e=>e&&r(e)})}))})},F4=e=>{let{communityId:n}=e,{formatMessage:r}=Zy();VK({level:Mu.COMMUNITY,communityId:n});let{hasMore:i,loadMore:o,loadMoreHasBeenCalled:a,isLoading:s,members:l}=fX(n),c=jW(n),u=[{value:"MEMBERS",label:r({id:"CommunityMembers.members"})},{value:"MODERATORS",label:r({id:"CommunityMembers.moderators"})}],[d,h]=(0,t.useState)(D4);return t.createElement(_4,null,t.createElement(k4,null,"Community Members \u2022 ",l.length||0),t.createElement(T4,{tabs:u,activeTab:d,onChange:h}),d===D4&&t.createElement(P4,{community:c,hasMore:i,loadMore:o,members:l}),d===O4&&t.createElement(N4,{community:c}))};(0,t.memo)((e=>{let n=_W("CommunityMembers");return n?n(e):t.createElement(F4,rH({},e))})),VV(x3)(Aj||(Aj=o(["\n  background: ",";\n  border-radius: 4px 4px 0 0;\n  border: 1px solid #edeef2;\n  margin-bottom: 12px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background}));VV.div(Ij||(Ij=o(["\n  height: 100%;\n  max-width: 550px;\n  margin: 0 auto;\n  padding: 28px 0;\n  overflow-y: auto;\n"]))),VV.div(Mj||(Mj=o(["\n  background: ",";\n  color: ",";\n  margin-bottom: 12px;\n  padding: 12px 16px;\n  border-radius: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade1})),VV(x3)(Rj||(Rj=o(["\n  background: ",";\n  border-radius: 4px 4px 0 0;\n  border: 1px solid #edeef2;\n  margin-bottom: 12px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(Lj||(Lj=o(["\n  width: 100%;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 10px;\n\n  > * {\n    width: 100%;\n  }\n"]))),VV.div(Dj||(Dj=o(["\n  display: flex;\n  padding: 15px;\n\n  border-top: 1px solid ",";\n\n  > *:first-child {\n    margin-right: 10px;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),VV.div(Oj||(Oj=o(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  & > * {\n    margin-bottom: 0.5rem;\n    margin-right: 0.5rem;\n  }\n"]))),VV.div(Pj||(Pj=o(["\n  display: flex;\n  align-items: center;\n"]))),VV(PX)(Nj||(Nj=o(["\n  width: 100%;\n"]))),VV.button(Fj||(Fj=o(["\n  display: block;\n  width: 100%;\n  margin-top: 0.5rem;\n  padding: 0.625rem 0.75rem;\n  background: none;\n  border: 1px solid ",";\n  border-radius: 4px;\n  cursor: pointer;\n  outline: none;\n  color: ",";\n  text-align: center;\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{theme:t}=e;return t.palette.base.shade2}));function j4(e){let{userId:n,callback:r}=e,i=vW(n),o=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(null!=i)return o.current=ju(zZ(i),r),()=>{var e;null==(e=o.current)||e.call(o)}}),[])}function B4(e){let{userId:n,callback:r}=e,i=vW(n),o=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(null!=i)return o.current=ju(UZ(i),r),()=>{var e;null==(e=o.current)||e.call(o)}}),[])}function U4(e){let{userId:t,status:n}=e,r=iQ({fetcher:Df.Relationship.getFollowers,params:{userId:t,status:null!=n?n:void 0},shouldCall:()=>!!t}),{items:i}=r,o=oH(r,["items"]);return rH({followers:i},o)}VV.div(jj||(jj=o(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: 16px;\n"]))),VV(PX)(Bj||(Bj=o(["\n  margin-right: auto;\n  margin-left: auto;\n"])));t.createElement(Jy,{id:"tabs.followings"}),t.createElement(Jy,{id:"tabs.followers"}),t.createElement(Jy,{id:"tabs.pending"});var z4="TIMELINE",H4="GALLERY",V4="FOLLOWERS",q4=(t.createElement(Jy,{id:"tabs.timeline"}),t.createElement(Jy,{id:"tabs.gallery"}),t.createElement(Jy,{id:"tabs.followers"}),VV.div(Uj||(Uj=o(["\n  height: 100%;\n  max-width: 550px;\n  margin: 0 auto;\n  padding: 28px 0;\n  overflow-y: auto;\n"]))),e=>{let[n,r]=(0,t.useState)(0),[i,o]=(0,t.useState)(0),[a,s]=(0,t.useState)(0);return pW({fetcher:Df.Relationship.getFollowInfo,params:e,callback:e=>{e.data&&(r(e.data.followerCount),o(e.data.followingCount),s(e.data.pendingCount))},shouldCall:()=>!!e}),{followerCount:n,followingCount:i,pendingCount:a}}),G4=e=>{var t;let n=pW({fetcher:Df.Relationship.getFollowInfo,params:e});return null!=(t=null==n?void 0:n.status)?t:"none"},W4=e=>{let{userId:n,currentUserId:r,fileUrl:i,displayName:o,description:a,isMyProfile:s,onEditUser:l,onFollowRequest:c,onFollowDecline:u,onUnFollow:d,onPendingNotificationClick:h,onFollowingCountClick:f,onFollowerCountClick:p,onReportClick:m,isFollowPending:g,isFollowNone:v,isFollowAccepted:y,followerCount:b=0,followingCount:E=0,isPrivateNetwork:w}=e,C=vW(n),{formatMessage:S}=Zy(),{isFlaggedByMe:T}=I4(n||void 0),{followers:_}=U4({userId:r,status:"pending"}),k=null!=C&&C.displayName?S({id:"user.unfollow.confirm.title"},{displayName:C.displayName}):S({id:"user.unfollow.confirm.title.thisUser"}),x=null!=C&&C.displayName?S({id:"user.unfollow.confirm.body"},{displayName:C.displayName}):S({id:"user.unfollow.confirm.body.thisUser"}),A=[y&&!s?{name:S({id:"user.unfollow"}),action:()=>RG({title:k,content:x,cancelText:S({id:"buttonText.cancel"}),okText:S({id:"buttonText.unfollow"}),onOk:()=>aH(void 0,null,(function*(){yield null==d?void 0:d()}))})}:void 0,s?void 0:{name:S(T?{id:"report.unreportUser"}:{id:"report.reportUser"}),action:()=>{null==m||m()}}].filter(qG);return t.createElement(IJ,{"data-qa-anchor":"user-info"},t.createElement(MJ,null,t.createElement(RJ,{"data-qa-anchor":"user-info-profile-image",avatar:i,backgroundImage:YV}),t.createElement(LJ,null,s?t.createElement(mG,{"data-qa-anchor":"user-info-edit-profile-button",onClick:()=>(null==C?void 0:C.userId)&&(null==l?void 0:l(C.userId))},t.createElement(AJ,null)," ",t.createElement(Jy,{id:"user.editProfile"})):t.createElement(t.Fragment,null,w&&g&&t.createElement(mG,{onClick:()=>null==u?void 0:u()},t.createElement(kJ,null,t.createElement(xJ,null)),t.createElement(Jy,{id:"user.cancel_follow"})),v&&t.createElement(fG,{onClick:()=>null==c?void 0:c()},t.createElement(_J,null)," ",t.createElement(Jy,{id:"user.follow"})))),t.createElement(jJ,{options:A,pullRight:!1})),t.createElement(VJ,null,t.createElement(SC,{lines:3},t.createElement(DJ,{"data-qa-anchor":"user-info-profile-name"},o)),null!=C&&C.isGlobalBanned?t.createElement(XW,{style:{marginLeft:"0.265rem",marginTop:"1px"}}):null),t.createElement(NJ,null,t.createElement(PJ,{onClick:()=>{null==f||f()}},(0,Ib.ZP)(E)),t.createElement(Jy,{id:"counter.followings"}),t.createElement(PJ,{onClick:()=>{null==p||p()}},(0,Ib.ZP)(b)),t.createElement(Jy,{id:"counter.followers"})),t.createElement(FJ,{"data-qa-anchor":"user-info-description"},a),s&&_.length>0&&w&&t.createElement(BJ,{onClick:()=>{null==h||h()}},t.createElement(UJ,null,t.createElement(HJ,null),t.createElement(Jy,{id:"follow.pendingNotification.title"})),t.createElement(zJ,null,t.createElement(Jy,{id:"follow.pendingNotification.body"}))))},K4=e=>{let n=_W("UIUserInfo");return n?n(e):t.createElement(W4,rH({},e))},Y4=((0,t.memo)((e=>{let{userId:n,onUnFollow:r,onFollowingCountClick:i,onFollowerCountClick:o,onPendingNotificationClick:a,isPrivateNetwork:s}=e,{currentUserId:l}=rW(),{formatMessage:c}=Zy(),{onEditUser:u}=CW(),d=vW(n),h=rK({fileId:null==d?void 0:d.avatarFileId,imageSize:"small"});gW({userId:n,level:Mu.USER}),B4({userId:l}),j4({userId:l});let f=G4(n),{followerCount:p,followingCount:m}=q4(n);if(null==f)return null;let g="none"===f,v="accepted"===f,y="pending"===f;return t.createElement(K4,{userId:n,currentUserId:l,fileUrl:(null==d?void 0:d.avatarCustomUrl)||h,displayName:(null==d?void 0:d.displayName)||c({id:"anonymous"}),description:null==d?void 0:d.description,onFollowerCountClick:o,onFollowingCountClick:i,onPendingNotificationClick:a,onFollowDecline:()=>aH(void 0,null,(function*(){n&&(yield Df.Relationship.declineMyFollower(n),lG({content:t.createElement(Jy,{id:"notification.done"})}))})),onFollowRequest:()=>aH(void 0,null,(function*(){n&&(yield Df.Relationship.follow(n))})),onUnFollow:()=>aH(void 0,null,(function*(){n&&(yield Df.Relationship.unfollow(n),null==r||r(),lG({content:t.createElement(Jy,{id:"notification.done"})}))})),onEditUser:u,isMyProfile:n===l,isFollowPending:y,isPrivateNetwork:s,isFollowNone:g,isFollowAccepted:v,followerCount:p,followingCount:m})})),VV.div(zj||(zj=o(["\n  max-width: 1160px;\n  margin: 0 auto;\n  padding: 30px 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]))),VV.div(Hj||(Hj=o(["\n  display: flex;\n  margin-bottom: 1rem;\n"]))),VV.div(Vj||(Vj=o(["\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),VV(mG).attrs({variant:"secondary"})(qj||(qj=o(["\n  width: 28px;\n  padding: 2px;\n\n  &:hover {\n    background-color: transparent;\n  }\n"]))),"0.3s"),Q4=(VV.label(Gj||(Gj=o(["\n  position: relative;\n  width: 48px;\n  height: 28px;\n  float: right;\n\n  ","\n"])),(e=>{let{disabled:t}=e;return t&&UV(Wj||(Wj=o(["\n      pointer-events: none;\n      cursor: not-allowed;\n    "])))})),VV.input(Kj||(Kj=o(["\n  &&& {\n    display: none;\n  }\n"]))));VV.span(Yj||(Yj=o(["\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ",";\n  -webkit-transition: ",";\n  transition: ",";\n  border-radius: 14px;\n\n  &:before {\n    position: absolute;\n    content: '';\n    height: 24px;\n    width: 24px;\n    left: 2px;\n    bottom: 2px;\n    background-color: #fff;\n    -webkit-transition: ",";\n    transition: ",";\n    border-radius: 50%;\n  }\n\n  ",":checked + & {\n    background-color: ",";\n  }\n\n  ",":checked + &:before {\n    -webkit-transform: translateX(20px);\n    -ms-transform: translateX(20px);\n    transform: translateX(20px);\n  }\n"])),(e=>{let{disabled:t,theme:n}=e;return t?n.palette.base.shade4:n.palette.base.shade3}),Y4,Y4,Y4,Y4,Q4,(e=>{let{disabled:t,theme:n}=e;return t?n.palette.primary.shade2:n.palette.primary.main}),Q4),VV.div(Qj||(Qj=o(["\n  background: ",";\n  border: 1px solid #edeef2;\n  border-radius: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(Zj||(Zj=o(["\n  padding: 12px 16px;\n  ",";\n  border-bottom: 1px solid ",";\n"])),(e=>{let{theme:t}=e;return t.typography.title}),(e=>{let{theme:t}=e;return t.palette.base.shade4})),VV.div($j||($j=o(["\n  padding: 12px 16px;\n"]))),VV.div(Xj||(Xj=o(["\n  display: flex;\n  align-items: center;\n\n  > :first-child {\n    flex: 1 1 0px;\n  }\n\n  > :nth-child(2) {\n    flex: 0 0 auto;\n    margin-left: 20px;\n  }\n"]))),VV.div(Jj||(Jj=o([""]))),VV.div(eB||(eB=o(["\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),VV.div(tB||(tB=o(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2}));var Z4=e=>{let{title:n,children:r}=e;return t.createElement(y2,{edit:!0},n&&t.createElement(v2,null,n),t.createElement(b2,null,r))},$4=e=>{let{type:n,description:r,icon:i}=e;return t.createElement(E2,null,t.createElement(d2,null,i),t.createElement("div",null,n,t.createElement(w2,null,r)))},X4=(0,t.memo)((e=>{let{community:n,"data-qa-anchor":r="",className:i,onSubmit:o,onCancel:a}=e,[s,l]=(0,t.useState)(!1),{register:c,handleSubmit:u,setError:d,watch:h,control:f,formState:p}=(e=>tk({defaultValues:{avatarFileId:e.avatarFileId,description:e.description,displayName:e.displayName,isPublic:e.isPublic,tags:e.tags,categoryIds:e.categoryIds},resolver:Ak(a3)}))(n),{errors:m,isValid:g}=p,v=h("displayName"),y=h("description"),b=(0,t.useRef)(null),E=!p.isValid||s,w=b.current&&b.current.scrollHeight-b.current.clientHeight-b.current.scrollTop;return t.useLayoutEffect((()=>{null!=w&&b.current&&w<10&&b.current.scrollHeight-b.current.clientHeight-b.current.scrollTop>10&&b.current.scrollTo({top:b.current.scrollHeight})}),[b.current,w,p]),t.createElement(m2,{className:i,onSubmit:u((e=>aH(void 0,null,(function*(){try{l(!0),yield null==o?void 0:o(iH(rH({},e),{avatarFileId:e.avatarFileId||void 0})),lG({content:t.createElement(Jy,{id:"community.updateSuccess"})})}finally{l(!1)}}))))},t.createElement(I2,{ref:b},t.createElement(Z4,{title:"General"},t.createElement(x2,null,t.createElement(p_,{name:"avatarFileId",control:f,render:e=>{var{field:n}=e,i=oH(n,["ref"]);return t.createElement($1,iH(rH({mimeType:"image/png, image/jpeg"},i),{"data-qa-anchor":r}))}})),t.createElement(x2,{error:m.displayName},t.createElement(p2,null,t.createElement(f2,{htmlFor:"displayName",className:"required"},t.createElement(Jy,{id:"community.name"})),t.createElement(h2,null,v.length,"/30")),t.createElement(_2,iH(rH({},c("displayName")),{"data-qa-anchor":"".concat(r,"-community-name-input"),placeholder:"Enter community name"})),t.createElement(s2,{errors:m,name:"displayName"})),t.createElement(x2,{error:m.description},t.createElement(p2,null,t.createElement(f2,{htmlFor:"description"},t.createElement(Jy,{id:"community.about"})),t.createElement(h2,null,(null==y?void 0:y.length)||0,"/180")),t.createElement(T2,iH(rH({},c("description",{maxLength:{value:180,message:"Description text is too long"}})),{"data-qa-anchor":"".concat(r,"-community-description-textarea"),placeholder:"Enter description"})),t.createElement(s2,{errors:m,name:"description"})),t.createElement(x2,{error:m.categoryIds},t.createElement(f2,{htmlFor:"categoryIds",className:"required"},t.createElement(Jy,{id:"community.category"})),t.createElement(p_,{rules:{required:"Category is required"},name:"categoryIds",render:e=>{var{field:n}=e,i=oH(n,["ref"]);return t.createElement(B2,iH(rH({parentContainer:b.current},i),{"data-qa-anchor":"".concat(r)}))},control:f}),t.createElement(s2,{errors:m,name:"category"}))),t.createElement(Z4,{title:t.createElement(Jy,{id:"community.categorypermission"})},t.createElement(p_,{name:"isPublic",render:e=>{let{field:n}=e;return t.createElement(t.Fragment,null,t.createElement(q1,iH(rH({},n),{value:!0===n.value,onChange:e=>n.onChange(e.target.checked),"data-qa-anchor":"community-form-public-type-community-type",label:"Public",renderer:()=>t.createElement($4,{type:"Public",description:"Anyone can join, view and search the posts in this page.",icon:t.createElement(l2,null)})})),t.createElement(q1,iH(rH({},n),{value:!1===n.value,onChange:e=>n.onChange(!e.target.checked),"data-qa-anchor":"community-form-private-type-community-type",label:"Private",renderer:()=>t.createElement($4,{type:"Private",description:"Only members invited by the moderators can join, view, and search the posts in this page.",icon:t.createElement(c2,null)})})))},control:f}))),t.createElement(C2,{edit:!0},t.createElement(g2,{"data-qa-anchor":"".concat(r,"-save-button"),disabled:E,edit:!0},t.createElement(Jy,{id:"save"}))))})),J4=e=>{var n=e,{edit:r,community:i}=n,o=oH(n,["edit","community"]);return r?null==i?null:t.createElement(X4,iH(rH({},o),{community:i})):t.createElement(c3,rH({},o))},e5=((0,t.memo)((e=>{let n=_W("CommunityForm");return n?n(e):t.createElement(J4,rH({},e))})),VV.div(nB||(nB=o(["\n  border-bottom: 1px solid ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4})),VV.div(rB||(rB=o(["\n  display: grid;\n\n  grid-template-areas: 'main side';\n  grid-template-columns: auto min-content;\n\n  ","\n\n  width: 100%;\n  height: 100%;\n  grid-gap: 20px;\n  overflow: hidden;\n  margin: 0 auto;\n  padding: 20px 0;\n"])),(e=>{let{withHeader:t}=e;return t&&"\n    grid-template-areas: 'header header' 'main side';\n    grid-template-columns: auto min-content;\n    grid-template-rows: min-content auto;\n  "})),VV.div(iB||(iB=o(["\n  grid-area: header;\n  width: 100%;\n  height: 100%;\n"]))),VV.div(oB||(oB=o(["\n  grid-area: main;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n"]))),VV.div(aB||(aB=o(["\n  grid-area: side;\n  width: 100%;\n  height: 100%;\n  max-width: 20rem;\n  overflow: auto;\n\n  & > :not(:first-child) {\n    margin-top: 20px;\n  }\n"]))),VV.div(sB||(sB=o(["\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  border-radius: 0.25rem 0.25rem 0px 0px;\n  border: 1px solid ",";\n  background: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.system.borders}),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(lB||(lB=o(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-left: 1rem;\n"]))),VV.div(cB||(cB=o(["\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.headline})),VV.button(uB||(uB=o(["\n  display: flex;\n  align-items: center;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n  color: ",";\n  &:focus {\n    outline: none;\n  }\n  & > svg {\n    margin-right: 5px;\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade2})),VV(x3)(dB||(dB=o(["\n  background: ",";\n  border-radius: 4px 4px 0 0;\n  border: 1px solid #edeef2;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(hB||(hB=o(["\n  border: 1px solid #edeef2;\n  border-radius: 4px;\n  background: ",";\n  align-self: flex-start;\n  padding: 16px;\n  width: 330px;\n  flex-shrink: 0;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(fB||(fB=o(["\n  ",";\n  line-height: 24px;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),VV.div(pB||(pB=o(["\n  ",";\n  line-height: 20px;\n"])),(e=>{let{theme:t}=e;return t.typography.body})),VV.div(mB||(mB=o(["\n  margin-top: 16px;\n"]))),VV(fG)(gB||(gB=o(["\n  padding: 10px 16px;\n  justify-content: center;\n  width: 100%;\n"]))),VV(mG)(vB||(vB=o(["\n  padding: 10px 16px;\n  justify-content: center;\n  width: 100%;\n"]))),VV(_q).attrs({width:15,height:15})(yB||(yB=o(["\n  font-size: 15px;\n  margin-right: 8px;\n"]))),VV.div(bB||(bB=o(["\n  margin-top: 16px;\n"])))),t5=e=>{let{title:n,children:r}=e;return t.createElement(y2,null,t.createElement(v2,null,n),t.createElement(b2,null,r))},n5=(0,t.memo)((e=>{let{user:n,onSubmit:r,className:i}=e;var o,a;let{currentUserId:s}=rW(),l=vW(s),{formatMessage:c}=Zy(),{register:u,handleSubmit:d,formState:{errors:h},watch:f,control:p}=tk({defaultValues:{displayName:n.displayName,description:null!=(o=n.description)?o:"",avatarFileId:null!=(a=n.avatarFileId)?a:void 0}}),m=GY(null==l?void 0:l.roles),g=f("description"),v=f("displayName");return t.createElement(m2,{className:i,onSubmit:d((e=>{r(m?e:{description:e.description,avatarFileId:e.avatarFileId})}))},t.createElement(I2,null,t.createElement(t5,{title:t.createElement(Jy,{id:"UserProfileForm.title"})},t.createElement(p_,{name:"avatarFileId",render:e=>{var{field:n}=e,r=oH(n,["ref"]);return t.createElement($1,iH(rH({},r),{"data-qa-anchor":"user-profile-form-avatar-uploader"}))},control:p}),t.createElement(x2,{error:h.displayName},t.createElement(p2,null,t.createElement(f2,{htmlFor:"displayName",className:"required"},t.createElement(Jy,{id:"UserProfileForm.displayname"})),t.createElement(h2,null,(null==v?void 0:v.length)||0,"/100")),t.createElement(_2,iH(rH({},u("displayName",{required:c({id:"UserProfileForm.requiredDisplayName"})})),{"data-qa-anchor":"user-profile-form-display-name-input",placeholder:c({id:"UserProfileForm.namePlaceholder"}),maxLength:100,disabled:!m})),t.createElement(s2,{errors:h,name:"displayName"})),t.createElement(x2,{error:h.description},t.createElement(p2,null,t.createElement(f2,{htmlFor:"description"},t.createElement(Jy,{id:"UserProfileForm.about"})),t.createElement(h2,null,g.length,"/180")),t.createElement(T2,iH(rH({},u("description")),{"data-qa-anchor":"user-profile-form-description-textarea",placeholder:c({id:"UserProfileForm.requiredDescription"}),maxLength:180})),t.createElement(s2,{errors:h,name:"description"})),t.createElement(e5,null,t.createElement(fG,{"data-qa-anchor":"user-profile-form-save-button",type:"submit"},t.createElement(Jy,{id:"save"}))))))})),r5=VV.button.attrs({role:"button"})(EB||(EB=o(["\n  color: ",";\n  font-size: 14px;\n  border: none;\n  outline: none;\n  background: none;\n  padding: 4px 0 4px 0px;\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade1}),(e=>{let{theme:t}=e;return t.palette.neutral.shade1})),i5=e=>{let{text:n}=e,{onBack:r}=CW();return t.createElement(r5,{onClick:r},n)},o5="EDIT_PROFILE",a5=[{value:o5,label:"Edit profile"}],s5=VV(x3)(wB||(wB=o(["\n  background: ",";\n  border-radius: 4px 4px 0 0;\n  border: 1px solid #edeef2;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),l5=VV((e=>{let n=_W("ProfileSettingsTabs");return n?n(e):t.createElement(s5,rH({},e))}))(CB||(CB=o([""]))),c5=VV.div(SB||(SB=o(["\n  width: 100%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  min-width: 600px;\n"]))),u5=VV.div(TB||(TB=o(["\n  display: flex;\n  background: ",";\n  border-radius: 4px 4px 0 0;\n  border: 1px solid #edeef2;\n  padding: 10px 10px 20px 10px;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),d5=VV.div(_B||(_B=o(["\n  font-weight: 600;\n  font-size: 20px;\n"]))),h5=VV($W).attrs({size:"small"})(kB||(kB=o(["\n  margin-right: 12px;\n  margin-left: 16px;\n"]))),f5=VV.div(xB||(xB=o(["\n  padding-top: 4px;\n"]))),p5=VV.div(AB||(AB=o(["\n  display: flex;\n  justify-content: space-between;\n  flex: 2;\n"]))),m5=VV.div(IB||(IB=o(["\n  flex: 3;\n  margin-top: 12px;\n"])));VV.div(MB||(MB=o(["\n  border: 1px solid #edeef2;\n  border-radius: 4px;\n  background: ",";\n  align-self: flex-start;\n  padding: 16px;\n  margin-left: 36px;\n  flex: 1;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(RB||(RB=o(["\n  ",";\n  line-height: 24px;\n"])),(e=>{let{theme:t}=e;return t.typography.title})),VV.div(LB||(LB=o(["\n  ",";\n  line-height: 20px;\n"])),(e=>{let{theme:t}=e;return t.typography.body})),VV.div(DB||(DB=o(["\n  margin-top: 16px;\n"]))),VV(fG)(OB||(OB=o(["\n  padding: 10px 16px;\n  justify-content: center;\n  width: 100%;\n"]))),VV(mG)(PB||(PB=o(["\n  padding: 10px 16px;\n  justify-content: center;\n  width: 100%;\n"]))),VV(_q).attrs({width:15,height:15})(NB||(NB=o(["\n  font-size: 15px;\n  margin-right: 8px;\n"])));var g5=e=>{let{userId:n}=e,{formatMessage:r}=Zy(),{onClickUser:i}=CW(),[o,a]=(0,t.useState)(o5),s=vW(n),l=rK({fileId:null==s?void 0:s.avatarFileId,imageSize:"small"});return null==s?null:t.createElement(c5,null,t.createElement(u5,null,t.createElement(f5,null,t.createElement(h5,{avatar:l,backgroundImage:YV})),t.createElement("div",null,t.createElement(i5,{text:r({id:"ProfileSettings.returnTo"})+((null==s?void 0:s.displayName)||"")}),t.createElement(d5,null,t.createElement(Jy,{id:"profile.setting"})))),t.createElement("div",null,t.createElement(l5,{tabs:a5,activeTab:o,onChange:a})),t.createElement(m5,null,o===o5&&t.createElement(p5,null,null!=s?t.createElement(n5,{user:s,onSubmit:e=>aH(void 0,null,(function*(){try{if(null==n)return;yield Df.updateUser(n,e),i(n)}catch(t){console.log(t)}}))}):null)))};(0,t.memo)((e=>{let n=_W("ProfileSettings");return n?n(e):t.createElement(g5,rH({},e))})),VV.div(FB||(FB=o(["\n  height: 100%;\n  width: 100%;\n"]))),VV(O3)(jB||(jB=o(["\n  min-height: 100%;\n"])));var v5=VV(pG)(BB||(BB=o(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 5px 8px;\n  margin-bottom: 6px;\n  color: ",";\n  justify-content: left;\n\n  &:disabled {\n    color: ",";\n  }\n\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}),(e=>{let{theme:t}=e;return t.palette.neutral.shade2}),(e=>{let{active:t,theme:n}=e;return t?UV(UB||(UB=o(["\n          background-color: ",";\n          color: ",";\n          &:hover {\n            background-color: ",";\n          }\n        "])),n.palette.primary.shade3,n.palette.primary.main,n.palette.primary.shade3):UV(zB||(zB=o(["\n          &:hover {\n            background-color: ",";\n          }\n        "])),n.palette.base.shade4)})),y5=VV.div(HB||(HB=o(["\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 8px;\n  ","\n"])),(e=>{let{active:t,theme:n}=e;return t?UV(VB||(VB=o(["\n          background: ",";\n          color: white;\n        "])),n.palette.primary.main):UV(qB||(qB=o(["\n          background: ",";\n          color: ",";\n        "])),n.palette.base.shade4,n.palette.base.main)})),b5=e=>{var n=e,{icon:r,children:i,active:o,className:a,onClick:s}=n,l=oH(n,["icon","children","active","className","onClick"]);return t.createElement(v5,rH({className:a,active:o,onClick:s},l),r&&t.createElement(y5,{active:o},r),i)},E5={BIG:"big",REGULAR:"regular",SMALL:"small",TINY:"tiny"},w5=e=>{let{size:n=E5.REGULAR,avatarUrl:r,avatarFileId:i,avatarFile:o,defaultImage:a,avatarCustomUrl:s}=e,[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null);return(0,t.useEffect)((()=>{aH(void 0,null,(function*(){if(r)c(r);else if(s)c(s);else if(o){let t=yield(e=o,new Promise(((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=n})));c(t)}else{var e;if(i){let e=yield Ff.fileUrlWithSize(i,"small");c(e)}else a&&d(a)}}))}),[r,i,o,s]),t.createElement($W,{size:n,avatar:l,backgroundImage:u})};VV(b5)(GB||(GB=o(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 60px;\n  margin: 0;\n  padding: 0 18px 0 16px;\n  border-radius: 0;\n"]))),VV.div(WB||(WB=o(["\n  display: flex;\n  align-items: center;\n"]))),VV(w5)(KB||(KB=o(["\n  flex-shrink: 0;\n"]))),VV.div(YB||(YB=o(["\n  width: 135px;\n  ",";\n  line-height: 20px;\n  text-align: left;\n  color: #000;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-left: 8px;\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),VV.div(QB||(QB=o(["\n  flex-shrink: 0;\n  height: 20px;\n  padding: 1px 6px;\n  font-size: 13px;\n  color: #fff;\n  background: #f9563a;\n  border-radius: 20px;\n"])));VV(Uq).attrs({width:24,height:18})(ZB||(ZB=o(["\n  width: 24px !important;\n  font-size: 18px;\n  cursor: pointer;\n"]))),VV.div($B||($B=o(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 280px;\n  padding: 24px 0 5px 0;\n  background-color: white;\n  border-right: 1px solid #e3e4e8;\n  max-height: 100dvh;\n"]))),VV.div(XB||(XB=o(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-shrink: 0;\n  margin-bottom: 17px;\n  padding-left: 20px;\n  padding-right: 16px;\n"]))),VV.span(JB||(JB=o(["\n  ",";\n  line-height: 28px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.title}),(e=>{let{theme:t}=e;return t.palette.neutral.shade1})),VV.div(eU||(eU=o(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n"])));VV.div(tU||(tU=o(["\n  display: flex;\n  align-items: center;\n"]))),VV.input(nU||(nU=o(["\n  height: 34px;\n  padding: 6px;\n  margin: 5px;\n  outline: none;\n  border: 1px solid #e3e4e8;\n  border-radius: 4px;\n"]))),VV(Qq)(rU||(rU=o(["\n  opacity: 0.7;\n  padding: 0 10px;\n  cursor: pointer;\n"])));VV(Xq)(iU||(iU=o(["\n  opacity: 0.7;\n  padding: 0 10px;\n  cursor: pointer;\n"])));VV(jq)(oU||(oU=o(["\n  opacity: 0.7;\n  padding: 0 10px;\n  cursor: pointer;\n"]))),VV(Hq).attrs({width:11,height:11})(aU||(aU=o(["\n  opacity: 0.5;\n  font-size: 11px;\n  margin: 0 5px;\n  cursor: pointer;\n"]))),VV($W)(sU||(sU=o(["\n  margin-right: auto;\n"]))),VV.div(lU||(lU=o(["\n  display: flex;\n  width: 100%;\n  ","\n"])),(e=>{let{isIncoming:t}=e;return!t&&"justify-content: flex-end;"})),VV.div(cU||(cU=o(["\n  display: flex;\n  max-width: 60%;\n"]))),VV.div(uU||(uU=o(["\n  min-width: 265px;\n"]))),VV.div(dU||(dU=o(["\n  width: 52px;\n  flex-shrink: 0;\n"]))),VV.div(hU||(hU=o(["\n  color: ",";\n  font-size: 14px;\n  font-weight: 600;\n  margin-bottom: 4px;\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}));var C5=VV.div(fU||(fU=o(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 8px;\n  padding: 8px;\n  word-break: break-word;\n\n  & pre {\n    white-space: pre-wrap;\n  }\n"])));VV(C5)(pU||(pU=o(["\n  ","\n"])),(e=>{let{theme:t,isIncoming:n}=e;return n?"\n      background: ".concat(t.palette.neutral.shade4,";\n      border-radius: 0px 6px 6px 6px;\n    "):"\n      background: ".concat(t.palette.primary.main,";\n      color: #fff;\n      border-radius: 6px 0px 6px 6px;\n  ")})),VV(C5)(mU||(mU=o(["\n  text-align: ",";\n"])),(e=>{let{isIncoming:t}=e;return t?"left":"right"})),VV(C5)(gU||(gU=o(["\n  text-align: center;\n  background: ",";\n  border-radius: 10px;\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade4})),VV.div(vU||(vU=o(["\n  font-size: 13px;\n  opacity: 0.5;\n  margin-left: auto;\n"]))),VV.div(yU||(yU=o(["\n  margin-top: 3px;\n  display: flex;\n  align-items: center;\n"])));VV(s0)(bU||(bU=o(["\n  ","\n"])),(e=>{let{align:t,theme:n}=e;return"end"===t&&"color: ".concat(n.palette.neutral.main,";")}));VV.div(EU||(EU=o(["\n  display: flex;\n  flex-direction: column-reverse;\n  flex-grow: 1;\n  overflow: auto;\n  background: #f7f7f8;\n"]))),VV.div(wU||(wU=o(["\n  display: flex;\n  flex-direction: column-reverse;\n  padding: 0 20px;\n"])));VV(Mq).attrs({width:28,height:28})(CU||(CU=o(["\n  font-size: 28px;\n  cursor: pointer;\n  margin-left: 12px;\n  margin-right: 8px;\n  color: #0f86fe;\n"])));VV(Lq).attrs({width:18,height:18})(SU||(SU=o(["\n  font-size: 18px;\n  cursor: pointer;\n  margin-right: 20px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main})),VV(Dq).attrs({width:18,height:18})(TU||(TU=o(["\n  font-size: 18px;\n  margin-right: 12px;\n  cursor: pointer;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}));VV.div(_U||(_U=o(["\n  padding: 12px 16px 16px 16px;\n  background: ",";\n  border-top: 1px solid #e3e4e8;\n  display: flex;\n  align-items: center;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.input(kU||(kU=o(["\n  height: 34px;\n  padding: 6px;\n  outline: none;\n  border: 1px solid #e3e4e8;\n  border-radius: 4px;\n  flex-grow: 1;\n"]))),VV(BI).attrs({icon:Gz,width:16,height:16})(xU||(xU=o(["\n  font-size: 16px;\n  cursor: pointer;\n  fill: ",";\n  align-self: center;\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main})),VV.div(AU||(AU=o(["\n  height: 76px;\n  padding: 0 20px;\n  background: ",";\n  border-top: 1px solid #e3e4e8;\n  border-bottom: 1px solid #e3e4e8;\n  display: flex;\n  justify-content: space-between;\n"])),(e=>{let{theme:t}=e;return t.palette.system.background})),VV.div(IU||(IU=o(["\n  display: flex;\n  align-items: center;\n  height: 74px;\n"]))),VV.div(MU||(MU=o(["\n  margin-left: 8px;\n"]))),VV.div(RU||(RU=o(["\n  font-weight: 600;\n  font-size: 14px;\n  color: #000000;\n"]))),VV.div(LU||(LU=o(["\n  font-size: 12px;\n  color: #999999;\n"]))),VV.div(DU||(DU=o(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),VV.div(OU||(OU=o(["\n  padding: 20px 16px 16px;\n"]))),VV.div(PU||(PU=o([""]))),VV(XX)(NU||(NU=o(["\n  button {\n    width: 100%;\n  }\n"]))),VV.input(FU||(FU=o(["\n  ",";\n  border-radius: 4px;\n  border: 1px solid #e3e4e8;\n  padding: 10px 12px;\n  outline: none;\n  &:focus-within {\n    border-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.global}),(e=>{let{theme:t}=e;return t.palette.primary.main})),VV.label(jU||(jU=o(["\n  ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold}),(e=>{let{theme:t}=e;return"\n    &.required {\n      &::after {\n        color: ".concat(t.palette.alert.main,";\n        content: ' *';\n      }\n    }\n  ")})),VV.div(BU||(BU=o(["\n  width: 700px;\n  margin-right: 20px;\n"]))),VV.div(UU||(UU=o(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n"]))),VV.div(zU||(zU=o([""]))),VV.div(HU||(HU=o(["\n  display: flex;\n  flex-direction: column;\n  ",";\n  ",";\n  margin-bottom: 20px;\n"])),(e=>{let{horizontal:t}=e;return t&&"flex-direction: row"}),(e=>{let{separate:t,theme:n}=e;return t&&"\n    border-top: 1px solid ".concat(n.palette.base.shade4,";\n    padding-top: 20px;\n  ")})),VV.div(VU||(VU=o(["\n  margin-top: 8px;\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main}),(e=>{let{theme:t}=e;return t.typography.caption})),VV.div(qU||(qU=o(["\n  border-top: 1px solid ",";\n  padding: ",";\n  display: flex;\n  justify-content: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{edit:t}=e;return t?"12px 0":"12px 16px"}),(e=>{let{edit:t}=e;return t?"flex-start":"flex-end"})),VV.div(GU||(GU=o([""]))),VV.form(WU||(WU=o([""]))),VV.div(KU||(KU=o(["\n  width: 100%;\n"]))),VV(fG).attrs({type:"submit"})(YU||(YU=o(["\n  padding: 10px 16px;\n  margin-left: 12px;\n  ",";\n"])),(e=>{let{edit:t}=e;return t&&UV(QU||(QU=o(["\n      min-width: 100px;\n      margin-left: 0;\n    "])))})),VV.div(ZU||(ZU=o(["\n  display: flex;\n  padding: 0px 15px 10px;\n"]))),VV.div($U||($U=o(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n"]))),VV.label(XU||(XU=o(["\n  font-weight: bold;\n  margin-bottom: 5px;\n"]))),VV.div(JU||(JU=o(["\n  display: flex;\n  justify-content: flex-end;\n"]))),VV(fG)(ez||(ez=o(["\n  margin-left: 15px;\n"]))),VV(pG)(tz||(tz=o([""])));var S5=e=>t.createElement("svg",rH({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 448 512",fill:"currentColor"},e),t.createElement("path",{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 \n      438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 \n      48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 \n      86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 \n      288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 \n      43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"})),T5=(VV.div(nz||(nz=o([""]))),VV.div(rz||(rz=o(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 52px;\n  padding: 0 24px 0 20px;\n  border-bottom: 1px solid #f7f7f8;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f7f7f8;\n  }\n"]))),VV.div(iz||(iz=o(["\n  display: flex;\n  align-items: center;\n"]))),VV.div(oz||(oz=o(["\n  padding-right: 8px;\n  ",";\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t,isDanger:n}=e;return n?t.palette.alert.main:t.palette.neutral.main})),VV.span(az||(az=o(["\n  ",";\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.neutral.shade3})),VV(Nq).attrs({width:16,height:12})(sz||(sz=o(["\n  width: 16px !important;\n  padding-left: 8px;\n  font-size: 12px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade3})),UV(lz||(lz=o(["\n  width: 24px !important;\n  padding-right: 8px;\n  font-size: 20px;\n  text-align: center;\n  fill: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main}))),_5=(VV(S5).attrs({width:24,height:20})(cz||(cz=o(["\n  ","\n"])),T5),VV(kq).attrs({width:24,height:20})(uz||(uz=o(["\n  ","\n"])),T5),VV.div(dz||(dz=o(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]))),VV.div(hz||(hz=o(["\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  width: 100%;\n  height: 52px;\n  padding-left: 20px;\n  color: ",";\n  border-bottom: 1px solid #e3e4e8;\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.shade2}),(e=>{let{theme:t}=e;return t.palette.neutral.main})),VV(Pq).attrs({width:18,height:14})(fz||(fz=o(["\n  width: 18px !important;\n  font-size: 14px;\n"]))),VV.span(pz||(pz=o(["\n  padding-left: 8px;\n  ",";\n"])),(e=>{let{theme:t}=e;return t.typography.body})),VV.div(mz||(mz=o(["\n  display: flex;\n  align-items: center;\n  height: 46px;\n  padding: 0 24px 0 20px;\n  border-bottom: 1px solid #f7f7f8;\n"]))));VV.span(gz||(gz=o(["\n  padding-left: 12px;\n  ",";\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.neutral.main})),VV(_5)(vz||(vz=o(["\n  cursor: pointer;\n  &:hover {\n    background-color: #f7f7f8;\n  }\n"]))),VV.span(yz||(yz=o(["\n  width: 32px;\n  height: 32px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    font-size: 20px;\n  }\n"])));VV.div(bz||(bz=o(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  width: 280px;\n  height: 100%;\n  padding-top: 24px;\n  border-left: 1px solid #e3e4e8;\n"]))),VV.div(Ez||(Ez=o(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 24px 18px 20px;\n  ",";\n  line-height: 1.75;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.title}),(e=>{let{theme:t}=e;return t.palette.neutral.shade1})),VV(jq).attrs({width:20,height:20})(wz||(wz=o(["\n  font-size: 20px;\n  color: ",";\n  cursor: pointer;\n"])),(e=>{let{theme:t}=e;return t.palette.neutral.main})),VV.div(Cz||(Cz=o(["\n  display: flex;\n  padding: 0 24px 25px 20px;\n  border-bottom: 1px solid #e3e4e8;\n"]))),VV.div(Sz||(Sz=o(["\n  margin-left: 12px;\n"]))),VV.div(Tz||(Tz=o(["\n  padding-bottom: 2px;\n  ",";\n  line-height: 16px;\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.typography.body}),(e=>{let{theme:t}=e;return t.palette.neutral.main})),VV.div(_z||(_z=o(["\n  ",";\n  line-height: 24px;\n  color: #000000;\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold})),VV.div(kz||(kz=o(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n"])));VV.div(xz||(xz=o(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"])));VV.div(Az||(Az=o(["\n  padding: 20px 16px 16px;\n"]))),VV.div(Iz||(Iz=o([""])));VV(XX)(Mz||(Mz=o(["\n  button {\n    width: 100%;\n  }\n"]))),VV.input(Rz||(Rz=o(["\n  ",";\n  border-radius: 4px;\n  border: 1px solid #e3e4e8;\n  padding: 10px 12px;\n  outline: none;\n  &:focus-within {\n    border-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.typography.global}),(e=>{let{theme:t}=e;return t.palette.primary.main}));VV.label(Lz||(Lz=o(["\n  ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.typography.bodyBold}),(e=>{let{theme:t}=e;return"\n    &.required {\n      &::after {\n        color: ".concat(t.palette.alert.main,";\n        content: ' *';\n      }\n    }\n  ")}));VV.div(Dz||(Dz=o(["\n  width: 700px;\n  margin-right: 20px;\n"]))),VV.div(Oz||(Oz=o(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 8px;\n"])));VV.div(Pz||(Pz=o([""]))),VV.div(Nz||(Nz=o(["\n  display: flex;\n  flex-direction: column;\n  ",";\n  ",";\n  margin-bottom: 20px;\n"])),(e=>{let{horizontal:t}=e;return t&&"flex-direction: row"}),(e=>{let{separate:t,theme:n}=e;return t&&"\n    border-top: 1px solid ".concat(n.palette.base.shade4,";\n    padding-top: 20px;\n  ")})),VV.div(Fz||(Fz=o(["\n  margin-top: 8px;\n  color: ",";\n  ","\n"])),(e=>{let{theme:t}=e;return t.palette.alert.main}),(e=>{let{theme:t}=e;return t.typography.caption})),VV.div(jz||(jz=o(["\n  border-top: 1px solid ",";\n  padding: ",";\n  display: flex;\n  justify-content: ",";\n"])),(e=>{let{theme:t}=e;return t.palette.base.shade4}),(e=>{let{edit:t}=e;return t?"12px 0":"12px 16px"}),(e=>{let{edit:t}=e;return t?"flex-start":"flex-end"})),VV.div(Bz||(Bz=o([""]))),VV.form(Uz||(Uz=o([""])));VV.div(zz||(zz=o(["\n  width: 100%;\n"])));VV(fG).attrs({type:"submit"})(Hz||(Hz=o(["\n  padding: 10px 16px;\n  margin-left: 12px;\n  ",";\n"])),(e=>{let{edit:t}=e;return t&&UV(Vz||(Vz=o(["\n      min-width: 100px;\n      margin-left: 0;\n    "])))}));var k5=n(184);function x5(){return(0,k5.jsx)("div",{className:"App",styles:{height:"500px",overflowY:"scroll"},children:(0,k5.jsx)(UX,{apiKey:"b3bee90c39d9a5644831d84e5a0d1688d100ddebef3c6e78",userId:"test",displayName:"test",children:(0,k5.jsx)(f1,{})},"test")})}function A5(){return(0,k5.jsx)("div",{className:"CommunityPage",styles:{height:"500px",overflowY:"scroll"},children:(0,k5.jsx)(UX,{apiKey:"b3bee90c39d9a5644831d84e5a0d1688d100ddebef3c6e78",userId:"test",displayName:"test",children:(0,k5.jsx)(h3,{})},"test")})}function I5(){return I5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I5.apply(this,arguments)}var M5;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(M5||(M5={}));const R5="popstate";function L5(e){return void 0===e&&(e={}),B5((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return N5("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:F5(t)}),null,e)}function D5(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O5(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n7){}}}function P5(e,t){return{usr:e.state,key:e.key,idx:t}}function N5(e,t,n,r){return void 0===n&&(n=null),I5({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j5(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F5(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function j5(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B5(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=M5.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=M5.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:F5(e);return D5(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(I5({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R5,d),l=e,()=>{i.removeEventListener(R5,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=M5.Push;let r=N5(f.location,e,t);n&&n(r,e),c=u()+1;let d=P5(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s=M5.Replace;let r=N5(f.location,e,t);n&&n(r,e),c=u();let i=P5(r,c),d=f.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var U5;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(U5||(U5={}));const z5=new Set(["lazy","caseSensitive","path","id","index","children"]);function H5(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,i],a="string"===typeof e.id?e.id:o.join("-");if(D5(!0!==e.index||!e.children,"Cannot specify children on an index route"),D5(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=I5({},e,t(e),{id:a});return r[a]=n,n}{let n=I5({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=H5(e.children,t,o,r)),n}}))}function V5(e,t,n){void 0===n&&(n="/");let r=r6(("string"===typeof t?j5(t):t).pathname||"/",n);if(null==r)return null;let i=q5(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=e6(i[a],n6(r));return o}function q5(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(D5(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=l6([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(D5(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),q5(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:J5(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of G5(e.path))i(e,t,r);else i(e,t)})),t}function G5(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=G5(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const W5=/^:[\w-]+$/,K5=3,Y5=2,Q5=1,Z5=10,$5=-2,X5=e=>"*"===e;function J5(e,t){let n=e.split("/"),r=n.length;return n.some(X5)&&(r+=$5),t&&(r+=Y5),n.filter((e=>!X5(e))).reduce(((e,t)=>e+(W5.test(t)?K5:""===t?Q5:Z5)),r)}function e6(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=t6({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:l6([i,c.pathname]),pathnameBase:c6(l6([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=l6([i,c.pathnameBase]))}return o}function t6(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O5("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return O5(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function n6(e){try{return decodeURI(e)}catch(t){return O5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function r6(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function i6(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function o6(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function a6(e,t){let n=o6(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function s6(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=j5(e):(i=I5({},e),D5(!i.pathname||!i.pathname.includes("?"),i6("?","pathname","search",i)),D5(!i.pathname||!i.pathname.includes("#"),i6("#","pathname","hash",i)),D5(!i.search||!i.search.includes("#"),i6("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?j5(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:u6(r),hash:d6(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const l6=e=>e.join("/").replace(/\/\/+/g,"/"),c6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u6=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",d6=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class h6{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function f6(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const p6=["post","put","patch","delete"],m6=new Set(p6),g6=["get",...p6],v6=new Set(g6),y6=new Set([301,302,303,307,308]),b6=new Set([307,308]),E6={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},w6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},C6={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},S6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T6=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),_6="remix-router-transitions";function k6(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(D5(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=T6;let o,a,s={},l=H5(e.routes,i,void 0,s),c=e.basename||"/",u=I5({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),d=null,h=new Set,f=null,p=null,m=null,g=null!=e.hydrationData,v=V5(l,e.history.location,c),y=null;if(null==v){let t=V6(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=H6(l);v=n,y={[r.id]:t}}let b,E=v.some((e=>e.route.lazy)),w=v.some((e=>e.route.loader));if(E)a=!1;else if(w)if(u.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;a=v.every((e=>e.route.loader&&!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id])))}else a=null!=e.hydrationData;else a=!0;let C,S={historyAction:e.history.action,location:e.history.location,matches:v,initialized:a,navigation:E6,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},T=M5.Pop,_=!1,k=!1,x=new Map,A=null,I=!1,M=!1,R=[],L=[],D=new Map,O=0,P=-1,N=new Map,F=new Set,j=new Map,B=new Map,U=new Set,z=new Map,H=new Map,V=!1;function q(e,t){void 0===t&&(t={}),S=I5({},S,e);let n=[],r=[];u.v7_fetcherPersist&&S.fetchers.forEach(((e,t)=>{"idle"===e.state&&(U.has(t)?r.push(t):n.push(t))})),[...h].forEach((e=>e(S,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),u.v7_fetcherPersist&&(n.forEach((e=>S.fetchers.delete(e))),r.forEach((e=>J(e))))}function G(t,n,r){var i,a;let s,{flushSync:c}=void 0===r?{}:r,u=null!=S.actionData&&null!=S.navigation.formMethod&&$6(S.navigation.formMethod)&&"loading"===S.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?S.actionData:null;let d=n.loaderData?U6(S.loaderData,n.loaderData,n.matches||[],n.errors):S.loaderData,h=S.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,C6))));let f,p=!0===_||null!=S.navigation.formMethod&&$6(S.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(o&&(l=o,o=void 0),I||T===M5.Pop||(T===M5.Push?e.history.push(t,t.state):T===M5.Replace&&e.history.replace(t,t.state)),T===M5.Pop){let e=x.get(S.location.pathname);e&&e.has(t.pathname)?f={currentLocation:S.location,nextLocation:t}:x.has(t.pathname)&&(f={currentLocation:t,nextLocation:S.location})}else if(k){let e=x.get(S.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),x.set(S.location.pathname,e)),f={currentLocation:S.location,nextLocation:t}}q(I5({},n,{actionData:s,loaderData:d,historyAction:T,location:t,initialized:!0,navigation:E6,revalidation:"idle",restoreScrollPosition:ce(t,n.matches||S.matches),preventScrollReset:p,blockers:h}),{viewTransitionOpts:f,flushSync:!0===c}),T=M5.Pop,_=!1,k=!1,I=!1,M=!1,R=[],L=[]}async function W(t,n,r){C&&C.abort(),C=null,T=t,I=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(f&&m){let n=le(e,t);f[n]=m()}}(S.location,S.matches),_=!0===(r&&r.preventScrollReset),k=!0===(r&&r.enableViewTransition);let a=o||l,d=r&&r.overrideNavigation,h=V5(a,n,c),p=!0===(r&&r.flushSync);if(!h){let e=V6(404,{pathname:n.pathname}),{matches:t,route:r}=H6(a);return se(),void G(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:p})}if(S.initialized&&!M&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(S.location,n)&&!(r&&r.submission&&$6(r.submission.formMethod)))return void G(n,{matches:h},{flushSync:p});C=new AbortController;let g,v,y=P6(e.history,n,C.signal,r&&r.submission);if(r&&r.pendingError)v={[z6(h).route.id]:r.pendingError};else if(r&&r.submission&&$6(r.submission.formMethod)){let e=await async function(e,t,n,r,o){void 0===o&&(o={});Q();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);q({navigation:l},{flushSync:!0===o.flushSync});let d=t8(r,t);if(d.route.action||d.route.lazy){if(a=await O6("action",e,d,r,s,i,c,u.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else a={type:U5.error,error:V6(405,{method:e.method,pathname:t.pathname,routeId:d.route.id})};if(Y6(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===S.location.pathname+S.location.search,await K(S,a,{submission:n,replace:e}),{shortCircuited:!0}}if(K6(a)){let e=z6(r,d.route.id);return!0!==(o&&o.replace)&&(T=M5.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(W6(a))throw V6(400,{type:"defer-action"});return{pendingActionData:{[d.route.id]:a.data}}}(y,n,r.submission,h,{replace:r.replace,flushSync:p});if(e.shortCircuited)return;g=e.pendingActionData,v=e.pendingActionError,d=r8(n,r.submission),p=!1,y=new Request(y.url,{signal:y.signal})}let{shortCircuited:b,loaderData:E,errors:w}=await async function(t,n,r,i,a,s,d,h,f,p,m){let g=i||r8(n,a),v=a||s||n8(g),y=o||l,[b,E]=M6(e.history,S,r,v,n,u.v7_partialHydration&&!0===h,M,R,L,U,j,F,y,c,p,m);if(se((e=>!(r&&r.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),P=++O,0===b.length&&0===E.length){let e=ne();return G(n,I5({matches:r,loaderData:{},errors:m||null},p?{actionData:p}:{},e?{fetchers:new Map(S.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(!I&&(!u.v7_partialHydration||!h)){E.forEach((e=>{let t=S.fetchers.get(e.key),n=i8(void 0,t?t.data:void 0);S.fetchers.set(e.key,n)}));let e=p||S.actionData;q(I5({navigation:g},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},E.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:f})}E.forEach((e=>{D.has(e.key)&&ee(e.key),e.controller&&D.set(e.key,e.controller)}));let w=()=>E.forEach((e=>ee(e.key)));C&&C.signal.addEventListener("abort",w);let{results:T,loaderResults:_,fetcherResults:k}=await Y(S.matches,r,b,E,t);if(t.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",w);E.forEach((e=>D.delete(e.key)));let x=q6(T);if(x){if(x.idx>=b.length){let e=E[x.idx-b.length].key;F.add(e)}return await K(S,x.result,{replace:d}),{shortCircuited:!0}}let{loaderData:A,errors:N}=B6(S,r,b,_,m,E,k,z);z.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&z.delete(t)}))}));let B=ne(),H=re(P),V=B||H||E.length>0;return I5({loaderData:A,errors:N},V?{fetchers:new Map(S.fetchers)}:{})}(y,n,h,d,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,p,g,v);b||(C=null,G(n,I5({matches:h},g?{actionData:g}:{},{loaderData:E,errors:w})))}async function K(r,i,o){let{submission:a,fetcherSubmission:s,replace:l}=void 0===o?{}:o;i.revalidate&&(M=!0);let u=N5(r.location,i.location,{_isRedirect:!0});if(D5(u,"Expected a location on the redirect navigation"),n){let n=!1;if(i.reloadDocument)n=!0;else if(S6.test(i.location)){const r=e.history.createURL(i.location);n=r.origin!==t.location.origin||null==r6(r.pathname,c)}if(n)return void(l?t.location.replace(i.location):t.location.assign(i.location))}C=null;let d=!0===l?M5.Replace:M5.Push,{formMethod:h,formAction:f,formEncType:p}=r.navigation;!a&&!s&&h&&f&&p&&(a=n8(r.navigation));let m=a||s;if(b6.has(i.status)&&m&&$6(m.formMethod))await W(d,u,{submission:I5({},m,{formAction:i.location}),preventScrollReset:_});else{let e=r8(u,a);await W(d,u,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:_})}}async function Y(t,n,r,o,a){let l=await Promise.all([...r.map((e=>O6("loader",a,e,n,s,i,c,u.v7_relativeSplatPath))),...o.map((t=>{if(t.matches&&t.match&&t.controller)return O6("loader",P6(e.history,t.path,t.controller.signal),t.match,t.matches,s,i,c,u.v7_relativeSplatPath);return{type:U5.error,error:V6(404,{pathname:t.path})}}))]),d=l.slice(0,r.length),h=l.slice(r.length);return await Promise.all([X6(t,r,d,d.map((()=>a.signal)),!1,S.loaderData),X6(t,o.map((e=>e.match)),h,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:l,loaderResults:d,fetcherResults:h}}function Q(){M=!0,R.push(...se()),j.forEach(((e,t)=>{D.has(t)&&(L.push(t),ee(t))}))}function Z(e,t,n){void 0===n&&(n={}),S.fetchers.set(e,t),q({fetchers:new Map(S.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function $(e,t,n,r){void 0===r&&(r={});let i=z6(S.matches,t);J(e),q({errors:{[i.route.id]:n},fetchers:new Map(S.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function X(e){return u.v7_fetcherPersist&&(B.set(e,(B.get(e)||0)+1),U.has(e)&&U.delete(e)),S.fetchers.get(e)||w6}function J(e){let t=S.fetchers.get(e);!D.has(e)||t&&"loading"===t.state&&N.has(e)||ee(e),j.delete(e),N.delete(e),F.delete(e),U.delete(e),S.fetchers.delete(e)}function ee(e){let t=D.get(e);D5(t,"Expected fetch controller: "+e),t.abort(),D.delete(e)}function te(e){for(let t of e){let e=o8(X(t).data);S.fetchers.set(t,e)}}function ne(){let e=[],t=!1;for(let n of F){let r=S.fetchers.get(n);D5(r,"Expected fetcher: "+n),"loading"===r.state&&(F.delete(n),e.push(n),t=!0)}return te(e),t}function re(e){let t=[];for(let[n,r]of N)if(r<e){let e=S.fetchers.get(n);D5(e,"Expected fetcher: "+n),"loading"===e.state&&(ee(n),N.delete(n),t.push(n))}return te(t),t.length>0}function ie(e){S.blockers.delete(e),H.delete(e)}function oe(e,t){let n=S.blockers.get(e)||C6;D5("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(S.blockers);r.set(e,t),q({blockers:r})}function ae(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===H.size)return;H.size>1&&O5(!1,"A router only supports one blocker at a time");let i=Array.from(H.entries()),[o,a]=i[i.length-1],s=S.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function se(e){let t=[];return z.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),z.delete(r))})),t}function le(e,t){if(p){let n=p(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,S.loaderData))));return n||e.key}return e.key}function ce(e,t){if(f){let n=le(e,t),r=f[n];if("number"===typeof r)return r}return null}return b={get basename(){return c},get future(){return u},get state(){return S},get routes(){return l},get window(){return t},initialize:function(){if(d=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(V)return void(V=!1);O5(0===H.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ae({currentLocation:S.location,nextLocation:r,historyAction:n});return o&&null!=i?(V=!0,e.history.go(-1*i),void oe(o,{state:"blocked",location:r,proceed(){oe(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(S.blockers);e.set(o,C6),q({blockers:e})}})):W(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(_6);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n7){}}(t,x);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(_6,JSON.stringify(r))}catch(n){O5(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,x);t.addEventListener("pagehide",e),A=()=>t.removeEventListener("pagehide",e)}return S.initialized||W(M5.Pop,S.location,{initialHydration:!0}),b},subscribe:function(e){return h.add(e),()=>h.delete(e)},enableScrollRestoration:function(e,t,n){if(f=e,m=t,p=n||null,!g&&S.navigation===E6){g=!0;let e=ce(S.location,S.matches);null!=e&&q({restoreScrollPosition:e})}return()=>{f=null,m=null,p=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=x6(S.location,S.matches,c,u.v7_prependBasename,n,u.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:a,error:s}=A6(u.v7_normalizeFormMethod,!1,i,r),l=S.location,d=N5(S.location,o,r&&r.state);d=I5({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=M5.Push;!0===h?f=M5.Replace:!1===h||null!=a&&$6(a.formMethod)&&a.formAction===S.location.pathname+S.location.search&&(f=M5.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.unstable_flushSync),g=ae({currentLocation:l,nextLocation:d,historyAction:f});if(!g)return await W(f,d,{submission:a,pendingError:s,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:m});oe(g,{state:"blocked",location:d,proceed(){oe(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(S.blockers);e.set(g,C6),q({blockers:e})}})},fetch:function(t,n,a,d){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(t)&&ee(t);let h=!0===(d&&d.unstable_flushSync),f=o||l,p=x6(S.location,S.matches,c,u.v7_prependBasename,a,u.v7_relativeSplatPath,n,null==d?void 0:d.relative),m=V5(f,p,c);if(!m)return void $(t,n,V6(404,{pathname:p}),{flushSync:h});let{path:g,submission:v,error:y}=A6(u.v7_normalizeFormMethod,!0,p,d);if(y)return void $(t,n,y,{flushSync:h});let b=t8(m,g);_=!0===(d&&d.preventScrollReset),v&&$6(v.formMethod)?async function(t,n,r,a,d,h,f){if(Q(),j.delete(t),!a.route.action&&!a.route.lazy){let e=V6(405,{method:f.formMethod,pathname:r,routeId:n});return void $(t,n,e,{flushSync:h})}let p=S.fetchers.get(t);Z(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(f,p),{flushSync:h});let m=new AbortController,g=P6(e.history,r,m.signal,f);D.set(t,m);let v=O,y=await O6("action",g,a,d,s,i,c,u.v7_relativeSplatPath);if(g.signal.aborted)return void(D.get(t)===m&&D.delete(t));if(u.v7_fetcherPersist&&U.has(t)){if(Y6(y)||K6(y))return void Z(t,o8(void 0))}else{if(Y6(y))return D.delete(t),P>v?void Z(t,o8(void 0)):(F.add(t),Z(t,i8(f)),K(S,y,{fetcherSubmission:f}));if(K6(y))return void $(t,n,y.error)}if(W6(y))throw V6(400,{type:"defer-action"});let b=S.navigation.location||S.location,E=P6(e.history,b,m.signal),w=o||l,_="idle"!==S.navigation.state?V5(w,S.navigation.location,c):S.matches;D5(_,"Didn't find any matches after fetcher action");let k=++O;N.set(t,k);let x=i8(f,y.data);S.fetchers.set(t,x);let[A,I]=M6(e.history,S,_,f,b,!1,M,R,L,U,j,F,w,c,{[a.route.id]:y.data},void 0);I.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=S.fetchers.get(t),r=i8(void 0,n?n.data:void 0);S.fetchers.set(t,r),D.has(t)&&ee(t),e.controller&&D.set(t,e.controller)})),q({fetchers:new Map(S.fetchers)});let B=()=>I.forEach((e=>ee(e.key)));m.signal.addEventListener("abort",B);let{results:H,loaderResults:V,fetcherResults:W}=await Y(S.matches,_,A,I,E);if(m.signal.aborted)return;m.signal.removeEventListener("abort",B),N.delete(t),D.delete(t),I.forEach((e=>D.delete(e.key)));let X=q6(H);if(X){if(X.idx>=A.length){let e=I[X.idx-A.length].key;F.add(e)}return K(S,X.result)}let{loaderData:J,errors:te}=B6(S,S.matches,A,V,void 0,I,W,z);if(S.fetchers.has(t)){let e=o8(y.data);S.fetchers.set(t,e)}re(k),"loading"===S.navigation.state&&k>P?(D5(T,"Expected pending action"),C&&C.abort(),G(S.navigation.location,{matches:_,loaderData:J,errors:te,fetchers:new Map(S.fetchers)})):(q({errors:te,loaderData:U6(S.loaderData,J,_,te),fetchers:new Map(S.fetchers)}),M=!1)}(t,n,g,b,m,h,v):(j.set(t,{routeId:n,path:g}),async function(t,n,r,o,a,l,d){let h=S.fetchers.get(t);Z(t,i8(d,h?h.data:void 0),{flushSync:l});let f=new AbortController,p=P6(e.history,r,f.signal);D.set(t,f);let m=O,g=await O6("loader",p,o,a,s,i,c,u.v7_relativeSplatPath);W6(g)&&(g=await J6(g,p.signal,!0)||g);D.get(t)===f&&D.delete(t);if(p.signal.aborted)return;if(U.has(t))return void Z(t,o8(void 0));if(Y6(g))return P>m?void Z(t,o8(void 0)):(F.add(t),void await K(S,g));if(K6(g))return void $(t,n,g.error);D5(!W6(g),"Unhandled fetcher deferred data"),Z(t,o8(g.data))}(t,n,g,b,m,h,v))},revalidate:function(){Q(),q({revalidation:"loading"}),"submitting"!==S.navigation.state&&("idle"!==S.navigation.state?W(T||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation}):W(S.historyAction,S.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:X,deleteFetcher:function(e){if(u.v7_fetcherPersist){let t=(B.get(e)||0)-1;t<=0?(B.delete(e),U.add(e)):B.set(e,t)}else J(e);q({fetchers:new Map(S.fetchers)})},dispose:function(){d&&d(),A&&A(),h.clear(),C&&C.abort(),S.fetchers.forEach(((e,t)=>J(t))),S.blockers.forEach(((e,t)=>ie(t)))},getBlocker:function(e,t){let n=S.blockers.get(e)||C6;return H.get(e)!==t&&H.set(e,t),n},deleteBlocker:ie,_internalFetchControllers:D,_internalActiveDeferreds:z,_internalSetRoutes:function(e){s={},o=H5(e,i,void 0,s)}},b}Symbol("deferred");function x6(e,t,n,r,i,o,a,s){let l,c;if(a){l=[];for(let e of t)if(l.push(e),e.route.id===a){c=e;break}}else l=t,c=t[t.length-1];let u=s6(i||".",a6(l,o),r6(e.pathname,n)||e.pathname,"path"===s);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||e8(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:l6([n,u.pathname])),F5(u)}function A6(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Z6(r.formMethod))return{path:n,error:V6(405,{method:r.formMethod})};let i,o,a=()=>({path:n,error:V6(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),c=G6(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!$6(l))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!$6(l))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(n7){return a()}}}if(D5("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=N6(r.formData),o=r.formData;else if(r.body instanceof FormData)i=N6(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=F6(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=F6(i)}catch(n7){return a()}let u={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if($6(u.formMethod))return{path:n,submission:u};let d=j5(n);return t&&d.search&&e8(d.search)&&i.append("index",""),d.search="?"+i,{path:F5(d),submission:u}}function I6(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function M6(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m){let g=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,v=e.createURL(t.location),y=e.createURL(i),b=m?Object.keys(m)[0]:void 0,E=I6(n,b).filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return!!i.loader.hydrate||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let l=t.matches[n],c=e;return L6(e,I5({currentUrl:v,currentParams:l.params,nextUrl:y,nextParams:c.params},r,{actionResult:g,defaultShouldRevalidate:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||R6(l,c)}))})),w=[];return u.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||c.has(i))return;let s=V5(h,e.path,f);if(!s)return void w.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let u=t.fetchers.get(i),p=t8(s,e.path),m=!1;m=!d.has(i)&&(!!l.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?a:L6(p,I5({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:a})))),m&&w.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:p,controller:new AbortController})})),[E,w]}function R6(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function L6(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function D6(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];D5(i,"No route found in manifest");let o={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;O5(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||z5.has(a)||(o[a]=r[a])}Object.assign(i,o),Object.assign(i,I5({},t(i),{lazy:void 0}))}async function O6(e,t,n,r,i,o,a,s,l){let c,u,d;void 0===l&&(l={});let h=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([h(r).catch((t=>{e=t})),D6(n.route,o,i)]);if(e)throw e;u=t[0]}else{if(await D6(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw V6(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:U5.data,data:void 0}}u=await h(r)}else{if(!r){let e=new URL(t.url);throw V6(404,{pathname:e.pathname+e.search})}u=await h(r)}D5(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(n7){c=U5.error,u=n7}finally{d&&t.signal.removeEventListener("abort",d)}if(Q6(u)){let e,i=u.status;if(y6.has(i)){let e=u.headers.get("Location");if(D5(e,"Redirects returned/thrown from loaders/actions must have a Location header"),S6.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=r6(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=x6(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e,s);if(l.isStaticRequest)throw u.headers.set("Location",e),u;return{type:U5.redirect,status:i,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate"),reloadDocument:null!==u.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:c===U5.error?U5.error:U5.data,response:u}}try{let t=u.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==u.body?null:await u.json():await u.text()}catch(n7){return{type:U5.error,error:n7}}return c===U5.error?{type:c,error:new h6(i,u.statusText,e),headers:u.headers}:{type:U5.data,data:e,statusCode:u.status,headers:u.headers}}return c===U5.error?{type:c,error:u}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(u)?{type:U5.deferred,deferredData:u,statusCode:null==(f=u.init)?void 0:f.status,headers:(null==(p=u.init)?void 0:p.headers)&&new Headers(u.init.headers)}:{type:U5.data,data:u};var f,p}function P6(e,t,n,r){let i=e.createURL(G6(t)).toString(),o={signal:n};if(r&&$6(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=N6(r.formData):o.body=r.formData}return new Request(i,o)}function N6(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function F6(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function j6(e,t,n,r,i){let o,a={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let d=t[u].route.id;if(D5(!Y6(n),"Cannot handle redirect results in processLoaderData"),K6(n)){let t=z6(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[d]=void 0,l||(l=!0,o=f6(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else W6(n)?(i.set(d,n.deferredData),a[d]=n.deferredData.data):a[d]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function B6(e,t,n,r,i,o,a,s){let{loaderData:l,errors:c}=j6(t,n,r,i,s);for(let u=0;u<o.length;u++){let{key:t,match:n,controller:r}=o[u];D5(void 0!==a&&void 0!==a[u],"Did not find corresponding fetcher result");let i=a[u];if(!r||!r.signal.aborted)if(K6(i)){let r=z6(e.matches,null==n?void 0:n.route.id);c&&c[r.route.id]||(c=I5({},c,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(Y6(i))D5(!1,"Unhandled fetcher revalidation redirect");else if(W6(i))D5(!1,"Unhandled fetcher deferred data");else{let n=o8(i.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function U6(e,t,n,r){let i=I5({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function z6(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function H6(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function V6(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new h6(e||500,a,new Error(s),!0)}function q6(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Y6(n))return{result:n,idx:t}}}function G6(e){return F5(I5({},"string"===typeof e?j5(e):e,{hash:""}))}function W6(e){return e.type===U5.deferred}function K6(e){return e.type===U5.error}function Y6(e){return(e&&e.type)===U5.redirect}function Q6(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Z6(e){return v6.has(e.toLowerCase())}function $6(e){return m6.has(e.toLowerCase())}async function X6(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!R6(c,l)&&void 0!==(o&&o[l.route.id]);if(W6(s)&&(i||u)){let e=r[a];D5(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await J6(s,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function J6(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:U5.data,data:e.deferredData.unwrappedData}}catch(n7){return{type:U5.error,error:n7}}return{type:U5.data,data:e.deferredData.data}}}function e8(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function t8(e,t){let n="string"===typeof t?j5(t).search:t.search;if(e[e.length-1].route.index&&e8(n||""))return e[e.length-1];let r=o6(e);return r[r.length-1]}function n8(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function r8(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function i8(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function o8(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function a8(){return a8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a8.apply(this,arguments)}const s8=t.createContext(null);const l8=t.createContext(null);const c8=t.createContext(null);const u8=t.createContext(null);const d8=t.createContext({outlet:null,matches:[],isDataRoute:!1});const h8=t.createContext(null);function f8(){return null!=t.useContext(u8)}function p8(){return f8()||D5(!1),t.useContext(u8).location}function m8(e){t.useContext(c8).static||t.useLayoutEffect(e)}function g8(){let{isDataRoute:e}=t.useContext(d8);return e?function(){let{router:e}=k8(T8.UseNavigateStable),n=A8(_8.UseNavigateStable),r=t.useRef(!1);m8((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,a8({fromRouteId:n},i)))}),[e,n]);return i}():function(){f8()||D5(!1);let e=t.useContext(s8),{basename:n,future:r,navigator:i}=t.useContext(c8),{matches:o}=t.useContext(d8),{pathname:a}=p8(),s=JSON.stringify(a6(o,r.v7_relativeSplatPath)),l=t.useRef(!1);m8((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=s6(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:l6([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,s,a,e]);return c}()}function v8(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(c8),{matches:o}=t.useContext(d8),{pathname:a}=p8(),s=JSON.stringify(a6(o,i.v7_relativeSplatPath));return t.useMemo((()=>s6(e,JSON.parse(s),a,"path"===r)),[e,s,a,r])}function y8(e,n,r,i){f8()||D5(!1);let{navigator:o}=t.useContext(c8),{matches:a}=t.useContext(d8),s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=p8();if(n){var h;let e="string"===typeof n?j5(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||D5(!1),u=e}else u=d;let f=u.pathname||"/",p=V5(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});let m=S8(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:l6([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:l6([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&m?t.createElement(u8.Provider,{value:{location:a8({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:M5.Pop}},m):m}function b8(){let e=function(){var e;let n=t.useContext(h8),r=x8(_8.UseRouteError),i=A8(_8.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=f6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const E8=t.createElement(b8,null);class w8 extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(d8.Provider,{value:this.props.routeContext},t.createElement(h8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C8(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(s8);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(d8.Provider,{value:n},i)}function S8(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||D5(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||E8,c&&(u<0&&0===o?(p="route-fallback",!1||I8[p]||(I8[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,o+1)),g=()=>{let n;return n=a?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(C8,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(w8,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var T8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T8||{}),_8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_8||{});function k8(e){let n=t.useContext(s8);return n||D5(!1),n}function x8(e){let n=t.useContext(l8);return n||D5(!1),n}function A8(e){let n=function(e){let n=t.useContext(d8);return n||D5(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||D5(!1),r.route.id}const I8={};r.startTransition;function M8(e){let{basename:n="/",children:r=null,location:i,navigationType:o=M5.Pop,navigator:a,static:s=!1,future:l}=e;f8()&&D5(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:a,static:s,future:a8({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"===typeof i&&(i=j5(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=r6(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}}),[c,d,h,f,p,m,o]);return null==g?null:t.createElement(c8.Provider,{value:u},t.createElement(u8.Provider,{children:r,value:g}))}new Promise((()=>{}));t.Component;function R8(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:t.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function L8(){return L8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L8.apply(this,arguments)}function D8(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const O8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(n7){}function P8(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=L8({},t,{errors:N8(t.errors)})),t}function N8(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new h6(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(n7){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const F8=t.createContext({isTransitioning:!1});const j8=t.createContext(new Map);const B8=r.startTransition,U8=_E.flushSync;r.useId;function z8(e){U8?U8(e):e()}class H8{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function V8(e){let{fallbackElement:n,router:r,future:i}=e,[o,a]=t.useState(r.state),[s,l]=t.useState(),[c,u]=t.useState({isTransitioning:!1}),[d,h]=t.useState(),[f,p]=t.useState(),[m,g]=t.useState(),v=t.useRef(new Map),{v7_startTransition:y}=i||{},b=t.useCallback((e=>{y?function(e){B8?B8(e):e()}(e):e()}),[y]),E=t.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;n.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let s=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(o&&!s){if(i){z8((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=r.window.document.startViewTransition((()=>{z8((()=>a(e)))}));return t.finished.finally((()=>{z8((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void z8((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?z8((()=>a(e))):b((()=>a(e)))}),[r.window,f,d,v,b]);t.useLayoutEffect((()=>r.subscribe(E)),[r,E]),t.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new H8)}),[c]),t.useEffect((()=>{if(d&&s&&r.window){let e=s,t=d.promise,n=r.window.document.startViewTransition((async()=>{b((()=>a(e))),await t}));n.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[b,s,d,r.window]),t.useEffect((()=>{d&&s&&o.location.key===s.location.key&&d.resolve()}),[d,f,o.location,s]),t.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),t.useEffect((()=>{}),[]);let w=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),C=r.basename||"/",S=t.useMemo((()=>({router:r,navigator:w,static:!1,basename:C})),[r,w,C]);return t.createElement(t.Fragment,null,t.createElement(s8.Provider,{value:S},t.createElement(l8.Provider,{value:o},t.createElement(j8.Provider,{value:v.current},t.createElement(F8.Provider,{value:c},t.createElement(M8,{basename:C,location:o.location,navigationType:o.historyAction,navigator:w,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},o.initialized||r.future.v7_partialHydration?t.createElement(q8,{routes:r.routes,future:r.future,state:o}):n))))),null)}function q8(e){let{routes:t,future:n,state:r}=e;return y8(t,void 0,r,n)}const G8="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,W8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K8=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=D8(e,O8),{basename:p}=t.useContext(c8),m=!1;if("string"===typeof u&&W8.test(u)&&(r=u,G8))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=r6(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(n7){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;f8()||D5(!1);let{basename:i,navigator:o}=t.useContext(c8),{hash:a,pathname:s,search:l}=v8(e,{relative:r}),c=s;return"/"!==i&&(c="/"===s?i:l6([i,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),v=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l}=void 0===n?{}:n,c=g8(),u=p8(),d=v8(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:F5(u)===F5(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l})}}),[u,c,d,i,o,r,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:o,unstable_viewTransition:h});return t.createElement("a",L8({},f,{href:r||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var Y8,Q8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Y8||(Y8={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Q8||(Q8={}));function Z8(){return(0,k5.jsxs)("div",{children:[(0,k5.jsx)("h1",{children:"Users"}),(0,k5.jsxs)("ul",{children:[(0,k5.jsx)("li",{children:(0,k5.jsx)(K8,{to:"/feed",children:"Load Feed Page"})}),(0,k5.jsx)("li",{children:(0,k5.jsx)(K8,{to:"/community",children:"Load Group Page"})})]})]})}const $8=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,3008)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))},X8=(J8=[{path:"/",element:(0,k5.jsx)(Z8,{})},{path:"feed",element:(0,k5.jsx)(x5,{})},{path:"community",element:(0,k5.jsx)(A5,{})}],k6({basename:null==e7?void 0:e7.basename,future:L8({},null==e7?void 0:e7.future,{v7_prependBasename:!0}),history:L5({window:null==e7?void 0:e7.window}),hydrationData:(null==e7?void 0:e7.hydrationData)||P8(),routes:J8,mapRouteProperties:R8,window:null==e7?void 0:e7.window}).initialize());var J8,e7;i.createRoot(document.getElementById("root")).render((0,k5.jsx)(t.StrictMode,{children:(0,k5.jsx)(V8,{router:X8})})),$8()})()})();
//# sourceMappingURL=main.400da938.js.map